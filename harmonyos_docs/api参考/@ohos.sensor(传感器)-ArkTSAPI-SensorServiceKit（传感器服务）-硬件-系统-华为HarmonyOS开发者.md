<h1 _ngcontent-txo-c119="" class="doc-title ng-star-inserted" title="@ohos.sensor (传感器)"> @ohos.sensor (传感器) </h1>

<div _ngcontent-txo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>sensor模块提供了获取传感器数据的能力，包括获取传感器属性列表，订阅传感器数据，以及一些通用的传感器算法。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。订阅前可使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsinglesensor9">getSingleSensor</a>接口获取该传感器的信息，获取该传感器信息成功时可正常订阅传感器，异常情况详见<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsinglesensor9">getSingleSensor</a>错误码说明，具体使用方法可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/sensor-guidelines#开发步骤" target="_blank">指南开发步骤</a>；订阅传感器数据时确保on订阅和off取消订阅成对出现。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensoron" device-type="phone,2in1,tablet,wearable,tv">sensor.on<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoron" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1729px;">     <h3 id="accelerometer9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.ACCELEROMETER, callback: Callback&lt;AccelerometerResponse&gt;, options?: Options): void</p>     <p>订阅加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AccelerometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1817px;">     <h3 id="accelerometer_uncalibrated9" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrated9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.ACCELEROMETER_UNCALIBRATED, callback: Callback&lt;AccelerometerUncalibratedResponse&gt;, options?: Options): void</p>     <p>订阅未校准加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AccelerometerUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1546px;">     <h3 id="ambient_light9" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_light9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.AMBIENT_LIGHT, callback: Callback&lt;LightResponse&gt;, options?: Options): void</p>     <p>订阅环境光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为LightResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LightResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting the ambient light intensity: '</span> + data.<span class="hljs-property">intensity</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1570px;">     <h3 id="ambient_temperature9" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperature9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.AMBIENT_TEMPERATURE, callback: Callback&lt;AmbientTemperatureResponse&gt;, options?: Options): void</p>     <p>订阅温度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AmbientTemperatureResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AmbientTemperatureResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Temperature: '</span> + data.<span class="hljs-property">temperature</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1522px;">     <h3 id="barometer9" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometer9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.BAROMETER, callback: Callback&lt;BarometerResponse&gt;, options?: Options): void</p>     <p>订阅气压计传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为BarometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.BarometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Atmospheric pressure: '</span> + data.<span class="hljs-property">pressure</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1570px;">     <h3 id="gravity9" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.GRAVITY, callback: Callback&lt;GravityResponse&gt;, options?: Options): void</p>     <p>订阅重力传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GravityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GravityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1721px;">     <h3 id="gyroscope9" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.GYROSCOPE, callback: Callback&lt;GyroscopeResponse&gt;, options?: Options): void</p>     <p>订阅校准的陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GyroscopeResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1841px;">     <h3 id="gyroscope_uncalibrated9" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrated9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.GYROSCOPE_UNCALIBRATED, callback: Callback&lt;GyroscopeUncalibratedResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅未校准陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GyroscopeUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1546px;">     <h3 id="hall9" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hall9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.HALL, callback: Callback&lt;HallResponse&gt;, options?: Options): void</p>     <p>订阅霍尔传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HallResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，默认值为200000000ns。当霍尔事件被触发的很频繁时，该参数用于限定事件上报的频率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HallResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Hall status: '</span> + data.<span class="hljs-property">status</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1625px;">     <h3 id="heart_rate9" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_rate9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.HEART_RATE, callback: Callback&lt;HeartRateResponse&gt;, options?: Options): void</p>     <p>订阅心率传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.READ_HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HeartRateResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HeartRateResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Heart rate: '</span> + data.<span class="hljs-property">heartRate</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1522px;">     <h3 id="humidity9" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humidity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.HUMIDITY, callback: Callback&lt;HumidityResponse&gt;, options?: Options): void</p>     <p>订阅湿度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HumidityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HumidityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Humidity: '</span> + data.<span class="hljs-property">humidity</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1769px;">     <h3 id="linear_accelerometer9" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerometer9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.LINEAR_ACCELEROMETER, callback: Callback&lt;LinearAccelerometerResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅线性加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.LINEAR_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.LINEAR_ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为LinearAccelerometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LinearAccelerometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;">     <h3 id="magnetic_field9" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.MAGNETIC_FIELD, callback: Callback&lt;MagneticFieldResponse&gt;, options?: Options): void</p>     <p>订阅地磁传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为MagneticFieldResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1714px;">     <h3 id="magnetic_field_uncalibrated9" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrated9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.MAGNETIC_FIELD_UNCALIBRATED, callback: Callback&lt;MagneticFieldUncalibratedResponse&gt;, options?: Options): void</p>     <p>订阅未校准地磁传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为MagneticFieldUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="orientation9" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientation9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.ORIENTATION, callback: Callback&lt;OrientationResponse&gt;, options?: Options): void</p>     <p>订阅方向传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用本接口的应用或服务可以通过提示用户使用8字校准法来提高应用获取的方向传感器的精度，此传感器理论误差正负5度，具体的精度根据不同的驱动及算法实现可能存在差异。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为OrientationResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.OrientationResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Z axis: '</span> + data.<span class="hljs-property">alpha</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the X axis: '</span> + data.<span class="hljs-property">beta</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Y axis: '</span> + data.<span class="hljs-property">gamma</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1625px;">     <h3 id="pedometer9" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.PEDOMETER, callback: Callback&lt;PedometerResponse&gt;, options?: Options): void</p>     <p>订阅计步器传感器数据。计步传感器数据上报有一定延迟，延迟时间由具体的实现产品决定。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为PedometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Step count: '</span> + data.<span class="hljs-property">steps</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1721px;">     <h3 id="pedometer_detection9" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detection9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.PEDOMETER_DETECTION, callback: Callback&lt;PedometerDetectionResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅计步检测器传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为PedometerDetectionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerDetectionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Pedometer scalar: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1570px;">     <h3 id="proximity9" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximity9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.PROXIMITY, callback: Callback&lt;ProximityResponse&gt;, options?: Options): void</p>     <p>订阅接近光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为ProximityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，默认值为200000000ns。当接近光事件被触发的很频繁时，该参数用于限定事件上报的频率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.ProximityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Distance: '</span> + data.<span class="hljs-property">distance</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1666px;">     <h3 id="rotation_vector9" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vector9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.ROTATION_VECTOR, callback: Callback&lt;RotationVectorResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅旋转矢量传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为RotationVectorResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.RotationVectorResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Scalar quantity: '</span> + data.<span class="hljs-property">w</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1618px;">     <h3 id="significant_motion9" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motion9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.SIGNIFICANT_MOTION, callback: Callback&lt;SignificantMotionResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅有效运动传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为SignificantMotionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.SignificantMotionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;">     <h3 id="wear_detection9" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detection9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorId.WEAR_DETECTION, callback: Callback&lt;WearDetectionResponse&gt;,</p>     <p>options?: Options): void</p>     <p>订阅佩戴检测传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为WearDetectionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.WearDetectionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Wear status: '</span> + data.<span class="hljs-property">value</span>);</li><li>  }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>);</li><li>  }, <span class="hljs-number">500</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1350px;">     <h3 id="sensorstatuschange19" device-type="phone,2in1,tablet,wearable,tv">sensorStatusChange<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorstatuschange19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'sensorStatusChange', callback: Callback&lt;SensorStatusEvent&gt;): void</p>     <p>监听传感器上线下线状态的变化，callback返回传感器状态事件数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'sensorStatusChange'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">固定传入'sensorStatusChange',状态监听固定参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatusevent19">SensorStatusEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器事件数据SensorStatusEvent。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sensorStatusChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.SensorStatusEvent</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sensorStatusChange : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sensorStatusChange'</span>);</li><li>  }, <span class="hljs-number">5000</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensoronce9" device-type="phone,2in1,tablet,wearable,tv">sensor.once<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoronce9" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h3 id="accelerometer9-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.ACCELEROMETER, callback: Callback&lt;AccelerometerResponse&gt;): void</p>     <p>获取一次加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AccelerometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1628px;">     <h3 id="accelerometer_uncalibrated9-1" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrated9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.ACCELEROMETER_UNCALIBRATED, callback: Callback&lt;AccelerometerUncalibratedResponse&gt;): void</p>     <p>获取一次未校准加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AccelerometerUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1381px;">     <h3 id="ambient_light9-1" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_light9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.AMBIENT_LIGHT, callback: Callback&lt;LightResponse&gt;): void</p>     <p>获取一次环境光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为LightResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LightResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. the ambient light intensity: '</span> + data.<span class="hljs-property">intensity</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1405px;">     <h3 id="ambient_temperature9-1" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperature9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.AMBIENT_TEMPERATURE, callback: Callback&lt;AmbientTemperatureResponse&gt;): void</p>     <p>获取一次温度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为AmbientTemperatureResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AmbientTemperatureResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Temperature: '</span> + data.<span class="hljs-property">temperature</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h3 id="barometer9-1" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometer9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.BAROMETER, callback: Callback&lt;BarometerResponse&gt;): void</p>     <p>获取一次气压计传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为BarometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.BarometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Atmospheric pressure: '</span> + data.<span class="hljs-property">pressure</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1405px;">     <h3 id="gravity9-1" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravity9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.GRAVITY, callback: Callback&lt;GravityResponse&gt;): void</p>     <p>获取一次重力传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GravityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GravityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1508px;">     <h3 id="gyroscope9-1" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.GYROSCOPE, callback: Callback&lt;GyroscopeResponse&gt;): void</p>     <p>获取一次陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GyroscopeResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1628px;">     <h3 id="gyroscope_uncalibrated9-1" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrated9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.GYROSCOPE_UNCALIBRATED, callback: Callback&lt;GyroscopeUncalibratedResponse&gt;): void</p>     <p>获取一次未校准陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为GyroscopeUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h3 id="hall9-1" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hall9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.HALL, callback: Callback&lt;HallResponse&gt;): void</p>     <p>获取一次霍尔传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HallResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HallResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Status: '</span> + data.<span class="hljs-property">status</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1460px;">     <h3 id="heart_rate9-1" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_rate9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.HEART_RATE, callback: Callback&lt;HeartRateResponse&gt;): void</p>     <p>获取一次心率传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.READ_HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HeartRateResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HeartRateResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Heart rate: '</span> + data.<span class="hljs-property">heartRate</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h3 id="humidity9-1" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humidity9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.HUMIDITY, callback: Callback&lt;HumidityResponse&gt;): void</p>     <p>获取一次湿度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为HumidityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HumidityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Humidity: '</span> + data.<span class="hljs-property">humidity</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1556px;">     <h3 id="linear_accelerometer9-1" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerometer9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.LINEAR_ACCELEROMETER, callback: Callback&lt;LinearAccelerometerResponse&gt;): void</p>     <p>获取一次线性加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.LINEAR_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.LINEAR_ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为LinearAccelerometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LinearAccelerometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1429px;">     <h3 id="magnetic_field9-1" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.MAGNETIC_FIELD, callback: Callback&lt;MagneticFieldResponse&gt;): void</p>     <p>获取一次磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为MagneticFieldResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;">     <h3 id="magnetic_field_uncalibrated9-1" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrated9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.MAGNETIC_FIELD_UNCALIBRATED, callback: Callback&lt;MagneticFieldUncalibratedResponse&gt;): void</p>     <p>获取一次未经校准的磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为MagneticFieldUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1405px;">     <h3 id="orientation9-1" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientation9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.ORIENTATION, callback: Callback&lt;OrientationResponse&gt;): void</p>     <p>获取一次方向传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为OrientationResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.OrientationResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the X axis: '</span> + data.<span class="hljs-property">beta</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Y axis: '</span> + data.<span class="hljs-property">gamma</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Z axis: '</span> + data.<span class="hljs-property">alpha</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1460px;">     <h3 id="pedometer9-1" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.PEDOMETER, callback: Callback&lt;PedometerResponse&gt;): void</p>     <p>获取一次计步器传感器数据。计步传感器数据上报有一定延迟，延迟时间由具体的实现产品决定。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为PedometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Step count: '</span> + data.<span class="hljs-property">steps</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1508px;">     <h3 id="pedometer_detection9-1" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detection9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.PEDOMETER_DETECTION, callback: Callback&lt;PedometerDetectionResponse&gt;): void</p>     <p>获取一次计步检测器传感器数据。</p>     <p><strong>系需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为PedometerDetectionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerDetectionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h3 id="proximity9-1" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximity9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.PROXIMITY, callback: Callback&lt;ProximityResponse&gt;): void</p>     <p>获取一次接近光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为ProximityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.ProximityResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Distance: '</span> + data.<span class="hljs-property">distance</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1453px;">     <h3 id="rotation_vector9-1" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vector9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.ROTATION_VECTOR, callback: Callback&lt;RotationVectorResponse&gt;): void</p>     <p>获取一次旋转矢量传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为RotationVectorResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.RotationVectorResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar quantity: '</span> + data.<span class="hljs-property">w</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1405px;">     <h3 id="significant_motion9-1" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motion9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.SIGNIFICANT_MOTION, callback: Callback&lt;SignificantMotionResponse&gt;): void</p>     <p>获取一次有效运动传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为SignificantMotionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.SignificantMotionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1381px;">     <h3 id="wear_detection9-1" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detection9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorId.WEAR_DETECTION, callback: Callback&lt;WearDetectionResponse&gt;): void</p>     <p>获取一次佩戴检测传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步上报的传感器数据固定为WearDetectionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.WearDetectionResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Wear status: '</span> + data.<span class="hljs-property">value</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke once. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensoroff" device-type="phone,2in1,tablet,wearable,tv">sensor.off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoroff" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1677px;">     <h3 id="accelerometer9-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ACCELEROMETER, callback?: Callback&lt;AccelerometerResponse&gt;): void</p>     <p>取消订阅加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, callback1);</li><li>  <span class="hljs-comment">// 取消SensorId.ACCELEROMETER类型的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2554px;">     <h3 id="accelerometer19" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ACCELEROMETER, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;AccelerometerResponse&gt;): void</p>     <p>取消订阅加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.AccelerometerResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类别</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1645px;">     <h3 id="accelerometer_uncalibrated9-2" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrated9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ACCELEROMETER_UNCALIBRATED, callback?: Callback&lt;AccelerometerUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.ACCELEROMETER_UNCALIBRATED类型的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2506px;">     <h3 id="accelerometer_uncalibrated19" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrated19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ACCELEROMETER_UNCALIBRATED, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;AccelerometerUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.AccelerometerUncalibratedResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER_UNCALIBRATED</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="ambient_light9-2" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_light9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.AMBIENT_LIGHT, callback?: Callback&lt;LightResponse&gt;): void</p>     <p>取消订阅环境光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.AMBIENT_LIGHT</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2379px;">     <h3 id="ambient_light19" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_light19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.AMBIENT_LIGHT, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;LightResponse&gt;): void</p>     <p>取消订阅环境光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.LightResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_LIGHT</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="ambient_temperature9-2" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperature9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.AMBIENT_TEMPERATURE, callback?: Callback&lt;AmbientTemperatureResponse&gt;): void</p>     <p>取消订阅温度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.AMBIENT_TEMPERATURE的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="ambient_temperature19" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperature19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.AMBIENT_TEMPERATURE, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;AmbientTemperatureResponse&gt;): void</p>     <p>取消订阅温度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.AmbientTemperatureResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">AMBIENT_TEMPERATURE</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="barometer9-2" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometer9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.BAROMETER, callback?: Callback&lt;BarometerResponse&gt;): void</p>     <p>取消订阅气压计传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>, callback1);</li><li>    sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>, callback2);</li><li>    <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>, callback1);</li><li>    <span class="hljs-comment">// 取消注册SensorId.BAROMETER的所有回调</span></li><li>    sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="barometer19" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometer19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.BAROMETER, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;BarometerResponse&gt;): void</p>     <p>取消订阅气压计传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.BarometerResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">BAROMETER</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="gravity9-2" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravity9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GRAVITY, callback?: Callback&lt;GravityResponse&gt;): void</p>     <p>取消订阅重力传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.GRAVITY的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="gravity19" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravity19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GRAVITY, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;GravityResponse&gt;): void</p>     <p>取消订阅重力传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.GravityResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GRAVITY</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1669px;">     <h3 id="gyroscope9-2" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GYROSCOPE, callback?: Callback&lt;GyroscopeResponse&gt;): void</p>     <p>取消订阅陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.GYROSCOPE的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2506px;">     <h3 id="gyroscope19" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GYROSCOPE, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;GyroscopeResponse&gt;): void</p>     <p>取消订阅陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.GyroscopeResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1645px;">     <h3 id="gyroscope_uncalibrated9-2" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrated9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GYROSCOPE_UNCALIBRATED, callback?: Callback&lt;GyroscopeUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.GYROSCOPE_UNCALIBRATED的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2506px;">     <h3 id="gyroscope_uncalibrated19" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrated19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.GYROSCOPE_UNCALIBRATED, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;GyroscopeUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准陀螺仪传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.GyroscopeUncalibratedResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">GYROSCOPE_UNCALIBRATED</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="hall9-2" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hall9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HALL, callback?: Callback&lt;HallResponse&gt;): void</p>     <p>取消订阅霍尔传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.HALL的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="hall19" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hall19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HALL, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;HallResponse&gt;): void</p>     <p>取消订阅霍尔传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.HallResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HALL</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h3 id="heart_rate9-2" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_rate9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HEART_RATE, callback?: Callback&lt;HeartRateResponse&gt;): void</p>     <p>取消订阅心率传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.READ_HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.HEART_RATE的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2458px;">     <h3 id="heart_rate19" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_rate19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HEART_RATE, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;HeartRateResponse&gt;): void</p>     <p>取消订阅心率传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.READ_HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.HeartRateResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HEART_RATE</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="humidity9-2" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humidity9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HUMIDITY, callback?: Callback&lt;HumidityResponse&gt;): void</p>     <p>取消订阅湿度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.HUMIDITY的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="humidity19" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humidity19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.HUMIDITY, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;HumidityResponse&gt;): void</p>     <p>取消订阅湿度传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.HumidityResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">HUMIDITY</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1645px;">     <h3 id="linear_accelerometer9-2" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELEROMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerometer9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.LINEAR_ACCELEROMETER, callback?: Callback&lt;LinearAccelerometerResponse&gt;): void</p>     <p>取消订阅线性加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.LINEAR_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.LINEAR_ACCELERATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.LINEAR_ACCELEROMETER的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2506px;">     <h3 id="linear_accelerometer19" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELEROMETER<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerometer19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.LINEAR_ACCELEROMETER, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;LinearAccelerometerResponse&gt;): void</p>     <p>取消订阅线性加速度传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.LINEAR_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.LINEAR_ACCELERATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.LinearAccelerometerResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">LINEAR_ACCELEROMETER</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="magnetic_field9-2" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.MAGNETIC_FIELD, callback?: Callback&lt;MagneticFieldResponse&gt;): void</p>     <p>取消订阅磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.MAGNETIC_FIELD的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="magnetic_field19" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.MAGNETIC_FIELD, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;MagneticFieldResponse&gt;): void</p>     <p>取消订阅磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.MagneticFieldResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="magnetic_field_uncalibrated9-2" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrated9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.MAGNETIC_FIELD_UNCALIBRATED, callback?: Callback&lt;MagneticFieldUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准的磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.MAGNETIC_FIELD_UNCALIBRATED的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2379px;">     <h3 id="magnetic_field_uncalibrated19" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrated19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.MAGNETIC_FIELD_UNCALIBRATED, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;MagneticFieldUncalibratedResponse&gt;): void</p>     <p>取消订阅未校准的磁场传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.MagneticFieldUncalibratedResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">MAGNETIC_FIELD_UNCALIBRATED</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1566px;">     <h3 id="orientation9-2" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientation9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ORIENTATION, callback?: Callback&lt;OrientationResponse&gt;): void</p>     <p>取消订阅方向传感器数据。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.ORIENTATION的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="orientation19" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientation19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ORIENTATION, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;OrientationResponse&gt;): void</p>     <p>取消订阅方向传感器数据。</p>     <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.OrientationResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ORIENTATION</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h3 id="pedometer9-2" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PEDOMETER, callback?: Callback&lt;PedometerResponse&gt;): void</p>     <p>取消订阅计步器传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.PEDOMETER的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2458px;">     <h3 id="pedometer19" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PEDOMETER, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;PedometerResponse&gt;): void</p>     <p>取消订阅计步器传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.PedometerResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1645px;">     <h3 id="pedometer_detection9-2" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detection9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PEDOMETER_DETECTION, callback?: Callback&lt;PedometerDetectionResponse&gt;): void</p>     <p>取消订阅计步检测器传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.PEDOMETER_DETECTION的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2506px;">     <h3 id="pedometer_detection19" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detection19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PEDOMETER_DETECTION, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;PedometerDetectionResponse&gt;): void</p>     <p>取消订阅计步检测器传感器数据。</p>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.PedometerDetectionResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PEDOMETER_DETECTION</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1518px;">     <h3 id="proximity9-2" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximity9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PROXIMITY, callback?: Callback&lt;ProximityResponse&gt;): void</p>     <p>取消订阅接近光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.PROXIMITY的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2355px;">     <h3 id="proximity19" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximity19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.PROXIMITY, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;ProximityResponse&gt;): void</p>     <p>取消订阅接近光传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.ProximityResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">PROXIMITY</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="rotation_vector9-2" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vector9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ROTATION_VECTOR, callback?: Callback&lt;RotationVectorResponse&gt;): void</p>     <p>取消订阅旋转矢量传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.ROTATION_VECTOR的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="rotation_vector19" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vector19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.ROTATION_VECTOR, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;RotationVectorResponse&gt;): void</p>     <p>取消订阅旋转矢量传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.RotationVectorResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ROTATION_VECTOR</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="significant_motion9-2" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motion9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.SIGNIFICANT_MOTION, callback?: Callback&lt;SignificantMotionResponse&gt;): void</p>     <p>取消订阅有效运动传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.SIGNIFICANT_MOTION的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="significant_motion19" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motion19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.SIGNIFICANT_MOTION, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;SignificantMotionResponse&gt;): void</p>     <p>取消订阅有效运动传感器数据。</p>     <p><strong>系统能力</strong>:SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.SignificantMotionResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">SIGNIFICANT_MOTION</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1542px;">     <h3 id="wear_detection9-2" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detection9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.WEAR_DETECTION, callback?: Callback&lt;WearDetectionResponse&gt;): void</p>     <p>取消订阅佩戴检测传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback1</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback1 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback2</span>(<span class="hljs-params">data: <span class="hljs-built_in">object</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting callback2 data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>, callback1);</li><li>  sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>, callback2);</li><li>  <span class="hljs-comment">// 仅取消callback1的注册</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>, callback1);</li><li>  <span class="hljs-comment">// 取消注册SensorId.WEAR_DETECTION的所有回调</span></li><li>  sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2403px;">     <h3 id="wear_detection19" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detection19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorId.WEAR_DETECTION, sensorInfoParam?: SensorInfoParam, callback?: Callback&lt;WearDetectionResponse&gt;): void</p>     <p>取消订阅佩戴检测传感器数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>.WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型，该值固定为SensorId.WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sensorInfoParam</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">传感器传入设置参数，可指定deviceId、sensorIndex</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ret</span> { <span class="hljs-variable constant_">OK</span>, <span class="hljs-title class_">Failed</span> = -<span class="hljs-number">1</span> }</li><li>
</li><li><span class="hljs-comment">// 传感器回调</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">sensorCallback</span> = (<span class="hljs-params">response: sensor.WearDetectionResponse</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`callback response: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>);</li><li>}</li><li><span class="hljs-comment">// 传感器监听类型</span></li><li><span class="hljs-keyword">const</span> sensorType = sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">WEAR_DETECTION</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sensorInfoParam</span>: sensor.<span class="hljs-property">SensorInfoParam</span> = { <span class="hljs-attr">deviceId</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">sensorIndex</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorSubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询所有的传感器</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListSync</span>();</li><li>    <span class="hljs-keyword">if</span> (!sensorList.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 根据实际业务逻辑获取目标传感器。</span></li><li>    <span class="hljs-keyword">const</span> targetSensor = sensorList</li><li>      <span class="hljs-comment">// 按需过滤deviceId为1、sensorId为2的所有传感器。此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">deviceId</span> === <span class="hljs-number">1</span> &amp;&amp; sensor.<span class="hljs-property">sensorId</span> === <span class="hljs-number">2</span>)</li><li>      <span class="hljs-comment">// 可能存在的多个同类型传感器，选择sensorIndex为0的传感器。</span></li><li>      .<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">sensor: sensor.Sensor</span>) =&gt;</span> sensor.<span class="hljs-property">sensorIndex</span> === <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">if</span> (!targetSensor) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>    }</li><li>    sensorInfoParam.<span class="hljs-property">deviceId</span> = targetSensor.<span class="hljs-property">deviceId</span>;</li><li>    sensorInfoParam.<span class="hljs-property">sensorIndex</span> = targetSensor.<span class="hljs-property">sensorIndex</span>;</li><li>    <span class="hljs-comment">// 订阅传感器事件</span></li><li>    sensor.<span class="hljs-title function_">on</span>(sensorType, sensorCallback, { sensorInfoParam });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">sensorUnsubscribe</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Ret</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">ret</span>: <span class="hljs-title class_">Ret</span> = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">OK</span>;</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(sensorType, sensorInfoParam, sensorCallback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke sensor.off. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    ret = <span class="hljs-title class_">Ret</span>.<span class="hljs-property">Failed</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h3 id="sensorstatuschange19-1" device-type="phone,2in1,tablet,wearable,tv">sensorStatusChange<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorstatuschange19-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'sensorStatusChange', callback?: Callback&lt;SensorStatusEvent&gt;): void</p>     <p>取消监听传感器变化。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'sensorStatusChange'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">固定传入'sensorStatusChange',状态监听固定参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatusevent19">SensorStatusEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">sensor.on传入的回调函数，不传则取消所有监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">statusChangeCallback</span> = (<span class="hljs-params">data: sensor.SensorStatusEvent</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sensorStatusChange : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">statusChangeCallback2</span> = (<span class="hljs-params">data: sensor.SensorStatusEvent</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sensorStatusChange2 : '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }</li><li>  <span class="hljs-comment">// 注册两个设备上线消息监听回调</span></li><li>  sensor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sensorStatusChange'</span>, statusChangeCallback);</li><li>  sensor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sensorStatusChange'</span>, statusChangeCallback2);</li><li>  </li><li>  <span class="hljs-comment">// 3秒后注销第一个监听</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sensorStatusChange'</span>, statusChangeCallback);</li><li>  }, <span class="hljs-number">3000</span>);</li><li>  <span class="hljs-comment">// 5秒后注销所有监听</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    sensor.<span class="hljs-title function_">off</span>(<span class="hljs-string">'sensorStatusChange'</span>);</li><li>  }, <span class="hljs-number">5000</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to invoke on. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1145px;">     <h2 id="sensorgetsensorlistbydevicesync19" device-type="phone,2in1,tablet,wearable,tv">sensor.getSensorListByDeviceSync<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsensorlistbydevicesync19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSensorListByDeviceSync(deviceId?: number): Array&lt;Sensor&gt;</p>     <p>同步获取设备的所有传感器信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">设备ID，默认为查询本地设备，默认值为-1，表示本地设备，设备ID需通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsensorlist9">getSensorList</a>查询或者监听设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatuschange19">on</a>获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;</td>         <td class="cellrowborder" width="50%">传感器属性列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> deviceId = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-comment">// 第一个参数deviceId 非必填</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSensorListByDeviceSync</span>(deviceId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sensorList length: <span class="hljs-subst">${sensorList.length}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sensorList: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(sensorList)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;">     <h2 id="sensorgetsinglesensorbydevicesync19" device-type="phone,2in1,tablet,wearable,tv">sensor.getSingleSensorByDeviceSync<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsinglesensorbydevicesync19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSingleSensorByDeviceSync(type: SensorId, deviceId?: number): Array&lt;Sensor&gt;</p>     <p>同步获取指定设备和类型的传感器信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定传感器类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">deviceId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">设备ID，默认为查询本地设备，默认值为-1，表示本地设备，设备ID需通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsensorlist9">getSensorList</a>查询或者监听设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatuschange19">on</a>获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;</td>         <td class="cellrowborder" width="50%">传感器属性列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> deviceId = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-comment">// 第二个参数deviceId 非必填</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">sensorList</span>: sensor.<span class="hljs-property">Sensor</span>[] = sensor.<span class="hljs-title function_">getSingleSensorByDeviceSync</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, deviceId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sensorList length: <span class="hljs-subst">${sensorList.length}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sensorList Json: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(sensorList)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1698px;">     <h2 id="sensorgetgeomagneticinfo9" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticInfo<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticinfo9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticInfo(locationOptions: LocationOptions, timeMillis: number, callback: AsyncCallback&lt;GeomagneticResponse&gt;): void</p>     <p>获取某时刻地球上特定位置的地磁场信息，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">locationOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#locationoptions">LocationOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地理位置，包括经度、纬度和海拔高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeMillis</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取磁偏角的时间，unix时间戳，单位毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#geomagneticresponse">GeomagneticResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回地磁场信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">getGeomagneticInfo</span>({ <span class="hljs-attr">latitude</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span> }, <span class="hljs-number">1580486400000</span>,</li><li>      <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: sensor.GeomagneticResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get geomagneticInfo. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo x"</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo y"</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo z"</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo geomagneticDip"</span> + data.<span class="hljs-property">geomagneticDip</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo deflectionAngle"</span> + data.<span class="hljs-property">deflectionAngle</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo levelIntensity"</span> + data.<span class="hljs-property">levelIntensity</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo totalIntensity"</span> + data.<span class="hljs-property">totalIntensity</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get geomagneticInfo. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1728px;">     <h2 id="sensorgetgeomagneticinfo9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticInfo<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticinfo9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticInfo(locationOptions: LocationOptions, timeMillis: number): Promise&lt;GeomagneticResponse&gt;</p>     <p>获取某时刻地球上特定位置的地磁场信息，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">locationOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#locationoptions">LocationOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地理位置，包括经度、纬度和海拔高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeMillis</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取磁偏角的时间，unix时间戳，单位毫秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#geomagneticresponse">GeomagneticResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回地磁场信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getGeomagneticInfo</span>({ <span class="hljs-attr">latitude</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span> }, <span class="hljs-number">1580486400000</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: sensor.GeomagneticResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo x"</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo y"</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo z"</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo geomagneticDip"</span> + data.<span class="hljs-property">geomagneticDip</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo deflectionAngle"</span> + data.<span class="hljs-property">deflectionAngle</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo levelIntensity"</span> + data.<span class="hljs-property">levelIntensity</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting geomagneticInfo totalIntensity"</span> + data.<span class="hljs-property">totalIntensity</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get geomagneticInfo. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get geomagneticInfo. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1530px;">     <h2 id="sensorgetdevicealtitude9" device-type="phone,2in1,tablet,wearable,tv">sensor.getDeviceAltitude<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetdevicealtitude9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDeviceAltitude(seaPressure: number, currentPressure: number, callback: AsyncCallback&lt;number&gt;): void</p>     <p>根据气压值获取海拔高度，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">seaPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">海平面气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">currentPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回指定的气压值对应的海拔高度，单位为米。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> seaPressure = <span class="hljs-number">1013.2</span>;</li><li>  <span class="hljs-keyword">let</span> currentPressure = <span class="hljs-number">1500.0</span>;</li><li>  sensor.<span class="hljs-title function_">getDeviceAltitude</span>(seaPressure, currentPressure, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get altitude. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting altitude: '</span> + data);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get altitude. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1608px;">     <h2 id="sensorgetdevicealtitude9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getDeviceAltitude<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetdevicealtitude9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDeviceAltitude(seaPressure: number, currentPressure: number): Promise&lt;number&gt;</p>     <p>根据气压值获取海拔高度，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">seaPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">海平面气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">currentPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的气压值，单位为hPa。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回指定的气压值对应的海拔高度，单位为米。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> seaPressure = <span class="hljs-number">1013.2</span>;</li><li>  <span class="hljs-keyword">let</span> currentPressure = <span class="hljs-number">1500.0</span>;</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getDeviceAltitude</span>(seaPressure, currentPressure);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor_getDeviceAltitude_Promise'</span>, data);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get altitude. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get altitude. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1557px;">     <h2 id="sensorgetinclination9" device-type="phone,2in1,tablet,wearable,tv">sensor.getInclination<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetinclination9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInclination(inclinationMatrix: Array&lt;number&gt;, callback: AsyncCallback&lt;number&gt;): void</p>     <p>根据倾斜矩阵计算地磁倾角，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inclinationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">倾斜矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回地磁倾角，单位为弧度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// inclinationMatrix可以为3*3，或者4*4</span></li><li>  <span class="hljs-keyword">let</span> inclinationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>  ]</li><li>  sensor.<span class="hljs-title function_">getInclination</span>(inclinationMatrix, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get inclination. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting inclination: '</span> + data);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get inclination. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1635px;">     <h2 id="sensorgetinclination9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getInclination<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetinclination9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInclination(inclinationMatrix: Array&lt;number&gt;): Promise&lt;number&gt;</p>     <p>根据倾斜矩阵计算地磁倾角，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inclinationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">倾斜矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回地磁倾斜角，单位为弧度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// inclinationMatrix可以为3*3，或者4*4</span></li><li>  <span class="hljs-keyword">let</span> inclinationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>  ]</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getInclination</span>(inclinationMatrix);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting inclination: '</span> + data);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get inclination. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get inclination. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1914px;">     <h2 id="sensorgetanglevariation9" device-type="phone,2in1,tablet,wearable,tv">sensor.getAngleVariation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetanglevariation9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAngleVariation(currentRotationMatrix: Array&lt;number&gt;, preRotationMatrix: Array&lt;number&gt;,</p>     <p>callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>计算两个旋转矩阵之间的角度变化，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">currentRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">preRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相对旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 旋转矩阵可以为3*3，或者4*4</span></li><li>  <span class="hljs-keyword">let</span> currentRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>  ];</li><li>  <span class="hljs-keyword">let</span> preRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  sensor.<span class="hljs-title function_">getAngleVariation</span>(currentRotationMatrix, preRotationMatrix, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get angle variation. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to get angle variation, length"</span> + data.<span class="hljs-property">length</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Z: "</span> + data[<span class="hljs-number">0</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"X: "</span> + data[<span class="hljs-number">1</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Y: "</span> + data[<span class="hljs-number">2</span>]);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get angle variation. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1968px;">     <h2 id="sensorgetanglevariation9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getAngleVariation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetanglevariation9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAngleVariation(currentRotationMatrix: Array&lt;number&gt;, preRotationMatrix: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>得到两个旋转矩阵之间的角度变化，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">currentRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">preRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相对旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 旋转矩阵可以为3*3，或者4*4</span></li><li>  <span class="hljs-keyword">let</span> currentRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>  ];</li><li>  <span class="hljs-keyword">let</span> preRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getAngleVariation</span>(currentRotationMatrix, preRotationMatrix);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to get angle variation, length"</span> + data.<span class="hljs-property">length</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Z: "</span> + data[<span class="hljs-number">0</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"X: "</span> + data[<span class="hljs-number">1</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Y: "</span> + data[<span class="hljs-number">2</span>]);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get angle variation. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get angle variation. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1485px;">     <h2 id="sensorgetrotationmatrix9" device-type="phone,2in1,tablet,wearable,tv">sensor.getRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetrotationmatrix9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRotationMatrix(rotationVector: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>根据旋转矢量获取旋转矩阵，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回3*3旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rotationVector = [<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>];</li><li>  sensor.<span class="hljs-title function_">getRotationMatrix</span>(rotationVector, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1563px;">     <h2 id="sensorgetrotationmatrix9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetrotationmatrix9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRotationMatrix(rotationVector: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>根据旋转矢量获取旋转矩阵，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rotationVector = [<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>];</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getRotationMatrix</span>(rotationVector);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>    }</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1674px;">     <h2 id="sensortransformrotationmatrix9" device-type="phone,2in1,tablet,wearable,tv">sensor.transformRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensortransformrotationmatrix9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transformRotationMatrix(inRotationVector: Array&lt;number&gt;, coordinates: CoordinatesOptions,</p>     <p>callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>根据指定坐标系映射旋转矩阵，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inRotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">coordinates</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#coordinatesoptions">CoordinatesOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定坐标系方向。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回映射后的旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  sensor.<span class="hljs-title function_">transformRotationMatrix</span>(rotationMatrix, { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">3</span> }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to transform rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">'] = '</span> + data[i]);</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to transform rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1704px;">     <h2 id="sensortransformrotationmatrix9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.transformRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensortransformrotationmatrix9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transformRotationMatrix(inRotationVector: Array&lt;number&gt;, coordinates: CoordinatesOptions): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>根据指定坐标系映射旋转矩阵，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inRotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">coordinates</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#coordinatesoptions">CoordinatesOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定坐标系方向。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回转换后的旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong> ：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">transformRotationMatrix</span>(rotationMatrix, { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">3</span> });</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>    }</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to transform rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to transform rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1485px;">     <h2 id="sensorgetquaternion9" device-type="phone,2in1,tablet,wearable,tv">sensor.getQuaternion<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetquaternion9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getQuaternion(rotationVector: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>根据旋转向量计算归一化四元数，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回归一化四元数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rotationVector = [<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>];</li><li>  sensor.<span class="hljs-title function_">getQuaternion</span>(rotationVector, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get quaternion. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get quaternion. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1563px;">     <h2 id="sensorgetquaternion9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getQuaternion<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetquaternion9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getQuaternion(rotationVector: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>根据旋转向量计算归一化四元数，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise，使用异步方式对象返归一化回四元数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> rotationVector = [<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>];</li><li>    <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getQuaternion</span>(rotationVector);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>        }</li><li>    }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get quaternion. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get quaternion. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1653px;">     <h2 id="sensorgetorientation9" device-type="phone,2in1,tablet,wearable,tv">sensor.getOrientation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetorientation9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrientation(rotationMatrix: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>根据旋转矩阵计算设备方向，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回围绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> preRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  sensor.<span class="hljs-title function_">getOrientation</span>(preRotationMatrix, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get orientation. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to get orientation, length"</span> + data.<span class="hljs-property">length</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data. Z: "</span> + data[<span class="hljs-number">0</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data. X: "</span> + data[<span class="hljs-number">1</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data. Y: "</span> + data[<span class="hljs-number">2</span>]);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get orientation. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1683px;">     <h2 id="sensorgetorientation9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getOrientation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetorientation9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrientation(rotationMatrix: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>根据旋转矩阵计算设备的方向，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回围绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> preRotationMatrix = [</li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>,</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span></li><li>  ];</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getOrientation</span>(preRotationMatrix);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + data[i]);</li><li>    }</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getOrientation. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getOrientation Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1530px;">     <h2 id="sensorgetrotationmatrix9-2" device-type="phone,2in1,tablet,wearable,tv">sensor.getRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetrotationmatrix9-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRotationMatrix(gravity: Array&lt;number&gt;, geomagnetic: Array&lt;number&gt;, callback: AsyncCallback&lt;RotationMatrixResponse&gt;): void</p>     <p>根据重力矢量和地磁矢量计算旋转矩阵，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">gravity</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">重力矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">geomagnetic</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地磁矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationmatrixresponse">RotationMatrixResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> gravity = [-<span class="hljs-number">0.27775216</span>, <span class="hljs-number">0.5351276</span>, <span class="hljs-number">9.788099</span>];</li><li>  <span class="hljs-keyword">let</span> geomagnetic = [<span class="hljs-number">210.87253</span>, -<span class="hljs-number">78.6096</span>, -<span class="hljs-number">111.44444</span>];</li><li>  sensor.<span class="hljs-title function_">getRotationMatrix</span>(gravity, geomagnetic, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: sensor.RotationMatrixResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting rotationMatrix'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1584px;">     <h2 id="sensorgetrotationmatrix9-3" device-type="phone,2in1,tablet,wearable,tv">sensor.getRotationMatrix<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetrotationmatrix9-3" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRotationMatrix(gravity: Array&lt;number&gt;, geomagnetic: Array&lt;number&gt;): Promise&lt;RotationMatrixResponse&gt;</p>     <p>根据重力矢量和地磁矢量计算旋转矩阵，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">gravity</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">重力向量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">geomagnetic</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地磁矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationmatrixresponse">RotationMatrixResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> gravity = [-<span class="hljs-number">0.27775216</span>, <span class="hljs-number">0.5351276</span>, <span class="hljs-number">9.788099</span>];</li><li>  <span class="hljs-keyword">let</span> geomagnetic = [<span class="hljs-number">210.87253</span>, -<span class="hljs-number">78.6096</span>, -<span class="hljs-number">111.44444</span>];</li><li>  <span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getRotationMatrix</span>(gravity, geomagnetic);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: sensor.RotationMatrixResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting rotationMatrix'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get rotationMatrix. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1416px;">     <h2 id="sensorgetsensorlist9" device-type="phone,2in1,tablet,wearable,tv">sensor.getSensorList<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsensorlist9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSensorList(callback: AsyncCallback&lt;Array&lt;Sensor&gt;&gt;): void</p>     <p>获取设备上的所有传感器信息，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回传感器属性列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">getSensorList</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;sensor.Sensor&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data[i]));</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1364px;">     <h2 id="sensorgetsensorlist9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getSensorList<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsensorlist9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSensorList(): Promise&lt;Array&lt;Sensor&gt;&gt;</p>     <p>获取设备上的所有传感器信息，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，使用异步方式返回传感器属性列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">getSensorList</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;sensor.Sensor&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting data['</span> + i + <span class="hljs-string">']: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data[i]));</li><li>    }</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get sensorList. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1189px;">     <h2 id="sensorgetsensorlistsync12" device-type="phone,2in1,tablet,wearable,tv">sensor.getSensorListSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsensorlistsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSensorListSync(): Array&lt;Sensor&gt;</p>     <p>获取设备上的所有传感器信息，使用同步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;</td>         <td class="cellrowborder" width="50%">使用同步方式返回传感器属性列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ret = sensor.<span class="hljs-title function_">getSensorListSync</span>()</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; ret.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(ret[i]));</li><li>  }</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor . Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1660px;">     <h2 id="sensorgetsinglesensor9" device-type="phone,2in1,tablet,wearable,tv">sensor.getSingleSensor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsinglesensor9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSingleSensor(type: SensorId, callback: AsyncCallback&lt;Sensor&gt;): void</p>     <p>获取指定传感器类型的属性信息，使用Callback异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定传感器类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，异步返回指定传感器的属性信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500102</td>         <td class="cellrowborder" width="50%">The sensor is not supported by the device.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">getSingleSensor</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: sensor.Sensor</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    }, { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> });</li><li>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>);</li><li>    }, <span class="hljs-number">500</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1522px;">     <h2 id="sensorgetsinglesensor9-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getSingleSensor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsinglesensor9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSingleSensor(type: SensorId): Promise&lt;Sensor&gt;</p>     <p>获取指定类型的传感器信息，使用Promise异步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensor9">Sensor</a>&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回传感器信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500102</td>         <td class="cellrowborder" width="50%">The sensor is not supported by the device.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  sensor.<span class="hljs-title function_">getSingleSensor</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: sensor.Sensor</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor . Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor . Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1450px;">     <h2 id="sensorgetsinglesensorsync12" device-type="phone,2in1,tablet,wearable,tv">sensor.getSingleSensorSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetsinglesensorsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSingleSensorSync(type: SensorId): Sensor</p>     <p>获取指定类型的传感器信息，使用同步方式返回结果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">传感器类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Sensor</td>         <td class="cellrowborder" width="50%">使用同步方式返回传感器信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-sensor">传感器错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500101</td>         <td class="cellrowborder" width="50%">Service exception.Possible causes:1. Sensor hdf service exception;2. Sensor service ipc exception;3.Sensor data channel exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14500102</td>         <td class="cellrowborder" width="50%">The sensor is not supported by the device.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> ret = sensor.<span class="hljs-title function_">getSingleSensorSync</span>(sensor.<span class="hljs-property">SensorId</span>.<span class="hljs-property">ACCELEROMETER</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(ret));</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get singleSensor . Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1377px;">     <h2 id="sensorid9" device-type="phone,2in1,tablet,wearable,tv">SensorId<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorid9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示当前支持订阅或取消订阅的传感器类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.119.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ACCELEROMETER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>加速度传感器。</p>          <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GYROSCOPE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>陀螺仪传感器。</p>          <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AMBIENT_LIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">环境光传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MAGNETIC_FIELD</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">磁场传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BAROMETER</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">气压计传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HALL</td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">霍尔传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PROXIMITY</td>         <td class="cellrowborder" width="33.33333333333333%">12</td>         <td class="cellrowborder" width="33.33333333333333%">接近光传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HUMIDITY</td>         <td class="cellrowborder" width="33.33333333333333%">13</td>         <td class="cellrowborder" width="33.33333333333333%">湿度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ORIENTATION</td>         <td class="cellrowborder" width="33.33333333333333%">256</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>方向传感器。</p>          <p><strong>元服务API</strong>：从API Version 11开始，该接口在支持元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GRAVITY</td>         <td class="cellrowborder" width="33.33333333333333%">257</td>         <td class="cellrowborder" width="33.33333333333333%">重力传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LINEAR_ACCELEROMETER</td>         <td class="cellrowborder" width="33.33333333333333%">258</td>         <td class="cellrowborder" width="33.33333333333333%">线性加速度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ROTATION_VECTOR</td>         <td class="cellrowborder" width="33.33333333333333%">259</td>         <td class="cellrowborder" width="33.33333333333333%">旋转矢量传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="33.33333333333333%">260</td>         <td class="cellrowborder" width="33.33333333333333%">环境温度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">261</td>         <td class="cellrowborder" width="33.33333333333333%">未校准磁场传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">263</td>         <td class="cellrowborder" width="33.33333333333333%">未校准陀螺仪传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="33.33333333333333%">264</td>         <td class="cellrowborder" width="33.33333333333333%">有效运动传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="33.33333333333333%">265</td>         <td class="cellrowborder" width="33.33333333333333%">计步检测传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PEDOMETER</td>         <td class="cellrowborder" width="33.33333333333333%">266</td>         <td class="cellrowborder" width="33.33333333333333%">计步传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">HEART_RATE</td>         <td class="cellrowborder" width="33.33333333333333%">278</td>         <td class="cellrowborder" width="33.33333333333333%">心率传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WEAR_DETECTION</td>         <td class="cellrowborder" width="33.33333333333333%">280</td>         <td class="cellrowborder" width="33.33333333333333%">佩戴检测传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">281</td>         <td class="cellrowborder" width="33.33333333333333%">未校准加速度计传感器。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 882px;">     <h2 id="sensorinfoparam19" device-type="phone,2in1,tablet,wearable,tv">SensorInfoParam<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorinfoparam19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>传感器传入设置参数，多传感器情况下通过deviceId、sensorIndex控制指定传感器。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设备ID：默认值为-1，表示本地设备，设备ID需通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsensorlist9">getSensorList</a>查询或者监听设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatuschange19">on</a>获取。</p>          <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>传感器索引：默认值为0，为设备上的默认传感器，其它传感器ID需通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetsensorlist9">getSensorList</a>查询或者监听设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorstatuschange19">on</a>获取。</p>          <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 606px;">     <h2 id="sensorstatusevent19" device-type="phone,2in1,tablet,wearable,tv">SensorStatusEvent<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorstatusevent19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设备状态变化事件数据。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.121.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">事件发生的时间戳。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器索引。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isSensorOnline</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器上线或者下线，true为上线，false为下线。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h2 id="sensoraccuracy11" device-type="phone,2in1,tablet,wearable,tv">SensorAccuracy<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoraccuracy11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>传感器数据的精度。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">ACCURACY_UNRELIABLE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">传感器数据不可信。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACCURACY_LOW</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">传感器低挡位精度。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACCURACY_MEDIUM</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">传感器中挡位精度。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ACCURACY_HIGH</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">传感器高挡位精度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="response" device-type="phone,2in1,tablet,wearable,tv">Response<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="response" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>传感器数据的时间戳。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器数据上报的时间戳。从设备开机开始计时到上报数据的时间，单位 : ns。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">accuracy<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensoraccuracy11">SensorAccuracy</a><sup>11+</sup></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器数据上报的精度挡位值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1014px;">     <h2 id="sensor9" device-type="phone,2in1,tablet,wearable,tv">Sensor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指示传感器信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sensorName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">vendorName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器供应商。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">firmwareVersion</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器固件版本。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hardwareVersion</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器硬件版本。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器类型id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxRange</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器测量范围的最大值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">minSamplePeriod</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">允许的最小采样周期。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">maxSamplePeriod</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">允许的最大采样周期。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">precision</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器精度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">power</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">传感器功率的估计值，单位：mA。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorIndex<sup>19+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">传感器索引。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceId<sup>19+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceName<sup>19+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设备名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isLocalSensor<sup>19+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">是否本地传感器。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 615px;">     <h2 id="accelerometerresponse" device-type="phone,2in1,tablet,wearable,tv">AccelerometerResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometerresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>加速度传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备x轴的加速度，单位 : m/s²；取值为实际上报物理量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备y轴的加速度，单位 : m/s²；取值为实际上报物理量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备z轴的加速度，单位 : m/s²；取值为实际上报物理量。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="linearaccelerometerresponse" device-type="phone,2in1,tablet,wearable,tv">LinearAccelerometerResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linearaccelerometerresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>线性加速度传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备x轴的线性加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备y轴的线性加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备z轴的线性加速度，单位 : m/s²。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 846px;">     <h2 id="accelerometeruncalibratedresponse" device-type="phone,2in1,tablet,wearable,tv">AccelerometerUncalibratedResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometeruncalibratedresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>未校准加速度计传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.127.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备x轴未校准的加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备y轴未校准的加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备z轴未校准的加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasX</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备x轴未校准的加速度偏量，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasY</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备y轴未校准的加速度偏量，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasZ</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备z轴未校准的加速度偏量，单位 : m/s²。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="gravityresponse" device-type="phone,2in1,tablet,wearable,tv">GravityResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravityresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>重力传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.128.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备x轴的重力加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备y轴的重力加速度，单位 : m/s²。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">施加在设备z轴的重力加速度，单位 : m/s²。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 615px;">     <h2 id="orientationresponse" device-type="phone,2in1,tablet,wearable,tv">OrientationResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientationresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>方向传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">alpha</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备围绕Z轴的旋转角度，单位：度；取值范围为0-360度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">beta</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备围绕X轴的旋转角度，单位：度；取值范围为0-±180度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">gamma</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备围绕Y轴的旋转角度，单位：度；取值范围为0-±90度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h2 id="rotationvectorresponse" device-type="phone,2in1,tablet,wearable,tv">RotationVectorResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotationvectorresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>旋转矢量传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">旋转矢量x轴分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">旋转矢量y轴分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">旋转矢量z轴分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">w</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">标量，描述设备相对于某个参考方向的旋转状态，单位：弧度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 615px;">     <h2 id="gyroscoperesponse" device-type="phone,2in1,tablet,wearable,tv">GyroscopeResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscoperesponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>陀螺仪传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备x轴的旋转角速度，单位rad/s；取值为实际上报物理量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备y轴的旋转角速度，单位rad/s；取值为实际上报物理量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备z轴的旋转角速度，单位rad/s；取值为实际上报物理量。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 774px;">     <h2 id="gyroscopeuncalibratedresponse" device-type="phone,2in1,tablet,wearable,tv">GyroscopeUncalibratedResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscopeuncalibratedresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>未校准陀螺仪传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.132.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备x轴未校准的旋转角速度，单位rad/s。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备y轴未校准的旋转角速度，单位rad/s。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备z轴未校准的旋转角速度，单位rad/s。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasX</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备x轴未校准的旋转角速度偏量，单位rad/s。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasY</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备y轴未校准的旋转角速度偏量，单位rad/s。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasZ</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备z轴未校准的旋转角速度偏量，单位rad/s。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="significantmotionresponse" device-type="phone,2in1,tablet,wearable,tv">SignificantMotionResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significantmotionresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>有效运动传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.133.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scalar</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示剧烈运动程度。测量三个物理轴（x、y 和 z）上，设备是否存在大幅度运动；若存在大幅度运动则数据上报为1。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="proximityresponse" device-type="phone,2in1,tablet,wearable,tv">ProximityResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximityresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>接近光传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.134.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">distance</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">可见物体与设备显示器的接近程度。0表示接近，大于0表示远离。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 711px;">     <h2 id="lightresponse" device-type="phone,2in1,tablet,wearable,tv">LightResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lightresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>环境光传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.135.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">intensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">光强（单位：勒克斯）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">colorTemperature<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">色温（单位：开尔文），可选参数，如果该参数不支持则返回固定值（固定值由传感器自定义），支持则返回正常数值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">infraredLuminance<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">红外亮度（单位：cd/m²），可选参数，如果该参数不支持则返回固定值（固定值由传感器自定义），支持则返回正常数值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="hallresponse" device-type="phone,2in1,tablet,wearable,tv">HallResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hallresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>霍尔传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.136.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">status</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">显示霍尔状态。测量设备周围是否存在磁力吸引，0表示没有，大于0表示有。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="magneticfieldresponse" device-type="phone,2in1,tablet,wearable,tv">MagneticFieldResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magneticfieldresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>磁场传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.137.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">x轴环境磁场强度，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">y轴环境磁场强度，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">z轴环境磁场强度，单位 : μT。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 702px;">     <h2 id="magneticfielduncalibratedresponse" device-type="phone,2in1,tablet,wearable,tv">MagneticFieldUncalibratedResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magneticfielduncalibratedresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>未校准磁场传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.138.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">x轴未校准环境磁场强度，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">y轴未校准环境磁场强度，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">z轴未校准环境磁场强度，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasX</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">x轴未校准环境磁场强度偏量，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasY</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">y轴未校准环境磁场强度偏量，单位 : μT。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">biasZ</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">z轴未校准环境磁场强度偏量，单位 : μT。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 333px;">     <h2 id="pedometerresponse" device-type="phone,2in1,tablet,wearable,tv">PedometerResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometerresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>计步传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.139.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">steps</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用户的行走步数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="humidityresponse" device-type="phone,2in1,tablet,wearable,tv">HumidityResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humidityresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>湿度传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.140.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">humidity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">湿度值。测量环境的相对湿度，以百分比 (%) 表示。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="pedometerdetectionresponse" device-type="phone,2in1,tablet,wearable,tv">PedometerDetectionResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometerdetectionresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>计步检测传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.141.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scalar</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">计步器检测。检测用户的计步动作，如果取值为1则代表用户产生了计步行走的动作，取值为0则代表用户没有发生运动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 357px;">     <h2 id="ambienttemperatureresponse" device-type="phone,2in1,tablet,wearable,tv">AmbientTemperatureResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambienttemperatureresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>温度传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.142.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">temperature</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">环境温度（单位：摄氏度）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 357px;">     <h2 id="barometerresponse" device-type="phone,2in1,tablet,wearable,tv">BarometerResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometerresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>气压计传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">pressure</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">压力值（单位：百帕）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="heartrateresponse" device-type="phone,2in1,tablet,wearable,tv">HeartRateResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heartrateresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>心率传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.144.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">heartRate</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">心率值。测量用户的心率数值，单位：bpm。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="weardetectionresponse" device-type="phone,2in1,tablet,wearable,tv">WearDetectionResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="weardetectionresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>佩戴检测传感器数据，继承于<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#response">Response</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.145.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示设备是否被穿戴（1表示已穿戴，0表示未穿戴）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 786px;">     <h2 id="options" device-type="phone,2in1,tablet,wearable,tv">Options<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="options" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置传感器上报频率。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.146.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">interval</td>         <td class="cellrowborder" width="20%">number|<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorfrequency11">SensorFrequency</a><sup>11+</sup></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示传感器的上报频率，默认值为200000000ns。该属性有最小值和最大值的限制，由硬件支持的上报频率决定，当设置频率大于最大值时以最大值上报数据，小于最小值时以最小值上报数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sensorInfoParam<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorinfoparam19">SensorInfoParam</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>传感器传入设置参数，可指定deviceId、sensorIndex。</p>          <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 703px;">     <h2 id="sensorfrequency11" device-type="phone,2in1,tablet,wearable,tv">SensorFrequency<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorfrequency11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type SensorFrequency = 'game' | 'ui' | 'normal'</p>     <p>传感器上报频率模式。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'game'</td>         <td class="cellrowborder" width="50%">用于指定传感器上报频率，频率值为20000000ns，该频率被设置在硬件支持的频率范围内时会生效，值固定为'game'字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'ui'</td>         <td class="cellrowborder" width="50%">用于指定传感器上报频率，频率值为60000000ns，该频率被设置在硬件支持的频率范围内时会生效，值固定为'ui'字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'normal'</td>         <td class="cellrowborder" width="50%">用于指定传感器上报频率，频率值为200000000ns，该频率被设置在硬件支持的频率范围内时会生效，值固定为'normal'字符串。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="rotationmatrixresponse" device-type="phone,2in1,tablet,wearable,tv">RotationMatrixResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotationmatrixresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置旋转矩阵响应对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.148.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">rotation</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">inclination</td>         <td class="cellrowborder" width="20%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">倾斜矩阵。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="coordinatesoptions" device-type="phone,2in1,tablet,wearable,tv">CoordinatesOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="coordinatesoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置坐标选项对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">x坐标方向。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">y坐标方向。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 699px;">     <h2 id="geomagneticresponse" device-type="phone,2in1,tablet,wearable,tv">GeomagneticResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geomagneticresponse" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置地磁响应对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.150.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁场的北分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁场的东分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">z</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁场的垂直分量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">geomagneticDip</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁倾角，即地球磁场线与水平面的夹角。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deflectionAngle</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁偏角，即地磁北方向与正北方向在水平面上的角度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">levelIntensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁场的水平强度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">totalIntensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">地磁场的总强度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 423px;">     <h2 id="locationoptions" device-type="phone,2in1,tablet,wearable,tv">LocationOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="locationoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指示地理位置。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.151.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">latitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">纬度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">longitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">经度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">altitude</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">海拔高度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensorondeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.on<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorondeprecated" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h3 id="accelerometerdeprecated" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometerdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER, callback: Callback&lt;AccelerometerResponse&gt;,options?: Options): void</p>     <p>监听加速度传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer9">sensor.on.ACCELEROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.153.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的加速度传感器类型为SENSOR_TYPE_ID_ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册加速度传感器的回调函数，上报的数据类型为AccelerometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 867px;">     <h3 id="linear_accelerationdeprecated" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELERATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerationdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_LINEAR_ACCELERATION,callback:Callback&lt;LinearAccelerometerResponse&gt;, options?: Options): void</p>     <p>监听线性加速度传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linear_accelerometer9">sensor.on.LINEAR_ACCELEROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_LINEAR_ACCELERATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的线性加速度传感器类型为SENSOR_TYPE_ID_LINEAR_ACCELERATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册线性加速度传感器的回调函数，上报的数据类型为LinearAccelerometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1340px;">     <h3 id="accelerometer_uncalibrateddeprecated" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrateddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED,callback: Callback&lt;AccelerometerUncalibratedResponse&gt;, options?: Options): void</p>     <p>监听未校准加速度计传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer_uncalibrated9">sensor.on.ACCELEROMETER_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.155.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的未校准加速度计传感器类型为SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册未校准加速度计传感器的回调函数，上报的数据类型为AccelerometerUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerUncalibratedResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h3 id="gravitydeprecated" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_GRAVITY, callback: Callback&lt;GravityResponse&gt;,options?: Options): void</p>     <p>监听重力传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravity9">sensor.on.GRAVITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的重力传感器类型为SENSOR_TYPE_ID_GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册重力传感器的回调函数，上报的数据类型为GravityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GRAVITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GravityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1172px;">     <h3 id="gyroscopedeprecated" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscopedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE, callback: Callback&lt;GyroscopeResponse&gt;, options?: Options): void</p>     <p>监听陀螺仪传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope9">sensor.on.GYROSCOPE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册陀螺仪传感器的回调函数，上报的数据类型为GyroscopeResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1316px;">     <h3 id="gyroscope_uncalibrateddeprecated" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrateddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED,callback:Callback&lt;GyroscopeUncalibratedResponse&gt;, options?: Options): void</p>     <p>监听未校准陀螺仪传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope_uncalibrated9">sensor.on.GYROSCOPE_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的未校准陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册未校准陀螺仪传感器的回调函数，上报的数据类型为GyroscopeUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeUncalibratedResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1124px;">     <h3 id="significant_motiondeprecated" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_SIGNIFICANT_MOTION, callback: Callback&lt;SignificantMotionResponse&gt;, options?: Options): void</p>     <p>监听有效运动传感器数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significant_motion9">sensor.on.SIGNIFICANT_MOTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的有效运动传感器类型为SENSOR_TYPE_ID_SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册有效运动传感器的回调函数，上报的数据类型为SignificantMotionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_SIGNIFICANT_MOTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.SignificantMotionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1172px;">     <h3 id="pedometer_detectiondeprecated" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detectiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_PEDOMETER_DETECTION, callback: Callback&lt;PedometerDetectionResponse&gt;, options?: Options): void</p>     <p>监听计步检测传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer_detection9">sensor.on.PEDOMETER_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的计步检测传感器类型为SENSOR_TYPE_ID_PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册计步检测传感器的回调函数，上报的数据类型为PedometerDetectionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerDetectionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h3 id="pedometerdeprecated" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometerdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_PEDOMETER, callback: Callback&lt;PedometerResponse&gt;, options?: Options): void</p>     <p>监听计步传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer9">sensor.on.PEDOMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的计步传感器类型为SENSOR_TYPE_ID_PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册计步传感器的回调函数，上报的数据类型为PedometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Steps: '</span> + data.<span class="hljs-property">steps</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1124px;">     <h3 id="ambient_temperaturedeprecated" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperaturedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE,callback:Callback&lt;AmbientTemperatureResponse&gt;, options?: Options): void</p>     <p>监听环境温度传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_temperature9">sensor.on.AMBIENT_TEMPERATURE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的环境温度传感器类型为SENSOR_TYPE_ID_AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册环境温度传感器的回调函数，上报的数据类型为AmbientTemperatureResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AmbientTemperatureResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Temperature: '</span> + data.<span class="hljs-property">temperature</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1124px;">     <h3 id="magnetic_fielddeprecated" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_fielddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD, callback: Callback&lt;MagneticFieldResponse&gt;,options?: Options): void</p>     <p>监听磁场传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field9">sensor.on.MAGNETIC_FIELD</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册磁场传感器的回调函数，上报的数据类型为MagneticFieldResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1268px;">     <h3 id="magnetic_field_uncalibrateddeprecated" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrateddeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED,callback: Callback&lt;MagneticFieldUncalibratedResponse&gt;, options?: Options): void</p>     <p>监听未校准磁场传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field_uncalibrated9">sensor.on.MAGNETIC_FIELD_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的未校准磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册未校准磁场传感器的回调函数，上报的数据类型为MagneticFieldUncalibratedResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldUncalibratedResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1124px;">     <h3 id="proximitydeprecated" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximitydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_PROXIMITY, callback: Callback&lt;ProximityResponse&gt;,options?: Options): void</p>     <p>监听接近光传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximity9">sensor.on.PROXIMITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的接近光传感器类型为SENSOR_TYPE_ID_PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册接近光传感器的回调函数，上报的数据类型为ProximityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，默认值为200000000ns。当接近光事件被触发的很频繁时，该参数用于限定事件上报的频率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PROXIMITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.ProximityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Distance: '</span> + data.<span class="hljs-property">distance</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1052px;">     <h3 id="humiditydeprecated" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humiditydeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_HUMIDITY, callback: Callback&lt;HumidityResponse&gt;,options?: Options): void</p>     <p>监听湿度传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidity9">sensor.on.HUMIDITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的湿度传感器类型为SENSOR_TYPE_ID_HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册湿度传感器的回调函数，上报的数据类型为HumidityResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HUMIDITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HumidityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Humidity: '</span> + data.<span class="hljs-property">humidity</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h3 id="barometerdeprecated" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometerdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_BAROMETER, callback: Callback&lt;BarometerResponse&gt;,options?: Options): void</p>     <p>监听气压计传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometer9">sensor.on.BAROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的气压计传感器类型为SENSOR_TYPE_ID_BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册气压计传感器的回调函数，上报的数据类型为BarometerResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_BAROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.BarometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Atmospheric pressure: '</span> + data.<span class="hljs-property">pressure</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1052px;">     <h3 id="halldeprecated" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="halldeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_HALL, callback: Callback&lt;HallResponse&gt;, options?: Options): void</p>     <p>监听霍尔传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hall9">sensor.on.HALL</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的霍尔传感器类型为SENSOR_TYPE_ID_HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册霍尔传感器的回调函数，上报的数据类型为 HallResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，默认值为200000000ns。当霍尔事件被触发的很频繁时，该参数用于限定事件上报的频率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HALL</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HallResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Status: '</span> + data.<span class="hljs-property">status</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h3 id="ambient_lightdeprecated" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_lightdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_AMBIENT_LIGHT, callback: Callback&lt;LightResponse&gt;, options?: Options): void</p>     <p>监听环境光传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_light9">sensor.on.AMBIENT_LIGHT</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的环境光传感器类型为SENSOR_TYPE_ID_AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册环境光传感器的回调函数，上报的数据类型为LightResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_LIGHT</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LightResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Illumination: '</span> + data.<span class="hljs-property">intensity</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h3 id="orientationdeprecated" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientationdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_ORIENTATION, callback: Callback&lt;OrientationResponse&gt;, options?: Options): void</p>     <p>监听方向传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientation9">sensor.on.ORIENTATION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的方向传感器类型为SENSOR_TYPE_ID_ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册方向传感器的回调函数，上报的数据类型为OrientationResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ORIENTATION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.OrientationResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the X axis: '</span> + data.<span class="hljs-property">beta</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Y axis: '</span> + data.<span class="hljs-property">gamma</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in the device rotating at an angle around the Z axis: '</span> + data.<span class="hljs-property">alpha</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 795px;">     <h3 id="heart_ratedeprecated" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_ratedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_HEART_RATE, callback: Callback&lt;HeartRateResponse&gt;, options?: Options): void</p>     <p>监听心率传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heart_rate9">sensor.on.HEART_RATE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的心率传感器类型为SENSOR_TYPE_ID_HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册心率传感器的回调函数，上报的数据类型为HeartRateResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1172px;">     <h3 id="rotation_vectordeprecated" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vectordeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_ROTATION_VECTOR,callback: Callback&lt;RotationVectorResponse&gt;,options?: Options): void</p>     <p>监听旋转矢量传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotation_vector9">sensor.on.ROTATION_VECTOR</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.172.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的旋转矢量传感器类型为SENSOR_TYPE_ID_ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册旋转矢量传感器的回调函数，上报的数据类型为RotationVectorResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ROTATION_VECTOR</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.RotationVectorResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Scalar quantity: '</span> + data.<span class="hljs-property">w</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h3 id="wear_detectiondeprecated" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detectiondeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: SensorType.SENSOR_TYPE_ID_WEAR_DETECTION, callback: Callback&lt;WearDetectionResponse&gt;,options?: Options): void</p>     <p>监听所佩戴的检测传感器的数据变化。如果多次调用该接口，仅最后一次调用生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#wear_detection9">sensor.on.WEAR_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要订阅的佩戴检测传感器类型为SENSOR_TYPE_ID_WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册佩戴检测传感器的回调函数，上报的数据类型为WearDetectionResponse。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#options">Options</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数列表，用于设置传感器上报频率，默认值为200000000ns。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">on</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_WEAR_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.WearDetectionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking on. Wear status: '</span> + data.<span class="hljs-property">value</span>);</li><li>},</li><li>  { <span class="hljs-attr">interval</span>: <span class="hljs-number">100000000</span> }</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensoroncedeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.once<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoroncedeprecated" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 991px;">     <h3 id="accelerometerdeprecated-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometerdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER, callback: Callback&lt;AccelerometerResponse&gt;): void</p>     <p>监听加速度传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer9-1">sensor.once.ACCELEROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.175.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">加速度传感器类型为SENSOR_TYPE_ID_ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次加速度传感器的回调函数，上报的数据类型为AccelerometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 750px;">     <h3 id="linear_accelerationdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELERATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerationdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_LINEAR_ACCELERATION,callback:Callback&lt;LinearAccelerometerResponse&gt;): void</p>     <p>监听线性加速度传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linear_accelerometer9-1">sensor.once.LINEAR_ACCELEROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELERATION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_LINEAR_ACCELERATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">线性加速度传感器类型为SENSOR_TYPE_ID_LINEAR_ACCELERATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次线性加速度传感器的回调函数，上报的数据类型为LinearAccelerometerResponse。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1175px;">     <h3 id="accelerometer_uncalibrateddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrateddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED,callback: Callback&lt;AccelerometerUncalibratedResponse&gt;): void</p>     <p>监听未校准加速度传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer_uncalibrated9-1">sensor.once.ACCELEROMETER_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">未校准加速度传感器类型为SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次未校准加速度传感器的回调函数，上报的数据类型为AccelerometerUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AccelerometerUncalibratedResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="gravitydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravitydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_GRAVITY, callback: Callback&lt;GravityResponse&gt;): void</p>     <p>监听重力传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravity9-1">sensor.once.GRAVITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">重力传感器类型为SENSOR_TYPE_ID_GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次重力传感器的回调函数，上报的数据类型为GravityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GRAVITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GravityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1007px;">     <h3 id="gyroscopedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscopedeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE, callback: Callback&lt;GyroscopeResponse&gt;): void</p>     <p>监听陀螺仪传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope9-1">sensor.once.GYROSCOPE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次陀螺仪传感器的回调函数，上报的数据类型为GyroscopeResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1151px;">     <h3 id="gyroscope_uncalibrateddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrateddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED,callback: Callback&lt;GyroscopeUncalibratedResponse&gt;): void</p>     <p>监听未校准陀螺仪传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope_uncalibrated9-1">sensor.once.GYROSCOPE_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">未校准陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次未校准陀螺仪传感器的回调函数，上报的数据类型为GyroscopeUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.GyroscopeUncalibratedResponse</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="significant_motiondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motiondeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_SIGNIFICANT_MOTION,callback: Callback&lt;SignificantMotionResponse&gt;): void</p>     <p>监听有效运动传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significant_motion9-1">sensor.once.SIGNIFICANT_MOTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">有效运动传感器类型为SENSOR_TYPE_ID_SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次有效运动传感器的回调函数，上报的数据类型为SignificantMotionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_SIGNIFICANT_MOTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.SignificantMotionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1007px;">     <h3 id="pedometer_detectiondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detectiondeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_PEDOMETER_DETECTION,callback: Callback&lt;PedometerDetectionResponse&gt;): void</p>     <p>监听计步检测传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer_detection9-1">sensor.once.PEDOMETER_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">计步检测传感器类型为SENSOR_TYPE_ID_PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次计步检测传感器的回调函数，上报的数据类型为PedometerDetectionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerDetectionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="pedometerdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometerdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_PEDOMETER, callback: Callback&lt;PedometerResponse&gt;): void</p>     <p>监听计步器传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer9-1">sensor.once.PEDOMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.183.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">计步传感器类型为SENSOR_TYPE_ID_PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次计步传感器的回调函数，上报的数据类型为PedometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.PedometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Steps: '</span> + data.<span class="hljs-property">steps</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="ambient_temperaturedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperaturedeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE,callback: Callback&lt;AmbientTemperatureResponse&gt;): void</p>     <p>监听环境温度传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_temperature9-1">sensor.once.AMBIENT_TEMPERATURE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">环境温度传感器类型为SENSOR_TYPE_ID_AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次环境温度传感器的回调函数，上报的数据类型为AmbientTemperatureResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.AmbientTemperatureResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Temperature: '</span> + data.<span class="hljs-property">temperature</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="magnetic_fielddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_fielddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD, callback: Callback&lt;MagneticFieldResponse&gt;): void</p>     <p>监听磁场传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field9-1">sensor.once.MAGNETIC_FIELD</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次磁场传感器的回调函数，上报的数据类型为MagneticFieldResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1127px;">     <h3 id="magnetic_field_uncalibrateddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrateddeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED,callback: Callback&lt;MagneticFieldUncalibratedResponse&gt;): void</p>     <p>监听未校准磁场传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field_uncalibrated9-1">sensor.once.MAGNETIC_FIELD_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">未校准磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次未校准磁场传感器的回调函数，上报的数据类型为MagneticFieldUncalibratedResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.MagneticFieldUncalibratedResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 935px;">     <h3 id="proximitydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximitydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_PROXIMITY, callback: Callback&lt;ProximityResponse&gt;): void</p>     <p>监听接近光传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximity9-1">sensor.once.PROXIMITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">接近光传感器类型为SENSOR_TYPE_ID_PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次接近光传感器的回调函数，上报的数据类型为ProximityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PROXIMITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.ProximityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Distance: '</span> + data.<span class="hljs-property">distance</span>);</li><li>}</li><li>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 911px;">     <h3 id="humiditydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humiditydeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_HUMIDITY, callback: Callback&lt;HumidityResponse&gt;): void</p>     <p>监听湿度传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidity9-1">sensor.once.HUMIDITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">湿度传感器类型为SENSOR_TYPE_ID_HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次湿度传感器的回调函数，上报的数据类型为HumidityResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HUMIDITY</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HumidityResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Humidity: '</span> + data.<span class="hljs-property">humidity</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 911px;">     <h3 id="barometerdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometerdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_BAROMETER, callback: Callback&lt;BarometerResponse&gt;): void</p>     <p>监听气压计传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometer9-1">sensor.once.BAROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">气压计传感器类型为SENSOR_TYPE_ID_BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次气压计传感器的回调函数，上报的数据类型为BarometerResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_BAROMETER</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.BarometerResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Atmospheric pressure: '</span> + data.<span class="hljs-property">pressure</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 887px;">     <h3 id="halldeprecated-1" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="halldeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_HALL, callback: Callback&lt;HallResponse&gt;): void</p>     <p>监听霍尔传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hall9-1">sensor.once.HALL</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">霍尔传感器类型为SENSOR_TYPE_ID_HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次霍尔传感器的回调函数，上报的数据类型为HallResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HALL</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HallResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Status: '</span> + data.<span class="hljs-property">status</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 911px;">     <h3 id="ambient_lightdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_lightdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_AMBIENT_LIGHT, callback: Callback&lt;LightResponse&gt;): void</p>     <p>监听环境光传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_light9-1">sensor.once.AMBIENT_LIGHT</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">环境光传感器类型为SENSOR_TYPE_ID_AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次环境光传感器的回调函数，上报的数据类型为LightResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_LIGHT</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.LightResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. invoking once. Illumination: '</span> + data.<span class="hljs-property">intensity</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="orientationdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientationdeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_ORIENTATION, callback: Callback&lt;OrientationResponse&gt;): void</p>     <p>监听方向传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientation9-1">sensor.once.ORIENTATION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">方向传感器类型为SENSOR_TYPE_ID_ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次方向传感器的回调函数，上报的数据类型为OrientationResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ORIENTATION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.OrientationResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking the device rotating at an angle around the X axis: '</span> + data.<span class="hljs-property">beta</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking the device rotating at an angle around the Y axis: '</span> + data.<span class="hljs-property">gamma</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking the device rotating at an angle around the Z axis: '</span> + data.<span class="hljs-property">alpha</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1007px;">     <h3 id="rotation_vectordeprecated-1" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vectordeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_ROTATION_VECTOR, callback: Callback&lt;RotationVectorResponse&gt;): void</p>     <p>监听旋转矢量传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotation_vector9-1">sensor.once.ROTATION_VECTOR</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转矢量传感器类型为SENSOR_TYPE_ID_ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次旋转矢量传感器的回调函数，上报的数据类型为RotationVectorResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ROTATION_VECTOR</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.RotationVectorResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking once. Scalar quantity: '</span> + data.<span class="hljs-property">w</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="heart_ratedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_ratedeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_HEART_RATE, callback: Callback&lt;HeartRateResponse&gt;): void</p>     <p>监听心率传感器数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heart_rate9-1">sensor.once.HEART_RATE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.HEART_RATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">心率传感器类型为SENSOR_TYPE_ID_HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次心率传感器的回调函数，上报的数据类型为HeartRateResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HEART_RATE</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.HeartRateResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in invoking once. Heart rate: "</span> + data.<span class="hljs-property">heartRate</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 935px;">     <h3 id="wear_detectiondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detectiondeprecated-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>once(type: SensorType.SENSOR_TYPE_ID_WEAR_DETECTION, callback: Callback&lt;WearDetectionResponse&gt;): void</p>     <p>监听所佩戴的检测传感器的数据变化一次。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#wear_detection9-1">sensor.once.WEAR_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">佩戴检测传感器类型为SENSOR_TYPE_ID_WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">注册一次穿戴检测传感器的回调函数，上报的数据类型为WearDetectionResponse。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">once</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_WEAR_DETECTION</span>, <span class="hljs-function">(<span class="hljs-params">data: sensor.WearDetectionResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in invoking once. Wear status: "</span> + data.<span class="hljs-property">value</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="sensoroffdeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.off<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensoroffdeprecated" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;">     <h3 id="accelerometerdeprecated-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ACCELEROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometerdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER, callback?: Callback&lt;AccelerometerResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer9-2">sensor.off.ACCELEROMETER<sup>9+</sup></a>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.197.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的加速度传感器类型为SENSOR_TYPE_ID_ACCELEROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometerresponse">AccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.AccelerometerResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1199px;">     <h3 id="accelerometer_uncalibrateddeprecated-2" device-type="phone,2in1,tablet,wearable,tv">ACCELEROMETER_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accelerometer_uncalibrateddeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED, callback?: Callback&lt;AccelerometerUncalibratedResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometer_uncalibrated9-2">sensor.off.ACCELEROMETER_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.198.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的未校准加速度计传感器类型为SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#accelerometeruncalibratedresponse">AccelerometerUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.AccelerometerUncalibratedResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="ambient_lightdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_LIGHT<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_lightdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_AMBIENT_LIGHT, callback?: Callback&lt;LightResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_light9-2">sensor.off.AMBIENT_LIGHT</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_LIGHT</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的环境光传感器类型为SENSOR_TYPE_ID_AMBIENT_LIGHT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#lightresponse">LightResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.LightResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Illumination: '</span> + data.<span class="hljs-property">intensity</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_LIGHT</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="ambient_temperaturedeprecated-2" device-type="phone,2in1,tablet,wearable,tv">AMBIENT_TEMPERATURE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ambient_temperaturedeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE, callback?: Callback&lt;AmbientTemperatureResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambient_temperature9-2">sensor.off.AMBIENT_TEMPERATURE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.200.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的环境温度传感器类型为SENSOR_TYPE_ID_AMBIENT_TEMPERATURE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#ambienttemperatureresponse">AmbientTemperatureResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.AmbientTemperatureResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Temperature: '</span> + data.<span class="hljs-property">temperature</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="barometerdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">BAROMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barometerdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_BAROMETER, callback?: Callback&lt;BarometerResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometer9-2">sensor.off.BAROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_BAROMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的气压计传感器类型为SENSOR_TYPE_ID_BAROMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#barometerresponse">BarometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.BarometerResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Atmospheric pressure: '</span> + data.<span class="hljs-property">pressure</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_BAROMETER</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="gravitydeprecated-2" device-type="phone,2in1,tablet,wearable,tv">GRAVITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gravitydeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_GRAVITY, callback?: Callback&lt;GravityResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravity9-2">sensor.off.GRAVITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.202.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GRAVITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的重力传感器类型为SENSOR_TYPE_ID_GRAVITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gravityresponse">GravityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.GravityResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GRAVITY</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1079px;">     <h3 id="gyroscopedeprecated-2" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscopedeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE, callback?: Callback&lt;GyroscopeResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope9-2">sensor.off.GYROSCOPE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.203.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscoperesponse">GyroscopeResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.GyroscopeResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1103px;">     <h3 id="gyroscope_uncalibrateddeprecated-2" device-type="phone,2in1,tablet,wearable,tv">GYROSCOPE_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gyroscope_uncalibrateddeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED, callback?: Callback&lt;GyroscopeUncalibratedResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscope_uncalibrated9-2">sensor.off.GYROSCOPE_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GYROSCOPE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.204.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的未校准陀螺仪传感器类型为SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#gyroscopeuncalibratedresponse">GyroscopeUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.GyroscopeUncalibratedResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 959px;">     <h3 id="halldeprecated-2" device-type="phone,2in1,tablet,wearable,tv">HALL<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="halldeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_HALL, callback?: Callback&lt;HallResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hall9-2">sensor.off.HALL</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HALL</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的霍尔传感器类型为SENSOR_TYPE_ID_HALL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#hallresponse">HallResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.HallResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Status: '</span> + data.<span class="hljs-property">status</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HALL</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="heart_ratedeprecated-2" device-type="phone,2in1,tablet,wearable,tv">HEART_RATE<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="heart_ratedeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_HEART_RATE, callback?: Callback&lt;HeartRateResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heart_rate9-2">sensor.off.HEART_RATE</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.HEALTH_DATA</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HEART_RATE</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的心率传感器类型为SENSOR_TYPE_ID_HEART_RATE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#heartrateresponse">HeartRateResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.HeartRateResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Heart rate: '</span> + data.<span class="hljs-property">heartRate</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HEART_RATE</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="humiditydeprecated-2" device-type="phone,2in1,tablet,wearable,tv">HUMIDITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="humiditydeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_HUMIDITY, callback?: Callback&lt;HumidityResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidity9-2">sensor.off.HUMIDITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_HUMIDITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的湿度传感器类型为SENSOR_TYPE_ID_HUMIDITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#humidityresponse">HumidityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.HumidityResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Humidity: '</span> + data.<span class="hljs-property">humidity</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_HUMIDITY</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1079px;">     <h3 id="linear_accelerationdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">LINEAR_ACCELERATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="linear_accelerationdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_LINEAR_ACCELERATION, callback?: Callback&lt;LinearAccelerometerResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linear_accelerometer9-2">sensor.off.LINEAR_ACCELEROMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_LINEAR_ACCELERATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的线性加速度传感器类型为SENSOR_TYPE_ID_LINEAR_ACCELERATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#linearaccelerometerresponse">LinearAccelerometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.LinearAccelerometerResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_LINEAR_ACCELERATION</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="magnetic_fielddeprecated-2" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_fielddeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD, callback?: Callback&lt;MagneticFieldResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field9-2">sensor.off.MAGNETIC_FIELD</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfieldresponse">MagneticFieldResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.MagneticFieldResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1151px;">     <h3 id="magnetic_field_uncalibrateddeprecated-2" device-type="phone,2in1,tablet,wearable,tv">MAGNETIC_FIELD_UNCALIBRATED<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="magnetic_field_uncalibrateddeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED, callback?: Callback&lt;MagneticFieldUncalibratedResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magnetic_field_uncalibrated9-2">sensor.off.MAGNETIC_FIELD_UNCALIBRATED</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的未校准磁场传感器类型为SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#magneticfielduncalibratedresponse">MagneticFieldUncalibratedResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.MagneticFieldUncalibratedResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate bias: '</span> + data.<span class="hljs-property">biasX</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate bias: '</span> + data.<span class="hljs-property">biasY</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate bias: '</span> + data.<span class="hljs-property">biasZ</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="orientationdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">ORIENTATION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="orientationdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_ORIENTATION, callback?: Callback&lt;OrientationResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientation9-2">sensor.off.ORIENTATION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ORIENTATION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的方向传感器类型为SENSOR_TYPE_ID_ORIENTATION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#orientationresponse">OrientationResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.OrientationResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. The device rotates at an angle around the X axis: '</span> + data.<span class="hljs-property">beta</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. The device rotates at an angle around the Y axis: '</span> + data.<span class="hljs-property">gamma</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. The device rotates at an angle around the Z axis: '</span> + data.<span class="hljs-property">alpha</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ORIENTATION</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="pedometerdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometerdeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_PEDOMETER, callback?: Callback&lt;PedometerResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer9-2">sensor.off.PEDOMETER</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.212.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的计步传感器类型为SENSOR_TYPE_ID_PEDOMETER。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerresponse">PedometerResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.PedometerResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Steps: '</span> + data.<span class="hljs-property">steps</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1031px;">     <h3 id="pedometer_detectiondeprecated-2" device-type="phone,2in1,tablet,wearable,tv">PEDOMETER_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pedometer_detectiondeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_PEDOMETER_DETECTION, callback?: Callback&lt;PedometerDetectionResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometer_detection9-2">sensor.off.PEDOMETER_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.ACTIVITY_MOTION</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.213.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的计步检测传感器类型为SENSOR_TYPE_ID_PEDOMETER_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#pedometerdetectionresponse">PedometerDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.PedometerDetectionResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PEDOMETER_DETECTION</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="proximitydeprecated-2" device-type="phone,2in1,tablet,wearable,tv">PROXIMITY<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="proximitydeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_PROXIMITY, callback?: Callback&lt;ProximityResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximity9-2">sensor.off.PROXIMITY</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_PROXIMITY</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的接近光传感器类型为SENSOR_TYPE_ID_PROXIMITY。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#proximityresponse">ProximityResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.ProximityResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Distance: '</span> + data.<span class="hljs-property">distance</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_PROXIMITY</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1055px;">     <h3 id="rotation_vectordeprecated-2" device-type="phone,2in1,tablet,wearable,tv">ROTATION_VECTOR<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation_vectordeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_ROTATION_VECTOR, callback?: Callback&lt;RotationVectorResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotation_vector9-2">sensor.off.ROTATION_VECTOR</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_ROTATION_VECTOR</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的旋转矢量传感器类型为SENSOR_TYPE_ID_ROTATION_VECTOR。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationvectorresponse">RotationVectorResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.RotationVectorResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. X-coordinate component: '</span> + data.<span class="hljs-property">x</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Y-coordinate component: '</span> + data.<span class="hljs-property">y</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Z-coordinate component: '</span> + data.<span class="hljs-property">z</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Scalar quantity: '</span> + data.<span class="hljs-property">w</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_ROTATION_VECTOR</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="significant_motiondeprecated-2" device-type="phone,2in1,tablet,wearable,tv">SIGNIFICANT_MOTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="significant_motiondeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_SIGNIFICANT_MOTION, callback?: Callback&lt;SignificantMotionResponse&gt;): void</p>     <p>取消订阅有效运动传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significant_motion9-2">sensor.off.SIGNIFICANT_MOTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的有效运动传感器类型为SENSOR_TYPE_ID_SIGNIFICANT_MOTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#significantmotionresponse">SignificantMotionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">data: sensor.SignificantMotionResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Scalar data: '</span> + data.<span class="hljs-property">scalar</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_SIGNIFICANT_MOTION</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 983px;">     <h3 id="wear_detectiondeprecated-2" device-type="phone,2in1,tablet,wearable,tv">WEAR_DETECTION<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wear_detectiondeprecated-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: SensorType.SENSOR_TYPE_ID_WEAR_DETECTION, callback?: Callback&lt;WearDetectionResponse&gt;): void</p>     <p>取消订阅传感器数据。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#wear_detection9-2">sensor.off.WEAR_DETECTION</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortypedeprecated">SensorType</a>.SENSOR_TYPE_ID_WEAR_DETECTION</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要取消订阅的佩戴检测传感器类型为SENSOR_TYPE_ID_WEAR_DETECTION。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#weardetectionresponse">WearDetectionResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要取消订阅的回调函数，若无此参数，则取消订阅当前类型的所有回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">accCallback</span>(<span class="hljs-params">data: sensor.WearDetectionResponse</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in invoking off. Wear status: '</span> + data.<span class="hljs-property">value</span>);</li><li>}</li><li>
</li><li>sensor.<span class="hljs-title function_">off</span>(sensor.<span class="hljs-property">SensorType</span>.<span class="hljs-property">SENSOR_TYPE_ID_WEAR_DETECTION</span>, accCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1132px;">     <h2 id="sensortransformcoordinatesystemdeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.transformCoordinateSystem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensortransformcoordinatesystemdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transformCoordinateSystem(inRotationVector: Array&lt;number&gt;, coordinates: CoordinatesOptions, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>旋转提供的旋转矩阵，使其可以以不同的方式表示坐标系，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortransformrotationmatrix9">sensor.transformRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inRotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">coordinates</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#coordinatesoptions">CoordinatesOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示坐标系方向。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回转换后的旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">transformCoordinateSystem</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], { <span class="hljs-attr">x</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">3</span> },</li><li>                                 <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in starting Operation. Data obtained: "</span> + data);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting transformCoordinateSystem data[ "</span> + i + <span class="hljs-string">"] = "</span> + data[i]);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1162px;">     <h2 id="sensortransformcoordinatesystemdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.transformCoordinateSystem<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensortransformcoordinatesystemdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transformCoordinateSystem(inRotationVector: Array&lt;number&gt;, coordinates: CoordinatesOptions): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>旋转提供的旋转矩阵，使其可以以不同的方式表示坐标系，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensortransformrotationmatrix9-1">sensor.transformRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inRotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">coordinates</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#coordinatesoptions">CoordinatesOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示坐标系方向。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.219.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回转换后的旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">transformCoordinateSystem</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], { <span class="hljs-attr">x</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">3</span> });</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in starting Operation"</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting transformCoordinateSystem data[ "</span> + i + <span class="hljs-string">"] = "</span> + data[i]);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1132px;">     <h2 id="sensorgetgeomagneticfielddeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticField<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticfielddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticField(locationOptions: LocationOptions, timeMillis: number, callback: AsyncCallback&lt;GeomagneticResponse&gt;): void</p>     <p>获取地球上特定位置的地磁场，使用callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetgeomagneticinfo9">sensor.getGeomagneticInfo</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">locationOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#locationoptions">LocationOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地理位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeMillis</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示获取磁偏角的时间，单位为毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#geomagneticresponse">GeomagneticResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回磁场信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">getGeomagneticField</span>({ <span class="hljs-attr">latitude</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span> }, <span class="hljs-number">1580486400000</span>,</li><li>                           <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: sensor.GeomagneticResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor_getGeomagneticField_callback x: '</span> + data.<span class="hljs-property">x</span> + <span class="hljs-string">',y: '</span> + data.<span class="hljs-property">y</span> + <span class="hljs-string">',z: '</span> +</li><li>  data.<span class="hljs-property">z</span> + <span class="hljs-string">',geomagneticDip: '</span> + data.<span class="hljs-property">geomagneticDip</span> + <span class="hljs-string">',deflectionAngle: '</span> + data.<span class="hljs-property">deflectionAngle</span> +</li><li>  <span class="hljs-string">',levelIntensity: '</span> + data.<span class="hljs-property">levelIntensity</span> + <span class="hljs-string">',totalIntensity: '</span> + data.<span class="hljs-property">totalIntensity</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1162px;">     <h2 id="sensorgetgeomagneticfielddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticField<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticfielddeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticField(locationOptions: LocationOptions, timeMillis: number): Promise&lt;GeomagneticResponse&gt;</p>     <p>获取地球上特定位置的地磁场，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetgeomagneticinfo9-1">sensor.getGeomagneticInfo</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">locationOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#locationoptions">LocationOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">地理位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeMillis</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示获取磁偏角的时间，单位为毫秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.221.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#geomagneticresponse">GeomagneticResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回磁场信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getGeomagneticField</span>({ <span class="hljs-attr">latitude</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span> }, <span class="hljs-number">1580486400000</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: sensor.GeomagneticResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor_getGeomagneticField_promise x: '</span> + data.<span class="hljs-property">x</span> + <span class="hljs-string">',y: '</span> + data.<span class="hljs-property">y</span> + <span class="hljs-string">',z: '</span> +</li><li>  data.<span class="hljs-property">z</span> + <span class="hljs-string">',geomagneticDip: '</span> + data.<span class="hljs-property">geomagneticDip</span> + <span class="hljs-string">',deflectionAngle: '</span> + data.<span class="hljs-property">deflectionAngle</span> +</li><li>  <span class="hljs-string">',levelIntensity: '</span> + data.<span class="hljs-property">levelIntensity</span> + <span class="hljs-string">',totalIntensity: '</span> + data.<span class="hljs-property">totalIntensity</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">reason: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1060px;">     <h2 id="sensorgetaltitudedeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.getAltitude<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetaltitudedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAltitude(seaPressure: number, currentPressure: number, callback: AsyncCallback&lt;number&gt;): void</p>     <p>根据气压值获取设备所在的海拔高度，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetdevicealtitude9">sensor.getDeviceAltitude</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">seaPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示海平面气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">currentPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示设备所在高度的气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回设备所在的海拔高度，单位为米。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">getAltitude</span>(<span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting getAltitude interface get data: "</span> + data);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1138px;">     <h2 id="sensorgetaltitudedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getAltitude<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetaltitudedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAltitude(seaPressure: number, currentPressure: number): Promise&lt;number&gt;</p>     <p>根据气压值获取设备所在的海拔高度，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetdevicealtitude9-1">sensor.getDeviceAltitude</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">seaPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示海平面气压值，单位为hPa。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">currentPressure</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示设备所在高度的气压值，单位为hPa。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.223.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回设备所在的海拔高度（单位：米）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getAltitude</span>(<span class="hljs-number">0</span>, <span class="hljs-number">200</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor_getAltitude_Promise success'</span>, data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 967px;">     <h2 id="sensorgetgeomagneticdipdeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticDip<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticdipdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticDip(inclinationMatrix: Array&lt;number&gt;, callback: AsyncCallback&lt;number&gt;): void</p>     <p>根据倾斜矩阵计算地磁倾斜角，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetinclination9">sensor.getInclination</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inclinationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示倾斜矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回地磁倾斜角，单位为弧度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">getGeomagneticDip</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting getGeomagneticDip interface get data: "</span> + data);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="sensorgetgeomagneticdipdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getGeomagneticDip<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetgeomagneticdipdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGeomagneticDip(inclinationMatrix: Array&lt;number&gt;): Promise&lt;number&gt;</p>     <p>根据倾斜矩阵计算地磁倾斜角，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetinclination9-1">sensor.getInclination</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inclinationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示倾斜矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.225.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回地磁倾斜角，单位为弧度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getGeomagneticDip</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in get GeomagneticDip_promise'</span>, data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operate.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1108px;">     <h2 id="sensor-getanglemodifydeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor. getAngleModify<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor-getanglemodifydeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAngleModify(currentRotationMatrix: Array&lt;number&gt;, preRotationMatrix: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>获取两个旋转矩阵之间的角度变化，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetanglevariation9">sensor.getAngleVariation</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">currentRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示当前旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">preRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回z、x、y轴方向的旋转角度变化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">getAngleModify</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span>],</li><li>                      <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1186px;">     <h2 id="sensor-getanglemodifydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor. getAngleModify<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor-getanglemodifydeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAngleModify(currentRotationMatrix: Array&lt;number&gt;, preRotationMatrix: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>获取两个旋转矩阵之间的角度变化，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetanglevariation9-1">sensor.getAngleVariation</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">currentRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示当前旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">preRotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.227.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回z、x、y轴方向的旋转角度变化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getAngleModify</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.87</span>, -<span class="hljs-number">0.50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.87</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting AngleModify_promise.'</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">reason: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = reason <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting promise::catch"</span>, e);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;">     <h2 id="sensorcreaterotationmatrixdeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.createRotationMatrix<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreaterotationmatrixdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRotationMatrix(rotationVector: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>将旋转矢量转换为旋转矩阵，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetrotationmatrix9">sensor.getRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">createRotationMatrix</span>([<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>],</li><li>                            <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h2 id="sensorcreaterotationmatrixdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.createRotationMatrix<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreaterotationmatrixdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRotationMatrix(rotationVector: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>将旋转矢量转换为旋转矩阵，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetrotationmatrix9-1">sensor.getRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.229.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">createRotationMatrix</span>([<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting createRotationMatrix_promise'</span>);</li><li> <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li> }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">reason: BusinessError</span>) =&gt;</span> {</li><li> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting promise::catch"</span>, reason);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;">     <h2 id="sensorcreatequaterniondeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.createQuaternion<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreatequaterniondeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createQuaternion(rotationVector: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>将旋转矢量转换为四元数，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetquaternion9">sensor.getQuaternion</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回四元数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">createQuaternion</span>([<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>],</li><li>                        <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h2 id="sensorcreatequaterniondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.createQuaternion<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreatequaterniondeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createQuaternion(rotationVector: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>将旋转矢量转换为四元数，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetquaternion9-1">sensor.getQuaternion</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationVector</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.231.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回四元数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">createQuaternion</span>([<span class="hljs-number">0.20046076</span>, <span class="hljs-number">0.21907</span>, <span class="hljs-number">0.73978853</span>, <span class="hljs-number">0.60376877</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting createQuaternion_promise'</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"data["</span> + i + <span class="hljs-string">"]: "</span> + data[i]);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get promise.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;">     <h2 id="sensorgetdirectiondeprecated" device-type="phone,2in1,tablet,wearable,tv">sensor.getDirection<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetdirectiondeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDirection(rotationMatrix: Array&lt;number&gt;, callback: AsyncCallback&lt;Array&lt;number&gt;&gt;): void</p>     <p>根据旋转矩阵计算设备的方向，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetorientation9">sensor.getOrientation</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回围绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">getDirection</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting getDirection interface get data: "</span> + data);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting sensor_getDirection_callback"</span> + data[i]);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h2 id="sensorgetdirectiondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">sensor.getDirection<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorgetdirectiondeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDirection(rotationMatrix: Array&lt;number&gt;): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>根据旋转矩阵计算设备的方向，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetorientation9-1">sensor.getOrientation</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.233.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotationMatrix</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回围绕z、x、y轴方向的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">getDirection</span>([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting sensor_getAltitude_Promise'</span>, data);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in getting sensor_getDirection_promise"</span> + data[i]);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get promise.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1060px;">     <h2 id="sensorcreaterotationmatrixdeprecated-2" device-type="phone,2in1,tablet,wearable,tv">sensor.createRotationMatrix<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreaterotationmatrixdeprecated-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRotationMatrix(gravity: Array&lt;number&gt;, geomagnetic: Array&lt;number&gt;, callback: AsyncCallback&lt;RotationMatrixResponse&gt;): void</p>     <p>根据重力矢量和地磁矢量计算旋转矩阵，使用Callback异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetrotationmatrix9-2">sensor.getRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">gravity</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示重力向量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">geomagnetic</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示地磁矢量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationmatrixresponse">RotationMatrixResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异步返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>sensor.<span class="hljs-title function_">createRotationMatrix</span>([-<span class="hljs-number">0.27775216</span>, <span class="hljs-number">0.5351276</span>, <span class="hljs-number">9.788099</span>], [<span class="hljs-number">210.87253</span>, -<span class="hljs-number">78.6096</span>, -<span class="hljs-number">111.44444</span>],</li><li>                            <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: sensor.RotationMatrixResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get create rotationMatrix. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1090px;">     <h2 id="sensorcreaterotationmatrixdeprecated-3" device-type="phone,2in1,tablet,wearable,tv">sensor.createRotationMatrix<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensorcreaterotationmatrixdeprecated-3" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRotationMatrix(gravity: Array&lt;number&gt;, geomagnetic: Array&lt;number&gt;): Promise&lt;RotationMatrixResponse&gt;</p>     <p>根据重力矢量和地磁矢量计算旋转矩阵，使用Promise异步方式返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorgetrotationmatrix9-3">sensor.getRotationMatrix</a><sup>9+</sup>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">gravity</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示重力向量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">geomagnetic</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示地磁矢量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.235.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#rotationmatrixresponse">RotationMatrixResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">使用异步方式返回旋转矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-txo-c106="" class="highlight-div"><div _ngcontent-txo-c106="" class="highlight-div-header"><div _ngcontent-txo-c106="" class="highlight-div-header-left"><div _ngcontent-txo-c106="" class="handle-button expand-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-txo-c106="" class="highlight-div-header-right"><div _ngcontent-txo-c106="" class="handle-button ai-button"></div><div _ngcontent-txo-c106="" class="handle-button line-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-txo-c106="" class="handle-button theme-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-txo-c106="" class="handle-button copy-button"><div _ngcontent-txo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-txo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sensor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> promise = sensor.<span class="hljs-title function_">createRotationMatrix</span>([-<span class="hljs-number">0.27775216</span>, <span class="hljs-number">0.5351276</span>, <span class="hljs-number">9.788099</span>], [<span class="hljs-number">210.87253</span>, -<span class="hljs-number">78.6096</span>, -<span class="hljs-number">111.44444</span>]);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: sensor.RotationMatrixResponse</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get promise.`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1517px;">     <h2 id="sensortypedeprecated" device-type="phone,2in1,tablet,wearable,tv">SensorType<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensortypedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示要订阅或取消订阅的传感器类型。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9 开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-sensor#sensorid9">SensorId</a>代替。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.Sensor</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.236.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_ACCELEROMETER</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">加速度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_GYROSCOPE</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">陀螺仪传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_AMBIENT_LIGHT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">环境光传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_MAGNETIC_FIELD</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">磁场传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_BAROMETER</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">气压计传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_HALL</td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">霍尔传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_PROXIMITY</td>         <td class="cellrowborder" width="33.33333333333333%">12</td>         <td class="cellrowborder" width="33.33333333333333%">接近光传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_HUMIDITY</td>         <td class="cellrowborder" width="33.33333333333333%">13</td>         <td class="cellrowborder" width="33.33333333333333%">湿度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_ORIENTATION</td>         <td class="cellrowborder" width="33.33333333333333%">256</td>         <td class="cellrowborder" width="33.33333333333333%">方向传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_GRAVITY</td>         <td class="cellrowborder" width="33.33333333333333%">257</td>         <td class="cellrowborder" width="33.33333333333333%">重力传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_LINEAR_ACCELERATION</td>         <td class="cellrowborder" width="33.33333333333333%">258</td>         <td class="cellrowborder" width="33.33333333333333%">线性加速度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_ROTATION_VECTOR</td>         <td class="cellrowborder" width="33.33333333333333%">259</td>         <td class="cellrowborder" width="33.33333333333333%">旋转矢量传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_AMBIENT_TEMPERATURE</td>         <td class="cellrowborder" width="33.33333333333333%">260</td>         <td class="cellrowborder" width="33.33333333333333%">环境温度传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_MAGNETIC_FIELD_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">261</td>         <td class="cellrowborder" width="33.33333333333333%">未校准磁场传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_GYROSCOPE_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">263</td>         <td class="cellrowborder" width="33.33333333333333%">未校准陀螺仪传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_SIGNIFICANT_MOTION</td>         <td class="cellrowborder" width="33.33333333333333%">264</td>         <td class="cellrowborder" width="33.33333333333333%">有效运动传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_PEDOMETER_DETECTION</td>         <td class="cellrowborder" width="33.33333333333333%">265</td>         <td class="cellrowborder" width="33.33333333333333%">计步检测传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_PEDOMETER</td>         <td class="cellrowborder" width="33.33333333333333%">266</td>         <td class="cellrowborder" width="33.33333333333333%">计步传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_HEART_RATE</td>         <td class="cellrowborder" width="33.33333333333333%">278</td>         <td class="cellrowborder" width="33.33333333333333%">心率传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_WEAR_DETECTION</td>         <td class="cellrowborder" width="33.33333333333333%">280</td>         <td class="cellrowborder" width="33.33333333333333%">佩戴检测传感器。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SENSOR_TYPE_ID_ACCELEROMETER_UNCALIBRATED</td>         <td class="cellrowborder" width="33.33333333333333%">281</td>         <td class="cellrowborder" width="33.33333333333333%">未校准加速度计传感器。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>