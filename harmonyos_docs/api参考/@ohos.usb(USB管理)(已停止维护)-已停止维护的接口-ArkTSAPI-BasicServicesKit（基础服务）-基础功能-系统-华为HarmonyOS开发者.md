<h1 _ngcontent-iah-c119="" class="doc-title ng-star-inserted" title="@ohos.usb (USB管理)(已停止维护)"> @ohos.usb (USB管理)(已停止维护) </h1>

<div _ngcontent-iah-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块主要提供管理USB设备的相关功能，包括查询USB设备列表、批量数据传输、控制命令传输、权限控制等。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  <p>从API version 9开始，该接口不再维护，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-usbmanager">@ohos.usbManager</a>。</p>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> usb <span class="hljs-keyword">from</span> <span class="hljs-string">"@ohos.usb"</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbgetdevices" device-type="phone,2in1,tablet,tv">usb.getDevices<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbgetdevices" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getDevices(): Array&lt;Readonly&lt;USBDevice&gt;&gt;</p> <p>获取USB设备列表。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Array&lt;Readonly&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevice">USBDevice</a>&gt;&gt;</td> <td class="cellrowborder" width="50%">设备信息列表。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> devicesList = usb.<span class="hljs-title function_">getDevices</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`devicesList = <span class="hljs-subst">${devicesList}</span>`</span>);</li><li><span class="hljs-comment">//devicesList  返回的数据结构</span></li><li><span class="hljs-comment">//此处提供一个简单的示例，如下</span></li><li><span class="hljs-comment">/*[</span></li><li><span class="hljs-comment">  {</span></li><li><span class="hljs-comment">    name: "1-1",</span></li><li><span class="hljs-comment">    serial: "",</span></li><li><span class="hljs-comment">    manufacturerName: "",</span></li><li><span class="hljs-comment">    productName: "",</span></li><li><span class="hljs-comment">    version: "",</span></li><li><span class="hljs-comment">    vendorId: 7531,</span></li><li><span class="hljs-comment">    productId: 2,</span></li><li><span class="hljs-comment">    clazz: 9,</span></li><li><span class="hljs-comment">    subClass: 0,</span></li><li><span class="hljs-comment">    protocol: 1,</span></li><li><span class="hljs-comment">    devAddress: 1,</span></li><li><span class="hljs-comment">    busNum: 1,</span></li><li><span class="hljs-comment">    configs: [</span></li><li><span class="hljs-comment">      {</span></li><li><span class="hljs-comment">        id: 1,</span></li><li><span class="hljs-comment">        attributes: 224,</span></li><li><span class="hljs-comment">        isRemoteWakeup: true,</span></li><li><span class="hljs-comment">        isSelfPowered: true,</span></li><li><span class="hljs-comment">        maxPower: 0,</span></li><li><span class="hljs-comment">        name: "1-1",</span></li><li><span class="hljs-comment">        interfaces: [</span></li><li><span class="hljs-comment">          {</span></li><li><span class="hljs-comment">            id: 0,</span></li><li><span class="hljs-comment">            protocol: 0,</span></li><li><span class="hljs-comment">            clazz: 9,</span></li><li><span class="hljs-comment">            subClass: 0,</span></li><li><span class="hljs-comment">            alternateSetting: 0,</span></li><li><span class="hljs-comment">            name: "1-1",</span></li><li><span class="hljs-comment">            endpoints: [</span></li><li><span class="hljs-comment">              {</span></li><li><span class="hljs-comment">                address: 129,</span></li><li><span class="hljs-comment">                attributes: 3,</span></li><li><span class="hljs-comment">                interval: 12,</span></li><li><span class="hljs-comment">                maxPacketSize: 4,</span></li><li><span class="hljs-comment">                direction: 128,</span></li><li><span class="hljs-comment">                number: 1,</span></li><li><span class="hljs-comment">                type: 3,</span></li><li><span class="hljs-comment">                interfaceId: 0,</span></li><li><span class="hljs-comment">              },</span></li><li><span class="hljs-comment">            ],</span></li><li><span class="hljs-comment">          },</span></li><li><span class="hljs-comment">        ],</span></li><li><span class="hljs-comment">      },</span></li><li><span class="hljs-comment">    ],</span></li><li><span class="hljs-comment">  },</span></li><li><span class="hljs-comment">]*/</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbconnectdevice" device-type="phone,2in1,tablet,tv">usb.connectDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbconnectdevice" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>connectDevice(device: USBDevice): Readonly&lt;USBDevicePipe&gt;</p> <p>打开USB设备。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备信息以及device，再调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">device</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevice">USBDevice</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">USB设备信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Readonly&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a>&gt;</td> <td class="cellrowborder" width="50%">指定的传输通道对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> devicepipe= usb.<span class="hljs-title function_">connectDevice</span>(device);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`devicepipe = <span class="hljs-subst">${devicepipe}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbhasright" device-type="phone,2in1,tablet,tv">usb.hasRight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbhasright" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>hasRight(deviceName: string): boolean</p> <p>判断是否有权访问该设备。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备名称。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true表示有访问设备的权限，false表示没有访问设备的权限。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> devicesName= <span class="hljs-string">"1-1"</span>;</li><li><span class="hljs-keyword">let</span> bool = usb.<span class="hljs-title function_">hasRight</span>(devicesName);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`hasRight = <span class="hljs-subst">${bool}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbrequestright" device-type="phone,2in1,tablet,tv">usb.requestRight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbrequestright" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>requestRight(deviceName: string): Promise&lt;boolean&gt;</p> <p>请求软件包的临时权限以访问设备。使用Promise异步回调。系统应用默认拥有访问设备权限，无需调用此接口申请。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备名称。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回临时权限的申请结果。返回true表示临时权限申请成功；返回false则表示临时权限申请失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> devicesName= <span class="hljs-string">"1-1"</span>;</li><li>usb.<span class="hljs-title function_">requestRight</span>(devicesName).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ret</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`requestRight = <span class="hljs-subst">${ret}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbclaiminterface" device-type="phone,2in1,tablet,tv">usb.claimInterface<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbclaiminterface" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>claimInterface(pipe: USBDevicePipe, iface: USBInterface, force ?: boolean): number</p> <p>注册通信接口。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备信息以及interfaces；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>接口得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr> <tr><td class="cellrowborder" width="25%">iface</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbinterface">USBInterface</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定需要获取接口的索引。</td> </tr> <tr><td class="cellrowborder" width="25%">force</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">可选参数，是否强制获取。默认值为false ，表示不强制获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">注册通信接口成功返回0；注册通信接口失败返回其他错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">claimInterface</span>(devicepipe, interfaces);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`claimInterface = <span class="hljs-subst">${ret}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbreleaseinterface" device-type="phone,2in1,tablet,tv">usb.releaseInterface<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbreleaseinterface" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>releaseInterface(pipe: USBDevicePipe, iface: USBInterface): number</p> <p>释放注册过的通信接口。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbclaiminterface">usb.claimInterface</a>先获取接口，才能使用此方法释放接口。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr> <tr><td class="cellrowborder" width="25%">iface</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbinterface">USBInterface</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定需要释放接口的索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">释放接口成功返回0；释放接口失败返回其他错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">releaseInterface</span>(devicepipe, interfaces);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`releaseInterface = <span class="hljs-subst">${ret}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbsetconfiguration" device-type="phone,2in1,tablet,tv">usb.setConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbsetconfiguration" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setConfiguration(pipe: USBDevicePipe, config: USBConfig): number</p> <p>设置设备配置。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备信息以及config；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr> <tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconfig">USBConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定需要设置的配置。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">设置设备配置成功返回0；设置设备配置失败返回其他错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">setConfiguration</span>(devicepipe, config);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`setConfiguration = <span class="hljs-subst">${ret}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbsetinterface" device-type="phone,2in1,tablet,tv">usb.setInterface<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbsetinterface" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setInterface(pipe: USBDevicePipe, iface: USBInterface): number</p> <p>设置设备接口。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备列表以及interfaces；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>得到devicepipe作为参数；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbclaiminterface">usb.claimInterface</a>注册通信接口。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr> <tr><td class="cellrowborder" width="25%">iface</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbinterface">USBInterface</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定需要设置的接口。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">设置设备接口成功返回0；设置设备接口失败返回其他错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">setInterface</span>(devicepipe, interfaces);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`setInterface = <span class="hljs-subst">${ret}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbgetrawdescriptor" device-type="phone,2in1,tablet,tv">usb.getRawDescriptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbgetrawdescriptor" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRawDescriptor(pipe: USBDevicePipe): Uint8Array</p> <p>获取原始的USB描述符。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备列表；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>接口得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Uint8Array</td> <td class="cellrowborder" width="50%">返回获取的原始数据；失败返回undefined。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">getRawDescriptor</span>(devicepipe);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbgetfiledescriptor" device-type="phone,2in1,tablet,tv">usb.getFileDescriptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbgetfiledescriptor" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFileDescriptor(pipe: USBDevicePipe): number</p> <p>获取文件描述符。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备列表；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>接口得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定总线号和设备地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">返回设备对应的文件描述符；失败返回-1。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">getFileDescriptor</span>(devicepipe);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbcontroltransfer" device-type="phone,2in1,tablet,tv">usb.controlTransfer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbcontroltransfer" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>controlTransfer(pipe: USBDevicePipe, controlparam: USBControlParams, timeout ?: number): Promise&lt;number&gt;</p> <p>控制传输。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备列表；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>接口得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定设备。</td> </tr> <tr><td class="cellrowborder" width="25%">controlparam</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbcontrolparams">USBControlParams</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">控制传输参数。</td> </tr> <tr><td class="cellrowborder" width="25%">timeout</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">超时时间（单位：ms），可选参数，默认为0不超时。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，获取传输或接收到的数据块大小。失败返回-1。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> param = {</li><li>  <span class="hljs-attr">request</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">reqType</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">target</span>:<span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">index</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span></li><li>};</li><li>usb.<span class="hljs-title function_">controlTransfer</span>(devicepipe, param).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ret</span>) =&gt;</span> {</li><li> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`controlTransfer = <span class="hljs-subst">${ret}</span>`</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbbulktransfer" device-type="phone,2in1,tablet,tv">usb.bulkTransfer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbbulktransfer" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>bulkTransfer(pipe: USBDevicePipe, endpoint: USBEndpoint, buffer: Uint8Array, timeout ?: number): Promise&lt;number&gt;</p> <p>批量传输。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备信息列表以及endpoint；再调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；然后调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>接口得到返回数据devicepipe之后，再次获取接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbclaiminterface">usb.claimInterface</a>；再调用usb.bulkTransfer接口。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定设备。</td> </tr> <tr><td class="cellrowborder" width="25%">endpoint</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbendpoint">USBEndpoint</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定传输的端口。</td> </tr> <tr><td class="cellrowborder" width="25%">buffer</td> <td class="cellrowborder" width="25%">Uint8Array</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于写入或读取的缓冲区。</td> </tr> <tr><td class="cellrowborder" width="25%">timeout</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">超时时间（单位：ms），可选参数，默认为0不超时。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，获取传输或接收到的数据块大小。失败返回-1。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//usb.getDevices 接口返回数据集合，取其中一个设备对象，并获取权限 。</span></li><li><span class="hljs-comment">//把获取到的设备对象作为参数传入usb.connectDevice;当usb.connectDevice接口成功返回之后；</span></li><li><span class="hljs-comment">//才可以调用第三个接口usb.claimInterface.当usb.claimInterface 调用成功以后,再调用该接口。</span></li><li>usb.<span class="hljs-title function_">bulkTransfer</span>(devicepipe, endpoint, buffer).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ret</span>) =&gt;</span> {</li><li> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`bulkTransfer = <span class="hljs-subst">${ret}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbclosepipe" device-type="phone,2in1,tablet,tv">usb.closePipe<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbclosepipe" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>closePipe(pipe: USBDevicePipe): number</p> <p>关闭设备消息控制通道。</p> <p>需要调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbgetdevices">usb.getDevices</a>获取设备列表；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestright">usb.requestRight</a>获取设备请求权限；调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconnectdevice">usb.connectDevice</a>得到devicepipe作为参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">pipe</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevicepipe">USBDevicePipe</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于确定USB设备消息控制通道。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">关闭设备消息控制通道成功返回0；关闭设备消息控制通道失败返回其他错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-iah-c106="" class="highlight-div"><div _ngcontent-iah-c106="" class="highlight-div-header"><div _ngcontent-iah-c106="" class="highlight-div-header-left"><div _ngcontent-iah-c106="" class="handle-button expand-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iah-c106="" class="highlight-div-header-right"><div _ngcontent-iah-c106="" class="handle-button ai-button"></div><div _ngcontent-iah-c106="" class="handle-button line-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iah-c106="" class="handle-button theme-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iah-c106="" class="handle-button copy-button"><div _ngcontent-iah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iah-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> ret = usb.<span class="hljs-title function_">closePipe</span>(devicepipe);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`closePipe = <span class="hljs-subst">${ret}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="usbendpoint" device-type="phone,2in1,tablet,tv">USBEndpoint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbendpoint" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>通过USB发送和接收数据的端口。通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbinterface">USBInterface</a>获取。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">address</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点地址。</td> </tr> <tr><td class="cellrowborder" width="25%">attributes</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点属性。</td> </tr> <tr><td class="cellrowborder" width="25%">interval</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点间隔。</td> </tr> <tr><td class="cellrowborder" width="25%">maxPacketSize</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点最大数据包大小。</td> </tr> <tr><td class="cellrowborder" width="25%">direction</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequestdirection">USBRequestDirection</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点的方向。</td> </tr> <tr><td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点号。</td> </tr> <tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点类型。</td> </tr> <tr><td class="cellrowborder" width="25%">interfaceId</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">端点所属的接口的唯一标识。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbinterface" device-type="phone,2in1,tablet,tv">USBInterface<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbinterface" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>一个<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconfig">USBConfig</a>中可以含有多个USBInterface，每个USBInterface提供一个功能。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">id</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">接口的唯一标识。</td> </tr> <tr><td class="cellrowborder" width="25%">protocol</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">接口的协议。</td> </tr> <tr><td class="cellrowborder" width="25%">clazz</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备类型。</td> </tr> <tr><td class="cellrowborder" width="25%">subClass</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备子类。</td> </tr> <tr><td class="cellrowborder" width="25%">alternateSetting</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">在同一个接口中的多个描述符中进行切换设置。</td> </tr> <tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">接口名称。</td> </tr> <tr><td class="cellrowborder" width="25%">endpoints</td> <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbendpoint">USBEndpoint</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">当前接口所包含的端点。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbconfig" device-type="phone,2in1,tablet,tv">USBConfig<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbconfig" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>USB配置，一个<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbdevice">USBDevice</a>中可以含有多个配置。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">id</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">配置的唯一标识。</td> </tr> <tr><td class="cellrowborder" width="25%">attributes</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">配置的属性。</td> </tr> <tr><td class="cellrowborder" width="25%">maxPower</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">最大功耗，以毫安为单位。</td> </tr> <tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">配置的名称，可以为空。</td> </tr> <tr><td class="cellrowborder" width="25%">isRemoteWakeup</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">检查当前配置是否支持远程唤醒。</td> </tr> <tr><td class="cellrowborder" width="25%">isSelfPowered</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">检查当前配置是否支持独立电源。</td> </tr> <tr><td class="cellrowborder" width="25%">interfaces</td> <td class="cellrowborder" width="25%">Array &lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbinterface">USBInterface</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">配置支持的接口属性。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbdevice" device-type="phone,2in1,tablet,tv">USBDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbdevice" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>USB设备信息。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">busNum</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">总线地址。</td> </tr> <tr><td class="cellrowborder" width="25%">devAddress</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备地址。</td> </tr> <tr><td class="cellrowborder" width="25%">serial</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">序列号。</td> </tr> <tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备名字。</td> </tr> <tr><td class="cellrowborder" width="25%">manufacturerName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">产商信息。</td> </tr> <tr><td class="cellrowborder" width="25%">productName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">产品信息。</td> </tr> <tr><td class="cellrowborder" width="25%">version</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">版本。</td> </tr> <tr><td class="cellrowborder" width="25%">vendorId</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">厂商ID。</td> </tr> <tr><td class="cellrowborder" width="25%">productId</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">产品ID。</td> </tr> <tr><td class="cellrowborder" width="25%">clazz</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备类。</td> </tr> <tr><td class="cellrowborder" width="25%">subClass</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备子类。</td> </tr> <tr><td class="cellrowborder" width="25%">protocol</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备协议码。</td> </tr> <tr><td class="cellrowborder" width="25%">configs</td> <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbconfig">USBConfig</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备配置描述符信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbdevicepipe" device-type="phone,2in1,tablet,tv">USBDevicePipe<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbdevicepipe" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>USB设备消息传输通道，用于确定设备。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">busNum</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">总线地址。</td> </tr> <tr><td class="cellrowborder" width="25%">devAddress</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设备地址。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbcontrolparams" device-type="phone,2in1,tablet,tv">USBControlParams<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbcontrolparams" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>控制传输参数。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.4.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">request</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">请求类型。</td> </tr> <tr><td class="cellrowborder" width="25%">target</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbrequesttargettype">USBRequestTargetType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">请求目标类型。</td> </tr> <tr><td class="cellrowborder" width="25%">reqType</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-usb-deprecated#usbcontrolrequesttype">USBControlRequestType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">请求控制类型。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">请求参数。</td> </tr> <tr><td class="cellrowborder" width="25%">index</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">请求参数value对应的索引值。</td> </tr> <tr><td class="cellrowborder" width="25%">data</td> <td class="cellrowborder" width="25%">Uint8Array</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于写入或读取的缓冲区。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbrequesttargettype" device-type="phone,2in1,tablet,tv">USBRequestTargetType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbrequesttargettype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>请求目标类型。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TARGET_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TARGET_INTERFACE</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">接口。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TARGET_ENDPOINT</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">端点。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TARGET_OTHER</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">其他。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbcontrolrequesttype" device-type="phone,2in1,tablet,tv">USBControlRequestType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbcontrolrequesttype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>控制请求类型。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.24.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TYPE_STANDARD</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">标准。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TYPE_CLASS</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">类。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_TYPE_VENDOR</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">厂商。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="usbrequestdirection" device-type="phone,2in1,tablet,tv">USBRequestDirection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usbrequestdirection" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>请求方向。</p> <p><strong>系统能力：</strong> SystemCapability.USB.USBManager</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_DIR_TO_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">写数据，主设备往从设备。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">USB_REQUEST_DIR_FROM_DEVICE</td> <td class="cellrowborder" width="33.33333333333333%">0x80</td> <td class="cellrowborder" width="33.33333333333333%">读数据，从设备往主设备。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>