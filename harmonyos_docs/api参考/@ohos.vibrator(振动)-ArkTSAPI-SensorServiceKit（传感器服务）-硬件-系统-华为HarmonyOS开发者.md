<h1 _ngcontent-vhg-c119="" class="doc-title ng-star-inserted" title="@ohos.vibrator (振动)"> @ohos.vibrator (振动) </h1>

<div _ngcontent-vhg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>vibrator模块提供控制设备马达振动的能力。包括启动指定时长、预置效果、自定义文件等模式的振动；停止指定时长、预置效果或所有模式的振动。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 4952px;">     <h2 id="vibratorstartvibration9" device-type="phone,2in1,tablet,wearable,tv">vibrator.startVibration<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstartvibration9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startVibration(effect: VibrateEffect, attribute: VibrateAttribute, callback: AsyncCallback&lt;void&gt;): void</p>     <p>根据指定的振动效果和振动属性触发马达振动。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effect</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateeffect9">VibrateEffect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>马达振动效果，支持四种：</p>          <p>1、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratepreset9">VibratePreset</a>：按照预置振动效果触发马达振动，适用于交互反馈类的短振场景（如点击长按，滑动，拖拽等），为确保与系统整体振感反馈体验风格一致，推荐使用此接口；</p>          <p>2、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefromfile10">VibrateFromFile</a>：按照文件形式定制自定义振动效果触发马达振动，适用于匹配复杂场景效果的交互反馈（如表情包触发的拟真效果、游戏场景/操作反馈）；</p>          <p>3、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratetime9">VibrateTime</a>：按照指定时长触发马达振动，仅对振动时长进行启动或停止控制，满足基础功能，无法对振动强度、频率等维度进行个性化设置，此种振动调节不够细腻，无法满足精致体验；</p>          <p>4、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefrompattern18">VibrateFromPattern<sup>18+</sup></a>：按照自定义振动效果触发马达振动。使用场景和VibrateFromFile一致。VibrateFromFile是面向文件中提前定制好的效果，将具体的振动事件以文件描述符形式传递到接口中；VibrateFromPattern提供更加灵活的振动事件排列组合，将振动事件以振动事件数组的形式传递到接口中。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">attribute</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateattribute9">VibrateAttribute</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达振动属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当马达振动成功，err为undefined；否则为错误对象，包含错误码和错误信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <p>1.按照预置振动效果触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持'haptic.notice.success'</span></li><li>  vibrator.<span class="hljs-title function_">isSupportEffect</span>(<span class="hljs-string">'haptic.notice.success'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, state: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query effect. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in querying effect'</span>);</li><li>    <span class="hljs-keyword">if</span> (state) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>          <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>          <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>          <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>        }, {</li><li>          <span class="hljs-attr">usage</span>: <span class="hljs-string">'notification'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>        }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (error) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>       </li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>      }</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p>2.按照自定义振动配置文件触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">fileName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'xxx.json'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'alarm-file'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">rawFd</span>: resourceManager.<span class="hljs-property">RawFileDescriptor</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getRawFdSync</span>(fileName);</li><li>            <span class="hljs-keyword">if</span> (rawFd != <span class="hljs-literal">undefined</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>                  <span class="hljs-attr">type</span>: <span class="hljs-string">"file"</span>,</li><li>                  <span class="hljs-attr">hapticFd</span>: { <span class="hljs-attr">fd</span>: rawFd.<span class="hljs-property">fd</span>, <span class="hljs-attr">offset</span>: rawFd.<span class="hljs-property">offset</span>, <span class="hljs-attr">length</span>: rawFd.<span class="hljs-property">length</span> }</li><li>                }, {</li><li>                  <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>                  <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>                }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (error) {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>                    <span class="hljs-keyword">return</span>;</li><li>                  }</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (err) {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">finally</span> {</li><li>                vibrator.<span class="hljs-title function_">stopVibration</span>();</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">closeRawFdSync</span>(fileName);</li><li>              }</li><li>            }</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>3.按照指定时长触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'time'</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,</li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4958px;">     <h2 id="vibratorstartvibration9-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.startVibration<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstartvibration9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startVibration(effect: VibrateEffect, attribute: VibrateAttribute): Promise&lt;void&gt;</p>     <p>根据指定的振动效果和振动属性触发马达振动。使用promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effect</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateeffect9">VibrateEffect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>马达振动效果，支持四种：</p>          <p>1、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratetime9">VibrateTime</a>：按照预置振动效果触发马达振动，适用于交互反馈类的短振场景（如点击长按，滑动，拖拽等），为确保与系统整体振感反馈体验风格一致，推荐使用此接口；</p>          <p>2、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratepreset9">VibratePreset</a>：按照文件形式定制自定义振动效果触发马达振动，适用于匹配复杂场景效果的交互反馈（如表情包触发的拟真效果、游戏场景/操作反馈）；</p>          <p>3、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefromfile10">VibrateFromFile</a>：按照指定时长触发马达振动，仅对振动时长进行启动或停止控制，满足基础功能，无法对振动强度、频率等维度进行个性化设置，此种振动调节不够细腻，无法满足精致体验；</p>          <p>4、<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefrompattern18">VibrateFromPattern<sup>18+</sup></a>：按照自定义振动效果触发马达振动。使用场景和VibrateFromFile一致。VibrateFromFile是面向文件中提前定制好的效果，将具体的振动事件以文件描述符形式传递到接口中；VibrateFromPattern提供更加灵活的振动事件排列组合，将振动事件以振动事件数组的形式传递到接口中。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">attribute</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateattribute9">VibrateAttribute</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达振动属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <p>1.按照预置振动效果触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持'haptic.notice.success'</span></li><li>  vibrator.<span class="hljs-title function_">isSupportEffect</span>(<span class="hljs-string">'haptic.notice.success'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, state: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query effect. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in querying effect'</span>);</li><li>    <span class="hljs-keyword">if</span> (state) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>          <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>          <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>          <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>        }, {</li><li>          <span class="hljs-attr">usage</span>: <span class="hljs-string">'notification'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>        }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (error) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>       </li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>      }</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p>2.按照自定义振动配置文件触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">fileName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'xxx.json'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'alarm-file'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">rawFd</span>: resourceManager.<span class="hljs-property">RawFileDescriptor</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getRawFdSync</span>(fileName);</li><li>            <span class="hljs-keyword">if</span> (rawFd != <span class="hljs-literal">undefined</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>                  <span class="hljs-attr">type</span>: <span class="hljs-string">"file"</span>,</li><li>                  <span class="hljs-attr">hapticFd</span>: { <span class="hljs-attr">fd</span>: rawFd.<span class="hljs-property">fd</span>, <span class="hljs-attr">offset</span>: rawFd.<span class="hljs-property">offset</span>, <span class="hljs-attr">length</span>: rawFd.<span class="hljs-property">length</span> }</li><li>                }, {</li><li>                  <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>                  <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>                }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (error) {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>                    <span class="hljs-keyword">return</span>;</li><li>                  }</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (err) {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">finally</span> {</li><li>                vibrator.<span class="hljs-title function_">stopVibration</span>();</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">closeRawFdSync</span>(fileName);</li><li>              }</li><li>            }</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>3.按照指定时长触发马达振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'time'</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span></li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3201px;">     <h2 id="vibratorstopvibration9" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibration<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibration9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibration(stopMode: VibratorStopMode, callback: AsyncCallback&lt;void&gt;): void</p>     <p>按照指定模式停止马达振动。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stopMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopmode">VibratorStopMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定的停止振动模式，支持两种：</p>          <p>VIBRATOR_STOP_MODE_TIME：停止固定时长振动；</p>          <p>VIBRATOR_STOP_MODE_PRESET：停止预置振动。</p>          <p>此接口无法停止自定义振动，请使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration10">vibrator.stopVibration<sup>10+</sup></a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，当马达停止振动成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <p>1.停止指定时长振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照指定时长振动</span></li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'time'</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,</li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照VIBRATOR_STOP_MODE_TIME模式停止振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_TIME</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p>2.停止预置振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照预置效果振动</span></li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>    <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>    <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'notification'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照VIBRATOR_STOP_MODE_PRESET模式停止振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_PRESET</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3087px;">     <h2 id="vibratorstopvibration9-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibration<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibration9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibration(stopMode: VibratorStopMode): Promise&lt;void&gt;</p>     <p>按照指定模式停止马达的振动。使用promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stopMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopmode">VibratorStopMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>支持停止两种指定的振动模式：</p>          <p>VIBRATOR_STOP_MODE_TIME：停止指定时长振动；</p>          <p>VIBRATOR_STOP_MODE_PRESET：停止预置振动。</p>          <p>此接口无法停止自定义振动，请使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration10-1">vibrator.stopVibration<sup>10+</sup></a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <p>1.停止指定时长振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照指定时长振动</span></li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'time'</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,</li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'alarm'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照VIBRATOR_STOP_MODE_TIME模式停止振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_TIME</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p>2.停止预置振动：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>  </li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照预置效果振动</span></li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>    <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>    <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>  }, {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">'notification'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 按照VIBRATOR_STOP_MODE_PRESET模式停止振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_PRESET</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1361px;">     <h2 id="vibratorstopvibration10" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibration<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibration10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibration(callback: AsyncCallback&lt;void&gt;): void</p>     <p>停止所有模式的马达振动。使用callback异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，当马达停止振动成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 停止所有模式的马达振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1285px;">     <h2 id="vibratorstopvibration10-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibration<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibration10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibration(): Promise&lt;void&gt;</p>     <p>停止所有模式的马达振动。使用promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 停止所有模式的马达振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibration</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1827px;">     <h2 id="vibratorstopvibration19" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibration<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibration19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibration(param?: VibratorInfoParam): Promise&lt;void&gt;</p>     <p>不传参默认停止本地设备所有马达的振动，也可传递参数停止指定设备马达振动。使用promise异步回调。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">param</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorinfoparam19">VibratorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指出需要控制的设备和马达信息，不传参默认控制的为本地设备的全部马达</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">vibratorDemo</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 查询所有马达设备信息。</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">vibratorInfoList</span>: vibrator.<span class="hljs-property">VibratorInfo</span>[] = vibrator.<span class="hljs-title function_">getVibratorInfoSync</span>();</li><li>  <span class="hljs-comment">// 根据实际业务逻辑获取目标马达, 例如查找本地马达，此处示例仅做展示，开发者需要自行调整筛选逻辑。</span></li><li>  <span class="hljs-keyword">const</span> targetVibrator = vibratorInfoList.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">vibrator: vibrator.VibratorInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">return</span> vibrator.<span class="hljs-property">isLocalVibrator</span>;</li><li>  });</li><li>  <span class="hljs-keyword">if</span> (!targetVibrator) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-comment">// 调用 vibrator.startVibration 开始振动。</span></li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获。</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 根据实际业务场景停止马达振动。</span></li><li>    vibrator.<span class="hljs-title function_">stopVibration</span>({ <span class="hljs-attr">deviceId</span>: targetVibrator.<span class="hljs-property">deviceId</span>, <span class="hljs-attr">vibratorId</span>: targetVibrator.<span class="hljs-property">vibratorId</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>    }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="vibratorstopvibrationsync12" device-type="phone,2in1,tablet,wearable,tv">vibrator.stopVibrationSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopvibrationsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopVibrationSync(): void</p>     <p>停止任何形式的马达振动。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>元服务API</strong>：从API Version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 停止任何形式的马达振动</span></li><li>  vibrator.<span class="hljs-title function_">stopVibrationSync</span>()</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping vibration'</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1965px;">     <h2 id="vibratorissupporteffect10" device-type="phone,2in1,tablet,wearable,tv">vibrator.isSupportEffect<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorissupporteffect10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSupportEffect(effectId: string, callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>查询是否支持传入参数effectId。使用callback异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待确认的预置振动效果，字符串最大长度64，超出截取64。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，当返回true则表示支持该effectId，返回false不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持'haptic.notice.success'</span></li><li>  vibrator.<span class="hljs-title function_">isSupportEffect</span>(<span class="hljs-string">'haptic.notice.success'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, state: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query effect. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in querying effect'</span>);</li><li>    <span class="hljs-keyword">if</span> (state) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// 使用startVibration需要添加ohos.permission.VIBRATE权限</span></li><li>        vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>          <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>          <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>          <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>        }, {</li><li>          <span class="hljs-attr">usage</span>: <span class="hljs-string">'unknown'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>        }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (error) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>          }</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>      }</li><li>    }</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1947px;">     <h2 id="vibratorissupporteffect10-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.isSupportEffect<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorissupporteffect10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSupportEffect(effectId: string): Promise&lt;boolean&gt;</p>     <p>查询是否支持传入参数effectId。使用promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待确认的预置振动效果，字符串最大长度64，超出截取64。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当返回true则表示支持该effectId，返回false不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持'haptic.notice.success'</span></li><li>  vibrator.<span class="hljs-title function_">isSupportEffect</span>(<span class="hljs-string">'haptic.notice.success'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">state: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The query result is <span class="hljs-subst">${state}</span>`</span>);</li><li>    <span class="hljs-keyword">if</span> (state) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>          <span class="hljs-attr">type</span>: <span class="hljs-string">'preset'</span>,</li><li>          <span class="hljs-attr">effectId</span>: <span class="hljs-string">'haptic.notice.success'</span>,</li><li>          <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,</li><li>        }, {</li><li>          <span class="hljs-attr">usage</span>: <span class="hljs-string">'unknown'</span> <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>        }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in starting vibration'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start vibration. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (error) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>      }</li><li>    }</li><li>  }, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query effect. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1443px;">     <h2 id="vibratorissupporteffectsync12" device-type="phone,2in1,tablet,wearable,tv">vibrator.isSupportEffectSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorissupporteffectsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSupportEffectSync(effectId: string): boolean</p>     <p>查询是否支持预设的振动效果。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待确认的预置振动效果，字符串最大长度64，超出截取64。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回对象。当返回true则表示支持该effectId，返回false不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持预设'haptic.notice.success'</span></li><li>  <span class="hljs-keyword">let</span> ret = vibrator.<span class="hljs-title function_">isSupportEffectSync</span>(<span class="hljs-string">'haptic.notice.success'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The query result is <span class="hljs-subst">${ret}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1385px;">     <h2 id="vibratorgeteffectinfosync19" device-type="phone,2in1,tablet,wearable,tv">vibrator.getEffectInfoSync<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorgeteffectinfosync19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEffectInfoSync(effectId: string, param?: VibratorInfoParam): EffectInfo</p>     <p>通过设备ID和可控马达ID获取预置振动效果信息，用于判断该预置振动效果是否受支持。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待确认的预置振动效果，字符串最大长度64，超出截取64。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">param</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorinfoparam19">VibratorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指出需要查询的设备和马达信息，默认查询的是本地设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#effectinfo19">EffectInfo</a></td>         <td class="cellrowborder" width="50%">该信息包括指示是否支持该效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">effectInfo</span>: vibrator.<span class="hljs-property">EffectInfo</span> = vibrator.<span class="hljs-title function_">getEffectInfoSync</span>(<span class="hljs-string">'haptic.clock.timer'</span>, { <span class="hljs-attr">deviceId</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">vibratorId</span>: <span class="hljs-number">3</span>});</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isEffectSupported: <span class="hljs-subst">${effectInfo.isEffectSupported}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1025px;">     <h2 id="vibratorgetvibratorinfosync19" device-type="phone,2in1,tablet,wearable,tv">vibrator.getVibratorInfoSync<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorgetvibratorinfosync19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVibratorInfoSync(param?: VibratorInfoParam): Array&lt;VibratorInfo&gt;;</p>     <p>查询一个或所有设备的马达信息列表。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">param</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorinfoparam19">VibratorInfoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指出需要控制的设备和马达信息,不传参默认查询所有设备所有马达的信息</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorinfo19">VibratorInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">马达设备的信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">vibratorInfoList</span>: vibrator.<span class="hljs-property">VibratorInfo</span>[] = vibrator.<span class="hljs-title function_">getVibratorInfoSync</span>({ <span class="hljs-attr">deviceId</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">vibratorId</span>: <span class="hljs-number">3</span> });</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`vibratorInfoList: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(vibratorInfoList)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1286px;">     <h2 id="vibratoron19" device-type="phone,2in1,tablet,wearable,tv">vibrator.on<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratoron19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'vibratorStateChange', callback: Callback&lt;VibratorStatusEvent&gt;): void</p>     <p>注册一个回调函数，在马达上线或下线时触发回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'vibratorStateChange'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听类型，该值固定为vibratorStateChange。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstatusevent19">VibratorStatusEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，回调参数数据为VibratorStatusEvent。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">vibratorStateChangeCallback</span> = (<span class="hljs-params">data: vibrator.VibratorStatusEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'vibrator state callback info:'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 订阅 vibratorStateChange事件</span></li><li>  vibrator.<span class="hljs-title function_">on</span>(<span class="hljs-string">'vibratorStateChange'</span>, vibratorStateChangeCallback);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="vibratoroff19" device-type="phone,2in1,tablet,wearable,tv">vibrator.off<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratoroff19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'vibratorStateChange', callback?: Callback&lt;VibratorStatusEvent&gt;): void</p>     <p>注销马达上线或下线事件的回调函数。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">'vibratorStateChange'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听类型，该值固定为vibratorStateChange。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstatusevent19">VibratorStatusEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，回调参数数据为VibratorStatusEvent，不填此参数则为注销所有callback</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">vibratorStateChangeCallback</span> = (<span class="hljs-params">data: vibrator.VibratorStatusEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'vibrator state callback info:'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 取消订阅 vibratorStateChange事件</span></li><li>  vibrator.<span class="hljs-title function_">off</span>(<span class="hljs-string">'vibratorStateChange'</span>, vibratorStateChangeCallback);</li><li>  <span class="hljs-comment">// 取消订阅所有 vibratorStateChange事件</span></li><li>  <span class="hljs-comment">// vibrator.off('vibratorStateChange');</span></li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h2 id="vibratorstatusevent19" device-type="phone,2in1,tablet,wearable,tv">VibratorStatusEvent<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstatusevent19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>振动设备上线、下线状态事件信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">timestamp</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">报告事件的时间戳。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备的ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">vibratorCount</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备上的马达的数量。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isVibratorOnline</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">指示设备的上线和下线状态，true表示上线，false表示下线。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 666px;">     <h2 id="vibratorinfoparam19" device-type="phone,2in1,tablet,wearable,tv">VibratorInfoParam<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorinfoparam19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设备上马达的参数。默认情况下，VibratorInfoParam默认为查询或控制本地全部马达。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设备的ID：默认值为-1，表示本地设备，API19以后设备ID可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorgetvibratorinfosync19">getVibratorInfoSync</a>或设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratoron19">on</a>查询。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">vibratorId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">马达ID：默认值为0，控制的是该设备的全部马达，API19以后马达ID可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorgetvibratorinfosync19">getVibratorInfoSync</a>设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratoron19">on</a>查询。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="effectinfo19" device-type="phone,2in1,tablet,wearable,tv">EffectInfo<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="effectinfo19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>查询的预制效果信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">isEffectSupported</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">预制效果是否支持，true表示支持，false表示不支持。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 513px;">     <h2 id="vibratorinfo19" device-type="phone,2in1,tablet,wearable,tv">VibratorInfo<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorinfo19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示查询的马达信息。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">deviceId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">vibratorId</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">马达ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceName</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">设备名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isHdHapticSupported</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否支持高清振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">isLocalVibrator</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是否为本地设备。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1141px;">     <h2 id="vibratorishdhapticsupported12" device-type="phone,2in1,tablet,wearable,tv">vibrator.isHdHapticSupported<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorishdhapticsupported12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isHdHapticSupported(): boolean</p>     <p>查询是否支持高清振动。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回对象，当返回true表示支持高清振动，返回false不支持。。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-vibrator">振动错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">14600101</td>         <td class="cellrowborder" width="50%">Device operation failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 查询是否支持高清振动</span></li><li>  <span class="hljs-keyword">let</span> ret = vibrator.<span class="hljs-title function_">isHdHapticSupported</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The query result is <span class="hljs-subst">${ret}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="vibratorpatternbuilder18" device-type="phone,2in1,tablet,wearable,tv">VibratorPatternBuilder<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorpatternbuilder18" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1934px;">     <h3 id="vibratoraddcontinuousevent18" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">vibrator('addContinuousEvent')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratoraddcontinuousevent18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addContinuousEvent(time: number, duration: number, options?: ContinuousParam): VibratorPatternBuilder;</p>     <p>添加长振事件的方法成VibratorPattern对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">time</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">长振事件的起始时间。单位ms，取值范围[0,1800000]区间内所有整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">duration</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">长振事件的持续时间。单位ms，取值范围(0,5000]区间内所有整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#continuousparam18">ContinuousParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数，可选参数对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">VibratorPatternBuilder</td>         <td class="cellrowborder" width="50%">返回已添加连续振动事件的VibratorPatternBuilder对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> builder = <span class="hljs-keyword">new</span> vibrator.<span class="hljs-title class_">VibratorPatternBuilder</span>();</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pointsMe</span>: vibrator.<span class="hljs-property">VibratorCurvePoint</span>[] = [</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">7</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">6</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">128</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.94</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">4</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">217</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.63</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">14</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">763</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.48</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">14</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">1125</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.53</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">10</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">1503</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.42</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">14</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">1858</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.39</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">14</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">2295</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.34</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">17</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">2448</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0.21</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">14</span> },</li><li>      { <span class="hljs-attr">time</span>: <span class="hljs-number">2468</span>, <span class="hljs-attr">intensity</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">frequency</span>: -<span class="hljs-number">21</span> }</li><li>  ] <span class="hljs-comment">// VibratorCurvePoint参数最少设置4个，最大设置16个</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">param</span>: vibrator.<span class="hljs-property">ContinuousParam</span> = {</li><li>      <span class="hljs-attr">intensity</span>: <span class="hljs-number">97</span>,</li><li>      <span class="hljs-attr">frequency</span>: <span class="hljs-number">34</span>,</li><li>      <span class="hljs-attr">points</span>:pointsMe,</li><li>      <span class="hljs-attr">index</span>: <span class="hljs-number">0</span></li><li>  }</li><li>  builder.<span class="hljs-title function_">addContinuousEvent</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2468</span>, param);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`addContinuousEvent builder is <span class="hljs-subst">${builder.build()}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Exception. Code <span class="hljs-subst">${e.code}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1521px;">     <h3 id="vibratoraddtransientevent18" device-type="phone,2in1,tablet,wearable,tv">vibrator('addTransientEvent')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratoraddtransientevent18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addTransientEvent(time: number, options?: TransientParam): VibratorPatternBuilder;</p>     <p>添加短振事件的方法成VibratorPattern对象。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">time</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">短振事件的起始时间。单位ms，取值范围[0,1800000]区间内所有整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#transientparam18">TransientParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">可选参数，可选参数对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">VibratorPatternBuilder</td>         <td class="cellrowborder" width="50%">返回已添加短振事件的VibratorPatternBuilder对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。错误码和错误信息会以异常的形式抛出，调用接口时需要使用try catch对可能出现的异常进行捕获操作。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1. Mandatory parameters are left unspecified;2. Incorrect parameter types;3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> builder = <span class="hljs-keyword">new</span> vibrator.<span class="hljs-title class_">VibratorPatternBuilder</span>();</li><li><span class="hljs-comment">// 使用try catch对可能出现的异常进行捕获</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">param</span>: vibrator.<span class="hljs-property">TransientParam</span> = {</li><li>      <span class="hljs-attr">intensity</span>: <span class="hljs-number">80</span>,</li><li>      <span class="hljs-attr">frequency</span>: <span class="hljs-number">70</span>,</li><li>      <span class="hljs-attr">index</span>: <span class="hljs-number">0</span></li><li>  }</li><li>  builder.<span class="hljs-title function_">addTransientEvent</span>(<span class="hljs-number">0</span>, param);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`addTransientEvent builder is <span class="hljs-subst">${builder.build()}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1394px;">     <h3 id="vibratorbuild18" device-type="phone,2in1,tablet,wearable,tv">vibrator('build')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorbuild18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>build(): VibratorPattern;</p>     <p>构造组合短事件或长事件的振动序列的方法。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorpattern18">VibratorPattern</a></td>         <td class="cellrowborder" width="50%">构造组合短振或长振的振动序列方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> builder = <span class="hljs-keyword">new</span> vibrator.<span class="hljs-title class_">VibratorPatternBuilder</span>();</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">param</span>: vibrator.<span class="hljs-property">TransientParam</span> = {</li><li>      <span class="hljs-attr">intensity</span>: <span class="hljs-number">80</span>,</li><li>      <span class="hljs-attr">frequency</span>: <span class="hljs-number">70</span>,</li><li>      <span class="hljs-attr">index</span>: <span class="hljs-number">0</span></li><li>  }</li><li>  builder.<span class="hljs-title function_">addTransientEvent</span>(<span class="hljs-number">0</span>, param);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`addTransientEvent builder is <span class="hljs-subst">${builder.build()}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  vibrator.<span class="hljs-title function_">startVibration</span>({</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-string">"pattern"</span>,</li><li>      <span class="hljs-attr">pattern</span>: builder.<span class="hljs-title function_">build</span>()</li><li>  }, {</li><li>    <span class="hljs-attr">usage</span>: <span class="hljs-string">"alarm"</span>, <span class="hljs-comment">// 根据实际选择类型归属不同的开关管控</span></li><li>  }, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Vibrate fail. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`vibrate success`</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(error) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`An unexpected error occurred. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 473px;">     <h2 id="effectid" device-type="phone,2in1,tablet,wearable,tv">EffectId<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="effectid" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>预置的振动效果。在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9-1">vibrator.stopVibration9+</a>接口下发<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratepreset9">VibratePreset</a>形式振动的时候需要使用此参数类型。此参数值种类多样，'haptic.clock.timer'为其中一种。<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#hapticfeedback12">HapticFeedback<sup>12+</sup></a>展示了几种常用的EffectId值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>由于设备存在多样性，不同的设备可能预置不同的效果，建议使用预置效果前先使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorissupporteffect10-1">vibrator.isSupportEffect</a><sup>10+</sup>接口查询当前设备是否支持该预置效果。</p>      </div></div></div>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_CLOCK_TIMER</td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.clock.timer'</td>         <td class="cellrowborder" width="33.33333333333333%">描述用户调整计时器时的振动效果。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 606px;">     <h2 id="hapticfeedback12" device-type="phone,2in1,tablet,wearable,tv">HapticFeedback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hapticfeedback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>简单而通用的振动效果。根据各设备的马达器件不同，同一振动效果的频率会有差异，但效果的频率趋向是统一的。这几种振动效果是EffectId参数的具体值，使用方法参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9-1">vibrator.stopVibration9+</a>接口下发<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratepreset9">VibratePreset</a>形式振动的示例代码。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_SOFT</td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.effect.soft'</td>         <td class="cellrowborder" width="33.33333333333333%">较松散的振动效果，频率偏低。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_HARD</td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.effect.hard'</td>         <td class="cellrowborder" width="33.33333333333333%">较沉重的振动效果，频率居中。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_SHARP</td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.effect.sharp'</td>         <td class="cellrowborder" width="33.33333333333333%">较尖锐的振动效果，频率偏高。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_NOTICE_SUCCESS<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.notice.success'</td>         <td class="cellrowborder" width="33.33333333333333%">表达成功通知的振动效果。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_NOTICE_FAILURE<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.notice.fail'</td>         <td class="cellrowborder" width="33.33333333333333%">表达失败通知的振动效果。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EFFECT_NOTICE_WARNING<sup>18+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">'haptic.notice.warning'</td>         <td class="cellrowborder" width="33.33333333333333%">表达警告通知的振动效果。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 402px;">     <h2 id="vibratorstopmode" device-type="phone,2in1,tablet,wearable,tv">VibratorStopMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopmode" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>停止振动的模式。在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9">vibrator.stopVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9-1">vibrator.stopVibration9+</a>接口时，需要使用此参数类型指定停止的振动模式。停止模式和<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateeffect9">VibrateEffect9+</a>中下发的模式为对应关系。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">VIBRATOR_STOP_MODE_TIME</td>         <td class="cellrowborder" width="33.33333333333333%">'time'</td>         <td class="cellrowborder" width="33.33333333333333%">停止duration模式的振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">VIBRATOR_STOP_MODE_PRESET</td>         <td class="cellrowborder" width="33.33333333333333%">'preset'</td>         <td class="cellrowborder" width="33.33333333333333%">停止预置EffectId的振动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 638px;">     <h2 id="vibrateeffect9" device-type="phone,2in1,tablet,wearable,tv">VibrateEffect<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibrateeffect9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type VibrateEffect = VibrateTime | VibratePreset | VibrateFromFile | VibrateFromPattern</p>     <p>马达振动效果，支持以下四种：在调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9-1">vibrator.startVibration9+</a>接口时，此参数的四种类型表示以四种不同的形式触发振动。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratetime9">VibrateTime</a></td>         <td class="cellrowborder" width="50%">          <p>按照指定时长触发马达振动。</p>          <p><strong>元服务API：</strong> 从API Version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratepreset9">VibratePreset</a></td>         <td class="cellrowborder" width="50%">按照预置振动类型触发马达振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefromfile10">VibrateFromFile</a></td>         <td class="cellrowborder" width="50%">按照自定义振动配置文件触发马达振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratefrompattern18">VibrateFromPattern<sup>18+</sup></a></td>         <td class="cellrowborder" width="50%">按照自定义振动效果触发马达振动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 690px;">     <h2 id="vibratetime9" device-type="phone,2in1,tablet,wearable,tv">VibrateTime<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratetime9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>指定时长振动类型。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口在支持元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%">'time'</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">值为'time'，按照指定时长触发马达振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">duration</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">马达持续振动时长, 单位ms。取值范围(0,1800000]区间内所有整数。由于实际产品厂商驱动对器件保护设计规格不同，不同设备实际最大振动时长会有差异。单次触发长振动一般建议不超过10秒，以最大化用户体验。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 756px;">     <h2 id="vibratepreset9" device-type="phone,2in1,tablet,wearable,tv">VibratePreset<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratepreset9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>预置振动类型。当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9-1">vibrator.startVibration9+</a>时，<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateeffect9">VibrateEffect9+</a>参数的值可以为VibratePreset，表示触发预置振动类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%">'preset'</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">值为'preset'，按照预置振动效果触发马达振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">effectId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">预置的振动效果ID，字符串最大长度64，超出截取64。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">count</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，振动的重复次数，默认值为1。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">intensity<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，振动调节强度，取值范围(0,100]内所有整数，默认值为100。若振动效果不支持强度调节或设备不支持时，则按默认强度振动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="vibratefromfile10" device-type="phone,2in1,tablet,wearable,tv">VibrateFromFile<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratefromfile10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义振动类型。仅部分设备支持。当设备不支持此振动类型时，返回设备不支持错误码。当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration9+</a>或<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9-1">vibrator.startVibration9+</a>时，<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibrateeffect9">VibrateEffect9+</a>参数的值可以为VibrateFromFile，表示触发自定义振动类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%">'file'</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">值为'file'，按照振动配置文件触发马达振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hapticFd</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#hapticfiledescriptor10">HapticFileDescriptor</a><sup>10+</sup></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动配置文件的描述符。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 663px;">     <h2 id="hapticfiledescriptor10" device-type="phone,2in1,tablet,wearable,tv">HapticFileDescriptor<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hapticfiledescriptor10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义振动配置文件的描述符，必须确认资源文件可用，其参数可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fs#fsopen">文件管理API</a>从沙箱路径获取或者通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#getrawfd9">资源管理API</a>从HAP资源获取。使用场景：振动序列被存储在一个文件中，需要根据偏移量和长度进行振动，振动序列存储格式，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/vibrator-guidelines#振动效果说明" target="_blank">自定义振动格式</a>。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fd</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">资源文件描述符。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">距文件起始位置的偏移量，单位为字节，默认为文件起始位置，不可超出文件有效范围。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">length</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">资源长度，单位为字节，默认值为从偏移位置至文件结尾的长度，不可超出文件有效范围。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 378px;">     <h2 id="vibratoreventtype18" device-type="phone,2in1,tablet,wearable,tv">VibratorEventType<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratoreventtype18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>振动事件类型。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CONTINUOUS</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示长振。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TRANSIENT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示短振。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 591px;">     <h2 id="vibratorcurvepoint18" device-type="phone,2in1,tablet,wearable,tv">VibratorCurvePoint<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorcurvepoint18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>相对事件振动强度的增益。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">time</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">起始时间偏移。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">intensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，相对事件振动强度增益，取值范围[0,100%]，省略时默认值为1。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">frequency</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，相对事件振动频率变化，取值范围[-100,100]内所有整数，省略时默认值为0。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1083px;">     <h2 id="vibratorevent18" device-type="phone,2in1,tablet,wearable,tv">VibratorEvent<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorevent18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>振动事件。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">eventType</td>         <td class="cellrowborder" width="20%">VibratorEventType</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动事件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">time</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动起始时间，单位ms。取值范围[0,1800000]区间内所有整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">duration</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动持续时间，取值范围（0,5000]区间所有整数，短振默认值为48，长振默认值为1000</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">intensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动强度，取值范围[0,100]区间所有整数，省略时默认值为100。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">frequency</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动频率，取值范围[0,100]区间内所有整数，省略时默认值为50。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">index</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示通道编号，取值范围[0,2]区间内所有整数，省略时默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">points</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorcurvepoint18">VibratorCurvePoint</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动调节曲线数组。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="vibratorpattern18" device-type="phone,2in1,tablet,wearable,tv">VibratorPattern<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorpattern18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>马达振动序列，每个events代表一个振动事件。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">time</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动绝对起始时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">events</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorevent18">VibratorEvent</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动事件数组，build()方法返回的VibratorPattern对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 708px;">     <h2 id="continuousparam18" device-type="phone,2in1,tablet,wearable,tv">ContinuousParam<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="continuousparam18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>连续振动参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">intensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动强度，取值范围[0,100]内所有整数，省略时默认值为100。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">frequency</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动频率，取值范围[0,100]内所有整数，省略时默认值为50。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">points</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorcurvepoint18">VibratorCurvePoint</a>[]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动调节曲线数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">index</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示通道编号，取值范围[0,2]区间内所有整数，省略时默认值为0。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 639px;">     <h2 id="transientparam18" device-type="phone,2in1,tablet,wearable,tv">TransientParam<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transientparam18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>瞬态振动参数。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">intensity</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动强度，取值范围[0,100]内所有整数，省略时默认值为100。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">frequency</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示振动频率，取值范围[0,100]内所有整数，省略时默认值为50。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">index</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">可选参数，表示通道编号，取值范围[0,2]区间内所有整数，省略时默认值为0。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h2 id="vibratefrompattern18" device-type="phone,2in1,tablet,wearable,tv">VibrateFromPattern<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratefrompattern18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义振动效果触发马达振动。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">type</td>         <td class="cellrowborder" width="20%">'pattern'</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">值为“pattern”，根据组合模式触发电机振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">pattern</td>         <td class="cellrowborder" width="20%">VibratorPattern</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">振动事件数组，build()方法返回的VibratorPattern对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 807px;">     <h2 id="vibrateattribute9" device-type="phone,2in1,tablet,wearable,tv">VibrateAttribute<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibrateattribute9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>马达振动属性。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">id</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">马达ID， 默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">deviceId<sup>19+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设备ID，默认值为-1，表示本地设备，API19以后设备ID可以使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorgetvibratorinfosync19">getVibratorInfoSync</a>或设备上下线接口<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratoron19">on</a>查询。</p>          <p><strong>元服务API</strong>：从API Version 19开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">usage</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#usage9">Usage</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">马达振动的使用场景。默认值为'unknown'，取值范围只允许在<a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#usage9">Usage</a>提供的类型中选取。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1105px;">     <h2 id="usage9" device-type="phone,2in1,tablet,wearable,tv">Usage<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="usage9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Usage = 'unknown' | 'alarm' | 'ring' | 'notification' | 'communication' | 'touch' | 'media' | 'physicalFeedback' | 'simulateReality'</p>     <p>振动使用场景。</p>     <p><strong>元服务API</strong>：从API Version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">'unknown'</td>         <td class="cellrowborder" width="50%">没有明确使用场景，最低优先级，值固定为'unknown'字符串。受触感开关管控，关闭时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'alarm'</td>         <td class="cellrowborder" width="50%">用于警报场景，值固定为'alarm'字符串。受三态开关管控，静音时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'ring'</td>         <td class="cellrowborder" width="50%">用于铃声场景，值固定为'ring'字符串。受三态开关管控，静音时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'notification'</td>         <td class="cellrowborder" width="50%">用于通知场景，值固定为'notification'字符串。受三态开关管控，静音时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'communication'</td>         <td class="cellrowborder" width="50%">用于通信场景，值固定为'communication'字符串。受三态开关管控，静音时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'touch'</td>         <td class="cellrowborder" width="50%">用于触摸场景，值固定为'touch'字符串。 受触感开关管控，关闭时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'media'</td>         <td class="cellrowborder" width="50%">用于多媒体场景，值固定为'media'字符串。受触感开关管控，关闭时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'physicalFeedback'</td>         <td class="cellrowborder" width="50%">用于物理反馈场景，值固定为'physicalFeedback'字符串。受触感开关管控，关闭时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">'simulateReality'</td>         <td class="cellrowborder" width="50%">用于模拟现实场景，值固定为'simulateReality'字符串。受触感开关管控，关闭时不振动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1193px;">     <h2 id="vibratorvibratedeprecated" device-type="phone,2in1,tablet,wearable,tv">vibrator.vibrate<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorvibratedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>vibrate(duration: number): Promise&lt;void&gt;</p>     <p>按照指定持续时间触发马达振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9-1">vibrator.startVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">duration</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达振动时长, 单位ms；取值范围是（0,1800000]区间的所有整数。由于实际产品厂商驱动对器件保护设计规格不同，不同设备实际最大振动时长会有差异。单次触发长振动一般建议不超过10秒，以最大化用户体验。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>vibrator.<span class="hljs-title function_">vibrate</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>}, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1163px;">     <h2 id="vibratorvibratedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.vibrate<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorvibratedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>vibrate(duration: number, callback?: AsyncCallback&lt;void&gt;): void</p>     <p>按照指定持续时间触发马达振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">duration</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达振动时长, 单位ms。取值范围是（0,1800000]区间的所有整数。由于实际产品厂商驱动对器件保护设计规格不同，不同设备实际最大振动时长会有差异。单次触发长振动一般建议不超过10秒，以最大化用户体验。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，当马达振动成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>vibrator.<span class="hljs-title function_">vibrate</span>(<span class="hljs-number">1000</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="vibratorvibratedeprecated-2" device-type="phone,2in1,tablet,wearable,tv">vibrator.vibrate<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorvibratedeprecated-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>vibrate(effectId: EffectId): Promise&lt;void&gt;</p>     <p>按照预置振动效果触发马达振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9-1">vibrator.startVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#effectid">EffectId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">预置的振动效果ID，字符串最大长度64，超出截取64，建议先查询是否支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>vibrator.<span class="hljs-title function_">vibrate</span>(vibrator.<span class="hljs-property">EffectId</span>.<span class="hljs-property">EFFECT_CLOCK_TIMER</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>}, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1043px;">     <h2 id="vibratorvibratedeprecated-3" device-type="phone,2in1,tablet,wearable,tv">vibrator.vibrate<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorvibratedeprecated-3" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>vibrate(effectId: EffectId, callback?: AsyncCallback&lt;void&gt;): void</p>     <p>按照指定振动效果触发马达振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstartvibration9">vibrator.startVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">effectId</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#effectid">EffectId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">预置的振动效果ID，字符串最大长度64，超出截取64，建议先查询是否支持。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，当马达振动成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>vibrator.<span class="hljs-title function_">vibrate</span>(vibrator.<span class="hljs-property">EffectId</span>.<span class="hljs-property">EFFECT_CLOCK_TIMER</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1241px;">     <h2 id="vibratorstopdeprecated" device-type="phone,2in1,tablet,wearable,tv">vibrator.stop<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stop(stopMode: VibratorStopMode): Promise&lt;void&gt;</p>     <p>按照指定模式停止马达的振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9-1">vibrator.stopVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stopMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopmode">VibratorStopMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达停止指定的振动模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 按照effectId类型启动振动</span></li><li>vibrator.<span class="hljs-title function_">vibrate</span>(vibrator.<span class="hljs-property">EffectId</span>.<span class="hljs-property">EFFECT_CLOCK_TIMER</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>  }</li><li>})</li><li><span class="hljs-comment">// 使用VIBRATOR_STOP_MODE_PRESET模式停止振动</span></li><li>vibrator.<span class="hljs-title function_">stop</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_PRESET</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping'</span>);</li><li>}, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1211px;">     <h2 id="vibratorstopdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">vibrator.stop<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vibratorstopdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stop(stopMode: VibratorStopMode, callback?: AsyncCallback&lt;void&gt;): void</p>     <p>按照指定模式停止马达的振动。</p>     <p>从API version 9 开始不再维护，建议使用 <a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopvibration9">vibrator.stopVibration</a><sup>9+</sup>代替。</p>     <p><strong>需要权限</strong>：ohos.permission.VIBRATE</p>     <p><strong>系统能力</strong>：SystemCapability.Sensors.MiscDevice</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">stopMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-vibrator#vibratorstopmode">VibratorStopMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">马达停止指定的振动模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，当马达停止振动成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-vhg-c106="" class="highlight-div"><div _ngcontent-vhg-c106="" class="highlight-div-header"><div _ngcontent-vhg-c106="" class="highlight-div-header-left"><div _ngcontent-vhg-c106="" class="handle-button expand-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vhg-c106="" class="highlight-div-header-right"><div _ngcontent-vhg-c106="" class="handle-button ai-button"></div><div _ngcontent-vhg-c106="" class="handle-button line-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vhg-c106="" class="handle-button theme-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vhg-c106="" class="handle-button copy-button"><div _ngcontent-vhg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vhg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { vibrator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SensorServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 按照effectId类型启动振动</span></li><li>vibrator.<span class="hljs-title function_">vibrate</span>(vibrator.<span class="hljs-property">EffectId</span>.<span class="hljs-property">EFFECT_CLOCK_TIMER</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to vibrate. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in vibrating'</span>);</li><li>  }</li><li>})</li><li><span class="hljs-comment">// 使用VIBRATOR_STOP_MODE_PRESET模式停止振动</span></li><li>vibrator.<span class="hljs-title function_">stop</span>(vibrator.<span class="hljs-property">VibratorStopMode</span>.<span class="hljs-property">VIBRATOR_STOP_MODE_PRESET</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeed in stopping'</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>   </div>   <div></div></div>