<h1 _ngcontent-pil-c119="" class="doc-title ng-star-inserted" title="@ohos.wallpaper (壁纸)"> @ohos.wallpaper (壁纸) </h1>

<div _ngcontent-pil-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>壁纸管理服务为HarmonyOS系统服务，提供壁纸切换功能。从API 9开始壁纸管理的接口调整为系统API，壁纸的切换只能通过系统应用来完成。壁纸管理提供壁纸切换通道，使用壁纸的应用（如：桌面）需订阅壁纸变化通知并刷新壁纸显示。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { wallpaper } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapertype7" device-type="phone,2in1,tablet,tv">WallpaperType<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapertype7" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>定义壁纸的枚举类型。</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">WALLPAPER_SYSTEM</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">主屏幕壁纸标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WALLPAPER_LOCKSCREEN</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">锁屏壁纸标识。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="rgbacolordeprecated" device-type="phone,2in1,tablet,tv">RgbaColor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rgbacolordeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>定义壁纸颜色信息结构。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">red</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示红色值，范围为 0 到 255。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">green</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示绿色值，范围为 0 到 255。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">blue</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示蓝色值，范围为 0 到 255。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">alpha</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">表示 alpha 值，范围为 0 到 255。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="wallpaperoncolorchangedeprecated" device-type="phone,2in1,tablet,tv">wallpaper.on('colorChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperoncolorchangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'colorChange', callback: (colors: Array&lt;RgbaColor&gt;, wallpaperType: WallpaperType) =&gt; void): void</p>     <p>订阅壁纸颜色变化结果上报事件。不支持多线程并发调用。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'colorChange'，表示壁纸颜色变化结果上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">function</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>壁纸颜色变化触发该回调方法，返回壁纸类型和壁纸的主要颜色信息。</p>          <p>- colors</p>          <p>壁纸的主要颜色信息，其类型见<a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#rgbacolordeprecated">RgbaColor</a>。</p>          <p>- wallpaperType</p>          <p>壁纸类型。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> listener = (<span class="hljs-attr">colors</span>: <span class="hljs-title class_">Array</span>&lt;wallpaper.<span class="hljs-property">RgbaColor</span>&gt;, <span class="hljs-attr">wallpaperType</span>: wallpaper.<span class="hljs-property">WallpaperType</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`wallpaper color changed.`</span>);</li><li>    };</li><li>    wallpaper.<span class="hljs-title function_">on</span>(<span class="hljs-string">'colorChange'</span>, listener);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to on because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperoffcolorchangedeprecated" device-type="phone,2in1,tablet,tv">wallpaper.off('colorChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperoffcolorchangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'colorChange', callback?: (colors: Array&lt;RgbaColor&gt;, wallpaperType: WallpaperType) =&gt; void): void</p>     <p>取消订阅壁纸颜色变化结果上报事件。不支持多线程并发调用。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'colorChange'，表示取消订阅壁纸颜色变化结果上报事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">function</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>表示要取消的壁纸颜色变化的回调，不填写该参数则取消订阅该type对应的所有回调。</p>          <p>- colors</p>          <p>壁纸的主要颜色信息，其类型见<a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#rgbacolordeprecated">RgbaColor</a>。</p>          <p>- wallpaperType</p>          <p>壁纸类型。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> listener = (<span class="hljs-attr">colors</span>: <span class="hljs-title class_">Array</span>&lt;wallpaper.<span class="hljs-property">RgbaColor</span>&gt;, <span class="hljs-attr">wallpaperType</span>: wallpaper.<span class="hljs-property">WallpaperType</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`wallpaper color changed.`</span>);</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>    wallpaper.<span class="hljs-title function_">on</span>(<span class="hljs-string">'colorChange'</span>, listener);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to on because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 取消订阅listener</span></li><li>    wallpaper.<span class="hljs-title function_">off</span>(<span class="hljs-string">'colorChange'</span>, listener);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to off because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 取消所有'colorChange'类型的订阅</span></li><li>    wallpaper.<span class="hljs-title function_">off</span>(<span class="hljs-string">'colorChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to off because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetcolorsdeprecated" device-type="phone,2in1,tablet,tv">wallpaper.getColors<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetcolorsdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getColors(wallpaperType: WallpaperType, callback: AsyncCallback&lt;Array&lt;RgbaColor&gt;&gt;): void</p>     <p>获取指定类型壁纸的主要颜色信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#rgbacolordeprecated">RgbaColor</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回壁纸的主要颜色信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getColors</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Array</span>&lt;wallpaper.RgbaColor&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getColors because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getColors: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetcolorsdeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.getColors<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetcolorsdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getColors(wallpaperType: WallpaperType): Promise&lt;Array&lt;RgbaColor&gt;&gt;</p>     <p>获取指定类型壁纸的主要颜色信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#rgbacolordeprecated">RgbaColor</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">返回壁纸的主要颜色信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getColors</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt;wallpaper.RgbaColor&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getColors: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getColors because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetiddeprecated" device-type="phone,2in1,tablet,tv">wallpaper.getId<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetiddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getId(wallpaperType: WallpaperType, callback: AsyncCallback&lt;number&gt;): void</p>     <p>获取指定类型壁纸的ID。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回壁纸的ID。如果配置了指定类型的壁纸就返回一个大于等于0的数，否则返回-1。取值范围是-1到（2^31-1）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getId</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getId because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getId: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetiddeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.getId<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetiddeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getId(wallpaperType: WallpaperType): Promise&lt;number&gt;</p>     <p>获取指定类型壁纸的ID。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">壁纸的ID。如果配置了这种壁纸类型的壁纸就返回一个大于等于0的数，否则返回-1。取值范围是-1到（2^31-1）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getId</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getId: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getId because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetminheightdeprecated" device-type="phone,2in1,tablet,tv">wallpaper.getMinHeight<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetminheightdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getMinHeight(callback: AsyncCallback&lt;number&gt;): void</p>     <p>获取壁纸的最小高度值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回壁纸的最小高度值，单位是像素。如果返回值等于0，说明没有设置壁纸，调用者应该使用默认显示的高度值代替。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getMinHeight</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getMinHeight because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getMinHeight: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetminheightdeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.getMinHeight<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetminheightdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getMinHeight(): Promise&lt;number&gt;</p>     <p>获取壁纸的最小高度值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">返回壁纸的最小高度值，单位是像素。如果返回值等于0，说明没有设置壁纸，调用者应该使用默认显示的高度值代替。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getMinHeight</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getMinHeight: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getMinHeight because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetminwidthdeprecated" device-type="phone,2in1,tablet,tv">wallpaper.getMinWidth<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetminwidthdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getMinWidth(callback: AsyncCallback&lt;number&gt;): void</p>     <p>获取壁纸的最小宽度值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，壁纸的最小宽度值，单位是像素。如果返回值等于0，说明没有设置壁纸，调用者应该使用默认显示的宽度值代替。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getMinWidth</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getMinWidth because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getMinWidth: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetminwidthdeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.getMinWidth<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetminwidthdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getMinWidth(): Promise&lt;number&gt;</p>     <p>获取壁纸的最小宽度值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">壁纸的最小宽度值，单位是像素。如果返回值等于0，说明没有设置壁纸，调用者应该使用默认显示的宽度值代替。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getMinWidth</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getMinWidth: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getMinWidth because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetfiledeprecated" device-type="phone,2in1,tablet,tv">wallpaper.getFile<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetfiledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFile(wallpaperType: WallpaperType, callback: AsyncCallback&lt;number&gt;): void</p>     <p>获取指定类型的壁纸文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，调用成功则返回壁纸文件描述符ID，调用失败则返回error信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getFile</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getFile because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getFile: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapergetfiledeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.getFile<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapergetfiledeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFile(wallpaperType: WallpaperType): Promise&lt;number&gt;</p>     <p>获取指定类型的壁纸文件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 8开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.GET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">调用成功则返回壁纸文件描述符ID，调用失败则返回error信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">getFile</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to getFile: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to getFile because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperischangepermitteddeprecated" device-type="phone,2in1,tablet,tv">wallpaper.isChangePermitted<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperischangepermitteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isChangePermitted(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>是否允许应用改变当前用户的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回是否允许应用改变当前用户的壁纸。如果允许返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">isChangePermitted</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to isChangePermitted because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to isChangePermitted: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperischangepermitteddeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.isChangePermitted<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperischangepermitteddeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isChangePermitted(): Promise&lt;boolean&gt;</p>     <p>是否允许应用改变当前用户的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">返回是否允许应用改变当前用户的壁纸。如果允许返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">isChangePermitted</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to isChangePermitted: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to isChangePermitted because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperisoperationalloweddeprecated" device-type="phone,2in1,tablet,tv">wallpaper.isOperationAllowed<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperisoperationalloweddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isOperationAllowed(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>是否允许用户设置壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回是否允许用户设置壁纸。如果允许返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">isOperationAllowed</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: <span class="hljs-built_in">Boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to isOperationAllowed because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to isOperationAllowed: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperisoperationalloweddeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.isOperationAllowed<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperisoperationalloweddeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isOperationAllowed(): Promise&lt;boolean&gt;</p>     <p>是否允许用户设置壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">异步回调函数，返回是否允许用户设置壁纸。如果允许返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">isOperationAllowed</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to isOperationAllowed: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to isOperationAllowed because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperresetdeprecated" device-type="phone,2in1,tablet,tv">wallpaper.reset<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperresetdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>reset(wallpaperType: WallpaperType, callback: AsyncCallback&lt;void&gt;): void</p>     <p>移除指定类型的壁纸，恢复为默认显示的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，移除壁纸成功，error为undefined，否则返回error信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">reset</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to reset because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to reset.`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpaperresetdeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.reset<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpaperresetdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>reset(wallpaperType: WallpaperType): Promise&lt;void&gt;</p>     <p>移除指定类型的壁纸，恢复为默认显示的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>wallpaper.<span class="hljs-title function_">reset</span>(wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to reset.`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to reset because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapersetwallpaperdeprecated" device-type="phone,2in1,tablet,tv">wallpaper.setWallpaper<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapersetwallpaperdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setWallpaper(source: string | image.PixelMap, wallpaperType: WallpaperType, callback: AsyncCallback&lt;void&gt;): void</p>     <p>将指定资源设置为指定类型的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">source</td>         <td class="cellrowborder" width="25%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">JPEG或PNG文件的Uri路径，或者PNG格式文件的位图。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，设置壁纸成功，error为undefined，否则返回error信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-comment">// source类型为string</span></li><li><span class="hljs-keyword">let</span> wallpaperPath = <span class="hljs-string">"/data/storage/el2/base/haps/entry/files/js.jpeg"</span>;</li><li>wallpaper.<span class="hljs-title function_">setWallpaper</span>(wallpaperPath, wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to setWallpaper because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>       <span class="hljs-keyword">return</span>;</li><li>       }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to setWallpaper.`</span>);</li><li>});</li><li>
</li><li><span class="hljs-comment">// source类型为image.PixelMap</span></li><li><span class="hljs-keyword">let</span> imageSource = image.<span class="hljs-title function_">createImageSource</span>(<span class="hljs-string">"file://"</span> + wallpaperPath);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">DecodingOptions</span> = {</li><li>    <span class="hljs-attr">desiredSize</span>: {</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">3648</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">2736</span></li><li>    }</li><li>};</li><li>imageSource.<span class="hljs-title function_">createPixelMap</span>(opts).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap: image.PixelMap</span>) =&gt;</span> {</li><li>    wallpaper.<span class="hljs-title function_">setWallpaper</span>(pixelMap, wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (error) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to setWallpaper because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to setWallpaper.`</span>);</li><li>    });</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to createPixelMap because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="wallpapersetwallpaperdeprecated-1" device-type="phone,2in1,tablet,tv">wallpaper.setWallpaper<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wallpapersetwallpaperdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setWallpaper(source: string | image.PixelMap, wallpaperType: WallpaperType): Promise&lt;void&gt;</p>     <p>将指定资源设置为指定类型的壁纸。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>需要权限</strong>：ohos.permission.SET_WALLPAPER</p>     <p><strong>系统能力</strong>: SystemCapability.MiscServices.Wallpaper</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">source</td>         <td class="cellrowborder" width="25%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">JPEG或PNG文件的Uri路径，或者PNG格式文件的位图。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">wallpaperType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wallpaper#wallpapertype7">WallpaperType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">壁纸类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pil-c106="" class="highlight-div"><div _ngcontent-pil-c106="" class="highlight-div-header"><div _ngcontent-pil-c106="" class="highlight-div-header-left"><div _ngcontent-pil-c106="" class="handle-button expand-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pil-c106="" class="highlight-div-header-right"><div _ngcontent-pil-c106="" class="handle-button ai-button"></div><div _ngcontent-pil-c106="" class="handle-button line-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pil-c106="" class="handle-button theme-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pil-c106="" class="handle-button copy-button"><div _ngcontent-pil-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pil-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-comment">// source类型为string</span></li><li><span class="hljs-keyword">let</span> wallpaperPath = <span class="hljs-string">"/data/storage/el2/base/haps/entry/files/js.jpeg"</span>;</li><li>wallpaper.<span class="hljs-title function_">setWallpaper</span>(wallpaperPath, wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to setWallpaper.`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to setWallpaper because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li><li>  </li><li><span class="hljs-comment">// source类型为image.PixelMap</span></li><li><span class="hljs-keyword">let</span> imageSource = image.<span class="hljs-title function_">createImageSource</span>(<span class="hljs-string">"file://"</span> + wallpaperPath);</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">opts</span>: image.<span class="hljs-property">DecodingOptions</span> = {</li><li>    <span class="hljs-attr">desiredSize</span>: {</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">3648</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">2736</span></li><li>    }</li><li>};</li><li>imageSource.<span class="hljs-title function_">createPixelMap</span>(opts).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap: image.PixelMap</span>) =&gt;</span> {</li><li>    wallpaper.<span class="hljs-title function_">setWallpaper</span>(pixelMap, wallpaper.<span class="hljs-property">WallpaperType</span>.<span class="hljs-property">WALLPAPER_SYSTEM</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`success to setWallpaper.`</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to setWallpaper because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    });</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`failed to createPixelMap because: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>   </div>   <div></div></div>