<h1 _ngcontent-pad-c119="" class="doc-title ng-star-inserted" title="@ohos.wifi (WLAN)"> @ohos.wifi (WLAN) </h1>

<div _ngcontent-pad-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>该模块主要提供WLAN基础功能、P2P（peer-to-peer）功能和WLAN消息通知的相应服务，让应用可以通过WLAN和其他设备互联互通。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p> <p>从API Version 9 开始，该接口不再维护，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-wifimanager">@ohos.wifiManager (WLAN)</a>等相关接口。</p>  </div></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 826px;"><h2 id="wifiiswifiactive" device-type="phone,2in1,tablet,wearable,tv">wifi.isWifiActive<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiiswifiactive" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWifiActive(): boolean</p> <p>查询WLAN是否已使能。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:已使能， false:未使能。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> isWifiActive = wifi.<span class="hljs-title function_">isWifiActive</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"isWifiActive:"</span> + isWifiActive);</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 802px;"><h2 id="wifiscan" device-type="phone,2in1,tablet,wearable,tv">wifi.scan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiscan" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scan(): boolean</p> <p>启动WLAN扫描。</p> <p><strong>需要权限：</strong> ohos.permission.SET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:扫描操作执行成功， false:扫描操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    wifi.<span class="hljs-title function_">scan</span>();</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 545px;"><h2 id="wifigetscaninfos" device-type="phone,2in1,tablet,wearable,tv">wifi.getScanInfos<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetscaninfos" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getScanInfos(): Promise&lt;Array&lt;WifiScanInfo&gt;&gt;</p> <p>获取扫描结果，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 (ohos.permission.GET_WIFI_PEERS_MAC 或 ohos.permission.LOCATION)</p> <p>ohos.permission.GET_WIFI_PEERS_MAC权限仅系统应用可申请。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt; Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifiscaninfo">WifiScanInfo</a>&gt; &gt;</td> <td class="cellrowborder" width="50%">Promise对象。返回扫描到的热点列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;"><h2 id="wifigetscaninfos-1" device-type="phone,2in1,tablet,wearable,tv">wifi.getScanInfos<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetscaninfos-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getScanInfos(callback: AsyncCallback&lt;Array&lt;WifiScanInfo&gt;&gt;): void</p> <p>获取扫描结果，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 (ohos.permission.GET_WIFI_PEERS_MAC 或 ohos.permission.LOCATION)</p> <p>ohos.permission.GET_WIFI_PEERS_MAC权限仅系统应用可申请。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt; Array&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifiscaninfo">WifiScanInfo</a>&gt;&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当成功时，err为0，data为扫描到的热点；否则err为非0值，data为空。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li>wifi.<span class="hljs-title function_">getScanInfos</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> len = result.<span class="hljs-property">length</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"wifi received scan info: "</span> + len);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"ssid: "</span> + result[i].<span class="hljs-property">ssid</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"bssid: "</span> + result[i].<span class="hljs-property">bssid</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"capabilities: "</span> + result[i].<span class="hljs-property">capabilities</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"securityType: "</span> + result[i].<span class="hljs-property">securityType</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rssi: "</span> + result[i].<span class="hljs-property">rssi</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"band: "</span> + result[i].<span class="hljs-property">band</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"frequency: "</span> + result[i].<span class="hljs-property">frequency</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"channelWidth: "</span> + result[i].<span class="hljs-property">channelWidth</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"timestamp: "</span> + result[i].<span class="hljs-property">timestamp</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 885px;"><h2 id="wifiscaninfo" device-type="phone,2in1,tablet,wearable,tv">WifiScanInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiscaninfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>WLAN热点信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">ssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的SSID，最大长度为32字节，编码格式为UTF-8。</td> </tr> <tr><td class="cellrowborder" width="20%">bssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的BSSID，例如：00:11:22:33:44:55。</td> </tr> <tr><td class="cellrowborder" width="20%">capabilities</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点能力。</td> </tr> <tr><td class="cellrowborder" width="20%">securityType</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifisecuritytype">WifiSecurityType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN加密类型。</td> </tr> <tr><td class="cellrowborder" width="20%">rssi</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的信号强度(dBm)。</td> </tr> <tr><td class="cellrowborder" width="20%">band</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的频段。1表示2.4GHZ；2表示5GHZ。</td> </tr> <tr><td class="cellrowborder" width="20%">frequency</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的频率。</td> </tr> <tr><td class="cellrowborder" width="20%">channelWidth</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的带宽。</td> </tr> <tr><td class="cellrowborder" width="20%">timestamp</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">时间戳。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 561px;"><h2 id="wifisecuritytype" device-type="phone,2in1,tablet,wearable,tv">WifiSecurityType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifisecuritytype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示加密类型的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">WIFI_SEC_TYPE_INVALID</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">无效加密类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WIFI_SEC_TYPE_OPEN</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">开放加密类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WIFI_SEC_TYPE_WEP</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">Wired Equivalent Privacy (WEP)加密类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WIFI_SEC_TYPE_PSK</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">Pre-shared key (PSK)加密类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">WIFI_SEC_TYPE_SAE</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">Simultaneous Authentication of Equals (SAE)加密类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 657px;"><h2 id="wifideviceconfig" device-type="phone,2in1,tablet,wearable,tv">WifiDeviceConfig<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifideviceconfig" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>WLAN配置信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">ssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的SSID，最大长度为32字节，编码格式为UTF-8。</td> </tr> <tr><td class="cellrowborder" width="20%">bssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的BSSID，例如：00:11:22:33:44:55。</td> </tr> <tr><td class="cellrowborder" width="20%">preSharedKey</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的密钥，最大长度为64字节。</td> </tr> <tr><td class="cellrowborder" width="20%">isHiddenSsid</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是否是隐藏网络。true:是隐藏网络，false:不是隐藏网络。</td> </tr> <tr><td class="cellrowborder" width="20%">securityType</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifisecuritytype">WifiSecurityType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">加密类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1457px;"><h2 id="wifiadduntrustedconfig7" device-type="phone,2in1,tablet,wearable,tv">wifi.addUntrustedConfig<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiadduntrustedconfig7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addUntrustedConfig(config: WifiDeviceConfig): Promise&lt;boolean&gt;</p> <p>添加不可信网络配置，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.SET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifideviceconfig">WifiDeviceConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">WLAN配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示操作结果，true: 成功， false: 失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiDeviceConfig</span> = {</li><li>        ssid : <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">bssid</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">preSharedKey</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">isHiddenSsid</span>: <span class="hljs-literal">false</span>,</li><li>        <span class="hljs-attr">securityType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">creatorUid</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">disableReason</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">netId</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacAddr</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">ipType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">staticIp</span>: {</li><li>            <span class="hljs-attr">ipAddress</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">gateway</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">dnsServers</span>: [],</li><li>            <span class="hljs-attr">domains</span>: []</li><li>        }</li><li>    }</li><li>    wifi.<span class="hljs-title function_">addUntrustedConfig</span>(config).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"result:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;"><h2 id="wifiadduntrustedconfig7-1" device-type="phone,2in1,tablet,wearable,tv">wifi.addUntrustedConfig<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiadduntrustedconfig7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addUntrustedConfig(config: WifiDeviceConfig, callback: AsyncCallback&lt;boolean&gt;): void</p> <p>添加不可信网络配置，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.SET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifideviceconfig">WifiDeviceConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">WLAN配置信息。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当操作成功时，err为0，data表示操作结果，true: 成功， false: 失败。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiDeviceConfig</span> = {</li><li>        ssid : <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">bssid</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">preSharedKey</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">isHiddenSsid</span>: <span class="hljs-literal">false</span>,</li><li>        <span class="hljs-attr">securityType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">creatorUid</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">disableReason</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">netId</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacAddr</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">ipType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">staticIp</span>: {</li><li>            <span class="hljs-attr">ipAddress</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">gateway</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">dnsServers</span>: [],</li><li>            <span class="hljs-attr">domains</span>: []</li><li>        }</li><li>    }</li><li>    wifi.<span class="hljs-title function_">addUntrustedConfig</span>(config,<span class="hljs-function">(<span class="hljs-params">error,result</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"result:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1457px;"><h2 id="wifiremoveuntrustedconfig7" device-type="phone,2in1,tablet,wearable,tv">wifi.removeUntrustedConfig<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiremoveuntrustedconfig7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeUntrustedConfig(config: WifiDeviceConfig): Promise&lt;boolean&gt;</p> <p>移除不可信网络配置，使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.SET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifideviceconfig">WifiDeviceConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">WLAN配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示操作结果，true: 成功， false: 失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiDeviceConfig</span> = {</li><li>        ssid : <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">bssid</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">preSharedKey</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">isHiddenSsid</span>: <span class="hljs-literal">false</span>,</li><li>        <span class="hljs-attr">securityType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">creatorUid</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">disableReason</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">netId</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacAddr</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">ipType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">staticIp</span>: {</li><li>            <span class="hljs-attr">ipAddress</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">gateway</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">dnsServers</span>: [],</li><li>            <span class="hljs-attr">domains</span>: []</li><li>        }</li><li>    }</li><li>    wifi.<span class="hljs-title function_">removeUntrustedConfig</span>(config).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"result:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;"><h2 id="wifiremoveuntrustedconfig7-1" device-type="phone,2in1,tablet,wearable,tv">wifi.removeUntrustedConfig<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiremoveuntrustedconfig7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeUntrustedConfig(config: WifiDeviceConfig, callback: AsyncCallback&lt;boolean&gt;): void</p> <p>移除不可信网络配置，使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.SET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifideviceconfig">WifiDeviceConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">WLAN配置信息。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当操作成功时，err为0，data表示操作结果，true: 成功， false: 失败。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiDeviceConfig</span> = {</li><li>        ssid : <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">bssid</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">preSharedKey</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">isHiddenSsid</span>: <span class="hljs-literal">false</span>,</li><li>        <span class="hljs-attr">securityType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">creatorUid</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">disableReason</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">netId</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">randomMacAddr</span>:  <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">ipType</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">staticIp</span>: {</li><li>            <span class="hljs-attr">ipAddress</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">gateway</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">dnsServers</span>: [],</li><li>            <span class="hljs-attr">domains</span>: []</li><li>        }</li><li>    }</li><li>    wifi.<span class="hljs-title function_">removeUntrustedConfig</span>(config,<span class="hljs-function">(<span class="hljs-params">error,result</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"result:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1070px;"><h2 id="wifigetsignallevel" device-type="phone,2in1,tablet,wearable,tv">wifi.getSignalLevel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetsignallevel" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSignalLevel(rssi: number, band: number): number</p> <p>查询WLAN信号强度。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">rssi</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">热点的信号强度(dBm)。</td> </tr> <tr><td class="cellrowborder" width="25%">band</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">WLAN接入点的频段。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">信号强度，取值范围为[0, 4]。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> rssi = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> band = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> level = wifi.<span class="hljs-title function_">getSignalLevel</span>(rssi,band);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"level:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(level));</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="wifigetlinkedinfo" device-type="phone,2in1,tablet,wearable,tv">wifi.getLinkedInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetlinkedinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLinkedInfo(): Promise&lt;WifiLinkedInfo&gt;</p> <p>获取WLAN连接信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifilinkedinfo">WifiLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示WLAN连接信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1046px;"><h2 id="wifigetlinkedinfo-1" device-type="phone,2in1,tablet,wearable,tv">wifi.getLinkedInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetlinkedinfo-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLinkedInfo(callback: AsyncCallback&lt;WifiLinkedInfo&gt;): void</p> <p>获取WLAN连接信息。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifilinkedinfo">WifiLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取成功时，err为0，data表示WLAN连接信息。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li>wifi.<span class="hljs-title function_">getLinkedInfo</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiLinkedInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get linked info error"</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get wifi linked info: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li>wifi.<span class="hljs-title function_">getLinkedInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get wifi linked info: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:<span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get linked info error"</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1095px;"><h2 id="wifilinkedinfo" device-type="phone,2in1,tablet,wearable,tv">WifiLinkedInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifilinkedinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供WLAN连接的相关信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.18.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">ssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的SSID，最大长度为32字节，编码格式为UTF-8。</td> </tr> <tr><td class="cellrowborder" width="20%">bssid</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的BSSID，例如：00:11:22:33:44:55。</td> </tr> <tr><td class="cellrowborder" width="20%">rssi</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">热点的信号强度(dBm)。</td> </tr> <tr><td class="cellrowborder" width="20%">band</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的频段。1表示2.4GHZ；2表示5GHZ。</td> </tr> <tr><td class="cellrowborder" width="20%">linkSpeed</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的速度，单位Mbps。</td> </tr> <tr><td class="cellrowborder" width="20%">frequency</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点的频率。</td> </tr> <tr><td class="cellrowborder" width="20%">isHidden</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点是否是隐藏网络。true:是隐藏网络，false:不是隐藏网络。</td> </tr> <tr><td class="cellrowborder" width="20%">isRestricted</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN接入点是否限制数据量。true: 限制，false:不限制。</td> </tr> <tr><td class="cellrowborder" width="20%">macAddress</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备的MAC地址。</td> </tr> <tr><td class="cellrowborder" width="20%">ipAddress</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN连接的IP地址。</td> </tr> <tr><td class="cellrowborder" width="20%">connState</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#connstate">ConnState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">WLAN连接状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h2 id="connstate" device-type="phone,2in1,tablet,wearable,tv">ConnState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="connstate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示WLAN连接状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SCANNING</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">设备正在搜索可用的AP。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">CONNECTING</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">正在建立WLAN连接。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AUTHENTICATING</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">WLAN连接正在认证中。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">OBTAINING_IPADDR</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">正在获取WLAN连接的IP地址。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">CONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">WLAN连接已建立。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DISCONNECTING</td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%">WLAN连接正在断开。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">DISCONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%">WLAN连接已断开。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">UNKNOWN</td> <td class="cellrowborder" width="33.33333333333333%">7</td> <td class="cellrowborder" width="33.33333333333333%">WLAN连接建立失败。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="wifiisconnected7" device-type="phone,2in1,tablet,wearable,tv">wifi.isConnected<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiisconnected7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isConnected(): boolean</p> <p>查询WLAN是否已连接。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:已连接， false:未连接。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1001px;"><h2 id="wifiisfeaturesupported7" device-type="phone,2in1,tablet,wearable,tv">wifi.isFeatureSupported<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiisfeaturesupported7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isFeatureSupported(featureId: number): boolean</p> <p>判断设备是否支持相关WLAN特性。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">featureId</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">特性ID值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:支持， false:不支持。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> featureId = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> ret = wifi.<span class="hljs-title function_">isFeatureSupported</span>(featureId);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"isFeatureSupported:"</span> + ret);</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 826px;"><h2 id="wifigetipinfo7" device-type="phone,2in1,tablet,wearable,tv">wifi.getIpInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetipinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getIpInfo(): IpInfo</p> <p>获取IP信息。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#ipinfo7">IpInfo</a></td> <td class="cellrowborder" width="50%">IP信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> info = wifi.<span class="hljs-title function_">getIpInfo</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"info:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(info));</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 603px;"><h2 id="ipinfo7" device-type="phone,2in1,tablet,wearable,tv">IpInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ipinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>IP信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.AP.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">ipAddress</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">IP地址。</td> </tr> <tr><td class="cellrowborder" width="20%">gateway</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">网关。</td> </tr> <tr><td class="cellrowborder" width="20%">netmask</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">掩码。</td> </tr> <tr><td class="cellrowborder" width="20%">primaryDns</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">主DNS服务器IP地址。</td> </tr> <tr><td class="cellrowborder" width="20%">secondDns</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">备DNS服务器IP地址。</td> </tr> <tr><td class="cellrowborder" width="20%">serverIp</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">DHCP服务端IP地址。</td> </tr> <tr><td class="cellrowborder" width="20%">leaseDuration</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">IP地址租用时长。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 826px;"><h2 id="wifigetcountrycode7" device-type="phone,2in1,tablet,wearable,tv">wifi.getCountryCode<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetcountrycode7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCountryCode(): string</p> <p>获取国家码信息。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">string</td> <td class="cellrowborder" width="50%">国家码。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> code = wifi.<span class="hljs-title function_">getCountryCode</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"code:"</span> + code);</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="wifigetp2plinkedinfo8" device-type="phone,2in1,tablet,wearable,tv">wifi.getP2pLinkedInfo<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetp2plinkedinfo8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getP2pLinkedInfo(): Promise&lt;WifiP2pLinkedInfo&gt;</p> <p>获取P2P连接信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2plinkedinfo8">WifiP2pLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示P2P连接信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 471px;"><h2 id="wifip2plinkedinfo8" device-type="phone,2in1,tablet,wearable,tv">WifiP2pLinkedInfo<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2plinkedinfo8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供WLAN连接的相关信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.26.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">connectState</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#p2pconnectstate8">P2pConnectState</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">P2P连接状态。</td> </tr> <tr><td class="cellrowborder" width="20%">isGroupOwner</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是否是群主。true:是群主，false:不是群主。</td> </tr> <tr><td class="cellrowborder" width="20%">groupOwnerAddr</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组MAC地址。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h2 id="p2pconnectstate8" device-type="phone,2in1,tablet,wearable,tv">P2pConnectState<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="p2pconnectstate8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示P2P连接状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.27.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">DISCONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">断开状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">CONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">连接状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 998px;"><h2 id="wifigetp2plinkedinfo8-1" device-type="phone,2in1,tablet,wearable,tv">wifi.getP2pLinkedInfo<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetp2plinkedinfo8-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getP2pLinkedInfo(callback: AsyncCallback&lt;WifiP2pLinkedInfo&gt;): void</p> <p>获取P2P连接信息。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2plinkedinfo8">WifiP2pLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当操作成功时，err为0，data表示P2P连接信息。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li>wifi.<span class="hljs-title function_">getP2pLinkedInfo</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pLinkedInfo</span>) =&gt;</span> {</li><li>   <span class="hljs-keyword">if</span> (err) {</li><li>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get p2p linked info error"</span>);</li><li>       <span class="hljs-keyword">return</span>;</li><li>   }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get wifi p2p linked info: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li>wifi.<span class="hljs-title function_">getP2pLinkedInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get wifi p2p linked info: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="wifigetcurrentgroup8" device-type="phone,2in1,tablet,wearable,tv">wifi.getCurrentGroup<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetcurrentgroup8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentGroup(): Promise&lt;WifiP2pGroupInfo&gt;</p> <p>获取P2P当前组信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pgroupinfo8">WifiP2pGroupInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示当前组信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 998px;"><h2 id="wifigetcurrentgroup8-1" device-type="phone,2in1,tablet,wearable,tv">wifi.getCurrentGroup<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetcurrentgroup8-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentGroup(callback: AsyncCallback&lt;WifiP2pGroupInfo&gt;): void</p> <p>获取P2P当前组信息。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pgroupinfo8">WifiP2pGroupInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当操作成功时，err为0，data表示当前组信息。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li>wifi.<span class="hljs-title function_">getCurrentGroup</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pGroupInfo</span>) =&gt;</span> {</li><li>   <span class="hljs-keyword">if</span> (err) {</li><li>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get current P2P group error"</span>);</li><li>       <span class="hljs-keyword">return</span>;</li><li>   }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get current P2P group: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li>wifi.<span class="hljs-title function_">getCurrentGroup</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get current P2P group: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="wifigetp2ppeerdevices8" device-type="phone,2in1,tablet,wearable,tv">wifi.getP2pPeerDevices<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetp2ppeerdevices8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getP2pPeerDevices(): Promise&lt;WifiP2pDevice[]&gt;</p> <p>获取P2P对端设备列表信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice[]</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象。表示对端设备列表信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 998px;"><h2 id="wifigetp2ppeerdevices8-1" device-type="phone,2in1,tablet,wearable,tv">wifi.getP2pPeerDevices<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifigetp2ppeerdevices8-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getP2pPeerDevices(callback: AsyncCallback&lt;WifiP2pDevice[]&gt;): void</p> <p>获取P2P对端设备列表信息。使用callback异步回调。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice[]</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当操作成功时，err为0，data表示对端设备列表信息。如果error为非0，表示处理出现错误。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li>wifi.<span class="hljs-title function_">getP2pPeerDevices</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pDevice</span>) =&gt;</span> {</li><li>   <span class="hljs-keyword">if</span> (err) {</li><li>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"get P2P peer devices error"</span>);</li><li>       <span class="hljs-keyword">return</span>;</li><li>   }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get P2P peer devices: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li><li>
</li><li>wifi.<span class="hljs-title function_">getP2pPeerDevices</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get P2P peer devices: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 513px;"><h2 id="wifip2pdevice8" device-type="phone,2in1,tablet,wearable,tv">WifiP2pDevice<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2pdevice8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示P2P设备信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.33.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备名称。</td> </tr> <tr><td class="cellrowborder" width="20%">deviceAddress</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备MAC地址。</td> </tr> <tr><td class="cellrowborder" width="20%">primaryDeviceType</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">主设备类型。</td> </tr> <tr><td class="cellrowborder" width="20%">deviceStatus</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#p2pdevicestatus8">P2pDeviceStatus</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备状态。</td> </tr> <tr><td class="cellrowborder" width="20%">groupCapabilitys</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组能力。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 513px;"><h2 id="p2pdevicestatus8" device-type="phone,2in1,tablet,wearable,tv">P2pDeviceStatus<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="p2pdevicestatus8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示设备状态的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">CONNECTED</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">连接状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">INVITED</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">邀请状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">FAILED</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">失败状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">AVAILABLE</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">可用状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">UNAVAILABLE</td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%">不可用状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1145px;"><h2 id="wificreategroup8" device-type="phone,2in1,tablet,wearable,tv">wifi.createGroup<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wificreategroup8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createGroup(config: WifiP2PConfig): boolean</p> <p>创建群组。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pconfig8">WifiP2PConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">群组配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:创建群组操作执行成功， false:创建群组操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiP2PConfig</span> = {</li><li>        <span class="hljs-attr">deviceAddress</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">netId</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">passphrase</span>: <span class="hljs-string">"*****"</span>,</li><li>        <span class="hljs-attr">groupName</span>: <span class="hljs-string">"****"</span>,</li><li>        <span class="hljs-attr">goBand</span>: <span class="hljs-number">0</span></li><li>    }</li><li>    wifi.<span class="hljs-title function_">createGroup</span>(config);</li><li>    </li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 585px;"><h2 id="wifip2pconfig8" device-type="phone,2in1,tablet,wearable,tv">WifiP2PConfig<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2pconfig8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示P2P配置信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">deviceAddress</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备地址。</td> </tr> <tr><td class="cellrowborder" width="20%">netId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">网络ID。创建群组时-1表示创建临时组，-2表示创建永久组。</td> </tr> <tr><td class="cellrowborder" width="20%">passphrase</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组密钥。</td> </tr> <tr><td class="cellrowborder" width="20%">groupName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组名称。</td> </tr> <tr><td class="cellrowborder" width="20%">goBand</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#groupownerband8">GroupOwnerBand</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组带宽。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 423px;"><h2 id="groupownerband8" device-type="phone,2in1,tablet,wearable,tv">GroupOwnerBand<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="groupownerband8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示群组带宽的枚举。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.37.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.37.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">GO_BAND_AUTO</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">自动模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">GO_BAND_2GHZ</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">2GHZ。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">GO_BAND_5GHZ</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">5GHZ。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="wifiremovegroup8" device-type="phone,2in1,tablet,wearable,tv">wifi.removeGroup<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifiremovegroup8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeGroup(): boolean</p> <p>移除群组。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:操作执行成功， false:操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    wifi.<span class="hljs-title function_">removeGroup</span>();</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2297px;"><h2 id="wifip2pconnect8" device-type="phone,2in1,tablet,wearable,tv">wifi.p2pConnect<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2pconnect8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>p2pConnect(config: WifiP2PConfig): boolean</p> <p>执行P2P连接。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">config</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pconfig8">WifiP2PConfig</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">连接配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:操作执行成功， false:操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pConnectionChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pLinkedInfo</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"p2p connection change receive event: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    wifi.<span class="hljs-title function_">getP2pLinkedInfo</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pLinkedInfo</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to get getP2pLinkedInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>            <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get getP2pLinkedInfo: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    });</li><li>}</li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pConnectionChange"</span>, recvP2pConnectionChangeFunc);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pDeviceChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pDevice</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"p2p device change receive event: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>}</li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pDeviceChange"</span>, recvP2pDeviceChangeFunc);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pPeerDeviceChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pDevice[]</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"p2p peer device change receive event: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    wifi.<span class="hljs-title function_">getP2pPeerDevices</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pDevice[]</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to get peer devices: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>            <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get peer devices: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        <span class="hljs-keyword">let</span> len = data.<span class="hljs-property">length</span>;</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i) {</li><li>            <span class="hljs-keyword">if</span> (data[i].<span class="hljs-property">deviceName</span> === <span class="hljs-string">"my_test_device"</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"p2p connect to test device: "</span> + data[i].<span class="hljs-property">deviceAddress</span>);</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>:wifi.<span class="hljs-property">WifiP2PConfig</span> = {</li><li>                    <span class="hljs-attr">deviceAddress</span>:data[i].<span class="hljs-property">deviceAddress</span>,</li><li>                    <span class="hljs-attr">netId</span>:-<span class="hljs-number">2</span>,</li><li>                    <span class="hljs-attr">passphrase</span>:<span class="hljs-string">""</span>,</li><li>                    <span class="hljs-attr">groupName</span>:<span class="hljs-string">""</span>,</li><li>                    <span class="hljs-attr">goBand</span>:<span class="hljs-number">0</span>,</li><li>                }</li><li>                wifi.<span class="hljs-title function_">p2pConnect</span>(config);</li><li>            }</li><li>        }</li><li>    });</li><li>}</li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pPeerDeviceChange"</span>, recvP2pPeerDeviceChangeFunc);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pPersistentGroupChangeFunc</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"p2p persistent group change receive event"</span>);</li><li>
</li><li>    wifi.<span class="hljs-title function_">getCurrentGroup</span>(<span class="hljs-function">(<span class="hljs-params">err, data:wifi.WifiP2pGroupInfo</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (err) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'failed to get current group: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>            <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"get current group: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>    });</li><li>}</li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pPersistentGroupChange"</span>, recvP2pPersistentGroupChangeFunc);</li><li>
</li><li><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pConnectionChange"</span>, recvP2pConnectionChangeFunc);}, <span class="hljs-number">125</span> * <span class="hljs-number">1000</span>);</li><li><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pDeviceChange"</span>, recvP2pDeviceChangeFunc);}, <span class="hljs-number">125</span> * <span class="hljs-number">1000</span>);</li><li><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pPeerDeviceChange"</span>, recvP2pPeerDeviceChangeFunc);}, <span class="hljs-number">125</span> * <span class="hljs-number">1000</span>);</li><li><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pPersistentGroupChange"</span>, recvP2pPersistentGroupChangeFunc);}, <span class="hljs-number">125</span> * <span class="hljs-number">1000</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"start discover devices -&gt; "</span> + wifi.<span class="hljs-title function_">startDiscoverDevices</span>());</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="wifip2pcancelconnect8" device-type="phone,2in1,tablet,wearable,tv">wifi.p2pCancelConnect<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2pcancelconnect8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>p2pCancelConnect(): boolean</p> <p>取消P2P连接。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:操作执行成功， false:操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    wifi.<span class="hljs-title function_">p2pCancelConnect</span>();</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="wifistartdiscoverdevices8" device-type="phone,2in1,tablet,wearable,tv">wifi.startDiscoverDevices<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifistartdiscoverdevices8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startDiscoverDevices(): boolean</p> <p>开始发现设备。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:操作执行成功， false:操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    wifi.<span class="hljs-title function_">startDiscoverDevices</span>();</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="wifistopdiscoverdevices8" device-type="phone,2in1,tablet,wearable,tv">wifi.stopDiscoverDevices<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifistopdiscoverdevices8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopDiscoverDevices(): boolean</p> <p>停止发现设备。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">true:操作执行成功 false:操作执行失败。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    wifi.<span class="hljs-title function_">stopDiscoverDevices</span>();</li><li>}<span class="hljs-keyword">catch</span>(error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 765px;"><h2 id="wifip2pgroupinfo8" device-type="phone,2in1,tablet,wearable,tv">WifiP2pGroupInfo<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifip2pgroupinfo8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示P2P群组相关信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.43.4.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">isP2pGo</td> <td class="cellrowborder" width="20%">boolean</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是否是群主。true:是群主，false:不是群主。</td> </tr> <tr><td class="cellrowborder" width="20%">ownerInfo</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组的设备信息。</td> </tr> <tr><td class="cellrowborder" width="20%">passphrase</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组密钥。</td> </tr> <tr><td class="cellrowborder" width="20%">interface</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">接口名称。</td> </tr> <tr><td class="cellrowborder" width="20%">groupName</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组名称。</td> </tr> <tr><td class="cellrowborder" width="20%">networkId</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">网络ID。</td> </tr> <tr><td class="cellrowborder" width="20%">frequency</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组的频率。</td> </tr> <tr><td class="cellrowborder" width="20%">clientDevices</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice[]</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">接入的设备列表信息。</td> </tr> <tr><td class="cellrowborder" width="20%">goIpAddress</td> <td class="cellrowborder" width="20%">string</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">群组IP地址。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 882px;"><h2 id="wifionwifistatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.on('wifiStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionwifistatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'wifiStateChange', callback: Callback&lt;number&gt;): void</p> <p>注册WLAN状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">0</td> <td class="cellrowborder" width="50%">未激活。</td> </tr> <tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">已激活。</td> </tr> <tr><td class="cellrowborder" width="50%">2</td> <td class="cellrowborder" width="50%">激活中。</td> </tr> <tr><td class="cellrowborder" width="50%">3</td> <td class="cellrowborder" width="50%">去激活中。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 995px;"><h2 id="wifioffwifistatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.off('wifiStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffwifistatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'wifiStateChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册WLAN状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvPowerNotifyFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive power state change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"wifiStateChange"</span>, recvPowerNotifyFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"wifiStateChange"</span>, recvPowerNotifyFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h2 id="wifionwificonnectionchange7" device-type="phone,2in1,tablet,wearable,tv">wifi.on('wifiConnectionChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionwificonnectionchange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'wifiConnectionChange', callback: Callback&lt;number&gt;): void</p> <p>注册WLAN连接状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiConnectionChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>连接状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">0</td> <td class="cellrowborder" width="50%">已断开。</td> </tr> <tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">已连接。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1043px;"><h2 id="wifioffwificonnectionchange7" device-type="phone,2in1,tablet,wearable,tv">wifi.off('wifiConnectionChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffwificonnectionchange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'wifiConnectionChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册WLAN连接状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiConnectionChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">连接状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvWifiConnectionChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive wifi connection change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"wifiConnectionChange"</span>, recvWifiConnectionChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"wifiConnectionChange"</span>, recvWifiConnectionChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h2 id="wifionwifiscanstatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.on('wifiScanStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionwifiscanstatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'wifiScanStateChange', callback: Callback&lt;number&gt;): void</p> <p>注册扫描状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiScanStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>扫描状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">0</td> <td class="cellrowborder" width="50%">扫描失败。</td> </tr> <tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">扫描成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffwifiscanstatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.off('wifiScanStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffwifiscanstatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'wifiScanStateChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册扫描状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiScanStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvWifiScanStateChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive Wifi scan state change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"wifiScanStateChange"</span>, recvWifiScanStateChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"wifiScanStateChange"</span>, recvWifiScanStateChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 570px;"><h2 id="wifionwifirssichange7" device-type="phone,2in1,tablet,wearable,tv">wifi.on('wifiRssiChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionwifirssichange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'wifiRssiChange', callback: Callback&lt;number&gt;): void</p> <p>注册RSSI状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiRssiChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数，返回以dBm为单位的RSSI值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 995px;"><h2 id="wifioffwifirssichange7" device-type="phone,2in1,tablet,wearable,tv">wifi.off('wifiRssiChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffwifirssichange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'wifiRssiChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册RSSI状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.STA</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"wifiRssiChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvWifiRssiChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive wifi rssi change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"wifiRssiChange"</span>, recvWifiRssiChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"wifiRssiChange"</span>, recvWifiRssiChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;"><h2 id="wifionhotspotstatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.on('hotspotStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionhotspotstatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'hotspotStateChange', callback: Callback&lt;number&gt;): void</p> <p>注册热点状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.AP.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"hotspotStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>热点状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">0</td> <td class="cellrowborder" width="50%">未激活。</td> </tr> <tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">已激活。</td> </tr> <tr><td class="cellrowborder" width="50%">2</td> <td class="cellrowborder" width="50%">激活中。</td> </tr> <tr><td class="cellrowborder" width="50%">3</td> <td class="cellrowborder" width="50%">去激活中。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvHotspotStateChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive hotspot state change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"hotspotStateChange"</span>, recvHotspotStateChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"hotspotStateChange"</span>, recvHotspotStateChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 618px;"><h2 id="wifioffhotspotstatechange7" device-type="phone,2in1,tablet,wearable,tv">wifi.off('hotspotStateChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffhotspotstatechange7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'hotspotStateChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册热点状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.AP.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"hotspotStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 937px;"><h2 id="wifionp2pstatechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pStateChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2pstatechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pStateChange', callback: Callback&lt;number&gt;): void</p> <p>注册P2P开关状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>P2P状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">空闲。</td> </tr> <tr><td class="cellrowborder" width="50%">2</td> <td class="cellrowborder" width="50%">打开中。</td> </tr> <tr><td class="cellrowborder" width="50%">3</td> <td class="cellrowborder" width="50%">已打开。</td> </tr> <tr><td class="cellrowborder" width="50%">4</td> <td class="cellrowborder" width="50%">关闭中。</td> </tr> <tr><td class="cellrowborder" width="50%">5</td> <td class="cellrowborder" width="50%">已关闭。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 995px;"><h2 id="wifioffp2pstatechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pStateChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2pstatechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pStateChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册P2P开关状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pStateChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pStateChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p state change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pStateChange"</span>, recvP2pStateChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pStateChange"</span>, recvP2pStateChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 594px;"><h2 id="wifionp2pconnectionchange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pConnectionChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2pconnectionchange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pConnectionChange', callback: Callback&lt;WifiP2pLinkedInfo&gt;): void</p> <p>注册P2P连接状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pConnectionChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2plinkedinfo8">WifiP2pLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffp2pconnectionchange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pConnectionChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2pconnectionchange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pConnectionChange', callback?: Callback&lt;WifiP2pLinkedInfo&gt;): void</p> <p>取消注册P2P连接状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pConnectionChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2plinkedinfo8">WifiP2pLinkedInfo</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pConnectionChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pLinkedInfo</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p connection change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pConnectionChange"</span>, recvP2pConnectionChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pConnectionChange"</span>, recvP2pConnectionChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 570px;"><h2 id="wifionp2pdevicechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pDeviceChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2pdevicechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pDeviceChange', callback: Callback&lt;WifiP2pDevice&gt;): void</p> <p>注册P2P设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pDeviceChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffp2pdevicechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pDeviceChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2pdevicechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pDeviceChange', callback?: Callback&lt;WifiP2pDevice&gt;): void</p> <p>取消注册P2P设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pDeviceChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pDeviceChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pDevice</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p device change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pDeviceChange"</span>, recvP2pDeviceChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pDeviceChange"</span>, recvP2pDeviceChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 570px;"><h2 id="wifionp2ppeerdevicechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pPeerDeviceChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2ppeerdevicechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pPeerDeviceChange', callback: Callback&lt;WifiP2pDevice[]&gt;): void</p> <p>注册P2P对端设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO 和 ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pPeerDeviceChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice[]</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffp2ppeerdevicechange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pPeerDeviceChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2ppeerdevicechange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pPeerDeviceChange', callback?: Callback&lt;WifiP2pDevice[]&gt;): void</p> <p>取消注册P2P对端设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pPeerDeviceChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-wifi#wifip2pdevice8">WifiP2pDevice[]</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pPeerDeviceChangeFunc</span> = (<span class="hljs-params">result:wifi.WifiP2pDevice[]</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p peer device change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pPeerDeviceChange"</span>, recvP2pPeerDeviceChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pPeerDeviceChange"</span>, recvP2pPeerDeviceChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 570px;"><h2 id="wifionp2ppersistentgroupchange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pPersistentGroupChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2ppersistentgroupchange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pPersistentGroupChange', callback: Callback&lt;void&gt;): void</p> <p>注册P2P永久组状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pPersistentGroupChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffp2ppersistentgroupchange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pPersistentGroupChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2ppersistentgroupchange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pPersistentGroupChange', callback?: Callback&lt;void&gt;): void</p> <p>取消注册P2P永久组状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pPersistentGroupChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pPersistentGroupChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">void</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p persistent group change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pPersistentGroupChange"</span>, recvP2pPersistentGroupChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pPersistentGroupChange"</span>, recvP2pPersistentGroupChangeFunc);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h2 id="wifionp2pdiscoverychange8" device-type="phone,2in1,tablet,wearable,tv">wifi.on('p2pDiscoveryChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifionp2pdiscoverychange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'p2pDiscoveryChange', callback: Callback&lt;number&gt;): void</p> <p>注册发现设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pDiscoveryChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">状态改变回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>发现设备状态改变事件的枚举：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.1" width="50%">枚举值</th> <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">0</td> <td class="cellrowborder" width="50%">初始状态。</td> </tr> <tr><td class="cellrowborder" width="50%">1</td> <td class="cellrowborder" width="50%">发现成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h2 id="wifioffp2pdiscoverychange8" device-type="phone,2in1,tablet,wearable,tv">wifi.off('p2pDiscoveryChange')<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="wifioffp2pdiscoverychange8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'p2pDiscoveryChange', callback?: Callback&lt;number&gt;): void</p> <p>取消注册发现设备状态改变事件。</p> <p><strong>需要权限：</strong> ohos.permission.GET_WIFI_INFO</p> <p><strong>系统能力：</strong> SystemCapability.Communication.WiFi.P2P</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">固定填"p2pDiscoveryChange"字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">状态改变回调函数。如果callback不填，将取消注册该事件关联的所有回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-pad-c106="" class="highlight-div"><div _ngcontent-pad-c106="" class="highlight-div-header"><div _ngcontent-pad-c106="" class="highlight-div-header-left"><div _ngcontent-pad-c106="" class="handle-button expand-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pad-c106="" class="highlight-div-header-right"><div _ngcontent-pad-c106="" class="handle-button ai-button"></div><div _ngcontent-pad-c106="" class="handle-button line-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pad-c106="" class="handle-button theme-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pad-c106="" class="handle-button copy-button"><div _ngcontent-pad-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pad-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> wifi <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.wifi'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">recvP2pDiscoveryChangeFunc</span> = (<span class="hljs-params">result:<span class="hljs-built_in">number</span></span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Receive p2p discovery change event: "</span> + result);</li><li>}</li><li>
</li><li><span class="hljs-comment">// Register event</span></li><li>wifi.<span class="hljs-title function_">on</span>(<span class="hljs-string">"p2pDiscoveryChange"</span>, recvP2pDiscoveryChangeFunc);</li><li>
</li><li><span class="hljs-comment">// Unregister event</span></li><li>wifi.<span class="hljs-title function_">off</span>(<span class="hljs-string">"p2pDiscoveryChange"</span>, recvP2pDiscoveryChangeFunc);</li></ol></pre></div></div> </div> </div> <div></div></div>