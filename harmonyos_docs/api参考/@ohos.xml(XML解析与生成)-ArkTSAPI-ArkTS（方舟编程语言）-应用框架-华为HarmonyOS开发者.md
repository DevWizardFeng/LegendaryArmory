<h1 _ngcontent-bcc-c119="" class="doc-title ng-star-inserted" title="@ohos.xml (XML解析与生成)"> @ohos.xml (XML解析与生成) </h1>

<div _ngcontent-bcc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块提供XML生成和解析的接口。</p>    <p>本模块提供了两种生成XML文件的方式:</p>    <ul>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#xmlserializer">XmlSerializer</a>：适用于已知XML文本大小的情况</li>     <li><a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#xmldynamicserializer20">XmlDynamicSerializer<sup>20+</sup></a>：适用于未知XML文本大小的情况。</li>    </ul>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { xml } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 182px;">     <h2 id="xmlserializer" device-type="phone,2in1,tablet,wearable,tv">XmlSerializer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="xmlserializer" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>XmlSerializer接口用于生成XML文件。</p>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1138px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(buffer: ArrayBuffer | DataView, encoding?: string)</p>     <p>XmlSerializer的构造函数。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>buffer是开发者根据需要自定义大小的缓存区域，用于临时存储生成的XML文本。在使用过程中必须确保缓存区域足以容纳生成的文本内容。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | DataView</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于接收写入XML信息的ArrayBuffer或DataView内存。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">encoding</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">编码格式，默认'utf-8'（目前仅支持'utf-8'）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer, <span class="hljs-string">"utf-8"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1274px;">     <h3 id="setattributes" device-type="phone,2in1,tablet,wearable,tv">setAttributes<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setattributes" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAttributes(name: string, value: string): void</p>     <p>添加元素的属性和属性值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，确保所添加的数据符合标准XML规范。例如不允许添加数字开头的属性名称以及添加多个同名的属性名称。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>thatSer.<span class="hljs-title function_">setAttributes</span>(<span class="hljs-string">"importance"</span>, <span class="hljs-string">"high"</span>);</li><li>thatSer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note importance="high"/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;">     <h3 id="addemptyelement" device-type="phone,2in1,tablet,wearable,tv">addEmptyElement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addemptyelement" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addEmptyElement(name: string): void</p>     <p>添加一个空元素。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，确保所添加的数据符合标准XML规范。例如不允许添加数字开头的元素名称。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">元素的名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">addEmptyElement</span>(<span class="hljs-string">"d"</span>);</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;d/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 671px;">     <h3 id="setdeclaration" device-type="phone,2in1,tablet,wearable,tv">setDeclaration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdeclaration" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDeclaration(): void</p>     <p>设置带有编码信息的文件声明。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">setDeclaration</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li><span class="hljs-comment">// &lt;?xml version="1.0" encoding="utf-8"?&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1293px;">     <h3 id="startelement" device-type="phone,2in1,tablet,wearable,tv">startElement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startelement" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startElement(name: string): void</p>     <p>根据给定名称添加元素开始标记。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>调用该接口后须调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#endelement">endElement</a>写入元素结束标记，以确保节点正确闭合。</p></li>        <li>         <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许添加数字开头的元素名称。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素的元素名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>thatSer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>thatSer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li><span class="hljs-comment">// &lt;note&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 811px;">     <h3 id="endelement" device-type="phone,2in1,tablet,wearable,tv">endElement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="endelement" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>endElement(): void</p>     <p>添加元素结束标记。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用该接口前必须先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#startelement">startElement</a>接口写入元素开始标记。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>thatSer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>thatSer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li><span class="hljs-comment">// &lt;note&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1346px;">     <h3 id="setnamespace" device-type="phone,2in1,tablet,wearable,tv">setNamespace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setnamespace" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNamespace(prefix: string, namespace: string): void</p>     <p>添加当前元素标记的命名空间。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。例如禁止添加数字开头的前缀以及为同一个元素设置多个命名空间。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">prefix</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素及其子元素的前缀。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">namespace</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素及其子元素的命名空间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">setNamespace</span>(<span class="hljs-string">"h"</span>, <span class="hljs-string">"http://www.w3.org/TR/html4/"</span>);</li><li>thatSer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>thatSer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result);</li><li><span class="hljs-comment">// &lt;h:note xmlns:h="http://www.w3.org/TR/html4/"/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1065px;">     <h3 id="setcomment" device-type="phone,2in1,tablet,wearable,tv">setComment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcomment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setComment(text: string): void</p>     <p>添加注释内容。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素的注释内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">setComment</span>(<span class="hljs-string">"Hello, World!"</span>);</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;!--Hello, World!--&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1181px;">     <h3 id="setcdata" device-type="phone,2in1,tablet,wearable,tv">setCDATA<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcdata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCDATA(text: string): void</p>     <p>提供在CDATA标签中添加数据的能力，所生成的CDATA标签结构为："&lt;![CDATA[" + 所添加的数据 + "]]&gt;"。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许在CDATA标签中添加包含"]]&gt;"字符串的数据。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">CDATA属性的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">setCDATA</span>(<span class="hljs-string">'root SYSTEM'</span>)</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;![CDATA[root SYSTEM]]&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1137px;">     <h3 id="settext" device-type="phone,2in1,tablet,wearable,tv">setText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setText(text: string): void</p>     <p>添加标签值。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">text属性的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>thatSer.<span class="hljs-title function_">setAttributes</span>(<span class="hljs-string">"importance"</span>, <span class="hljs-string">"high"</span>);</li><li>thatSer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>thatSer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note importance="high"&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1065px;">     <h3 id="setdoctype" device-type="phone,2in1,tablet,wearable,tv">setDocType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdoctype" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDocType(text: string): void</p>     <p>添加文档类型。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">DocType属性的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2048</span>);</li><li><span class="hljs-keyword">let</span> thatSer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlSerializer</span>(arrayBuffer);</li><li>thatSer.<span class="hljs-title function_">setDocType</span>(<span class="hljs-string">'root SYSTEM "http://www.test.org/test.dtd"'</span>);</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;!DOCTYPE root SYSTEM "http://www.test.org/test.dtd"&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 298px;">     <h2 id="xmldynamicserializer20" device-type="phone,2in1,tablet,wearable,tv">XmlDynamicSerializer<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="xmldynamicserializer20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>XmlDynamicSerializer类用于动态生成XML字符串。当无法确定XML内容长度时，推荐使用该类。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用该类构造的对象无需自行创建ArrayBuffer，程序动态扩容，可以不断添加XML元素，最终序列化结果字符串长度上限为100000。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 857px;">     <h3 id="constructor20" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(encoding?: string)</p>     <p>XmlDynamicSerializer的构造函数。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">encoding</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">编码格式，默认'utf-8'(目前仅支持'utf-8')。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200066</td>         <td class="cellrowborder" width="50%">Incorrect encoding format, only support utf-8.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 866px;">     <h3 id="getoutput20" device-type="phone,2in1,tablet,wearable,tv">getOutput<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoutput20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOutput(): ArrayBuffer</p>     <p>返回XML字符串的ArrayBuffer。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ArrayBuffer</td>         <td class="cellrowborder" width="50%">用于接收写入XML信息的ArrayBuffer内存。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arr = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arr);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1432px;">     <h3 id="setattributes20" device-type="phone,2in1,tablet,wearable,tv">setAttributes<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setattributes20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAttributes(name: string, value: string): void</p>     <p>写入元素的属性和属性值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许添加数字开头的属性名称以及添加多个同名的属性名称。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性。所组成的XML长度不能超过100000，不可为空字符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性值。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200063</td>         <td class="cellrowborder" width="50%">Illegal position for xml.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">setAttributes</span>(<span class="hljs-string">"importance"</span>, <span class="hljs-string">"high"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note importance="high"/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1260px;">     <h3 id="addemptyelement20" device-type="phone,2in1,tablet,wearable,tv">addEmptyElement<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addemptyelement20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addEmptyElement(name: string): void</p>     <p>写入一个空元素。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许添加数字开头的元素名称。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">该空元素的元素名。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">addEmptyElement</span>(<span class="hljs-string">"d"</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;d/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 945px;">     <h3 id="setdeclaration20" device-type="phone,2in1,tablet,wearable,tv">setDeclaration<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdeclaration20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDeclaration(): void</p>     <p>编写带有编码的文件声明。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200063</td>         <td class="cellrowborder" width="50%">Illegal position for xml.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">setDeclaration</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;?xml version="1.0" encoding="utf-8"?&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1348px;">     <h3 id="startelement20" device-type="phone,2in1,tablet,wearable,tv">startElement<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startelement20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startElement(name: string): void</p>     <p>写入元素开始标记。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>调用该接口后须调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#endelement">endElement</a>写入元素结束标记，以确保节点正确闭合。</p></li>        <li>         <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许添加数字开头的元素名称。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素的元素名。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1109px;">     <h3 id="endelement20" device-type="phone,2in1,tablet,wearable,tv">endElement<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="endelement20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>endElement(): void</p>     <p>写入元素结束标记。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用该接口前必须先调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#startelement">startElement</a>接口写入元素开始标记。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200065</td>         <td class="cellrowborder" width="50%">There is no match between the startElement and the endElement.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1449px;">     <h3 id="setnamespace20" device-type="phone,2in1,tablet,wearable,tv">setNamespace<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setnamespace20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNamespace(prefix: string, namespace: string): void</p>     <p>写入当前元素标记的命名空间。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许添加数字开头的前缀以及对同一个元素设置多个命名空间。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">prefix</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素及其子元素的前缀。所组成的XML长度不能超过100000，不可为空字符。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">namespace</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素及其子元素的命名空间。所组成的XML长度不能超过100000，不可为空字符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">setNamespace</span>(<span class="hljs-string">"h"</span>, <span class="hljs-string">"http://www.w3.org/TR/html4/"</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;h:note xmlns:h="http://www.w3.org/TR/html4/"/&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1144px;">     <h3 id="setcomment20" device-type="phone,2in1,tablet,wearable,tv">setComment<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcomment20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setComment(text: string): void</p>     <p>写入注释内容。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前元素的注释内容。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">setComment</span>(<span class="hljs-string">"Hello, World!"</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;!--Hello, World!--&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1260px;">     <h3 id="setcdata20" device-type="phone,2in1,tablet,wearable,tv">setCdata<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcdata20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCdata(text: string): void</p>     <p>提供在CDATA标签中添加数据的能力，所生成的CDATA标签结构为："&lt;![CDATA[" + 所添加的数据 + "]]&gt;"。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口对所添加数据不做标准XML校验处理，请确保所添加的数据符合标准XML规范。比如不允许在CDATA标签中添加包含"]]&gt;"字符串的数据。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">CDATA属性的内容。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">setCdata</span>(<span class="hljs-string">'root SYSTEM'</span>)</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;![CDATA[root SYSTEM]]&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1192px;">     <h3 id="settext20" device-type="phone,2in1,tablet,wearable,tv">setText<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settext20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setText(text: string): void</p>     <p>写入标签值。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标签值。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">startElement</span>(<span class="hljs-string">"note"</span>);</li><li>serializer.<span class="hljs-title function_">setAttributes</span>(<span class="hljs-string">"importance"</span>, <span class="hljs-string">"high"</span>);</li><li>serializer.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Happy"</span>);</li><li>serializer.<span class="hljs-title function_">endElement</span>();</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;note importance="high"&gt;Happy&lt;/note&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1144px;">     <h3 id="setdoctype20" device-type="phone,2in1,tablet,wearable,tv">setDocType<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdoctype20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDocType(text: string): void</p>     <p>写入文档类型。</p>     <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">DocType属性的内容。所组成的XML长度不能超过100000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-utils">语言基础类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">10200062</td>         <td class="cellrowborder" width="50%">The cumulative length of xml has exceeded the upper limit 100000.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">10200064</td>         <td class="cellrowborder" width="50%">Cannot be an empty string.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> serializer = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlDynamicSerializer</span>(<span class="hljs-string">'utf-8'</span>);</li><li>serializer.<span class="hljs-title function_">setDocType</span>(<span class="hljs-string">'root SYSTEM "http://www.test.org/test.dtd"'</span>);</li><li><span class="hljs-keyword">let</span> arrayBuffer = serializer.<span class="hljs-title function_">getOutput</span>();</li><li><span class="hljs-keyword">let</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li><span class="hljs-keyword">let</span> result = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">decodeToString</span>(uint8);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(result); <span class="hljs-comment">// &lt;!DOCTYPE root SYSTEM "http://www.test.org/test.dtd"&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="xmlpullparser" device-type="phone,2in1,tablet,wearable,tv">XmlPullParser<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="xmlpullparser" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>XmlPullParser接口用于解析现有的XML文件。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1070px;">     <h3 id="constructor-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(buffer: ArrayBuffer | DataView, encoding?: string)</p>     <p>构造并返回一个XmlPullParser对象。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">ArrayBuffer | DataView</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于解析的XML文本信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">encoding</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">编码格式，默认'utf-8'（目前仅支持'utf-8'）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;title&gt;Happy&lt;/title&gt;'</span></li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> uint8Array = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(uint8Array.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>, <span class="hljs-string">'UTF-8'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1401px;">     <h3 id="parsexml14" device-type="phone,2in1,tablet,wearable,tv">parseXml<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="parsexml14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>parseXml(option: ParseOptions): void</p>     <p>解析XML。</p>     <p><strong>元服务API</strong>：从API version 14 开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#parseoptions">ParseOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">XML解析选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>具体使用场景可参照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/xml-parsing#解析xml标签和标签值" target="_blank">解析XML标签和标签值</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/xml-parsing#解析xml属性和属性值" target="_blank">解析XML属性和属性值</a></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { xml, util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strxml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'    &lt;title&gt;&lt;![CDATA[测试\n测试]]&gt;&lt;/title&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> uint8 = textEncoder.<span class="hljs-title function_">encodeInto</span>(strxml);</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  <span class="hljs-keyword">if</span> (key == xml.<span class="hljs-property">EventType</span>.<span class="hljs-property">CDSECT</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value.<span class="hljs-title function_">getText</span>()));</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li><span class="hljs-keyword">let</span> pullParser = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(uint8.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li>pullParser.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-comment">// "测试\n测试"</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1613px;">     <h3 id="parsedeprecated" device-type="phone,2in1,tablet,wearable,tv">parse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="parsedeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>parse(option: ParseOptions): void</p>     <p>该接口用于解析XML。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 14开始废弃，建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#parsexml14">parseXml<sup>14+</sup></a>替代。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">option</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#parseoptions">ParseOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">XML解析选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;company&gt;John &amp;amp; Hans&lt;/company&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;title&gt;Happy&lt;/title&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>, <span class="hljs-string">'UTF-8'</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">''</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, value: <span class="hljs-built_in">string</span></span>) {</li><li>  str = name + value;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tagValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parse</span>(options);</li><li><span class="hljs-comment">// note</span></li><li><span class="hljs-comment">// company</span></li><li><span class="hljs-comment">// John &amp; Hans</span></li><li><span class="hljs-comment">// company</span></li><li><span class="hljs-comment">// title</span></li><li><span class="hljs-comment">// Happy</span></li><li><span class="hljs-comment">// title</span></li><li><span class="hljs-comment">// note</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 714px;">     <h2 id="attributewithtagcb20" device-type="phone,2in1,tablet,wearable,tv">AttributeWithTagCb<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attributewithtagcb20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type AttributeWithTagCb = (tagName: string, key: string, value: string) =&gt; boolean</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tagName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">标签名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">key</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">属性的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否继续解析标签名称、属性名称及属性的值。true表示继续解析，false表示停止解析。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1662px;">     <h2 id="parseoptions" device-type="phone,2in1,tablet,wearable,tv">ParseOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="parseoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>XML解析选项。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">supportDoctype</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是否解析文档类型，false表示不解析文档类型，true表示解析文档类型，默认值false。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ignoreNameSpace</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是否忽略命名空间，忽略命名空间后，将不会对其进行解析。true表示忽略命名空间，false表示不忽略命名空间，默认值false。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">tagValueCallbackFunction</td>         <td class="cellrowborder" width="20%">(name: string, value: string) =&gt; boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>解析开始标签、标签值和结束标签，默认值undefined，表示不解析。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">attributeValueCallbackFunction</td>         <td class="cellrowborder" width="20%">(name: string, value: string) =&gt; boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>解析属性和属性值，默认值undefined，表示不解析。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">tokenValueCallbackFunction</td>         <td class="cellrowborder" width="20%">(eventType: <a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#eventtype">EventType</a>, value: <a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#parseinfo">ParseInfo</a>) =&gt; boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>解析元素事件类型(<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#eventtype">EventType</a>)和<a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#parseinfo">ParseInfo</a>属性，默认值undefined，表示不解析。</p>          <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">attributeWithTagCallbackFunction<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-xml#attributewithtagcb20">AttributeWithTagCb</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>解析标签名称、属性名称及属性的值，默认值为undefined，表示不执行解析。</p>          <p><strong>元服务API</strong>：从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="parseinfo" device-type="phone,2in1,tablet,wearable,tv">ParseInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="parseinfo" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>当前XML解析信息。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 970px;">     <h3 id="getcolumnnumber" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getColumnNumber<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcolumnnumber" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getColumnNumber(): number</p>     <p>获取当前列号，从1开始计数。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回当前列号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note&gt;Happy&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getColumnNumber</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:1 key:2 value:45 key:4 value:50 key:3 value:57 key:1 value:57</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1174px;">     <h3 id="getdepth" device-type="phone,2in1,tablet,wearable,tv">getDepth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdepth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDepth(): number</p>     <p>获取元素的当前深度。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>标签内的空白事件深度与标签的深度保持一致。</p>      </div></div></div>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回元素的当前深度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note importance="high"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;title&gt;Happy&lt;/title&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getDepth</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:0 key:2 value:1 key:2 value:2 key:4 value:2 key:3 value:2 key:3 value:1 key:1 value:0</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 986px;">     <h3 id="getlinenumber" device-type="phone,2in1,tablet,wearable,tv">getLineNumber<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinenumber" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLineNumber(): number</p>     <p>获取当前行号，从1开始。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回当前行号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note&gt;Work&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getLineNumber</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:1 key:2 value:1 key:4 value:1 key:3 value:1 key:1 value:1</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 986px;">     <h3 id="getname" device-type="phone,2in1,tablet,wearable,tv">getName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getname" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getName(): string</p>     <p>获取当前元素名称。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回当前元素名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note&gt;Happy&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getName</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value: key:2 value:note key:4 value: key:3 value:note key:1 value:</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1082px;">     <h3 id="getnamespace" device-type="phone,2in1,tablet,wearable,tv">getNamespace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnamespace" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNamespace(): string</p>     <p>获取当前元素的命名空间。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回当前元素的命名空间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note xmlns:h="http://www.w3.org"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;h:title&gt;Happy&lt;/h:title&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getNamespace</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value: key:2 value: key:2 value:http://www.w3.org key:4 value: key:3 value:http://www.w3.org key:3 value: key:1 value:</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1082px;">     <h3 id="getprefix" device-type="phone,2in1,tablet,wearable,tv">getPrefix<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getprefix" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPrefix(): string</p>     <p>获取当前元素前缀。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回当前元素前缀。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note xmlns:h="http://www.w3.org/TR/html4"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;h:title&gt;Happy&lt;/h:title&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getPrefix</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value: key:2 value: key:2 value:h key:4 value: key:3 value:h key:3 value: key:1 value:</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 986px;">     <h3 id="gettext" device-type="phone,2in1,tablet,wearable,tv">getText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getText(): string</p>     <p>获取当前事件的文本内容。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">返回当前事件的文本内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note&gt;Happy&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getText</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value: key:2 value: key:4 value:Happy key:3 value: key:1 value:</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1106px;">     <h3 id="isemptyelementtag" device-type="phone,2in1,tablet,wearable,tv">isEmptyElementTag<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isemptyelementtag" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isEmptyElementTag(): boolean</p>     <p>判断当前元素是否为空元素。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true，表示当前元素为空元素。返回false，表示当前元素为非空元素。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;title/&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">isEmptyElementTag</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:false key:2 value:false key:2 value:true key:3 value:false key:3 value:false key:1 value:false</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1106px;">     <h3 id="iswhitespace" device-type="phone,2in1,tablet,wearable,tv">isWhitespace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iswhitespace" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWhitespace(): boolean</p>     <p>判断当前事件是否仅包含空格字符。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true，表示当前文本事件仅包含空格字符。返回false，表示当前文本事件包含非空格字符。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml =</li><li>  <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;note importance="high" logged="true"&gt;'</span> +</li><li>    <span class="hljs-string">'&lt;title&gt; &lt;/title&gt;'</span> +</li><li>  <span class="hljs-string">'&lt;/note&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">isWhitespace</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:true key:2 value:false key:2 value:true key:10 value:true key:3 value:true key:3 value:true key:1 value:true</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 986px;">     <h3 id="getattributecount" device-type="phone,2in1,tablet,wearable,tv">getAttributeCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributecount" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttributeCount(): number</p>     <p>获取当前开始标记的属性数。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前开始标记的属性数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-bcc-c106="" class="highlight-div"><div _ngcontent-bcc-c106="" class="highlight-div-header"><div _ngcontent-bcc-c106="" class="highlight-div-header-left"><div _ngcontent-bcc-c106="" class="handle-button expand-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bcc-c106="" class="highlight-div-header-right"><div _ngcontent-bcc-c106="" class="handle-button ai-button"></div><div _ngcontent-bcc-c106="" class="handle-button line-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bcc-c106="" class="handle-button theme-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bcc-c106="" class="handle-button copy-button"><div _ngcontent-bcc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bcc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> strXml = <span class="hljs-string">'&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note importance="high" logged="true"/&gt;'</span>;</li><li><span class="hljs-keyword">let</span> textEncoder = <span class="hljs-keyword">new</span> util.<span class="hljs-title class_">TextEncoder</span>();</li><li><span class="hljs-keyword">let</span> arrBuffer = textEncoder.<span class="hljs-title function_">encodeInto</span>(strXml);</li><li><span class="hljs-keyword">let</span> that = <span class="hljs-keyword">new</span> xml.<span class="hljs-title class_">XmlPullParser</span>(arrBuffer.<span class="hljs-property">buffer</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);</li><li><span class="hljs-keyword">let</span> str = <span class="hljs-string">""</span>;</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">key: xml.EventType, value: xml.ParseInfo</span>) {</li><li>  str += <span class="hljs-string">'key:'</span> + key + <span class="hljs-string">' value:'</span> + value.<span class="hljs-title function_">getAttributeCount</span>() + <span class="hljs-string">' '</span>;</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Determines whether to continually parse, which is used to continue or terminate parsing.</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: xml.<span class="hljs-property">ParseOptions</span> = {<span class="hljs-attr">supportDoctype</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">ignoreNameSpace</span>:<span class="hljs-literal">true</span>, <span class="hljs-attr">tokenValueCallbackFunction</span>:func}</li><li>that.<span class="hljs-title function_">parseXml</span>(options);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(str);</li><li><span class="hljs-comment">// key:0 value:0 key:2 value:2 key:3 value:2 key:1 value:0</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 831px;">     <h2 id="eventtype" device-type="phone,2in1,tablet,wearable,tv">EventType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="eventtype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>事件类型枚举。</p>     <p><strong>元服务API</strong>：从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Utils.Lang</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">START_DOCUMENT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">启动文件事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">END_DOCUMENT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">结束文件事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">START_TAG</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">启动标签事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">END_TAG</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">结束标签事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT</td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">文本事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CDSECT</td>         <td class="cellrowborder" width="33.33333333333333%">5</td>         <td class="cellrowborder" width="33.33333333333333%">CDATA事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">COMMENT</td>         <td class="cellrowborder" width="33.33333333333333%">6</td>         <td class="cellrowborder" width="33.33333333333333%">XML注释事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DOCDECL</td>         <td class="cellrowborder" width="33.33333333333333%">7</td>         <td class="cellrowborder" width="33.33333333333333%">XML文档类型声明事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">INSTRUCTION</td>         <td class="cellrowborder" width="33.33333333333333%">8</td>         <td class="cellrowborder" width="33.33333333333333%">XML处理指令声明事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENTITY_REFERENCE</td>         <td class="cellrowborder" width="33.33333333333333%">9</td>         <td class="cellrowborder" width="33.33333333333333%">实体引用事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">WHITESPACE</td>         <td class="cellrowborder" width="33.33333333333333%">10</td>         <td class="cellrowborder" width="33.33333333333333%">空白事件。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>