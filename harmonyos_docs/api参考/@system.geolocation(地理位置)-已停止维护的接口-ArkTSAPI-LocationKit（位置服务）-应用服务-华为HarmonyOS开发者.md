<h1 _ngcontent-upy-c119="" class="doc-title ng-star-inserted" title="@system.geolocation (地理位置)"> @system.geolocation (地理位置) </h1>

<div _ngcontent-upy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块仅提供GNSS定位、网络定位等基本功能。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li>本模块首批接口从API version 3开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li><li>从API Version 9开始，该接口不再维护，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager">geoLocationManager</a>。</li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="wearable,lite_wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> geolocation <span class="hljs-keyword">from</span> <span class="hljs-string">'@system.geolocation'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="权限列表" device-type="wearable,lite_wearable">权限列表<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="权限列表" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>ohos.permission.LOCATION</p> </div>  <div class="tiledSection"><h2 id="geolocationgetlocationdeprecated" device-type="wearable,lite_wearable">geolocation.getLocation<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationgetlocationdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>getLocation(options?: GetLocationOption): void</p> <p>获取设备的地理位置。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geolocationmanagergetcurrentlocation">geoLocationManager.getCurrentLocation</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Lite</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#getlocationoptiondeprecated">GetLocationOption</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">单次定位请求的配置参数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">getLocation</span>(<span class="hljs-params"></span>) {</li><li>    geolocation.<span class="hljs-title function_">getLocation</span>({</li><li>      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'success get location data. latitude:'</span> + data.<span class="hljs-property">latitude</span>);</li><li>      },</li><li>      <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data, code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'fail to get location. code:'</span> + code + <span class="hljs-string">', data:'</span> + data);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="geolocationgetlocationtypedeprecated" device-type="wearable,lite_wearable">geolocation.getLocationType<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationgetlocationtypedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>getLocationType(options?: GetLocationTypeOption): void</p> <p>获取当前设备支持的定位类型。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃。位置服务子系统仅支持gnss和network两种定位类型，后续不再提供接口查询支持的定位类型。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Lite</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#getlocationtypeoptiondeprecated">GetLocationTypeOption</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，用于接收查询结果，或者接收查询失败的结果。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">getLocationType</span>(<span class="hljs-params"></span>) {</li><li>    geolocation.<span class="hljs-title function_">getLocationType</span>({</li><li>      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'success get location type:'</span> + data.<span class="hljs-property">types</span>[<span class="hljs-number">0</span>]);</li><li>      },</li><li>      <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data, code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'fail to get location. code:'</span> + code + <span class="hljs-string">', data:'</span> + data);</li><li>       },</li><li>     });</li><li>  },</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="geolocationsubscribedeprecated" device-type="wearable,lite_wearable">geolocation.subscribe<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationsubscribedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>subscribe(options: SubscribeLocationOption): void</p> <p>订阅设备的地理位置信息。多次调用的话，只有最后一次的调用生效。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geolocationmanageronlocationchange">geoLocationManager.on('locationChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Lite</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#subscribelocationoptiondeprecated">SubscribeLocationOption</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">持续定位的配置参数。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">subscribe</span>(<span class="hljs-params"></span>) {</li><li>    geolocation.<span class="hljs-title function_">subscribe</span>({</li><li>      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get location. latitude:'</span> + data.<span class="hljs-property">latitude</span>);</li><li>      },</li><li>      <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data, code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'fail to get location. code:'</span> + code + <span class="hljs-string">', data:'</span> + data);</li><li>      },</li><li>    });</li><li>  },</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="geolocationunsubscribedeprecated" device-type="wearable,lite_wearable">geolocation.unsubscribe<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationunsubscribedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>unsubscribe(): void</p> <p>取消订阅设备的地理位置信息。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#geolocationmanagerofflocationchange">geoLocationManager.off('locationChange')</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.LOCATION</p> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Lite</p> <p><strong>示例：</strong></p> <div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">unsubscribe</span>(<span class="hljs-params"></span>) {</li><li>    geolocation.<span class="hljs-title function_">unsubscribe</span>();</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="geolocationgetsupportedcoordtypesdeprecated" device-type="wearable,lite_wearable">geolocation.getSupportedCoordTypes<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationgetsupportedcoordtypesdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>getSupportedCoordTypes(): Array&lt;string&gt;</p> <p>获取设备支持的坐标系类型。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃。位置服务子系统仅支持WGS-84坐标系，后续不再提供接口查询支持的坐标系类型。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Lite</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.4.1.1" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.4.1.2" width="33.33333333333333%">非空</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">Array&lt;string&gt;</td> <td class="cellrowborder" width="33.33333333333333%">是</td> <td class="cellrowborder" width="33.33333333333333%">表示坐标系类型，如[wgs84, gcj02]。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-upy-c106="" class="highlight-div"><div _ngcontent-upy-c106="" class="highlight-div-header"><div _ngcontent-upy-c106="" class="highlight-div-header-left"><div _ngcontent-upy-c106="" class="handle-button expand-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upy-c106="" class="highlight-div-header-right"><div _ngcontent-upy-c106="" class="handle-button ai-button"></div><div _ngcontent-upy-c106="" class="handle-button line-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upy-c106="" class="handle-button theme-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upy-c106="" class="handle-button copy-button"><div _ngcontent-upy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">getSupportedCoordTypes</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> types = geolocation.<span class="hljs-title function_">getSupportedCoordTypes</span>();</li><li>  },</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="getlocationoptiondeprecated" device-type="wearable,lite_wearable">GetLocationOption<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocationoptiondeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>单次定位请求的配置参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#currentlocationrequest">geoLocationManager.CurrentLocationRequest</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.LOCATION</p> <p><strong>系统能力</strong>：SystemCapability.Location.Location.Lite</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">timeout</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>超时时间，单位为ms，默认值为30000。</p> <p>设置超时，是为了防止出现权限被系统拒绝、定位信号弱或者定位设置不当，导致请求阻塞的情况。超时后会使用fail回调函数。</p> <p>取值范围为32位正整数。如果设置值小于等于0，系统按默认值处理。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">coordType</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">坐标系的类型，可通过getSupportedCoordTypes获取可选值，缺省值为wgs84。</td> </tr> <tr><td class="cellrowborder" width="25%">success</td> <td class="cellrowborder" width="25%">(data: <a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#geolocationresponsedeprecated">GeolocationResponse</a>) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用成功的回调函数。</td> </tr> <tr><td class="cellrowborder" width="25%">fail</td> <td class="cellrowborder" width="25%">(data: string, code: number) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用失败的回调函数。data为错误信息，code为错误码。</td> </tr> <tr><td class="cellrowborder" width="25%">complete</td> <td class="cellrowborder" width="25%">() =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用结束的回调函数。</td> </tr>  </tbody></table></div> </div> <p>fail返回错误代码：</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">错误码</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">601</td> <td class="cellrowborder" width="50%">获取定位权限失败，失败原因：用户拒绝。</td> </tr> <tr><td class="cellrowborder" width="50%">602</td> <td class="cellrowborder" width="50%">权限未声明。</td> </tr> <tr><td class="cellrowborder" width="50%">800</td> <td class="cellrowborder" width="50%">超时，失败原因：网络状况不佳或GNSS不可用。</td> </tr> <tr><td class="cellrowborder" width="50%">801</td> <td class="cellrowborder" width="50%">系统位置开关未打开。</td> </tr> <tr><td class="cellrowborder" width="50%">802</td> <td class="cellrowborder" width="50%">该次调用结果未返回前接口又被重新调用，该次调用失败返回错误码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="geolocationresponsedeprecated" device-type="wearable,lite_wearable">GeolocationResponse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geolocationresponsedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>位置信息，包含经度、纬度、定位精度等信息。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#location">geoLocationManager.Location</a>替代。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Location.Location.Lite</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">longitude</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备位置信息：经度。</td> </tr> <tr><td class="cellrowborder" width="20%">latitude</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备位置信息：纬度。</td> </tr> <tr><td class="cellrowborder" width="20%">altitude</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备位置信息：海拔。</td> </tr> <tr><td class="cellrowborder" width="20%">accuracy</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备位置信息：精确度。</td> </tr> <tr><td class="cellrowborder" width="20%">time</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">设备位置信息：时间。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="getlocationtypeoptiondeprecated" device-type="wearable,lite_wearable">GetLocationTypeOption<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocationtypeoptiondeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>查询定位类型接口的入参，用于存放回调函数，在查询成功或者失败时接收查询结果。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Location.Location.Lite</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">success</td> <td class="cellrowborder" width="25%">(data: <a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#getlocationtyperesponsedeprecated">GetLocationTypeResponse</a>) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用成功的回调函数。</td> </tr> <tr><td class="cellrowborder" width="25%">fail</td> <td class="cellrowborder" width="25%">(data: string, code: number) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用失败的回调函数。</td> </tr> <tr><td class="cellrowborder" width="25%">complete</td> <td class="cellrowborder" width="25%">() =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用结束的回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="getlocationtyperesponsedeprecated" device-type="wearable,lite_wearable">GetLocationTypeResponse<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocationtyperesponsedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>当前设备支持的定位类型列表</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Location.Location.Lite</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">types</td> <td class="cellrowborder" width="20%">Array&lt;string&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">可选的定位类型['gps', 'network']。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="subscribelocationoptiondeprecated" device-type="wearable,lite_wearable">SubscribeLocationOption<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="subscribelocationoptiondeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>持续定位请求的配置参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-geolocationmanager#currentlocationrequest">geoLocationManager.CurrentLocationRequest</a>替代。</p>  </div></div></div> <p><strong>需要权限</strong>：ohos.permission.LOCATION</p> <p><strong>系统能力</strong>：SystemCapability.Location.Location.Lite</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">coordType</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">坐标系的类型，可通过getSupportedCoordTypes获取可选值，默认值为wgs84。</td> </tr> <tr><td class="cellrowborder" width="25%">success</td> <td class="cellrowborder" width="25%">(data: <a href="/consumer/cn/doc/harmonyos-references/js-apis-system-location#geolocationresponsedeprecated">GeolocationResponse</a>) =&gt; void</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">位置信息发生变化的回调函数。</td> </tr> <tr><td class="cellrowborder" width="25%">fail</td> <td class="cellrowborder" width="25%">(data: string, code: number) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">接口调用失败的回调函数。</td> </tr>  </tbody></table></div> </div> <p>fail返回错误代码：</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">错误码</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">601</td> <td class="cellrowborder" width="50%">获取定位权限失败，失败原因：用户拒绝。</td> </tr> <tr><td class="cellrowborder" width="50%">602</td> <td class="cellrowborder" width="50%">权限未声明。</td> </tr> <tr><td class="cellrowborder" width="50%">801</td> <td class="cellrowborder" width="50%">系统位置开关未打开。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>