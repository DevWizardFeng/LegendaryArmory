<h1 _ngcontent-qky-c119="" class="doc-title ng-star-inserted" title="AbilityDelegator"> AbilityDelegator </h1>

<div _ngcontent-qky-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>AbilityDelegator模块可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例来监听和管理<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>生命周期的变化。例如获取UIAbility当前状态（如是否已创建/是否在前台等）、查询当前获焦的UIAbility、等待UIAbility进入某个生命周期节点（如等待UIAbility进入onForeground）、启动指定UIAbility、设置超时机制等功能。</p>    <p>AbilityDelegator可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitydelegatorregistry#abilitydelegatorregistrygetabilitydelegator">getAbilityDelegator</a>方法获取。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 8开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>本模块接口仅可在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/unittest-guidelines" target="_blank">单元测试框架</a>中使用。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="abilitydelegator-1" device-type="phone,2in1,tablet,wearable,tv">AbilityDelegator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="abilitydelegator-1" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="addabilitymonitor9" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">addAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitymonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityMonitor(monitor: AbilityMonitor, callback: AsyncCallback&lt;void&gt;): void</p>     <p>添加AbilityMonitor实例。使用callback异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当添加AbilityMonitor实例成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onAbilityCreateCallback, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityMonitor</span>(monitor, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`addAbilityMonitor fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="addabilitymonitor9-1" device-type="phone,2in1,tablet,wearable,tv">addAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitymonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityMonitor(monitor: AbilityMonitor): Promise&lt;void&gt;</p>     <p>添加AbilityMonitor实例。使用Promise异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li><span class="hljs-keyword">let</span> abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>
</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityMonitor</span>(monitor).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addAbilityMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="addabilitymonitorsync10" device-type="phone,2in1,tablet,wearable,tv">addAbilityMonitorSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitymonitorsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityMonitorSync(monitor: AbilityMonitor): void</p>     <p>同步添加AbilityMonitor实例。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityMonitorSync failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityMonitorSync</span>(monitor);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitymonitor9" device-type="phone,2in1,tablet,wearable,tv">removeAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitymonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityMonitor(monitor: AbilityMonitor, callback: AsyncCallback&lt;void&gt;): void</p>     <p>删除已经添加的AbilityMonitor实例。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当删除已经添加的AbilityMonitor实例成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>    <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>    <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityMonitor</span>(monitor, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`removeAbilityMonitor fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitymonitor9-1" device-type="phone,2in1,tablet,wearable,tv">removeAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitymonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityMonitor(monitor: AbilityMonitor): Promise&lt;void&gt;</p>     <p>删除已经添加的AbilityMonitor实例。使用Promise异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <ul>      <li>示例</li>     </ul>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityMonitor</span>(monitor).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'removeAbilityMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitymonitorsync10" device-type="phone,2in1,tablet,wearable,tv">removeAbilityMonitorSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitymonitorsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityMonitorSync(monitor: AbilityMonitor): void</p>     <p>同步删除已经添加的AbilityMonitor实例。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityMonitorSync failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityMonitorSync</span>(monitor);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitymonitor9" device-type="phone,2in1,tablet,wearable,tv">waitAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitymonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityMonitor(monitor: AbilityMonitor, callback: AsyncCallback&lt;UIAbility&gt;): void</p>     <p>等待与AbilityMonitor实例匹配的Ability到达OnCreate生命周期，并返回Ability实例。使用callback异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当等待与AbilityMonitor实例匹配的Ability到达OnCreate生命周期成功，err为undefined，data为获取到的Ability实例，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onAbilityCreateCallback, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityMonitor</span>(monitor, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`waitAbilityMonitor fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`waitAbilityMonitor success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitymonitor9-1" device-type="phone,2in1,tablet,wearable,tv">waitAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitymonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityMonitor(monitor: AbilityMonitor, timeout: number, callback: AsyncCallback&lt;UIAbility&gt;): void</p>     <p>设置等待时间，等待与AbilityMonitor实例匹配的Ability到达OnCreate生命周期，并返回Ability实例。使用callback异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">最大等待时间，单位毫秒（ms），默认值为5000毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示指定的回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> timeout = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onAbilityCreateCallback, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>.`</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityMonitor</span>(monitor, timeout, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`waitAbilityMonitor fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`waitAbilityMonitor success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitymonitor9-2" device-type="phone,2in1,tablet,wearable,tv">waitAbilityMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitymonitor9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityMonitor(monitor: AbilityMonitor, timeout?: number): Promise&lt;UIAbility&gt;</p>     <p>设置等待时间，等待与AbilityMonitor实例匹配的Ability到达OnCreate生命周期，并返回Ability实例。使用Promise异步回调。不支持多线程并发调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitymonitor">AbilityMonitor</a>实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">最大等待时间，单位毫秒（ms），默认值为5000毫秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回Ability实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">monitor</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityMonitor</span> = {</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span>,</li><li>  <span class="hljs-attr">onAbilityCreate</span>: onAbilityCreateCallback</li><li>};</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onAbilityCreateCallback</span>(<span class="hljs-params">data: UIAbility</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAbilityCreateCallback'</span>);</li><li>}</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityMonitor</span>(monitor).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'waitAbilityMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getappcontext9" device-type="phone,2in1,tablet,wearable,tv">getAppContext<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getappcontext9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppContext(): Context</p>     <p>获取应用Context。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a></td>         <td class="cellrowborder" width="50%">应用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> context = abilityDelegator.<span class="hljs-title function_">getAppContext</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getabilitystate9" device-type="phone,2in1,tablet,wearable,tv">getAbilityState<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getabilitystate9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAbilityState(ability: UIAbility): number</p>     <p>获取指定ability的生命周期状态。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定Ability对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">指定ability的生命周期状态。状态枚举值使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitydelegatorregistry#abilitylifecyclestate">AbilityLifecycleState</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>  <span class="hljs-keyword">let</span> state = abilityDelegator.<span class="hljs-title function_">getAbilityState</span>(ability);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAbilityState ${state}'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getcurrenttopability9" device-type="phone,2in1,tablet,wearable,tv">getCurrentTopAbility<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcurrenttopability9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentTopAbility(callback: AsyncCallback&lt;UIAbility&gt;): void</p>     <p>获取当前应用顶部Ability。使用callback异步回调。不支持Worker线程调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当获取当前应用顶部Ability成功，err为undefined，data为获取到的Ability实例；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling GetCurrentTopAbility failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getcurrenttopability9-1" device-type="phone,2in1,tablet,wearable,tv">getCurrentTopAbility<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcurrenttopability9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCurrentTopAbility(): Promise&lt;UIAbility&gt;</p>     <p>获取当前应用顶部Ability。使用Promise异步回调。不支持Worker线程调用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回前应用顶部Ability。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling GetCurrentTopAbility failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility promise'</span>);</li><li>  ability = data;</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="startability9" device-type="phone,2in1,tablet,wearable,tv">startAbility<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startability9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startAbility(want: Want, callback: AsyncCallback&lt;void&gt;): void</p>     <p>启动指定Ability。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">want</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">启动Ability参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当启动指定Ability成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000001</td>         <td class="cellrowborder" width="50%">The specified ability does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000002</td>         <td class="cellrowborder" width="50%">Incorrect ability type.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000004</td>         <td class="cellrowborder" width="50%">Cannot start an invisible component.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000005</td>         <td class="cellrowborder" width="50%">The specified process does not have the permission.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000006</td>         <td class="cellrowborder" width="50%">Cross-user operations are not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000008</td>         <td class="cellrowborder" width="50%">The crowdtesting application expires.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000009</td>         <td class="cellrowborder" width="50%">An ability cannot be started or stopped in Wukong mode.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000010</td>         <td class="cellrowborder" width="50%">The call with the continuation and prepare continuation flag is forbidden.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000011</td>         <td class="cellrowborder" width="50%">The context does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000012</td>         <td class="cellrowborder" width="50%">The application is controlled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000013</td>         <td class="cellrowborder" width="50%">The application is controlled by EDM.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000050</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000053</td>         <td class="cellrowborder" width="50%">The ability is not on the top of the UI.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000055</td>         <td class="cellrowborder" width="50%">Installation-free timed out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16200001</td>         <td class="cellrowborder" width="50%">The caller has been released.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'bundleName'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span></li><li>};</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">startAbility</span>(want, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'startAbility callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="startability9-1" device-type="phone,2in1,tablet,wearable,tv">startAbility<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startability9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startAbility(want: Want): Promise&lt;void&gt;</p>     <p>启动指定Ability。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">want</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">Want</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">启动Ability参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000001</td>         <td class="cellrowborder" width="50%">The specified ability does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000002</td>         <td class="cellrowborder" width="50%">Incorrect ability type.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000004</td>         <td class="cellrowborder" width="50%">Cannot start an invisible component.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000005</td>         <td class="cellrowborder" width="50%">The specified process does not have the permission.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000006</td>         <td class="cellrowborder" width="50%">Cross-user operations are not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000008</td>         <td class="cellrowborder" width="50%">The crowdtesting application expires.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000009</td>         <td class="cellrowborder" width="50%">An ability cannot be started or stopped in Wukong mode.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000010</td>         <td class="cellrowborder" width="50%">The call with the continuation and prepare continuation flag is forbidden.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000011</td>         <td class="cellrowborder" width="50%">The context does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000012</td>         <td class="cellrowborder" width="50%">The application is controlled.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000013</td>         <td class="cellrowborder" width="50%">The application is controlled by EDM.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000050</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000053</td>         <td class="cellrowborder" width="50%">The ability is not on the top of the UI.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000055</td>         <td class="cellrowborder" width="50%">Installation-free timed out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16200001</td>         <td class="cellrowborder" width="50%">The caller has been released.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'bundleName'</span>,</li><li>  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'abilityName'</span></li><li>};</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">startAbility</span>(want).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">void</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'startAbility promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="doabilityforeground9" device-type="phone,2in1,tablet,wearable,tv">doAbilityForeground<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="doabilityforeground9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doAbilityForeground(ability: UIAbility, callback: AsyncCallback&lt;void&gt;): void</p>     <p>调度指定Ability生命周期状态到Foreground状态。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定Ability对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当调度指定Ability生命周期状态到Foreground状态成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling DoAbilityForeground failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>  abilityDelegator.<span class="hljs-title function_">doAbilityForeground</span>(ability, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"doAbilityForeground callback"</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="doabilityforeground9-1" device-type="phone,2in1,tablet,wearable,tv">doAbilityForeground<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="doabilityforeground9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doAbilityForeground(ability: UIAbility): Promise&lt;void&gt;</p>     <p>调度指定Ability生命周期状态到Foreground状态。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定Ability对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling DoAbilityForeground failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>  abilityDelegator.<span class="hljs-title function_">doAbilityForeground</span>(ability).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"doAbilityForeground promise"</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="doabilitybackground9" device-type="phone,2in1,tablet,wearable,tv">doAbilityBackground<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="doabilitybackground9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doAbilityBackground(ability: UIAbility, callback: AsyncCallback&lt;void&gt;): void</p>     <p>调度指定Ability生命周期状态到Background状态。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定Ability对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当调度指定Ability生命周期状态到Background状态成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling DoAbilityBackground failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>  abilityDelegator.<span class="hljs-title function_">doAbilityBackground</span>(ability, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"doAbilityBackground callback"</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="doabilitybackground9-1" device-type="phone,2in1,tablet,wearable,tv">doAbilityBackground<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="doabilitybackground9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>doAbilityBackground(ability: UIAbility): Promise&lt;void&gt;</p>     <p>调度指定Ability生命周期状态到Background状态。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定Ability对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling DoAbilityBackground failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">ability</span>: <span class="hljs-title class_">UIAbility</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">getCurrentTopAbility</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: UIAbility</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentTopAbility callback'</span>);</li><li>  ability = data;</li><li>  abilityDelegator.<span class="hljs-title function_">doAbilityBackground</span>(ability).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"doAbilityBackground promise"</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="printsync9" device-type="phone,2in1,tablet,wearable,tv">printSync<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="printsync9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>printSync(msg: string): void</p>     <p>打印日志信息到单元测试终端控制台。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msg</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'msg'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">printSync</span>(msg);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="print" device-type="phone,2in1,tablet,wearable,tv">print<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="print" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>print(msg: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>打印日志信息到单元测试终端控制台。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msg</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当打印日志信息到单元测试终端控制台成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'msg'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">print</span>(msg, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="print-1" device-type="phone,2in1,tablet,wearable,tv">print<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="print-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>print(msg: string): Promise&lt;void&gt;</p>     <p>打印日志信息到单元测试终端控制台。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msg</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'msg'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">print</span>(msg).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="executeshellcommand" device-type="phone,2in1,tablet,wearable,tv">executeShellCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executeshellcommand" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeShellCommand(cmd: string, callback: AsyncCallback&lt;ShellCmdResult&gt;): void</p>     <p>执行指定的shell命令。使用callback异步回调。</p>     <p>仅支持如下shell命令：aa, bm, cp, mkdir, rm, uinput, hilog, ppwd, echo, uitest, acm, hidumper, wukong, pkill, ps, pidof</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cmd</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">shell命令字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-shellcmdresult#shellcmdresult-1">ShellCmdResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当执行指定的shell命令成功，err为undefined，data为获取到的执行结果；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> cmd = <span class="hljs-string">'cmd'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">executeShellCommand</span>(cmd, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: abilityDelegatorRegistry.ShellCmdResult</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'executeShellCommand callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="executeshellcommand-1" device-type="phone,2in1,tablet,wearable,tv">executeShellCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executeshellcommand-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeShellCommand(cmd: string, timeoutSecs: number, callback: AsyncCallback&lt;ShellCmdResult&gt;): void</p>     <p>指定超时时间，并执行指定的shell命令。使用callback异步回调。</p>     <p>仅支持如下shell命令：aa, bm, cp, mkdir, rm, uinput, hilog, ppwd, echo, uitest, acm, hidumper, wukong, pkill, ps, pidof</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cmd</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">shell命令字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeoutSecs</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设定命令超时时间，单位秒（s）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-shellcmdresult#shellcmdresult-1">ShellCmdResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当执行指定的shell命令成功，err为undefined，data为获取到的执行结果；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> cmd = <span class="hljs-string">'cmd'</span>;</li><li><span class="hljs-keyword">let</span> timeout = <span class="hljs-number">100</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">executeShellCommand</span>(cmd, timeout, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: abilityDelegatorRegistry.ShellCmdResult</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'executeShellCommand callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="executeshellcommand-2" device-type="phone,2in1,tablet,wearable,tv">executeShellCommand<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executeshellcommand-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeShellCommand(cmd: string, timeoutSecs?: number): Promise&lt;ShellCmdResult&gt;</p>     <p>指定超时时间，并执行指定的shell命令。使用Promise异步回调。</p>     <p>仅支持如下shell命令：aa, bm, cp, mkdir, rm, uinput, hilog, ppwd, echo, uitest, acm, hidumper, wukong, pkill, ps, pidof</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cmd</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">shell命令字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeoutSecs</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">设定命令超时时间，单位秒（s）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-shellcmdresult#shellcmdresult-1">ShellCmdResult</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回Shell命令执行结果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-shellcmdresult#shellcmdresult-1">ShellCmdResult</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> cmd = <span class="hljs-string">'cmd'</span>;</li><li><span class="hljs-keyword">let</span> timeout = <span class="hljs-number">100</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">executeShellCommand</span>(cmd, timeout).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'executeShellCommand promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="finishtest9" device-type="phone,2in1,tablet,wearable,tv">finishTest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="finishtest9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>finishTest(msg: string, code: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>结束测试并打印日志信息到单元测试终端控制台。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msg</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志码。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当结束测试并打印日志信息到单元测试终端控制台成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling FinishTest failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'msg'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">finishTest</span>(msg, <span class="hljs-number">0</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'finishTest callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="finishtest9-1" device-type="phone,2in1,tablet,wearable,tv">finishTest<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="finishtest9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>finishTest(msg: string, code: number): Promise&lt;void&gt;</p>     <p>结束测试并打印日志信息到单元测试终端控制台。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">msg</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志字符串。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">code</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">日志码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling FinishTest failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'msg'</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">finishTest</span>(msg, <span class="hljs-number">0</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'finishTest promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="addabilitystagemonitor9" device-type="phone,2in1,tablet,wearable,tv">addAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitystagemonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityStageMonitor(monitor: AbilityStageMonitor, callback: AsyncCallback&lt;void&gt;): void</p>     <p>添加一个AbilityStageMonitor对象，用于监视指定AbilityStage的生命周期状态更改。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当添加一个用于监视指定AbilityStage的生命周期状态更改的AbilityStageMonitor对象成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addAbilityStageMonitor callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="addabilitystagemonitor9-1" device-type="phone,2in1,tablet,wearable,tv">addAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitystagemonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityStageMonitor(monitor: AbilityStageMonitor): Promise&lt;void&gt;</p>     <p>添加一个AbilityStageMonitor对象，用于监视指定AbilityStage的生命周期状态更改。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addAbilityStageMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="addabilitystagemonitorsync10" device-type="phone,2in1,tablet,wearable,tv">addAbilityStageMonitorSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addabilitystagemonitorsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addAbilityStageMonitorSync(monitor: AbilityStageMonitor): void</p>     <p>同步添加一个AbilityStageMonitor对象，用于监视指定AbilityStage的生命周期状态更改。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling AddAbilityStageMonitorSync failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">addAbilityStageMonitorSync</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitystagemonitor9" device-type="phone,2in1,tablet,wearable,tv">removeAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitystagemonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityStageMonitor(monitor: AbilityStageMonitor, callback: AsyncCallback&lt;void&gt;): void</p>     <p>从应用程序内存中删除指定的AbilityStageMonitor对象。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当从应用程序内存中删除指定的AbilityStageMonitor对象成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'removeAbilityStageMonitor callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitystagemonitor9-1" device-type="phone,2in1,tablet,wearable,tv">removeAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitystagemonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityStageMonitor(monitor: AbilityStageMonitor): Promise&lt;void&gt;</p>     <p>从应用程序内存中删除指定的AbilityStageMonitor对象。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'removeAbilityStageMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removeabilitystagemonitorsync10" device-type="phone,2in1,tablet,wearable,tv">removeAbilityStageMonitorSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeabilitystagemonitorsync10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeAbilityStageMonitorSync(monitor: AbilityStageMonitor): void</p>     <p>同步从应用程序内存中删除指定的AbilityStageMonitor对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling RemoveAbilityStageMonitorSync failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">removeAbilityStageMonitorSync</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitystagemonitor9" device-type="phone,2in1,tablet,wearable,tv">waitAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitystagemonitor9" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityStageMonitor(monitor: AbilityStageMonitor, callback: AsyncCallback&lt;AbilityStage&gt;): void</p>     <p>返回与AbilityStageMonitor中设置条件相匹配的AbilityStage对象。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;AbilityStage&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当等待并返回与给定AbilityStageMonitor中设置的条件匹配的AbilityStage对象的操作成功，err为undefined，data为获取到的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage">AbilityStage</a>对象；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityStage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: AbilityStage</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'waitAbilityStageMonitor callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitystagemonitor9-1" device-type="phone,2in1,tablet,wearable,tv">waitAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitystagemonitor9-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityStageMonitor(monitor: AbilityStageMonitor, timeout?: number): Promise&lt;AbilityStage&gt;</p>     <p>返回与AbilityStageMonitor中设置条件相匹配的AbilityStage对象，支持设置超时最大等待时间。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">超时最大等待时间，单位毫秒（ms），默认值为5000毫秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;AbilityStage&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage">AbilityStage</a>对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityStage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: AbilityStage</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'waitAbilityStageMonitor promise'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="waitabilitystagemonitor9-2" device-type="phone,2in1,tablet,wearable,tv">waitAbilityStageMonitor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waitabilitystagemonitor9-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>waitAbilityStageMonitor(monitor: AbilityStageMonitor, timeout: number, callback: AsyncCallback&lt;AbilityStage&gt;): void</p>     <p>在指定的超时最大等待时间内，返回与AbilityStageMonitor中设置条件相匹配的AbilityStage对象。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">monitor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-abilitystagemonitor">AbilityStageMonitor</a> 实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">超时最大等待时间，单位毫秒（ms），默认值为5000毫秒。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;AbilityStage&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当等待并返回与给定AbilityStageMonitor中设置的条件匹配的AbilityStage对象的操作成功，err为undefined，data为获取到的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-abilitystage">AbilityStage</a>对象；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000100</td>         <td class="cellrowborder" width="50%">Calling WaitAbilityStageMonitor failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityStage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li><span class="hljs-keyword">let</span> timeout = <span class="hljs-number">100</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">waitAbilityStageMonitor</span>({</li><li>  <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'moduleName'</span>,</li><li>  <span class="hljs-attr">srcEntrance</span>: <span class="hljs-string">'srcEntrance'</span>,</li><li>}, timeout, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: AbilityStage</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'waitAbilityStageMonitor callback'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="setmocklist11" device-type="phone,2in1,tablet,wearable,tv">setMockList<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmocklist11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setMockList(mockList: Record&lt;string, string&gt;): void</p>     <p>设置模块的mock替换关系。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mockList</td>         <td class="cellrowborder" width="25%">Record&lt;string, string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">模块mock替换关系的键值对象，其中key为待替换的目标路径，value为用于替换的mock实现文件的路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-ability">元能力子系统错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">16000050</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-qky-c106="" class="highlight-div"><div _ngcontent-qky-c106="" class="highlight-div-header"><div _ngcontent-qky-c106="" class="highlight-div-header-left"><div _ngcontent-qky-c106="" class="handle-button expand-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qky-c106="" class="highlight-div-header-right"><div _ngcontent-qky-c106="" class="handle-button ai-button"></div><div _ngcontent-qky-c106="" class="handle-button line-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qky-c106="" class="handle-button theme-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qky-c106="" class="handle-button copy-button"><div _ngcontent-qky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qky-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { abilityDelegatorRegistry } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TestKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">mockList</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {</li><li>  <span class="hljs-string">'@ohos.router'</span>: <span class="hljs-string">'src/main/mock/ohos/router.mock'</span>,</li><li>  <span class="hljs-string">'common.time'</span>: <span class="hljs-string">'src/main/mock/common/time.mock'</span>,</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityDelegator</span>: abilityDelegatorRegistry.<span class="hljs-property">AbilityDelegator</span>;</li><li>
</li><li>abilityDelegator = abilityDelegatorRegistry.<span class="hljs-title function_">getAbilityDelegator</span>();</li><li>abilityDelegator.<span class="hljs-title function_">setMockList</span>(mockList);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>