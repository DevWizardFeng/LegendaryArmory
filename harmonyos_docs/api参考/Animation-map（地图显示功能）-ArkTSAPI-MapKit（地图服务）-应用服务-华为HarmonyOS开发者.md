<h1 _ngcontent-ery-c119="" class="doc-title ng-star-inserted" title="Animation"> Animation </h1>

<div _ngcontent-ery-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section164051883419" device-type="phone,2in1,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section164051883419" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { map } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MapKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section12142182165518" device-type="phone,2in1,tablet,wearable">Animation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12142182165518" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>动画抽象类。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> animation = <span class="hljs-keyword">new</span> map.<span class="hljs-title class_">RotateAnimation</span>(<span class="hljs-number">0</span>, <span class="hljs-number">270</span>);</li><li><span class="hljs-comment">// 动画执行时间</span></li><li>animation.<span class="hljs-title function_">setDuration</span>(<span class="hljs-number">2000</span>);</li><li>
</li><li><span class="hljs-comment">// 动画结束状态</span></li><li>animation.<span class="hljs-title function_">setFillMode</span>(map.<span class="hljs-property">AnimationFillMode</span>.<span class="hljs-property">BACKWARDS</span>);</li><li>
</li><li><span class="hljs-comment">// 动画重复模式</span></li><li>animation.<span class="hljs-title function_">setRepeatMode</span>(map.<span class="hljs-property">AnimationRepeatMode</span>.<span class="hljs-property">REVERSE</span>);</li><li>
</li><li><span class="hljs-comment">// 动画重复次数</span></li><li>animation.<span class="hljs-title function_">setRepeatCount</span>(<span class="hljs-number">100</span>);</li><li>
</li><li><span class="hljs-comment">// 根据开发需要设置动画监听</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callbackStart</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callbackEnd</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback`</span>);</li><li>};</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callbackStart);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callbackEnd);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section19732105282015" device-type="phone,2in1,tablet,wearable" class="firsth2">setDuration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19732105282015" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setDuration(duration: number): void</p> <p>设置动画持续时间。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.9.1.5.1.1" width="14.299999999999999%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.5.1.2" width="13.74%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.5.1.3" width="8.35%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.5.1.4" width="63.61%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="14.299999999999999%"><p>duration</p> </td> <td class="cellrowborder" width="13.74%"><p>number</p> </td> <td class="cellrowborder" width="8.35%"><p>是</p> </td> <td class="cellrowborder" width="63.61%"><p>动画持续时间，单位：ms，默认值为250，取值范围：大于等于0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">setDuration</span>(<span class="hljs-number">3000</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section682184917207" device-type="phone,2in1,tablet,wearable">setFillMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section682184917207" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setFillMode(fillMode: AnimationFillMode): void</p> <p>设置动画执行完成后的状态。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.1" width="15.110000000000001%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.2" width="26.46%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.3" width="6.619999999999999%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.4" width="51.81%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.110000000000001%"><p>fillMode</p> </td> <td class="cellrowborder" width="26.46%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-animationfillmode">AnimationFillMode</a></p> </td> <td class="cellrowborder" width="6.619999999999999%"><p>是</p> </td> <td class="cellrowborder" width="51.81%"><p>动画执行完成后的状态，默认值为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-animationfillmode">AnimationFillMode</a>.FORWARDS。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">setFillMode</span>(map.<span class="hljs-property">AnimationFillMode</span>.<span class="hljs-property">BACKWARDS</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section12611746142019" device-type="phone,2in1,tablet,wearable">setInterpolator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12611746142019" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setInterpolator(curve: Curves.Curve): void</p> <p>设置动画插值器。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.5.1.1" width="14.17%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.5.1.2" width="27.400000000000002%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.5.1.3" width="6.619999999999999%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.5.1.4" width="51.81%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="14.17%"><p>curve</p> </td> <td class="cellrowborder" width="27.400000000000002%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-curve#curve" target="_blank">Curves.Curve</a></p> </td> <td class="cellrowborder" width="6.619999999999999%"><p>是</p> </td> <td class="cellrowborder" width="51.81%"><p>动画插值器，默认值为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-curve#curve" target="_blank">Curve</a>.Linear。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">setInterpolator</span>(<span class="hljs-title class_">Curve</span>.<span class="hljs-property">Linear</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section195114437205" device-type="phone,2in1,tablet,wearable">setRepeatCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section195114437205" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setRepeatCount(repeatCount: number): void</p> <p>设置动画重复执行的次数。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.1" width="23.080000000000002%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.2" width="17.810000000000002%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.3" width="7.3%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.4" width="51.81%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.080000000000002%"><p>repeatCount</p> </td> <td class="cellrowborder" width="17.810000000000002%"><p>number</p> </td> <td class="cellrowborder" width="7.3%"><p>是</p> </td> <td class="cellrowborder" width="51.81%"><p>动画重复执行的次数，默认值为0。</p> <ul><li>正数：根据值重复执行</li><li>0：动画不重复执行</li><li>-1：执行次数是无限</li><li>小于-1：使用默认值0</li><li>异常值按默认值处理</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">setRepeatCount</span>(<span class="hljs-number">100</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section6214114062014" device-type="phone,2in1,tablet,wearable">setRepeatMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6214114062014" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setRepeatMode(repeatMode: AnimationRepeatMode): void</p> <p>设置重复执行的模式，默认从前往后执行。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.1" width="15.110000000000001%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.2" width="26.46%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.3" width="8.97%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.4" width="49.46%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.110000000000001%"><p>repeatMode</p> </td> <td class="cellrowborder" width="26.46%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-animationrepeatmode">AnimationRepeatMode</a></p> </td> <td class="cellrowborder" width="8.97%"><p>是</p> </td> <td class="cellrowborder" width="49.46%"><p>重复执行的模式，默认值为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-animationrepeatmode">AnimationRepeatMode</a>.RESTART。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">setRepeatMode</span>(map.<span class="hljs-property">AnimationRepeatMode</span>.<span class="hljs-property">RESTART</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1269043622019" device-type="phone,2in1,tablet,wearable">on('start')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1269043622019" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'start', callback: Callback&lt;void&gt;): void</p> <p>监听动画开始事件。使用callback异步回调。</p> <p>建议使用<a href="/consumer/cn/doc/harmonyos-references/map-map-animation#section1282619121137">animation.on(type: 'animationStart')</a>。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.1" width="11%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.2" width="28.84%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="11%"><p>type</p> </td> <td class="cellrowborder" width="28.84%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'start'：动画开始事件。</p> </td> </tr> <tr><td class="cellrowborder" width="11%"><p>callback</p> </td> <td class="cellrowborder" width="28.84%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"start"</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`start alphaAnimation`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section151151921202013" device-type="phone,2in1,tablet,wearable">off('start')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section151151921202013" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'start', callback: Callback&lt;void&gt;): void</p> <p>取消监听动画开始事件。使用callback异步回调。</p> <p>建议使用<a href="/consumer/cn/doc/harmonyos-references/map-map-animation#section983316121834">animation.off(type: 'animationStart')</a>。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.1" width="13.469999999999999%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.2" width="26.369999999999997%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.469999999999999%"><p>type</p> </td> <td class="cellrowborder" width="26.369999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'start'：动画开始事件。</p> </td> </tr> <tr><td class="cellrowborder" width="13.469999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="26.369999999999997%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">"start"</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`start alphaAnimation`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section323141482014" device-type="phone,2in1,tablet,wearable">on('end')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section323141482014" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'end', callback: Callback&lt;void&gt;): void</p> <p>监听动画结束事件。使用callback异步回调。</p> <p>建议使用<a href="/consumer/cn/doc/harmonyos-references/map-map-animation#section1184051219311">animation.on(type: 'animationEnd')</a>。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.1" width="11%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.2" width="28.84%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="11%"><p>type</p> </td> <td class="cellrowborder" width="28.84%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'end'：动画结束事件。</p> </td> </tr> <tr><td class="cellrowborder" width="11%"><p>callback</p> </td> <td class="cellrowborder" width="28.84%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"end"</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`end alphaAnimation`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1214872115513" device-type="phone,2in1,tablet,wearable">off('end')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1214872115513" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'end', callback: Callback&lt;void&gt;): void</p> <p>取消监听动画结束事件。使用callback异步回调。</p> <p>建议使用<a href="/consumer/cn/doc/harmonyos-references/map-map-animation#section984616121137">animation.off(type: 'animationEnd')</a>。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.1" width="14.649999999999999%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.2" width="27.51%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.3" width="13.48%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.4" width="44.36%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="14.649999999999999%"><p>type</p> </td> <td class="cellrowborder" width="27.51%"><p>string</p> </td> <td class="cellrowborder" width="13.48%"><p>是</p> </td> <td class="cellrowborder" width="44.36%"><p>'end'：动画结束事件。</p> </td> </tr> <tr><td class="cellrowborder" width="14.649999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="27.51%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="13.48%"><p>是</p> </td> <td class="cellrowborder" width="44.36%"><p>回调函数。无返回结果的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">"end"</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`end alphaAnimation`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1282619121137" device-type="phone,2in1,tablet,wearable">on('animationStart')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1282619121137" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'animationStart', callback: Callback&lt;void&gt;): void</p> <p>监听动画开始事件。支持传递多个callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.1" width="16.57%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.2" width="23.27%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.57%"><p>type</p> </td> <td class="cellrowborder" width="23.27%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'animationStart'：监听动画开始事件。</p> </td> </tr> <tr><td class="cellrowborder" width="16.57%"><p>callback</p> </td> <td class="cellrowborder" width="23.27%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。监听动画开始事件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback1</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback1`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback2</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback2`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback3</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback3`</span>);</li><li>};</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback1);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback2);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback3);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section983316121834" device-type="phone,2in1,tablet,wearable">off('animationStart')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section983316121834" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'animationStart', callback?: Callback&lt;void&gt;): void</p> <p>取消监听动画开始事件。支持传递多个callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.1" width="16.96%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.2" width="22.88%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.96%"><p>type</p> </td> <td class="cellrowborder" width="22.88%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'animationStart'：监听动画开始事件。</p> </td> </tr> <tr><td class="cellrowborder" width="16.96%"><p>callback</p> </td> <td class="cellrowborder" width="22.88%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>否</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。取消监听动画开始事件。</p> <ul><li>callback为空：取消所有callback回调。</li><li>callback非空：取消指定的callback回调。</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback1</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback1`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback2</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback2`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback3</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationStart"</span>, <span class="hljs-string">`callback3`</span>);</li><li>};</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback1);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback2);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationStart"</span>, callback3);</li><li>
</li><li><span class="hljs-comment">// 只取消callback1对象的事件响应，当animationStart事件发生时，callback2和callback3会正常被调用</span></li><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">'animationStart'</span>, callback1);</li><li><span class="hljs-comment">// 取消全部animationStart事件响应</span></li><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">'animationStart'</span>);</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection"><h3 id="section1184051219311" device-type="phone,2in1,tablet,wearable">on('animationEnd')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1184051219311" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>on(type: 'animationEnd', callback: Callback&lt;void&gt;): void</p> <p>监听动画结束事件。支持传递多个callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.1" width="11%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.2" width="28.84%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.3" width="7.4399999999999995%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.4" width="52.72%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="11%"><p>type</p> </td> <td class="cellrowborder" width="28.84%"><p>string</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>'animationEnd'：动画结束事件。</p> </td> </tr> <tr><td class="cellrowborder" width="11%"><p>callback</p> </td> <td class="cellrowborder" width="28.84%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="7.4399999999999995%"><p>是</p> </td> <td class="cellrowborder" width="52.72%"><p>回调函数。无返回结果的回调函数。监听动画结束事件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback1</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback1`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback2</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback2`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback3</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback3`</span>);</li><li>};</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback1);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback2);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback3);</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section984616121137" device-type="phone,2in1,tablet,wearable">off('animationEnd')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section984616121137" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>off(type: 'animationEnd', callback?: Callback&lt;void&gt;): void</p> <p>取消监听动画结束事件。支持传递多个callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Map.Core</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="14.649999999999999%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="27.51%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="13.48%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="44.36%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="14.649999999999999%"><p>type</p> </td> <td class="cellrowborder" width="27.51%"><p>string</p> </td> <td class="cellrowborder" width="13.48%"><p>是</p> </td> <td class="cellrowborder" width="44.36%"><p>'animationEnd'：监听动画结束事件。</p> </td> </tr> <tr><td class="cellrowborder" width="14.649999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="27.51%"><p>Callback&lt;void&gt;</p> </td> <td class="cellrowborder" width="13.48%"><p>否</p> </td> <td class="cellrowborder" width="44.36%"><p>回调函数。无返回结果的回调函数。取消监听动画结束事件。</p> <ul><li>callback为空：取消所有callback回调。</li><li>callback非空：取消指定的callback回调。</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ery-c106="" class="highlight-div"><div _ngcontent-ery-c106="" class="highlight-div-header"><div _ngcontent-ery-c106="" class="highlight-div-header-left"><div _ngcontent-ery-c106="" class="handle-button expand-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ery-c106="" class="highlight-div-header-right"><div _ngcontent-ery-c106="" class="handle-button ai-button"></div><div _ngcontent-ery-c106="" class="handle-button line-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ery-c106="" class="handle-button theme-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ery-c106="" class="handle-button copy-button"><div _ngcontent-ery-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ery-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback1</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback1`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback2</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback2`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback3</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"animationEnd"</span>, <span class="hljs-string">`callback3`</span>);</li><li>};</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback1);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback2);</li><li>animation.<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationEnd"</span>, callback3);</li><li>
</li><li><span class="hljs-comment">// 只取消callback1对象的事件响应，当animationEnd事件发生时，callback2和callback3会正常被调用</span></li><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">'animationEnd'</span>, callback1);</li><li><span class="hljs-comment">// 取消全部animationEnd事件响应</span></li><li>animation.<span class="hljs-title function_">off</span>(<span class="hljs-string">'animationEnd'</span>);</li></ol></pre></div></div> </div> <p></p> </div> <div></div></div>