<h1 _ngcontent-gah-c119="" class="doc-title ng-star-inserted" title="AntifraudPicker（反诈选择器）"> AntifraudPicker（反诈选择器） </h1>

<div _ngcontent-gah-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供获取诈骗消息、诈骗通话记录的接口，应用可以获取选择的消息或通话记录数据，以支撑反诈业务。</p> <p><strong>起始版本：</strong>5.0.3(15)</p> <div class="tiledSection"><h2 id="section1968955020108" device-type="phone,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1968955020108" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><div _ngcontent-gah-c106="" class="highlight-div"><div _ngcontent-gah-c106="" class="highlight-div-header"><div _ngcontent-gah-c106="" class="highlight-div-header-left"><div _ngcontent-gah-c106="" class="handle-button expand-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gah-c106="" class="highlight-div-header-right"><div _ngcontent-gah-c106="" class="handle-button ai-button"></div><div _ngcontent-gah-c106="" class="handle-button line-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gah-c106="" class="handle-button theme-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gah-c106="" class="handle-button copy-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {antifraudPicker} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DeviceSecurityKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section11617213173419" device-type="phone,tablet">AntifraudMessageOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section11617213173419" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>获取诈骗消息的请求参数。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>maxSelectNumber</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" width="44%"><p>最大可选项数。如果不传，则默认为50。取值范围为1~50。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section143653475548" device-type="phone,tablet">SingleAntifraudMessageInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section143653475548" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>单条诈骗消息信息。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="6.99%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="7.01%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>senderNumber</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>消息发送方号码。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>receivingTime</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>消息接收时间戳，单位：毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>messageContent</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>消息内容，最长17152个字符。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>senderName</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>发送方名称。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>senderPlace</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>消息发送方号码归属地。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>messageType</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>消息类型。'0' ：短信，'1'：彩信。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>mmsSubject</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>是</p> </td> <td class="cellrowborder" width="44%"><p>彩信主题。该字段仅当消息类型为彩信时生效。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>mmsAttachments</p> </td> <td class="cellrowborder" width="21%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section14579643718">MmsAttachmentInfo</a>[]</p> </td> <td class="cellrowborder" width="6.99%"><p>否</p> </td> <td class="cellrowborder" width="7.01%"><p>是</p> </td> <td class="cellrowborder" width="44%"><p>彩信附件信息列表。该字段仅当消息类型为彩信时生效。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section14579643718" device-type="phone,tablet">MmsAttachmentInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14579643718" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>彩信附件信息。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>attachmentType</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>彩信附件类型。</p> <ul><li>-1：彩信未下载；</li><li>0：smil文件；</li><li>1：图片；</li><li>2：视频；</li><li>3：音频；</li><li>4：联系人卡片；</li><li>5：主题；</li><li>6：幻灯片；</li><li>7：文本；</li><li>8：位置。</li></ul> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>uri</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>附件URI。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1874123611170" device-type="phone,tablet">AntifraudMessageResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1874123611170" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>诈骗消息结果。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>messageInfo</p> </td> <td class="cellrowborder" width="21%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section143653475548">SingleAntifraudMessageInfo</a>[]</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>诈骗消息结果列表。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section123791738142115" device-type="phone,tablet">SingleAntifraudCallLogInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section123791738142115" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>单条诈骗通话记录信息。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>callerNumber</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>来电方号码。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>receivingTime</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>接听通话的时间戳，单位：毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>callLogType</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>通话记录类型。0：来电，1：拨出。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>callerName</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>来电方名称。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>callDuration</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>通话时长，单位：毫秒。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1746504983517" device-type="phone,tablet">AntifraudCallLogResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1746504983517" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>诈骗通话记录结果。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>callLogInfo</p> </td> <td class="cellrowborder" width="21%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section123791738142115">SingleAntifraudCallLogInfo</a>[]</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>诈骗通话记录列表。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section27151161387" device-type="phone,tablet">AntifraudCallLogOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section27151161387" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>获取诈骗通话记录的请求参数。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>maxSelectNumber</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" width="44%"><p>最大可选项数。如果不传，则默认为50。取值范围为1~50。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section102884586336" device-type="phone,tablet">selectFraudMessage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section102884586336" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>selectFraudMessage(context: common.Context, options?: <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section11617213173419">AntifraudMessageOptions</a>): Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1874123611170">AntifraudMessageResult</a>&gt;</p> <p>拉起诈骗消息选择器，并获取用户选择的诈骗消息信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.USE_FRAUD_MESSAGES_PICKER</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p> <p><strong>参数</strong>：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="21.26%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="21.27%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="7.22%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="50.24999999999999%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21.26%"><p>context</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a></p> </td> <td class="cellrowborder" width="7.22%"><p>是</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>应用上下文。</p> </td> </tr> <tr><td class="cellrowborder" width="21.26%"><p>options</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section11617213173419">AntifraudMessageOptions</a></p> </td> <td class="cellrowborder" width="7.22%"><p>否</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>请求参数。如果不传，则最大可选项数默认为50。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="21.05%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="78.95%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="21.05%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1874123611170">AntifraudMessageResult</a>&gt;</p> </td> <td class="cellrowborder" width="78.95%"><p>Promise对象，返回诈骗消息结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-arktsapi-errcode">ArkTS API错误码</a><strong>。</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.1" width="21.240000000000002%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.2" width="78.75999999999999%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="21.240000000000002%"><p>201</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Permission denied. Interface caller does not have permission "ohos.permission.USE_FRAUD_MESSAGES_PICKER".</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>401</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Input parameter error.</p> <p>Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017100001</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Unknown error.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017100002</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>The device type is not supported.</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例：</strong><div _ngcontent-gah-c106="" class="highlight-div"><div _ngcontent-gah-c106="" class="highlight-div-header"><div _ngcontent-gah-c106="" class="highlight-div-header-left"><div _ngcontent-gah-c106="" class="handle-button expand-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gah-c106="" class="highlight-div-header-right"><div _ngcontent-gah-c106="" class="handle-button ai-button"></div><div _ngcontent-gah-c106="" class="handle-button line-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gah-c106="" class="handle-button theme-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gah-c106="" class="handle-button copy-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gah-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { antifraudPicker} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DeviceSecurityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { common} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">"AntifraudPickerJsTest"</span>;</li><li>
</li><li><span class="hljs-comment">// 请求获取诈骗消息信息，并进行业务处理</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: antifraudPicker.<span class="hljs-property">AntifraudMessageOptions</span> = {</li><li>  <span class="hljs-attr">maxSelectNumber</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudMessage begin.'</span>);</li><li>  <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: antifraudPicker.<span class="hljs-property">AntifraudMessageResult</span> = <span class="hljs-keyword">await</span> antifraudPicker.<span class="hljs-title function_">selectFraudMessage</span>(context, options);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudMessage failed: %{public}d %{public}s'</span>, e.<span class="hljs-property">code</span>, e.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li></ol></pre></div></div> </div> </div> <div class="tiledSection"><h2 id="section1545269135613" device-type="phone,tablet">selectFraudCallLog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1545269135613" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>selectFraudCallLog(context: common.Context, options?: <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section27151161387">AntifraudCallLogOptions</a>): Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1746504983517">AntifraudCallLogResult</a>&gt;</p> <p>拉起诈骗通话记录选择器，并获取用户选择的诈骗通话记录信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.USE_FRAUD_CALL_LOG_PICKER</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.0.3(15)</p> <p><strong>参数</strong>：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="21.26%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="21.27%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="7.22%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="50.24999999999999%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21.26%"><p>context</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a></p> </td> <td class="cellrowborder" width="7.22%"><p>是</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>应用上下文。</p> </td> </tr> <tr><td class="cellrowborder" width="21.26%"><p>options</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section27151161387">AntifraudCallLogOptions</a></p> </td> <td class="cellrowborder" width="7.22%"><p>否</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>请求参数。如果不传，则最大可选项数默认为50。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="21.05%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="78.95%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="21.05%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1746504983517">AntifraudCallLogResult</a>&gt;</p> </td> <td class="cellrowborder" width="78.95%"><p>Promise对象，返回诈骗通话记录结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-arktsapi-errcode">ArkTS API错误码</a><strong>。</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="21.240000000000002%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="78.75999999999999%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="21.240000000000002%"><p>201</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Permission denied. Interface caller does not have permission "ohos.permission.USE_FRAUD_CALL_LOG_PICKER".</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>401</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Input parameter error.</p> <p>Possible causes:</p> <p>1. Mandatory parameters are left unspecified.</p> <p>2. Incorrect parameter types.</p> <p>3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017100001</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Unknown error.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017100002</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>The device type is not supported.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-gah-c106="" class="highlight-div"><div _ngcontent-gah-c106="" class="highlight-div-header"><div _ngcontent-gah-c106="" class="highlight-div-header-left"><div _ngcontent-gah-c106="" class="handle-button expand-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gah-c106="" class="highlight-div-header-right"><div _ngcontent-gah-c106="" class="handle-button ai-button"></div><div _ngcontent-gah-c106="" class="handle-button line-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gah-c106="" class="handle-button theme-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gah-c106="" class="handle-button copy-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gah-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { antifraudPicker} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DeviceSecurityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { common} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">"AntifraudPickerJsTest"</span>;</li><li>
</li><li><span class="hljs-comment">// 请求获取诈骗通话记录信息，并进行业务处理</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: antifraudPicker.<span class="hljs-property">AntifraudCallLogOptions</span> = {</li><li>  <span class="hljs-attr">maxSelectNumber</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudCallLog begin.'</span>);</li><li>  <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: antifraudPicker.<span class="hljs-property">AntifraudCallLogResult</span> = <span class="hljs-keyword">await</span> antifraudPicker.<span class="hljs-title function_">selectFraudCallLog</span>(context, options);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudCallLog failed: %{public}d %{public}s'</span>, e.<span class="hljs-property">code</span>, e.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1550072910133" device-type="phone,tablet">AntifraudAppOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1550072910133" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>获取诈骗应用的请求参数。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.1.1(19)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>maxSelectNumber</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" width="44%"><p>最大可选项数。如果不传，则默认为50。取值范围为1~50。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section13366182610149" device-type="phone,tablet">AntifraudAppResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13366182610149" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>诈骗应用结果。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.1.1(19)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>appInfo</p> </td> <td class="cellrowborder" width="21%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section244421110162">SingleAntifraudAppInfo</a>[]</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>诈骗应用列表。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section244421110162" device-type="phone,tablet">SingleAntifraudAppInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section244421110162" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>单条诈骗应用信息。</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.1.1(19)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="21%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="21%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="7.000000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="7.000000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="44%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21%"><p>applicationName</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用程序的名称。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>bundleName</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>APP包名。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>versionCode</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用版本编码。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>versionName</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用版本名称。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>installTime</p> </td> <td class="cellrowborder" width="21%"><p>number</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用安装时间戳，单位：毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>appId</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用ID。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>label</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用名称，为用户视角的应用名称，如”时钟”。</p> </td> </tr> <tr><td class="cellrowborder" width="21%"><p>installSource</p> </td> <td class="cellrowborder" width="21%"><p>string</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" width="44%"><p>应用程序的安装来源，支持的取值如下：</p> <p>- pre-installed表示应用为第一次开机时安装的预置应用。</p> <p>- ota表示应用为系统升级时新增的预置应用。</p> <p>- recovery表示卸载后再恢复的预置应用。</p> <p>- 安装来源的格式为包名表示应用由此包名对应的应用安装。</p> <p>- unknown表示应用安装来源未知</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1817011732511" device-type="phone,tablet">selectFraudApp<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1817011732511" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>selectFraudApp(context: common.Context, options?: <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1550072910133">AntifraudAppOptions</a>): Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section13366182610149">AntifraudAppResult</a>&gt;</p> <p>拉起诈骗应用选择器，并获取用户选择的诈骗应用信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.USE_FRAUD_APP_PICKER</p> <p><strong>系统能力：</strong>SystemCapability.Security.Antifraud</p> <p><strong>起始版本：</strong>5.1.1(19)</p> <p><strong>参数</strong>：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="21.26%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="21.27%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="7.22%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="50.24999999999999%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21.26%"><p>context</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a></p> </td> <td class="cellrowborder" width="7.22%"><p>是</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>应用上下文。</p> </td> </tr> <tr><td class="cellrowborder" width="21.26%"><p>options</p> </td> <td class="cellrowborder" width="21.27%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section1550072910133">AntifraudAppOptions</a></p> </td> <td class="cellrowborder" width="7.22%"><p>否</p> </td> <td class="cellrowborder" width="50.24999999999999%"><p>请求参数。如果不传，则最大可选项数默认为50。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="21.05%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="78.95%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="21.05%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-antifraudpicker-api#section13366182610149">AntifraudAppResult</a>&gt;</p> </td> <td class="cellrowborder" width="78.95%"><p>Promise对象，返回诈骗应用结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-arktsapi-errcode">ArkTS API错误码</a><strong>。</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.1" width="21.240000000000002%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.2" width="78.75999999999999%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="21.240000000000002%"><p>201</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Permission denied. Interface caller does not have permission "ohos.permission.USE_FRAUD_APP_PICKER".</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017600001</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Unknown error.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017600002</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>The device type is not supported.</p> </td> </tr> <tr><td class="cellrowborder" width="21.240000000000002%"><p>1017600003</p> </td> <td class="cellrowborder" width="78.75999999999999%"><p>Parameter verification failed.</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例：</strong><div _ngcontent-gah-c106="" class="highlight-div"><div _ngcontent-gah-c106="" class="highlight-div-header"><div _ngcontent-gah-c106="" class="highlight-div-header-left"><div _ngcontent-gah-c106="" class="handle-button expand-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gah-c106="" class="highlight-div-header-right"><div _ngcontent-gah-c106="" class="handle-button ai-button"></div><div _ngcontent-gah-c106="" class="handle-button line-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gah-c106="" class="handle-button theme-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gah-c106="" class="handle-button copy-button"><div _ngcontent-gah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gah-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { antifraudPicker} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DeviceSecurityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { common} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">"AntifraudPickerJsTest"</span>;</li><li>
</li><li><span class="hljs-comment">// 请求获取诈骗应用信息，并进行业务处理</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: antifraudPicker.<span class="hljs-property">AntifraudAppOptions</span> = {</li><li>  <span class="hljs-attr">maxSelectNumber</span>: <span class="hljs-number">5</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudApp begin.'</span>);</li><li>  <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: antifraudPicker.<span class="hljs-property">AntifraudAppResult</span> = <span class="hljs-keyword">await</span> antifraudPicker.<span class="hljs-title function_">selectFraudApp</span>(context, options);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'SelectFraudApp failed: %{public}d %{public}s'</span>, e.<span class="hljs-property">code</span>, e.<span class="hljs-property">message</span>);</li><li>}</li><li>
</li></ol></pre></div></div> </div> </div> </div> <div></div></div>