<h1 _ngcontent-dvi-c119="" class="doc-title ng-star-inserted" title="ArkTS API错误码"> ArkTS API错误码 </h1>

<div _ngcontent-dvi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>以下仅介绍本模块特有错误码，通用错误码请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p> </div></div></div> <div class="tiledSection"><h2 id="section13010304159" device-type="phone,tablet,wearable,2in1,tv">1000500001 内部错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13010304159" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div> <div class="tiledSection"><h3 id="section111062284115" device-type="phone,tablet,wearable,2in1,tv" class="firsth2">算法异常<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section111062284115" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p> <ul><li>Internal error. Failed to encode.</li><li>Internal error. Failed to decode.</li><li>Internal error. Failed to decode image.</li></ul> <p><strong>错误描述</strong></p> <p>算法异常。</p> <p><strong>可能原因</strong></p> <p>码图生成或图像识码时算法出现错误。</p> <p><strong>处理步骤</strong></p> <p>尝试重新调用码图生成或图像识码接口。</p> </div> <div class="tiledSection"><h3 id="section19540910122" device-type="phone,tablet,wearable,2in1,tv">码图生成失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19540910122" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p> <p>Internal error. Failed to create pixelMap.</p> <p><strong>错误描述</strong></p> <p>码图生成失败，创建pixelMap失败。</p> <p><strong>可能原因</strong></p> <p>系统创建图像逻辑异常。</p> <p><strong>处理步骤</strong></p> <p>尝试重新调用生成码图接口。</p> </div> <div class="tiledSection"><h3 id="section480714184410" device-type="phone,tablet">图片获取失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section480714184410" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <p>Internal error. Failed to read file.</p> <p><strong>错误描述</strong></p> <p>读取文件失败。</p> <p><strong>可能原因</strong></p> <p>开发者传入uri无效。</p> <p><strong>处理步骤</strong></p> <p>检查传入的uri。</p> </div> <div class="tiledSection"><h3 id="section425818453214" device-type="phone,tablet">获取系统context失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section425818453214" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <ul><li>Internal error. Get UI content failed.</li><li>Internal error. Get context failed.</li></ul> <p><strong>错误描述</strong></p> <p>获取系统context失败。</p> <p><strong>可能原因</strong></p> <p>传入的context错误。</p> <p><strong>处理步骤</strong></p> <p>排查context入参。</p> </div> <div class="tiledSection"><h3 id="section13383616934" device-type="phone,tablet">获取callback失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13383616934" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <p>Internal error. Get callback failed.</p> <p><strong>错误描述</strong></p> <p>获取Callback失败。</p> <p><strong>可能原因</strong></p> <p>外部传入Callback异常。</p> <p><strong>处理步骤</strong></p> <p>排查Callback入参。</p> </div> <div class="tiledSection"><h3 id="section55015565312" device-type="phone,tablet">接口调用顺序错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section55015565312" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <ul><li>Internal error. This interface must be invoked after the customScan.start interface.</li><li>Internal error. This interface cannot be used after the camera session is paused.</li><li>Internal error. ScanOption is null, please call customScan.init first.</li></ul> <p><strong>错误描述</strong></p> <p>接口调用顺序错误。</p> <p><strong>可能原因</strong></p> <p>未按开发指南的业务流程调用接口，如未调用customScan.init接口，直接调用customScan.start接口。</p> <p><strong>处理步骤</strong></p> <p>调整接口调用顺序。例如：先调用customScan.init接口，再调用customScan.start。</p> </div> <div class="tiledSection"><h3 id="section19413522943" device-type="phone,tablet">接口调用不被允许<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19413522943" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <p>Internal error. The interface can't be used in promise interface.</p> <p><strong>错误描述</strong></p> <p>该接口不允许在customScan.start的Promise方式中调用。</p> <p><strong>可能原因</strong></p> <p>customScan.start的Promise方式中调用了customScan.rescan接口。</p> <p><strong>处理步骤</strong></p> <p>使用customScan.start的Callback方式再调用customScan.rescan接口。</p> </div> <div class="tiledSection"><h3 id="section426050132916" device-type="phone,tablet">分辨率不匹配<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section426050132916" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <p>Internal error. The width and height of viewControl do not match the width and height supported by the camera.</p> <p><strong>错误描述</strong></p> <p>传入的ViewControl宽高比例与相机分辨率不匹配。</p> <p><strong>可能原因</strong></p> <p>传入的ViewControl宽高比例与相机分辨率不匹配。</p> <p><strong>处理步骤</strong></p> <p>检查ViewControl的宽高比例。</p> </div> <div class="tiledSection"><h3 id="section19634192515420" device-type="phone,tablet">相机错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19634192515420" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <ul><li>Internal error. CustomScan stop session failed.</li><li>Internal error. Open camera flash failed.</li><li>Internal error. Close camera flash failed.</li><li>Internal error. Camera setZoom failed.</li><li>Internal error. Camera getZoom failed.</li><li>Internal error. Camera setFocusPoint failed.</li><li>Internal error. Reset focus mode failed.</li><li>Internal error. Camera config captureSession failed.</li><li>Internal error. Camera create cameraManager failed.</li><li>Internal error. Camera create camera session failed.</li><li>Internal error. Camera restart camera session failed.</li><li>Internal error. Camera create preview output failed.</li></ul> <p><strong>错误描述</strong></p> <p>相机错误。</p> <p><strong>可能原因</strong></p> <ul><li>相机流暂停失败。</li><li>打开闪光灯失败。</li><li>关闭闪光灯失败。</li><li>设置变焦比失败。</li><li>获取变焦比失败。</li><li>设置变焦点失败。</li><li>重置对焦模式失败。</li><li>相机配流失败。</li><li>相机创建cameraManager失败。</li><li>相机创建session失败。</li><li>相机重启失败。</li><li>相机创建预览流失败。</li></ul> <p><strong>处理步骤</strong></p> <p>建议尝试重新创建业务。</p> </div> <div class="tiledSection"><h2 id="section158201210912" device-type="phone,tablet">1000500002 用户取消扫码<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section158201210912" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p> <p>The user canceled the barcode scanning.</p> <p><strong>错误描述</strong></p> <p>用户取消扫码。</p> <p><strong>可能原因</strong></p> <p>用户点击关闭按钮或侧滑取消默认界面扫码。</p> <p><strong>处理步骤</strong></p> <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/scan-scanbarcode-api#section829511911349">scanBarcode.startScanForResult</a>会返回此错误码，请根据使用场景处理用户取消默认界面扫码后的业务流程。</p> </div> </div> <div></div></div>