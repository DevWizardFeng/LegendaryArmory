<h1 _ngcontent-ysv-c119="" class="doc-title ng-star-inserted" title="ArkUI_AccessibilityProviderCallbacksWithInstance"> ArkUI_AccessibilityProviderCallbacksWithInstance </h1>

<div _ngcontent-ysv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>适配多实例场景第三方操作provider回调函数结构定义，需要第三方平台实现的相关函数，通过OH_ArkUI_AccessibilityProviderRegisterCallbackWithInstance注册到系统侧。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-accessibility">ArkUI_Accessibility</a></p> <p><strong>所在头文件：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h">native_interface_accessibility.h</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="成员函数" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">成员函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="成员函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#findaccessibilitynodeinfosbyid">int32_t (*findAccessibilityNodeInfosById)(const char* instanceId, int64_t elementId,ArkUI_AccessibilitySearchMode mode, int32_t requestId, ArkUI_AccessibilityElementInfoList* elementList)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。基于指定的节点，查询所需的节点信息。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#findaccessibilitynodeinfosbytext">int32_t (*findAccessibilityNodeInfosByText)(const char* instanceId, int64_t elementId, const char* text,int32_t requestId, ArkUI_AccessibilityElementInfoList* elementList)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。基于指定的节点，查询满足指定组件文本内容的节点信息。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#findfocusedaccessibilitynode">int32_t (*findFocusedAccessibilityNode)(const char* instanceId, int64_t elementId,ArkUI_AccessibilityFocusType focusType, int32_t requestId, ArkUI_AccessibilityElementInfo* elementInfo)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。从指定节点查找已经聚焦的节点。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#findnextfocusaccessibilitynode">int32_t (*findNextFocusAccessibilityNode)(const char* instanceId, int64_t elementId, ArkUI_AccessibilityFocusMoveDirection direction,int32_t requestId, ArkUI_AccessibilityElementInfo* elementInfo)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。从指定节点查询指定方向的节点。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#executeaccessibilityaction">int32_t (*executeAccessibilityAction)(const char* instanceId, int64_t elementId,ArkUI_Accessibility_ActionType action, ArkUI_AccessibilityActionArguments *actionArguments, int32_t requestId)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。对指定节点执行指定的操作。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#clearfocusedfocusaccessibilitynode">int32_t (*clearFocusedFocusAccessibilityNode)(const char* instanceId)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。 清除当前获焦的节点。支持多实例场景。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/y-arkui-accessibilityprovidercallbackswithinstance#getaccessibilitynodecursorposition">int32_t (*getAccessibilityNodeCursorPosition)(const char* instanceId, int64_t elementId,int32_t requestId, int32_t* index)</a></td> <td class="cellrowborder" width="50%">由接入方平台实现的回调函数，注册给系统侧调用。获取当前组件中（文本组件）光标位置。支持多实例场景。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="成员函数说明" device-type="phone,2in1,tablet,wearable,tv">成员函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="成员函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="findaccessibilitynodeinfosbyid" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">findAccessibilityNodeInfosById()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="findaccessibilitynodeinfosbyid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*findAccessibilityNodeInfosById)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId,ArkUI_AccessibilitySearchMode mode, <span class="hljs-type">int32_t</span> requestId, ArkUI_AccessibilityElementInfoList* elementList)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。基于指定的节点，查询所需的节点信息。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h">ArkUI_AccessibilitySearchMode</a> mode</td> <td class="cellrowborder" width="50%">无障碍服务的搜索模式。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/i-accessibility-arkui-accessibilityelementinfolist">ArkUI_AccessibilityElementInfoList</a>* elementList</td> <td class="cellrowborder" width="50%">本次查询到的所有无障碍元素列表。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p> 参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="findaccessibilitynodeinfosbytext" device-type="phone,2in1,tablet,wearable,tv">findAccessibilityNodeInfosByText()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="findaccessibilitynodeinfosbytext" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*findAccessibilityNodeInfosByText)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* text,<span class="hljs-type">int32_t</span> requestId, ArkUI_AccessibilityElementInfoList* elementList)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。基于指定的节点，查询满足指定组件文本内容的节点信息。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* text</td> <td class="cellrowborder" width="50%">组件需要匹配的文本内容。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/i-accessibility-arkui-accessibilityelementinfolist">ArkUI_AccessibilityElementInfoList</a>* elementList</td> <td class="cellrowborder" width="50%">本次查询到的所有无障碍元素列表。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p> 参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="findfocusedaccessibilitynode" device-type="phone,2in1,tablet,wearable,tv">findFocusedAccessibilityNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="findfocusedaccessibilitynode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*findFocusedAccessibilityNode)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId,ArkUI_AccessibilityFocusType focusType, <span class="hljs-type">int32_t</span> requestId, ArkUI_AccessibilityElementInfo* elementInfo)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。从指定节点查找已经聚焦的节点。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_accessibilityfocustype">ArkUI_AccessibilityFocusType</a> focusType</td> <td class="cellrowborder" width="50%">焦点类型。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkui-accessibility-arkui-accessibilityelementinfo">ArkUI_AccessibilityElementInfo</a>* elementInfo</td> <td class="cellrowborder" width="50%">本次查询到的无障碍元素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p> 参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="findnextfocusaccessibilitynode" device-type="phone,2in1,tablet,wearable,tv">findNextFocusAccessibilityNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="findnextfocusaccessibilitynode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*findNextFocusAccessibilityNode)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId, ArkUI_AccessibilityFocusMoveDirection direction,<span class="hljs-type">int32_t</span> requestId, ArkUI_AccessibilityElementInfo* elementInfo)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。从指定节点查询指定方向的节点。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_accessibilityfocusmovedirection">ArkUI_AccessibilityFocusMoveDirection</a> direction</td> <td class="cellrowborder" width="50%">搜索方向。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkui-accessibility-arkui-accessibilityelementinfo">ArkUI_AccessibilityElementInfo</a>* elementInfo</td> <td class="cellrowborder" width="50%">本次查询到的无障碍元素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p>参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="executeaccessibilityaction" device-type="phone,2in1,tablet,wearable,tv">executeAccessibilityAction()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executeaccessibilityaction" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*executeAccessibilityAction)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId,ArkUI_Accessibility_ActionType action, ArkUI_AccessibilityActionArguments *actionArguments, <span class="hljs-type">int32_t</span> requestId)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。对指定节点执行指定的操作。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_accessibility_actiontype">ArkUI_Accessibility_ActionType</a> action</td> <td class="cellrowborder" width="50%">需要执行的操作，比如聚焦、点击和长按等。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/i-accessibility-arkui-accessibilityactionarguments">ArkUI_AccessibilityActionArguments</a> *actionArguments</td> <td class="cellrowborder" width="50%">控制操作的参数。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p>参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="clearfocusedfocusaccessibilitynode" device-type="phone,2in1,tablet,wearable,tv">clearFocusedFocusAccessibilityNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearfocusedfocusaccessibilitynode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*clearFocusedFocusAccessibilityNode)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。 清除当前获焦的节点。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p>参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="getaccessibilitynodecursorposition" device-type="phone,2in1,tablet,wearable,tv">getAccessibilityNodeCursorPosition()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaccessibilitynodecursorposition" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ysv-c106="" class="highlight-div"><div _ngcontent-ysv-c106="" class="highlight-div-header"><div _ngcontent-ysv-c106="" class="highlight-div-header-left"><div _ngcontent-ysv-c106="" class="handle-button expand-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ysv-c106="" class="highlight-div-header-right"><div _ngcontent-ysv-c106="" class="handle-button ai-button"></div><div _ngcontent-ysv-c106="" class="handle-button line-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ysv-c106="" class="handle-button theme-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ysv-c106="" class="handle-button copy-button"><div _ngcontent-ysv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ysv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">int32_t</span> (*getAccessibilityNodeCursorPosition)(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* instanceId, <span class="hljs-type">int64_t</span> elementId,<span class="hljs-type">int32_t</span> requestId, <span class="hljs-type">int32_t</span>* index)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>由接入方平台实现的回调函数，注册给系统侧调用。获取当前组件中（文本组件）光标位置。支持多实例场景。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* instanceId</td> <td class="cellrowborder" width="50%">第三方框架的实例编码。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t elementId</td> <td class="cellrowborder" width="50%">无障碍元素的唯一编号。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t requestId</td> <td class="cellrowborder" width="50%">请求id，用于关联请求过程，方便问题定位。建议日志打印时附带输出该信息，方便定位。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* index</td> <td class="cellrowborder" width="50%">光标的位置结果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>成功返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_SUCCESSFUL</a>。</p> <p>参数错误返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-interface-accessibility-h#arkui_acessbilityerrorcode">ARKUI_ACCESSIBILITY_NATIVE_RESULT_BAD_PARAMETER</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>