<h1 _ngcontent-tgc-c119="" class="doc-title ng-star-inserted" title="CANN"> CANN </h1>

<div _ngcontent-tgc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><div class="tiledSection" style="contain-intrinsic-size: auto 322px;"><h2 id="概述" device-type="phone,2in1,tablet,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>提供CANN Kit模型推理的相关接口。</p> <p><strong>系统能力：</strong> SystemCapability.AI.HiAIFoundation</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>CANN Kit的模型编译、加载、推理等基础功能接口已抽取放在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-core-h" target="_blank">neural_network_core.h</a>中，此处重点描述高阶功能。</p> </div></div></div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;"><h2 id="汇总" device-type="phone,2in1,tablet,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 477px;"><h3 id="文件" device-type="phone,2in1,tablet,tv" class="firsth2">文件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="文件" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-hiai-aipp-param-8h">hiai_aipp_param.h</a></p> </td> <td class="cellrowborder" width="50%"><p>模型推理时动态AIPP对象创建，参数设置和查询的接口。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-hiai-helper-8h">hiai_helper.h</a></p> </td> <td class="cellrowborder" width="50%"><p>查询CANN Kit版本以及检查模型支持情况的接口。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-hiai-options-8h">hiai_options.h</a></p> </td> <td class="cellrowborder" width="50%"><p>选项参数的接口。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-hiai-single-op-8h">hiai_single_op.h</a></p> </td> <td class="cellrowborder" width="50%"><p>定义CANN Kit单算子接口，用于单算子的创建、计算以及Tensor和Buffer的管理。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-hiai-tensor-8h">hiai_tensor.h</a></p> </td> <td class="cellrowborder" width="50%"><p>模型推理时使用的输入输出内存相关的辅助接口。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 407px;"><h3 id="结构体" device-type="phone,2in1,tablet,tv">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>struct  <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopdesc-convparam">HiAISingleOpDescriptor_ConvolutionParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_createconvolution">HMS_HiAISingleOpDescriptor_CreateConvolution</a>输入参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>struct  <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createconvolution">HMS_HiAISingleOpExecutor_CreateConvolution</a>输入参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>struct  <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createfusedconvolutionactivation">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</a>输入参数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 888px;"><h3 id="类型定义" device-type="phone,2in1,tablet,tv">类型定义<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="类型定义" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a></p> </td> <td class="cellrowborder" width="50%"><p>AIPP参数对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子Tensor描述的句柄。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子Buffer句柄。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子Tensor句柄。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子选项句柄。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子的算子描述句柄。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopdesc-convparam">HiAISingleOpDescriptor_ConvolutionParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_createconvolution">HMS_HiAISingleOpDescriptor_CreateConvolution</a>输入参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createconvolution">HMS_HiAISingleOpExecutor_CreateConvolution</a>输入参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a></p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createfusedconvolutionactivation">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</a>输入参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a></p> </td> <td class="cellrowborder" width="50%"><p>单算子执行器句柄。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 3399px;"><h3 id="枚举" device-type="phone,2in1,tablet,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> {</p> <p>HIAI_YUV420SP_U8 = 0,</p> <p>HIAI_XRGB8888_U8 = 1,</p> <p>HIAI_YUV400_U8 = 2,</p> <p>HIAI_ARGB8888_U8 = 3,</p> <p>HIAI_YUYV_U8 = 4,</p> <p>HIAI_YUV422SP_U8 = 5,</p> <p>HIAI_AYUV444_U8 = 6,</p> <p>HIAI_RGB888_U8 = 7,</p> <p>HIAI_BGR888_U8 = 8,</p> <p>HIAI_YUV444SP_U8 = 9,</p> <p>HIAI_YVU444SP_U8 = 10,</p> <p>HIAI_IMAGE_FORMAT_INVALID = 255</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>CANN Kit推理支持的输入和输出Tensor的图片格式的枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imagecolorspace">HiAI_ImageColorSpace</a> {</p> <p>HIAI_JPEG = 0,</p> <p>HIAI_BT_601_NARROW = 1,</p> <p>HIAI_BT_601_FULL = 2,</p> <p>HIAI_BT_709_NARROW = 3,</p> <p>HIAI_IMAGE_COLOR_SPACE_INVALID = 4</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>图像色域空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_compatibility">HiAI_Compatibility</a> {</p> <p>HIAI_COMPATIBILITY_COMPATIBLE = 0,</p> <p>HIAI_COMPATIBILITY_INCOMPATIBLE = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>编译后模型兼容性结果。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_formatmode">HiAI_FormatMode</a> {</p> <p>HIAI_FORMAT_MODE_NCHW = 0,</p> <p>HIAI_FORMAT_MODE_ORIGIN = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>模型编译时数据的排列格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapestatus">HiAI_DynamicShapeStatus</a> {</p> <p>HIAI_DYNAMIC_SHAPE_DISABLED = 0,</p> <p>HIAI_DYNAMIC_SHAPE_ENABLED = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>是否使能编译前可变shape。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapecachemode">HiAI_DynamicShapeCacheMode</a> {</p> <p>HIAI_DYNAMIC_SHAPE_CACHE_BUILT_MODEL = 0,</p> <p>HIAI_DYNAMIC_SHAPE_CACHE_LOADED_MODEL = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>编译前可变shape支持的模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a> {</p> <p>HIAI_EXECUTE_DEVICE_NPU = 0,</p> <p>HIAI_EXECUTE_DEVICE_CPU = 1,</p> <p>HIAI_EXECUTE_DEVICE_GPU = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>模型运行时支持的设备类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_fallbackmode">HiAI_FallbackMode</a> {</p> <p>HIAI_FALLBACK_ENABLED = 0,</p> <p>HIAI_FALLBACK_DISABLED = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>指定的硬件设备无法编译模型时，是否允许CANN Kit选择其他硬件设备，例如CPU。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_devicememoryreuseplan">HiAI_DeviceMemoryReusePlan</a> { HIAI_DEVICE_MEMORY_REUSE_PLAN_UNSET = 0,</p> <p>HIAI_DEVICE_MEMORY_REUSE_PLAN_LOW = 1,</p> <p>HIAI_DEVICE_MEMORY_REUSE_PLAN_HIGH = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>设备内存复用配置选项。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningstrategy">HiAI_TuningStrategy</a> {</p> <p>HIAI_TUNING_STRATEGY_OFF = 0,</p> <p>HIAI_TUNING_STRATEGY_ON_DEVICE_TUNING = 1,</p> <p>HIAI_TUNING_STRATEGY_ON_DEVICE_PREPROCESS_TUNING = 2,</p> <p>HIAI_TUNING_STRATEGY_ON_CLOUD_TUNING = 3</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>模型优化策略配置选项。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningmode">HiAI_TuningMode</a> {</p> <p>HIAI_TUNING_MODE_UNSET = 0,</p> <p>HIAI_TUNING_MODE_AUTO = 1,</p> <p>HIAI_TUNING_MODE_HETER = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>辅助调优模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_bandmode">HiAI_BandMode</a> {</p> <p>HIAI_BANDMODE_UNSET = 0,</p> <p>HIAI_BANDMODE_LOW = 1,</p> <p>HIAI_BANDMODE_NORMAL = 2,</p> <p>HIAI_BANDMODE_HIGH = 3</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>定义硬件之间带宽模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_omtype">HiAI_OmType</a> {</p> <p>HIAI_OM_TYPE_OFF = 0,</p> <p>HIAI_OM_TYPE_PROFILING = 1,</p> <p>HIAI_OM_TYPE_DUMP = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>维测类型定义。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdatatype">HiAI_SingleOpDataType</a> {</p> <p>HIAI_SINGLEOP_DT_FLOAT = 0,</p> <p>HIAI_SINGLEOP_DT_FLOAT16 = 1,</p> <p>HIAI_SINGLEOP_DT_UNDEFINED = 17</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子张量数据类型枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopformat">HiAI_SingleOpFormat</a> {</p> <p>HIAI_SINGLEOP_FORMAT_NCHW = 0,</p> <p>HIAI_SINGLEOP_FORMAT_NHWC = 1,</p> <p>HIAI_SINGLEOP_FORMAT_ND = 2,</p> <p>HIAI_SINGLEOP_FORMAT_NC1HWC0 = 3,</p> <p>HIAI_SINGLEOP_FORMAT_NC4HW4 = 28,</p> <p>HIAI_SINGLEOP_FORMAT_NC8HW8 = 31,</p> <p>HIAI_SINGLEOP_FORMAT_RESERVED = 255</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子张量排布格式枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopconvmode">HiAI_SingleOpConvMode</a> {</p> <p>HIAI_SINGLEOP_CONV_MODE_COMMON = 0,</p> <p>HIAI_SINGLEOP_CONV_MODE_TRANSPOSED = 1,</p> <p>HIAI_SINGLEOP_CONV_MODE_DEPTHWISE = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子卷积模式枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoppadmode">HiAI_SingleOpPadMode</a> {</p> <p>HIAI_SINGLEOP_PAD_MODE_SPECIFIC = 0,</p> <p>HIAI_SINGLEOP_PAD_MODE_SAME = 1,</p> <p>HIAI_SINGLEOP_PAD_MODE_SAME_UPPER = 2,</p> <p>HIAI_SINGLEOP_PAD_MODE_SAME_LOWER = 3,</p> <p>HIAI_SINGLEOP_PAD_MODE_VALID = 4</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子填充模式枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopactivationtype">HiAI_SingleOpActivationType</a> {</p> <p>HIAI_SINGLEOP_ACTIVATION_TYPE_RELU = 0,</p> <p>HIAI_SINGLEOP_ACTIVATION_TYPE_RELU6 = 1</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子激活模式枚举。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopsupportstatus">HiAI_SingleOpSupportStatus</a> {</p> <p>HIAI_SINGLEOP_OPTIMIZED = 0,</p> <p>HIAI_SINGLEOP_COMMON = 1,</p> <p>HIAI_SINGLEOP_UNSUPPORTED = 2</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>单算子支持状态枚举。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 10841px;"><h3 id="函数" device-type="phone,2in1,tablet,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_create">HMS_HiAIAippParam_Create</a> (uint32_t batchNum)</p> </td> <td class="cellrowborder" width="50%"><p>根据batchNum创建动态AippParam对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdata">HMS_HiAIAippParam_GetData</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>获取AippParam申请的内存地址。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>uint32_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdatasize">HMS_HiAIAippParam_GetDataSize</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>获取AippParam申请的内存大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getinputindex">HMS_HiAIAippParam_GetInputIndex</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象所在输入的索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setinputindex">HMS_HiAIAippParam_SetInputIndex</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t inputIndex)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam在输入上的索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getinputaippindex">HMS_HiAIAippParam_GetInputAippIndex</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象在该输入的多个输出分支上的索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setinputaippindex">HMS_HiAIAippParam_SetInputAippIndex</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t inputAippIndex)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象作用于该输入的多个输出分支上的索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_destroy">HMS_HiAIAippParam_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> **aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>释放AippParam对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setinputformat">HMS_HiAIAippParam_SetInputFormat</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> inputFormat)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的输入图像格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getinputformat">HMS_HiAIAippParam_GetInputFormat</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的输入图像格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setinputshape">HMS_HiAIAippParam_SetInputShape</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t srcImageW, uint32_t srcImageH)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的输入图像宽高。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getinputshape">HMS_HiAIAippParam_GetInputShape</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t *srcImageW, uint32_t *srcImageH)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的输入图像宽高。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>uint32_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getbatchcount">HMS_HiAIAippParam_GetBatchCount</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的图像数量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setcscconfig">HMS_HiAIAippParam_SetCscConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> inputFormat, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> outputFormat, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imagecolorspace">HiAI_ImageColorSpace</a> space)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的CSC色域转换参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getcscconfig">HMS_HiAIAippParam_GetCscConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> *inputFormat, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> *outputFormat, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imagecolorspace">HiAI_ImageColorSpace</a> *space)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的CSC色域转换相关参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setchannelswapconfig">HMS_HiAIAippParam_SetChannelSwapConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, bool rbuvSwapSwitch, bool axSwapSwitch)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的ChannelSwap通道交换参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getchannelswapconfig">HMS_HiAIAippParam_GetChannelSwapConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, bool *rbuvSwapSwitch, bool *axSwapSwitch)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的ChannelSwap通道交换参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setsinglebatchmulticrop">HMS_HiAIAippParam_SetSingleBatchMultiCrop</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, bool singleBatchMultiCrop)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的SingleBatchMultiCrop标识。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bool <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getsinglebatchmulticrop">HMS_HiAIAippParam_GetSingleBatchMultiCrop</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的SingleBatchMultiCrop标识。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setcropconfig">HMS_HiAIAippParam_SetCropConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t startPosW, uint32_t startPosH, uint32_t croppedW, uint32_t croppedH)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的裁剪参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getcropconfig">HMS_HiAIAippParam_GetCropConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t *startPosW, uint32_t *startPosH, uint32_t *croppedW, uint32_t *croppedH)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的裁剪参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setresizeconfig">HMS_HiAIAippParam_SetResizeConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t resizedW, uint32_t resizedH)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的图像缩放参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getresizeconfig">HMS_HiAIAippParam_GetResizeConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t *resizedW, uint32_t *resizedH)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的图像缩放参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setpadconfig">HMS_HiAIAippParam_SetPadConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t leftPadSize, uint32_t rightPadSize, uint32_t topPadSize, uint32_t bottomPadSize)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的输入图像的填充像素数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getpadconfig">HMS_HiAIAippParam_GetPadConfig</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t *leftPadSize, uint32_t *rightPadSize, uint32_t *topPadSize, uint32_t *bottomPadSize)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的输入图像的填充像素数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setchannelpadding">HMS_HiAIAippParam_SetChannelPadding</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t paddingValues[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的通道padding填充值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getchannelpadding">HMS_HiAIAippParam_GetChannelPadding</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t paddingValues[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的通道padding填充值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setrotationangle">HMS_HiAIAippParam_SetRotationAngle</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float rotationAngle)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的旋转角度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getrotationangle">HMS_HiAIAippParam_GetRotationAngle</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float *rotationAngle)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的图像旋转角度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcmeanpixel">HMS_HiAIAippParam_SetDtcMeanPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t meanPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的数据类型转换通道像素平均值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcmeanpixel">HMS_HiAIAippParam_GetDtcMeanPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, uint32_t meanPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的数据类型转换通道像素平均值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcminpixel">HMS_HiAIAippParam_SetDtcMinPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float minPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的数据类型转换通道像素最小值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcminpixel">HMS_HiAIAippParam_GetDtcMinPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float minPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的数据类型转换通道像素最小值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcvarrecipixel">HMS_HiAIAippParam_SetDtcVarReciPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float varReciPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置AippParam对象的数据类型转换通道像素方差。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcvarrecipixel">HMS_HiAIAippParam_GetDtcVarReciPixel</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParam, uint32_t batchIndex, float varReciPixel[], uint32_t channelCount)</p> </td> <td class="cellrowborder" width="50%"><p>查询AippParam对象的数据类型转换通道像素方差。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>const char * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiai_getversion">HMS_HiAI_GetVersion</a> (void)</p> </td> <td class="cellrowborder" width="50%"><p>获取CANN Kit版本号。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_compatibility">HiAI_Compatibility</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaicompatibility_checkfromfile">HMS_HiAICompatibility_CheckFromFile</a> (const char *file)</p> </td> <td class="cellrowborder" width="50%"><p>查询编译后储存在文件中的模型的兼容性。 若发生不兼容情况，建议重新编译模型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_compatibility">HiAI_Compatibility</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaicompatibility_checkfrombuffer">HMS_HiAICompatibility_CheckFromBuffer</a> (const void *data, size_t size)</p> </td> <td class="cellrowborder" width="50%"><p>查询编译后储存在内存中的模型的兼容性。 若发生不兼容情况，建议重新编译模型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setinputtensorshapes">HMS_HiAIOptions_SetInputTensorShapes</a> (OH_NNCompilation *compilation, NN_TensorDesc *inputTensorDescs[], size_t shapeCount)</p> </td> <td class="cellrowborder" width="50%"><p>编译时更新模型输入shape。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getinputtensorshapesize">HMS_HiAIOptions_GetInputTensorShapeSize</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询选项参数中shape描述的个数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>NN_TensorDesc * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getinputtensorshape">HMS_HiAIOptions_GetInputTensorShape</a> (const OH_NNCompilation *compilation, size_t index)</p> </td> <td class="cellrowborder" width="50%"><p>查询选项参数中指定索引的shape描述。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setformatmode">HMS_HiAIOptions_SetFormatMode</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_formatmode">HiAI_FormatMode</a> formatMode)</p> </td> <td class="cellrowborder" width="50%"><p>设置模型编译时的数据排列格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_formatmode">HiAI_FormatMode</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getformatmode">HMS_HiAIOptions_GetFormatMode</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询模型编译参数中的数据排列格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapestatus">HMS_HiAIOptions_SetDynamicShapeStatus</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapestatus">HiAI_DynamicShapeStatus</a> status)</p> </td> <td class="cellrowborder" width="50%"><p>设置编译前可变shape配置中的EnableMode参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapemaxcache">HMS_HiAIOptions_SetDynamicShapeMaxCache</a> (OH_NNCompilation *compilation, size_t maxCacheCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置编译前可变shape配置中的最大缓存编译后模型数量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapecachemode">HMS_HiAIOptions_SetDynamicShapeCacheMode</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapecachemode">HiAI_DynamicShapeCacheMode</a> mode)</p> </td> <td class="cellrowborder" width="50%"><p>设置编译前可变shape配置中的缓存模式参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapestatus">HiAI_DynamicShapeStatus</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getdynamicshapestatus">HMS_HiAIOptions_GetDynamicShapeStatus</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询编译前可变shape配置中的状态参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getdynamicshapemaxcache">HMS_HiAIOptions_GetDynamicShapeMaxCache</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询编译前可变shape配置中的最大缓存数量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapecachemode">HiAI_DynamicShapeCacheMode</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getdynamicshapecachemode">HMS_HiAIOptions_GetDynamicShapeCacheMode</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询编译前可变shape配置中的cacheMode参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setoperatordeviceorder">HMS_HiAIOptions_SetOperatorDeviceOrder</a> (OH_NNCompilation *compilation, const char *operatorName, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a> *executeDevices, size_t deviceCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置算子级调优配置中算子执行设备列表。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getoperatordevicecount">HMS_HiAIOptions_GetOperatorDeviceCount</a> (const OH_NNCompilation *compilation, const char *operatorName)</p> </td> <td class="cellrowborder" width="50%"><p>查询算子级调优配置中指定算子的执行设备个数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getoperatordeviceorder">HMS_HiAIOptions_GetOperatorDeviceOrder</a> (const OH_NNCompilation *compilation, const char *operatorName)</p> </td> <td class="cellrowborder" width="50%"><p>查询算子级调优配置中指定算子的执行设备列表。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setmodeldeviceorder">HMS_HiAIOptions_SetModelDeviceOrder</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a> *executeDevices, size_t deviceCount)</p> </td> <td class="cellrowborder" width="50%"><p>设置模型级调优配置中模型执行设备列表。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getmodeldevicecount">HMS_HiAIOptions_GetModelDeviceCount</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询模型级调优配置中模型的执行设备个数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getmodeldeviceorder">HMS_HiAIOptions_GetModelDeviceOrder</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询模型级调优配置中模型的执行设备列表。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setfallbackmode">HMS_HiAIOptions_SetFallbackMode</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_fallbackmode">HiAI_FallbackMode</a> fallbackMode)</p> </td> <td class="cellrowborder" width="50%"><p>设置调优配置中的回滚模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_fallbackmode">HiAI_FallbackMode</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getfallbackmode">HMS_HiAIOptions_GetFallbackMode</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询调优配置中的回滚模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdevicememoryreuseplan">HMS_HiAIOptions_SetDeviceMemoryReusePlan</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_devicememoryreuseplan">HiAI_DeviceMemoryReusePlan</a> deviceMemoryReusePlan)</p> </td> <td class="cellrowborder" width="50%"><p>设置调优配置中的设备内存复用参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_devicememoryreuseplan">HiAI_DeviceMemoryReusePlan</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getdevicememoryreuseplan">HMS_HiAIOptions_GetDeviceMemoryReusePlan</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询调优配置中的设备内存复用参数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_settuningstrategy">HMS_HiAIOptions_SetTuningStrategy</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningstrategy">HiAI_TuningStrategy</a> tuningStrategy)</p> </td> <td class="cellrowborder" width="50%"><p>设置模型编译时的模型优化策略。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningstrategy">HiAI_TuningStrategy</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_gettuningstrategy">HMS_HiAIOptions_GetTuningStrategy</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询模型优化策略。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setquantconfig">HMS_HiAIOptions_SetQuantConfig</a> (OH_NNCompilation *compilation, void *data, size_t size)</p> </td> <td class="cellrowborder" width="50%"><p>设置模型编译时量化配置。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getquantconfigdata">HMS_HiAIOptions_GetQuantConfigData</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询量化配置的数据地址。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getquantconfigsize">HMS_HiAIOptions_GetQuantConfigSize</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询量化配置的数据大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_settuningmode">HMS_HiAIOptions_SetTuningMode</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningmode">HiAI_TuningMode</a> tuningMode)</p> </td> <td class="cellrowborder" width="50%"><p>选择辅助调优模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_settuningcachedir">HMS_HiAIOptions_SetTuningCacheDir</a> (OH_NNCompilation *compilation, const char *cacheDir)</p> </td> <td class="cellrowborder" width="50%"><p>设置辅助调优的缓存目录。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningmode">HiAI_TuningMode</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_gettuningmode">HMS_HiAIOptions_GetTuningMode</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询辅助调优模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>const char * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_gettuningcachedir">HMS_HiAIOptions_GetTuningCacheDir</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询辅助调优的缓存目录。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setbandmode">HMS_HiAIOptions_SetBandMode</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_bandmode">HiAI_BandMode</a> bandMode)</p> </td> <td class="cellrowborder" width="50%"><p>设置NPU与周边硬件IO资源的带宽模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_bandmode">HiAI_BandMode</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getbandmode">HMS_HiAIOptions_GetBandMode</a> (const OH_NNCompilation *compilation)</p> </td> <td class="cellrowborder" width="50%"><p>查询带宽模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setomoptions">HMS_HiAIOptions_SetOmOptions</a> (OH_NNCompilation *compilation, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_omtype">HiAI_OmType</a> type, const char *outputDir)</p> </td> <td class="cellrowborder" width="50%"><p>设置模型加载时的维测选项信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_create">HMS_HiAISingleOpTensorDesc_Create</a> (const int64_t *dims, size_t dimNum, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdatatype">HiAI_SingleOpDataType</a> dataType, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopformat">HiAI_SingleOpFormat</a> format, bool isVirtual)</p> </td> <td class="cellrowborder" width="50%"><p>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getdimensioncount">HMS_HiAISingleOpTensorDesc_GetDimensionCount</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的维度数量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int64_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getdimension">HMS_HiAISingleOpTensorDesc_GetDimension</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc, size_t index)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>指定索引的维度长度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdatatype">HiAI_SingleOpDataType</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getdatatype">HMS_HiAISingleOpTensorDesc_GetDataType</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopformat">HiAI_SingleOpFormat</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getformat">HMS_HiAISingleOpTensorDesc_GetFormat</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的排布格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bool <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_isvirtual">HMS_HiAISingleOpTensorDesc_IsVirtual</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>是否为虚拟张量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getbytesize">HMS_HiAISingleOpTensorDesc_GetByteSize</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>查询基于<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的维度和数据类型计算的数据占用字节数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_destroy">HMS_HiAISingleOpTensorDesc_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> **tensorDesc)</p> </td> <td class="cellrowborder" width="50%"><p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_create">HMS_HiAISingleOpBuffer_Create</a> (size_t dataSize)</p> </td> <td class="cellrowborder" width="50%"><p>按照指定的内存大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_getsize">HMS_HiAISingleOpBuffer_GetSize</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> *buffer)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的字节大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_getdata">HMS_HiAISingleOpBuffer_GetData</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> *buffer)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的内存地址。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_destroy">HMS_HiAISingleOpBuffer_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> **buffer)</p> </td> <td class="cellrowborder" width="50%"><p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromtensordesc">HMS_HiAISingleOpTensor_CreateFromTensorDesc</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *desc)</p> </td> <td class="cellrowborder" width="50%"><p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromsingleopbuffer">HMS_HiAISingleOpTensor_CreateFromSingleOpBuffer</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *desc, void *data, size_t dataSize)</p> </td> <td class="cellrowborder" width="50%"><p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的内存地址和数据大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromconst">HMS_HiAISingleOpTensor_CreateFromConst</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *desc, void *data, size_t dataSize)</p> </td> <td class="cellrowborder" width="50%"><p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>、常量数据（如卷积权重、偏置等）的内存地址和数据大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_gettensordesc">HMS_HiAISingleOpTensor_GetTensorDesc</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> *tensor)</p> </td> <td class="cellrowborder" width="50%"><p>获取<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>的Tensor描述。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_getbuffer">HMS_HiAISingleOpTensor_GetBuffer</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> *tensor)</p> </td> <td class="cellrowborder" width="50%"><p>获取<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>的Buffer。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_destroy">HMS_HiAISingleOpTensor_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> **tensor)</p> </td> <td class="cellrowborder" width="50%"><p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopoptions_create">HMS_HiAISingleOpOptions_Create</a> (void)</p> </td> <td class="cellrowborder" width="50%"><p>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopoptions_destroy">HMS_HiAISingleOpOptions_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a> **options)</p> </td> <td class="cellrowborder" width="50%"><p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_createconvolution">HMS_HiAISingleOpDescriptor_CreateConvolution</a> (<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopdesc-convparam">HiAISingleOpDescriptor_ConvolutionParam</a> param)</p> </td> <td class="cellrowborder" width="50%"><p>创建卷积类（普通卷积、转置卷积、深度卷积）的描述符对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_createactivation">HMS_HiAISingleOpDescriptor_CreateActivation</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopactivationtype">HiAI_SingleOpActivationType</a> activationType, float coef)</p> </td> <td class="cellrowborder" width="50%"><p>创建激活函数类的描述符对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>void <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_destroy">HMS_HiAISingleOpDescriptor_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a> **opDesc)</p> </td> <td class="cellrowborder" width="50%"><p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopsupportstatus">HiAI_SingleOpSupportStatus</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_precheckconvolution">HMS_HiAISingleOpExecutor_PreCheckConvolution</a> (<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a> param)</p> </td> <td class="cellrowborder" width="50%"><p>预查询卷积算子的支持状态。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopsupportstatus">HiAI_SingleOpSupportStatus</a> <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_precheckfusedconvolutionactivation">HMS_HiAISingleOpExecutor_PreCheckFusedConvolutionActivation</a> (<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a> param)</p> </td> <td class="cellrowborder" width="50%"><p>预查询卷积和激活融合算子的支持状态。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createconvolution">HMS_HiAISingleOpExecutor_CreateConvolution</a> (<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a> param)</p> </td> <td class="cellrowborder" width="50%"><p>创建卷积类算子对应的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> * <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createfusedconvolutionactivation">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</a> (<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a> param)</p> </td> <td class="cellrowborder" width="50%"><p>创建卷积和激活融合算子对应的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_updateoutputtensordesc">HMS_HiAISingleOpExecutor_UpdateOutputTensorDesc</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> *executor, uint32_t index, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a> *output)</p> </td> <td class="cellrowborder" width="50%"><p>更新<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>的输出tensor描述。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_getworkspacesize">HMS_HiAISingleOpExecutor_GetWorkspaceSize</a> (const <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> *executor)</p> </td> <td class="cellrowborder" width="50%"><p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>所需的ION内存工作空间的字节大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_init">HMS_HiAISingleOpExecutor_Init</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> *executor, void *workspace, size_t workspaceSize)</p> </td> <td class="cellrowborder" width="50%"><p>加载<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_execute">HMS_HiAISingleOpExecutor_Execute</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> *executor, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> *input[], int32_t inputNum, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a> *output[], int32_t outputNum)</p> </td> <td class="cellrowborder" width="50%"><p>执行同步运算推理。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_destroy">HMS_HiAISingleOpExecutor_Destroy</a> (<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a> **executor)</p> </td> <td class="cellrowborder" width="50%"><p>销毁<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象，释放执行器占用的内存。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size_t <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaitensor_getsizewithimageformat">HMS_HiAITensor_GetSizeWithImageFormat</a> (NN_TensorDesc *desc, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a> format)</p> </td> <td class="cellrowborder" width="50%"><p>根据NN_TensorDesc和HiAI_ImageFormat计算申请tensor的大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>OH_NN_ReturnCode <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaitensor_setaippparams">HMS_HiAITensor_SetAippParams</a> (NN_Tensor *tensor, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a> *aippParams[], size_t aippNum)</p> </td> <td class="cellrowborder" width="50%"><p>给NN_Tensor设置AippParams。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="类型定义说明" device-type="phone,2in1,tablet,tv">类型定义说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="类型定义说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection" style="contain-intrinsic-size: auto 362px;"><h3 id="hiai_aippparam" device-type="phone,2in1,tablet,tv" class="firsth2">HiAI_AippParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_aippparam" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_AippParam</span> HiAI_AippParam</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>AIPP参数对象。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopbuffer" device-type="phone,2in1,tablet,tv">HiAI_SingleOpBuffer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopbuffer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpBuffer</span> HiAI_SingleOpBuffer</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子Buffer句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopdescriptor" device-type="phone,2in1,tablet,tv">HiAI_SingleOpDescriptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopdescriptor" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpDescriptor</span> HiAI_SingleOpDescriptor</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子的算子描述句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopdescriptorconvolutionparam" device-type="phone,2in1,tablet,tv">HiAISingleOpDescriptor_ConvolutionParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopdescriptorconvolutionparam" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAISingleOpDescriptor_ConvolutionParam</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_createconvolution">HMS_HiAISingleOpDescriptor_CreateConvolution</a>输入参数。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopexecutor" device-type="phone,2in1,tablet,tv">HiAI_SingleOpExecutor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopexecutor" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpExecutor</span> HiAI_SingleOpExecutor</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子执行器句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopexecutorconvolutionparam" device-type="phone,2in1,tablet,tv">HiAI_SingleOpExecutorConvolutionParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopexecutorconvolutionparam" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpExecutorConvolutionParam</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createconvolution">HMS_HiAISingleOpExecutor_CreateConvolution</a>输入参数。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopexecutorfusedconvolutionactivationparam" device-type="phone,2in1,tablet,tv">HiAI_SingleOpExecutorFusedConvolutionActivationParam<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopexecutorfusedconvolutionactivationparam" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpExecutorFusedConvolutionActivationParam</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createfusedconvolutionactivation">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</a>输入参数。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleopoptions" device-type="phone,2in1,tablet,tv">HiAI_SingleOpOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopoptions" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpOptions</span> HiAI_SingleOpOptions</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子选项句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleoptensor" device-type="phone,2in1,tablet,tv">HiAI_SingleOpTensor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleoptensor" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpTensor</span> HiAI_SingleOpTensor</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子Tensor句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 378px;"><h3 id="hiai_singleoptensordesc" device-type="phone,2in1,tablet,tv">HiAI_SingleOpTensorDesc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleoptensordesc" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HiAI_SingleOpTensorDesc</span> HiAI_SingleOpTensorDesc</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子Tensor描述的句柄。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection" style="contain-intrinsic-size: auto 650px;"><h3 id="hiai_bandmode" device-type="phone,2in1,tablet,tv" class="firsth2">HiAI_BandMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_bandmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_BandMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义硬件之间带宽模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_BANDMODE_UNSET</p> </td> <td class="cellrowborder" width="50%"><p>不设置，由系统调节。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BANDMODE_LOW</p> </td> <td class="cellrowborder" width="50%"><p>低级带宽模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BANDMODE_NORMAL</p> </td> <td class="cellrowborder" width="50%"><p>中级带宽模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BANDMODE_HIGH</p> </td> <td class="cellrowborder" width="50%"><p>高级带宽模式。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_compatibility" device-type="phone,2in1,tablet,tv">HiAI_Compatibility<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_compatibility" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_Compatibility</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>编译后模型兼容性结果。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_COMPATIBILITY_COMPATIBLE</p> </td> <td class="cellrowborder" width="50%"><p>模型兼容。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_COMPATIBILITY_INCOMPATIBLE</p> </td> <td class="cellrowborder" width="50%"><p>模型不兼容。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 659px;"><h3 id="hiai_devicememoryreuseplan" device-type="phone,2in1,tablet,tv">HiAI_DeviceMemoryReusePlan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_devicememoryreuseplan" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_DeviceMemoryReusePlan</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设备内存复用配置选项。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_DEVICE_MEMORY_REUSE_PLAN_UNSET</p> </td> <td class="cellrowborder" width="50%"><p>不使用，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_DEVICE_MEMORY_REUSE_PLAN_LOW</p> </td> <td class="cellrowborder" width="50%"><p>低内存复用率，模型申请的内存较多但模型推理性能相对较优。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_DEVICE_MEMORY_REUSE_PLAN_HIGH</p> </td> <td class="cellrowborder" width="50%"><p>高内存复用率，模型申请的内存较少但模型推理性能相对较差。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_dynamicshapecachemode" device-type="phone,2in1,tablet,tv">HiAI_DynamicShapeCacheMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_dynamicshapecachemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_DynamicShapeCacheMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>编译前可变shape支持的模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_DYNAMIC_SHAPE_CACHE_BUILT_MODEL</p> </td> <td class="cellrowborder" width="50%"><p>缓存编译后的模型，内存占用较小，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_DYNAMIC_SHAPE_CACHE_LOADED_MODEL</p> </td> <td class="cellrowborder" width="50%"><p>缓存加载后的模型，性能较优。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_dynamicshapestatus" device-type="phone,2in1,tablet,tv">HiAI_DynamicShapeStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_dynamicshapestatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_DynamicShapeStatus</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>是否使能编译前可变shape。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_DYNAMIC_SHAPE_DISABLED</p> </td> <td class="cellrowborder" width="50%"><p>不使能编译前可变shape，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_DYNAMIC_SHAPE_ENABLED</p> </td> <td class="cellrowborder" width="50%"><p>使能编译前可变shape。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 611px;"><h3 id="hiai_executedevice" device-type="phone,2in1,tablet,tv">HiAI_ExecuteDevice<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_executedevice" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_ExecuteDevice</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>模型运行时支持的设备类型。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_EXECUTE_DEVICE_NPU</p> </td> <td class="cellrowborder" width="50%"><p>NPU，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_EXECUTE_DEVICE_CPU</p> </td> <td class="cellrowborder" width="50%"><p>CPU。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_EXECUTE_DEVICE_GPU</p> </td> <td class="cellrowborder" width="50%"><p>GPU。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_fallbackmode" device-type="phone,2in1,tablet,tv">HiAI_FallbackMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_fallbackmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_FallbackMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>指定的硬件设备无法编译模型时，是否允许CANN Kit选择其他硬件设备，例如CPU。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_FALLBACK_ENABLED</p> </td> <td class="cellrowborder" width="50%"><p>允许，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_FALLBACK_DISABLED</p> </td> <td class="cellrowborder" width="50%"><p>不允许。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_formatmode" device-type="phone,2in1,tablet,tv">HiAI_FormatMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_formatmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_FormatMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>模型编译时数据的排列格式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_FORMAT_MODE_NCHW</p> </td> <td class="cellrowborder" width="50%"><p>格式为NCHW，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_FORMAT_MODE_ORIGIN</p> </td> <td class="cellrowborder" width="50%"><p>格式为原始模型格式。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 721px;"><h3 id="hiai_imagecolorspace" device-type="phone,2in1,tablet,tv">HiAI_ImageColorSpace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_imagecolorspace" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_ImageColorSpace</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>图像色域空间类型。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_JPEG</p> </td> <td class="cellrowborder" width="50%"><p>JPEG色域空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BT_601_NARROW</p> </td> <td class="cellrowborder" width="50%"><p>BT.601 video range色域空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BT_601_FULL</p> </td> <td class="cellrowborder" width="50%"><p>BT.601 full range色域空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BT_709_NARROW</p> </td> <td class="cellrowborder" width="50%"><p>BT.709 video range色域空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_IMAGE_COLOR_SPACE_INVALID</p> </td> <td class="cellrowborder" width="50%"><p>无效图像色域类型。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1106px;"><h3 id="hiai_imageformat" device-type="phone,2in1,tablet,tv">HiAI_ImageFormat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_imageformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_ImageFormat</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>CANN Kit推理支持的输入和输出Tensor的图片格式的枚举。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_YUV420SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV420SP_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_XRGB8888_U8</p> </td> <td class="cellrowborder" width="50%"><p>XRGB8888_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_YUV400_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV400_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_ARGB8888_U8</p> </td> <td class="cellrowborder" width="50%"><p>ARGB8888_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_YUYV_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUYV_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_YUV422SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV422SP_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_AYUV444_U8</p> </td> <td class="cellrowborder" width="50%"><p>AYUV444_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_RGB888_U8</p> </td> <td class="cellrowborder" width="50%"><p>RGB888_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_BGR888_U8</p> </td> <td class="cellrowborder" width="50%"><p>BGR888_U8格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_YUV444SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV444SP格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_YVU444SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YVU444SP格式的图片。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_IMAGE_FORMAT_INVALID</p> </td> <td class="cellrowborder" width="50%"><p>不支持的图片格式。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 635px;"><h3 id="hiai_omtype" device-type="phone,2in1,tablet,tv">HiAI_OmType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_omtype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_OmType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>维测类型定义。</p> <p><strong>起始版本：</strong> 5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_OM_TYPE_OFF</p> </td> <td class="cellrowborder" width="50%"><p>关闭维测。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_OM_TYPE_PROFILING</p> </td> <td class="cellrowborder" width="50%"><p>Profiling维测类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_OM_TYPE_DUMP</p> </td> <td class="cellrowborder" width="50%"><p>Dump维测类型。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="hiai_singleopactivationtype" device-type="phone,2in1,tablet,tv">HiAI_SingleOpActivationType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopactivationtype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpActivationType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子激活模式枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_ACTIVATION_TYPE_RELU</p> </td> <td class="cellrowborder" width="50%"><p>ReLU激活函数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_ACTIVATION_TYPE_RELU6</p> </td> <td class="cellrowborder" width="50%"><p>ReLU6激活函数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 611px;"><h3 id="hiai_singleopconvmode" device-type="phone,2in1,tablet,tv">HiAI_SingleOpConvMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopconvmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpConvMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子卷积模式枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_CONV_MODE_COMMON</p> </td> <td class="cellrowborder" width="50%"><p>普通卷积。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_CONV_MODE_TRANSPOSED</p> </td> <td class="cellrowborder" width="50%"><p>转置卷积。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_CONV_MODE_DEPTHWISE</p> </td> <td class="cellrowborder" width="50%"><p>深度卷积。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 611px;"><h3 id="hiai_singleopdatatype" device-type="phone,2in1,tablet,tv">HiAI_SingleOpDataType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopdatatype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpDataType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子张量数据类型枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_DT_FLOAT</p> </td> <td class="cellrowborder" width="50%"><p>张量数据类型为float。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_DT_FLOAT16</p> </td> <td class="cellrowborder" width="50%"><p>张量数据类型为float16。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_DT_UNDEFINED</p> </td> <td class="cellrowborder" width="50%"><p>张量数据类型未定义。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 855px;"><h3 id="hiai_singleopformat" device-type="phone,2in1,tablet,tv">HiAI_SingleOpFormat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpFormat</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子张量排布格式枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_NCHW</p> </td> <td class="cellrowborder" width="50%"><p>张量按照NCHW格式排布。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_NHWC</p> </td> <td class="cellrowborder" width="50%"><p>张量按照NHWC格式排布。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_ND</p> </td> <td class="cellrowborder" width="50%"><p>张量按照ND格式排布。暂不支持用户使用ND格式排布的单算子Tensor。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_NC1HWC0</p> </td> <td class="cellrowborder" width="50%"><p>张量按照NC1HWC0格式排布。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_NC4HW4</p> </td> <td class="cellrowborder" width="50%"><p>张量按照NC4HW4格式排布。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_NC8HW8</p> </td> <td class="cellrowborder" width="50%"><p>张量按照NC8HW8格式排布。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_FORMAT_RESERVED</p> </td> <td class="cellrowborder" width="50%"><p>张量排布格式未定义。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 817px;"><h3 id="hiai_singleoppadmode" device-type="phone,2in1,tablet,tv">HiAI_SingleOpPadMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleoppadmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpPadMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子填充模式枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_PAD_MODE_SPECIFIC</p> </td> <td class="cellrowborder" width="50%"><p>如果填充算法未设置，将根据参数<strong>pads</strong>采用显示填充。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_PAD_MODE_SAME</p> </td> <td class="cellrowborder" width="50%"><p>对输入进行填充使输出维度与输入维度相同。输出维度由ceil(输入维度 / 步长)确定。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_PAD_MODE_SAME_UPPER</p> </td> <td class="cellrowborder" width="50%"><p>使用SAME_UPPER填充模式，当填充长度为奇数时，起始的填充长度小于等于末尾的填充长度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_PAD_MODE_SAME_LOWER</p> </td> <td class="cellrowborder" width="50%"><p>使用SAME_LOWER填充模式，当填充长度为奇数时，起始的填充长度大于等于末尾的填充长度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_PAD_MODE_VALID</p> </td> <td class="cellrowborder" width="50%"><p>不填充，输出维度由ceil((输入维度 - 滤波器维度 + 1) / 步长)确定。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 659px;"><h3 id="hiai_singleopsupportstatus" device-type="phone,2in1,tablet,tv">HiAI_SingleOpSupportStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_singleopsupportstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_SingleOpSupportStatus</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>单算子支持状态枚举。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_OPTIMIZED</p> </td> <td class="cellrowborder" width="50%"><p>使用单算子性能已优化。推荐用户使用单算子执行器，执行单算子推理计算。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_COMMON</p> </td> <td class="cellrowborder" width="50%"><p>使用单算子性能普通。支持该算子，但使用单算子可能性能收益小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_SINGLEOP_UNSUPPORTED</p> </td> <td class="cellrowborder" width="50%"><p>不支持该单算子。若创建该单算子执行器将会失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 611px;"><h3 id="hiai_tuningmode" device-type="phone,2in1,tablet,tv">HiAI_TuningMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_tuningmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_TuningMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>辅助调优模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_MODE_UNSET</p> </td> <td class="cellrowborder" width="50%"><p>关闭调优模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_MODE_AUTO</p> </td> <td class="cellrowborder" width="50%"><p>自动调优模式，推荐选择的模式，内部算法控制调优。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_MODE_HETER</p> </td> <td class="cellrowborder" width="50%"><p>异构调优模式。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 690px;"><h3 id="hiai_tuningstrategy" device-type="phone,2in1,tablet,tv">HiAI_TuningStrategy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hiai_tuningstrategy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">HiAI_TuningStrategy</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>模型优化策略配置选项。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_STRATEGY_OFF</p> </td> <td class="cellrowborder" width="50%"><p>不支持深度融合场景，也不支持编译前可变shape，默认值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_STRATEGY_ON_DEVICE_TUNING</p> </td> <td class="cellrowborder" width="50%"><p>支持编译前可变shape场景深度融合优化模型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_STRATEGY_ON_DEVICE_PREPROCESS_TUNING</p> </td> <td class="cellrowborder" width="50%"><p>NPU算子库动态升级场景深度融合优化模型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIAI_TUNING_STRATEGY_ON_CLOUD_TUNING</p> </td> <td class="cellrowborder" width="50%"><p>未来场景的预留，目前不使用。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="函数说明" device-type="phone,2in1,tablet,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection" style="contain-intrinsic-size: auto 458px;"><h3 id="hms_hiai_getversion" device-type="phone,2in1,tablet,tv" class="firsth2">HMS_HiAI_GetVersion()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiai_getversion" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">HMS_HiAI_GetVersion</span> <span class="hljs-params">(<span class="hljs-type">void</span>)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取CANN Kit版本号。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>返回：</strong></p> <p>成功返回CANN Kit版本号，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaiaippparam_create" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_AippParam* <span class="hljs-title">HMS_HiAIAippParam_Create</span> <span class="hljs-params">(<span class="hljs-type">uint32_t</span> batchNum)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据batchNum创建动态AippParam对象。</p> <p>本方法用于创建动态AippParam对象，根据传入的batchNum申请相应的内存，用于存储动态AIPP参数。 不需要<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例时，需要调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_destroy">HMS_HiAIAippParam_Destroy</a>进行释放，否则会出现内存泄漏。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>batchNum</p> </td> <td class="cellrowborder" width="50%"><p>模型输入的batch大小，取值范围为(0, 127]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="hms_hiaiaippparam_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HMS_HiAIAippParam_Destroy</span> <span class="hljs-params">(HiAI_AippParam ** aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放AippParam对象。</p> <p>本方法用于释放通过<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_create">HMS_HiAIAippParam_Create</a>创建的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaiaippparam_getbatchcount" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetBatchCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getbatchcount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">uint32_t</span> <span class="hljs-title">HMS_HiAIAippParam_GetBatchCount</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的图像数量。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询推理AippParam设置图像数量。 在单batch多crop场景为一张图像多个crop的子图像的数量。在多batch单crop场景为输入的batch值。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回图像数量，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 930px;"><h3 id="hms_hiaiaippparam_getchannelpadding" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetChannelPadding()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getchannelpadding" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetChannelPadding</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> paddingValues[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的通道padding填充值。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的通道padding的填充值。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>paddingValues[]</p> </td> <td class="cellrowborder" width="50%"><p>通道填充值数组，填充值范围[-65504, 65504]，默认填充值为0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道填充数，当前支持[1, 4]，例如channelCount=3则对应查询通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 827px;"><h3 id="hms_hiaiaippparam_getchannelswapconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetChannelSwapConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getchannelswapconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetChannelSwapConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">bool</span> * rbuvSwapSwitch, <span class="hljs-type">bool</span> * axSwapSwitch)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的ChannelSwap通道交换参数。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询通道交换参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rbuvSwapSwitch</p> </td> <td class="cellrowborder" width="50%"><p>返回真为RB/UV通道交换已使能，返回假为RB/UV通道交换未使能。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>axSwapSwitch</p> </td> <td class="cellrowborder" width="50%"><p>返回真为AX通道交换已使能，返回假为AX通道交换未使能。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 992px;"><h3 id="hms_hiaiaippparam_getcropconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetCropConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getcropconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetCropConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> * startPosW, <span class="hljs-type">uint32_t</span> * startPosH, <span class="hljs-type">uint32_t</span> * croppedW, <span class="hljs-type">uint32_t</span> * croppedH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的裁剪参数。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的裁剪参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应即将crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>startPosW</p> </td> <td class="cellrowborder" width="50%"><p>裁剪起始位置水平方向坐标。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>startPosH</p> </td> <td class="cellrowborder" width="50%"><p>裁剪起始位置垂直方向坐标。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>croppedW</p> </td> <td class="cellrowborder" width="50%"><p>裁剪出的图像宽度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>croppedH</p> </td> <td class="cellrowborder" width="50%"><p>裁剪出的图像高度，单位为像素。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 858px;"><h3 id="hms_hiaiaippparam_getcscconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetCscConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getcscconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetCscConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, HiAI_ImageFormat * inputFormat, HiAI_ImageFormat * outputFormat, HiAI_ImageColorSpace * space)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的CSC色域转换相关参数。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询推理AippParam色域转换参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputFormat</p> </td> <td class="cellrowborder" width="50%"><p>图像输入格式，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>outputFormat</p> </td> <td class="cellrowborder" width="50%"><p>图像输出格式，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>space</p> </td> <td class="cellrowborder" width="50%"><p>图像颜色空间类型，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imagecolorspace">HiAI_ImageColorSpace</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h3 id="hms_hiaiaippparam_getdata" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">HMS_HiAIAippParam_GetData</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取AippParam申请的内存地址。</p> <p>本方法用于获取通过<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_create">HMS_HiAIAippParam_Create</a>申请的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>的data内存地址。 data指向申请的AIPP参数的内存。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回AippParam申请的内存地址，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h3 id="hms_hiaiaippparam_getdatasize" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetDataSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getdatasize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">uint32_t</span> <span class="hljs-title">HMS_HiAIAippParam_GetDataSize</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取AippParam申请的内存大小。</p> <p>本方法用于获取通过<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_create">HMS_HiAIAippParam_Create</a>申请的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>的size大小。 size为申请的AIPP参数的内存大小。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回AippParam申请的内存大小，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_getdtcmeanpixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetDtcMeanPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getdtcmeanpixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetDtcMeanPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> meanPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的数据类型转换通道像素平均值。</p> <p>该方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的数据类型转换像素平均值。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcminpixel">HMS_HiAIAippParam_GetDtcMinPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcvarrecipixel">HMS_HiAIAippParam_GetDtcVarReciPixel</a>共同使用，来获取所有数据类型转换参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>meanPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素平均值数组，数组size为channelCount。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，对应从chn0开始。例如channelCount等于3则对应查询通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_getdtcminpixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetDtcMinPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getdtcminpixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetDtcMinPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> minPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的数据类型转换通道像素最小值。</p> <p>该方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的数据类型转换像素最小值。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcmeanpixel">HMS_HiAIAippParam_GetDtcMeanPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcvarrecipixel">HMS_HiAIAippParam_GetDtcVarReciPixel</a>共同使用，来获取所有数据类型转换参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>minPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素最小值数组，数组size为channelCount。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，对应从chn0开始。例如channelCount等于3则对应查询通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_getdtcvarrecipixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetDtcVarReciPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getdtcvarrecipixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetDtcVarReciPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> varReciPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的数据类型转换通道像素方差。</p> <p>该方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的数据类型转换像素方差值。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcmeanpixel">HMS_HiAIAippParam_GetDtcMeanPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getdtcminpixel">HMS_HiAIAippParam_GetDtcMinPixel</a>共同使用，来获取所有数据类型转换参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>varReciPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素方差数组，数组size为channelCount。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，对应从chn0开始。例如channelCount等于3则对应查询通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h3 id="hms_hiaiaippparam_getinputaippindex" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetInputAippIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getinputaippindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">HMS_HiAIAippParam_GetInputAippIndex</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象在该输入的多个输出分支上的索引。</p> <p>本方法用于在data节点有多个索引时，查询AippParam对象在data节点上的索引。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回-1。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回该AippParam对象在data节点上的索引，失败返回-1。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaiaippparam_getinputformat" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetInputFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getinputformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_ImageFormat <span class="hljs-title">HMS_HiAIAippParam_GetInputFormat</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的输入图像格式。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询输入图像格式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回HIAI_IMAGE_FORMAT_INVALID。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>，失败返回HIAI_IMAGE_FORMAT_INVALID。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h3 id="hms_hiaiaippparam_getinputindex" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetInputIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getinputindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">HMS_HiAIAippParam_GetInputIndex</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象所在输入的索引。</p> <p>本方法用于在多个输入情况下，查询AippParam对象所在输入的索引。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回-1。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回该AippParam对象所在输入的索引，失败返回-1。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="hms_hiaiaippparam_getinputshape" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetInputShape()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getinputshape" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetInputShape</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> * srcImageW, <span class="hljs-type">uint32_t</span> * srcImageH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的输入图像宽高。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询输入图像宽高。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>srcImageW</p> </td> <td class="cellrowborder" width="50%"><p>输入图像的宽度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>srcImageH</p> </td> <td class="cellrowborder" width="50%"><p>输入图像的高度，单位为像素。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1016px;"><h3 id="hms_hiaiaippparam_getpadconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetPadConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getpadconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetPadConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> * leftPadSize, <span class="hljs-type">uint32_t</span> * rightPadSize, <span class="hljs-type">uint32_t</span> * topPadSize, <span class="hljs-type">uint32_t</span> * bottomPadSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的输入图像的填充像素数。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的对输入图像的填充像素数。 当需要查询channel上的填充值时，需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_getchannelpadding">HMS_HiAIAippParam_GetChannelPadding</a>一起使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>leftPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像左侧Padding像素数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rightPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像右侧Padding像素数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>topPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像上侧Padding像素数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bottomPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像下侧Padding像素数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 882px;"><h3 id="hms_hiaiaippparam_getresizeconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetResizeConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getresizeconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetResizeConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> * resizedW, <span class="hljs-type">uint32_t</span> * resizedH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的图像缩放参数。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的缩放后图像宽高值。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>resizedW</p> </td> <td class="cellrowborder" width="50%"><p>缩放后图像宽度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>resizedH</p> </td> <td class="cellrowborder" width="50%"><p>缩放后图像高度，单位为像素。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 827px;"><h3 id="hms_hiaiaippparam_getrotationangle" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetRotationAngle()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getrotationangle" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_GetRotationAngle</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> * rotationAngle)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的图像旋转角度。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询对应索引的图像旋转角度。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rotationAngle</p> </td> <td class="cellrowborder" width="50%"><p>旋转角度。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h3 id="hms_hiaiaippparam_getsinglebatchmulticrop" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_GetSingleBatchMultiCrop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_getsinglebatchmulticrop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">HMS_HiAIAippParam_GetSingleBatchMultiCrop</span> <span class="hljs-params">(HiAI_AippParam * aippParam)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询AippParam对象的SingleBatchMultiCrop标识。</p> <p>本方法用于动态AIPP推理时，根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象查询是否为单batch多crop场景。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回真为单batch多crop场景，返回假为非单batch多crop场景。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 930px;"><h3 id="hms_hiaiaippparam_setchannelpadding" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetChannelPadding()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setchannelpadding" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetChannelPadding</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> paddingValues[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的通道padding填充值。</p> <p>本方法用于动态AIPP推理时，设置AIPP通道padding的填充值到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>paddingValues[]</p> </td> <td class="cellrowborder" width="50%"><p>通道填充值数组，填充值范围[-65504, 65504]，默认填充值为0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道填充数，当前支持[1, 4]，例如channelCount=3则对应配置通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1527px;"><h3 id="hms_hiaiaippparam_setchannelswapconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetChannelSwapConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setchannelswapconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetChannelSwapConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">bool</span> rbuvSwapSwitch, <span class="hljs-type">bool</span> axSwapSwitch)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的ChannelSwap通道交换参数。</p> <p>本方法用于动态AIPP推理时，设置AippParam通道交换参数到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 AIPP支持两种类型的通道交换：RB/UV通道交换和AX通道交换。 RB/UV通道交换丰富了输入图像的格式，开启RB/UV通道交换后，AIPP支持的图像输入格式比可配置的输入类型丰富了一倍。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.6.1.3.1.1" width="50%"><p>配置类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.3.1.2" width="50%"><p>可接受图像类型</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>YUV420SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV420SP_U8，YVU420 + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>XRGB8888_U8</p> </td> <td class="cellrowborder" width="50%"><p>XRGB8888_U8，XBGR + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>ARGB8888_U8</p> </td> <td class="cellrowborder" width="50%"><p>ARGB8888_U8，ABGR + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>RGB888_U8</p> </td> <td class="cellrowborder" width="50%"><p>BGR888_U8 + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>BGR888_U8</p> </td> <td class="cellrowborder" width="50%"><p>RGB888_U8 + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>YUYV_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUYV_U8，YVYU_U8 + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>YUV422SP_U8</p> </td> <td class="cellrowborder" width="50%"><p>YUV422SP_U8，YVU422_U8 + rbuv_swap_switch</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>AYUV444_U8</p> </td> <td class="cellrowborder" width="50%"><p>AYUV444_U8 + rbuv_swap_switch</p> </td> </tr>  </tbody></table></div> </div> <p>YUV400_U8是灰度图，不支持通道交换。</p> <p>当配置的图像输入格式为XRGB、ARGB或AYUV时，支持开启AX通道交换。开启后，图像第一个通道的输入被搬移到第四个通道上，即当XRGB、ARGB和AYUV开启AX通道交换后，转变为RGBX、RGBA和YUVA。 当模型训练集为RGB格式的图像，而推理时的图像输入为XRGB或者ARGB时，可以通过使能AX通道交换，将RGB通道前移，实现兼容。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rbuvSwapSwitch</p> </td> <td class="cellrowborder" width="50%"><p>参数真为使能RB/UV通道交换，参数假为不使能RB/UV通道交换。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>axSwapSwitch</p> </td> <td class="cellrowborder" width="50%"><p>参数真为使能AX通道交换，参数假为不使能AX通道交换。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1112px;"><h3 id="hms_hiaiaippparam_setcropconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetCropConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setcropconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetCropConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> startPosW, <span class="hljs-type">uint32_t</span> startPosH, <span class="hljs-type">uint32_t</span> croppedW, <span class="hljs-type">uint32_t</span> croppedH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的裁剪参数。</p> <p>本方法用于动态AIPP推理时，设置裁剪参数到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 YUV类型的图像受图像自身类型的限制，当输入图像类型为YUV420SP、YUYV、YUV422SP和AYUV444时，裁剪的起始坐标和裁剪的宽高需为是偶数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应即将crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>startPosW</p> </td> <td class="cellrowborder" width="50%"><p>裁剪起始位置水平方向坐标，startPosW小于输入图像的宽度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>startPosH</p> </td> <td class="cellrowborder" width="50%"><p>裁剪起始位置垂直方向坐标，startPosH小于输入图像的高度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>croppedW</p> </td> <td class="cellrowborder" width="50%"><p>裁剪出的图像宽度，startPosW与cropSizeW之和小于等于输入图像的宽度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>croppedH</p> </td> <td class="cellrowborder" width="50%"><p>裁剪出的图像高度，startPosH与cropSizeH之和小于等于输入图像的高度，单位为像素。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_setcscconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetCscConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setcscconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetCscConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, HiAI_ImageFormat inputFormat, HiAI_ImageFormat outputFormat, HiAI_ImageColorSpace space)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的CSC色域转换参数。</p> <p>本方法用于动态AIPP推理时，设置AippParam色域转换参数到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 色域转换（Color Space Conversion，以下简称CSC），特指在YUV444和RGB888两种图像格式之间进行转换。 输入为YUV格式图像(YUV420/YUYV/YUV422SP/AYUV444)，模型训练集可为RGB,BGR，灰度图（YUV400_U8）。 输入为RGB格式图像(XRGB8888/ARGB8888)，模型训练集可为YUV444SP，YVU444SP，灰度图（YUV400_U8）。 不支持从YUV400到RGB或BGR的转换。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputFormat</p> </td> <td class="cellrowborder" width="50%"><p>图像输入格式，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>outputFormat</p> </td> <td class="cellrowborder" width="50%"><p>图像输出格式，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>space</p> </td> <td class="cellrowborder" width="50%"><p>图像颜色空间类型，可参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imagecolorspace">HiAI_ImageColorSpace</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1146px;"><h3 id="hms_hiaiaippparam_setdtcmeanpixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetDtcMeanPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setdtcmeanpixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetDtcMeanPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> meanPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的数据类型转换通道像素平均值。</p> <p>数据类型转换（Data Type Conversion，简称DTC），用于将输入图像中像素值转换为模型训练时的数据类型。设置DTC参数，使得转换之后的数据在一个预期的范围，避免强制转换。 数据类型转化功能，将输入的图像数据类型通过转化公式转换为FP16类型送给后续模块计算，实际为依次执行减均值、减最小值和乘方差操作。</p> <p>计算公式为：U8-&gt;FP16: pixelOutChn(i) = [pixelInChn(i)–meanChn(i)–minChn(i)] * varReciChn(i), i ∈ [0, 4) 其中：pixelOutChn(i)为DTC模块的每个通道的输出值，pixelInChn(i)为DTC模块的每个通道的输入值，meanChn(i)为用户输入的每个通道的均值， minChn(i)为用户输入的每个通道的最小值， varReciChn(i)为用户输入的每个通道的方差。</p> <p>该方法用于动态AIPP推理时，设置DTC数据类型转换像素平均值到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcminpixel">HMS_HiAIAippParam_SetDtcMinPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcvarrecipixel">HMS_HiAIAippParam_SetDtcVarReciPixel</a>共同使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>meanPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素平均值数组，数组size为channelCount，默认值为0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，例如channelCount=3则对应配置通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_setdtcminpixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetDtcMinPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setdtcminpixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetDtcMinPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> minPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的数据类型转换通道像素最小值。</p> <p>该方法用于动态AIPP推理时，设置DTC数据类型转换像素最小值到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcmeanpixel">HMS_HiAIAippParam_SetDtcMeanPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcvarrecipixel">HMS_HiAIAippParam_SetDtcVarReciPixel</a>共同使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>minPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素最小值数组，数组size为channelCount，默认值为0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，例如channelCount=3则对应配置通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 954px;"><h3 id="hms_hiaiaippparam_setdtcvarrecipixel" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetDtcVarReciPixel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setdtcvarrecipixel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetDtcVarReciPixel</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> varReciPixel[], <span class="hljs-type">uint32_t</span> channelCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的数据类型转换通道像素方差。</p> <p>该方法用于动态AIPP推理时，设置DTC数据类型转换像素方差到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 该方法需配合<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcmeanpixel">HMS_HiAIAippParam_SetDtcMeanPixel</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setdtcminpixel">HMS_HiAIAippParam_SetDtcMinPixel</a>共同使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>varReciPixel[]</p> </td> <td class="cellrowborder" width="50%"><p>通道像素方差数组，数组size为channelCount，默认值为1.0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>channelCount</p> </td> <td class="cellrowborder" width="50%"><p>通道数量，取值范围为[1, 4]，例如channelCount=3则对应配置通道chn0, chn1, chn2的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaiaippparam_setinputaippindex" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetInputAippIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setinputaippindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetInputAippIndex</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> inputAippIndex)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象作用于该输入的多个输出分支上的索引。</p> <p>本方法用于在data有多个输出分支时，设置AippParam对象作用域该输入的第几个输出分支。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputAippIndex</p> </td> <td class="cellrowborder" width="50%"><p>用于标识AIPP配置参数在输入Data有多个输出分支时作用于第几个分支，从0开始计数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h3 id="hms_hiaiaippparam_setinputformat" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetInputFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setinputformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetInputFormat</span> <span class="hljs-params">(HiAI_AippParam * aippParam, HiAI_ImageFormat inputFormat)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的输入图像格式。</p> <p>本方法用于动态AIPP推理时，设置AIPP的输入图像格式到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 AIPP可配置的图像格式为<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>所支持的范围。 图像像素点为Uint8类型，范围为0到255。当图像的输入为YUV类型时，无论是YUV420还是YUV422或者YUYV，AIPP自动将图像数据补齐为YUV444格式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputFormat</p> </td> <td class="cellrowborder" width="50%"><p>输入图像的格式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaiaippparam_setinputindex" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetInputIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setinputindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetInputIndex</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> inputIndex)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam在输入上的索引。</p> <p>本方法用于在多个输入情况下，设置索引以确定该AippParam对象作用于第几个输入。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputIndex</p> </td> <td class="cellrowborder" width="50%"><p>用于标识此AIPP参数作用于模型的第几个输入，从0开始计数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="hms_hiaiaippparam_setinputshape" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetInputShape()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setinputshape" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetInputShape</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> srcImageW, <span class="hljs-type">uint32_t</span> srcImageH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的输入图像宽高。</p> <p>本方法用于动态AIPP推理时，设置输入图像宽高到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>srcImageW</p> </td> <td class="cellrowborder" width="50%"><p>输入图像的宽度，单位为像素，取值范围[16, 4096]。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>srcImageH</p> </td> <td class="cellrowborder" width="50%"><p>输入图像的高度，单位为像素，取值范围[16, 4096]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1112px;"><h3 id="hms_hiaiaippparam_setpadconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetPadConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setpadconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetPadConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> leftPadSize, <span class="hljs-type">uint32_t</span> rightPadSize, <span class="hljs-type">uint32_t</span> topPadSize, <span class="hljs-type">uint32_t</span> bottomPadSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的输入图像的填充像素数。</p> <p>本方法用于动态AIPP推理时，设置对输入图像的填充像素数到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。包含图像左右上下侧的Padding像素数。 当需要设置channel上的填充值时，需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_setchannelpadding">HMS_HiAIAippParam_SetChannelPadding</a>一起使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>leftPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像左侧Padding像素数，经过padding后的图像宽度，需与原始模型维度中宽度保持一致。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rightPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像右侧Padding像素数，经过padding后的图像宽度，需与原始模型维度中宽度保持一致。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>topPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像上侧Padding像素数，经过padding后的图像高度，需与原始模型维度中高度保持一致。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bottomPadSize</p> </td> <td class="cellrowborder" width="50%"><p>图像下侧Padding像素数，经过padding后的图像高度，需与原始模型维度中高度保持一致。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 930px;"><h3 id="hms_hiaiaippparam_setresizeconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetResizeConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setresizeconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetResizeConfig</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">uint32_t</span> resizedW, <span class="hljs-type">uint32_t</span> resizedH)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的图像缩放参数。</p> <p>本方法用于动态AIPP推理时，设置图像缩放参数到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。Resize的类型为双线性插值。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>resizedW</p> </td> <td class="cellrowborder" width="50%"><p>缩放后图像宽度，单位为像素，取值范围[16, 448]，图像宽度缩放倍数的范围[1/16, 16]。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>resizedH</p> </td> <td class="cellrowborder" width="50%"><p>缩放后图像高度，单位为像素，取值范围[16, 4096]，图像高度缩放倍数的范围[1/16, 16]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 827px;"><h3 id="hms_hiaiaippparam_setrotationangle" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetRotationAngle()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setrotationangle" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetRotationAngle</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">uint32_t</span> batchIndex, <span class="hljs-type">float</span> rotationAngle)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的旋转角度。</p> <p>本方法用于动态AIPP推理时，设置旋转角度到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>batchIndex</p> </td> <td class="cellrowborder" width="50%"><p>对于多batch单crop场景，对应输入的图像索引；对于单batch多crop场景，对应crop出来的图像索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>rotationAngle</p> </td> <td class="cellrowborder" width="50%"><p>旋转角度，仅支持0, 90, 180, 270。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h3 id="hms_hiaiaippparam_setsinglebatchmulticrop" device-type="phone,2in1,tablet,tv">HMS_HiAIAippParam_SetSingleBatchMultiCrop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaiaippparam_setsinglebatchmulticrop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIAippParam_SetSingleBatchMultiCrop</span> <span class="hljs-params">(HiAI_AippParam * aippParam, <span class="hljs-type">bool</span> singleBatchMultiCrop)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置AippParam对象的SingleBatchMultiCrop标识。</p> <p>本方法用于动态AIPP推理时，设置AippParam单batch多crop标识到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>对象。 对于单个batch的图像输入的场景，支持一次性传入多组crop等AIPP参数，一次推理即能得到全部人脸等的关键点信息。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>aippParam</p> </td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_aippparam">HiAI_AippParam</a>指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>singleBatchMultiCrop</p> </td> <td class="cellrowborder" width="50%"><p>参数真为单batch多crop场景，参数假为非单batch多crop场景。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="hms_hiaicompatibility_checkfrombuffer" device-type="phone,2in1,tablet,tv">HMS_HiAICompatibility_CheckFromBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaicompatibility_checkfrombuffer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_Compatibility <span class="hljs-title">HMS_HiAICompatibility_CheckFromBuffer</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">void</span> * data, <span class="hljs-type">size_t</span> size)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询编译后储存在内存中的模型的兼容性。 若发生不兼容情况，建议重新编译模型。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>data</p> </td> <td class="cellrowborder" width="50%"><p>编译后模型数据地址，非空，否则返回不兼容。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size</p> </td> <td class="cellrowborder" width="50%"><p>编译后模型数据大小，非空，否则返回不兼容。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回 <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_compatibility">HiAI_Compatibility</a>，失败返回不兼容。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 669px;"><h3 id="hms_hiaicompatibility_checkfromfile" device-type="phone,2in1,tablet,tv">HMS_HiAICompatibility_CheckFromFile()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaicompatibility_checkfromfile" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_Compatibility <span class="hljs-title">HMS_HiAICompatibility_CheckFromFile</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * file)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询编译后储存在文件中的模型的兼容性。 若发生不兼容情况，建议重新编译模型。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.77.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>file</p> </td> <td class="cellrowborder" width="50%"><p>编译后模型文件路径及名称，要求用户进程对文件有访问权限，非空，否则返回不兼容。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回 <a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_compatibility">HiAI_Compatibility</a>，失败返回不兼容。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getbandmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetBandMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getbandmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_BandMode <span class="hljs-title">HMS_HiAIOptions_GetBandMode</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询带宽模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.78.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回带宽模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_bandmode">HiAI_BandMode</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getdevicememoryreuseplan" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetDeviceMemoryReusePlan()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getdevicememoryreuseplan" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_DeviceMemoryReusePlan <span class="hljs-title">HMS_HiAIOptions_GetDeviceMemoryReusePlan</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询调优配置中的设备内存复用参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_devicememoryreuseplan">HiAI_DeviceMemoryReusePlan</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getdynamicshapecachemode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetDynamicShapeCacheMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getdynamicshapecachemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_DynamicShapeCacheMode <span class="hljs-title">HMS_HiAIOptions_GetDynamicShapeCacheMode</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询编译前可变shape配置中的cacheMode参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapecachemode">HiAI_DynamicShapeCacheMode</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getdynamicshapemaxcache" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetDynamicShapeMaxCache()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getdynamicshapemaxcache" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAIOptions_GetDynamicShapeMaxCache</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询编译前可变shape配置中的最大缓存数量。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.81.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回最大缓存数量，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getdynamicshapestatus" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetDynamicShapeStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getdynamicshapestatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_DynamicShapeStatus <span class="hljs-title">HMS_HiAIOptions_GetDynamicShapeStatus</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询编译前可变shape配置中的状态参数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.82.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapestatus">HiAI_DynamicShapeStatus</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getfallbackmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetFallbackMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getfallbackmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_FallbackMode <span class="hljs-title">HMS_HiAIOptions_GetFallbackMode</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询调优配置中的回滚模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.83.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_fallbackmode">HiAI_FallbackMode</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getformatmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetFormatMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getformatmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_FormatMode <span class="hljs-title">HMS_HiAIOptions_GetFormatMode</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询模型编译参数中的数据排列格式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.84.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_formatmode">HiAI_FormatMode</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 724px;"><h3 id="hms_hiaioptions_getinputtensorshape" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetInputTensorShape()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getinputtensorshape" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">NN_TensorDesc* <span class="hljs-title">HMS_HiAIOptions_GetInputTensorShape</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation, <span class="hljs-type">size_t</span> index)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询选项参数中指定索引的shape描述。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.85.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>index</p> </td> <td class="cellrowborder" width="50%"><p>输入shape的索引，取值为[0, <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_getinputtensorshapesize">HMS_HiAIOptions_GetInputTensorShapeSize</a>)。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回选项参数中的shape描述，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getinputtensorshapesize" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetInputTensorShapeSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getinputtensorshapesize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAIOptions_GetInputTensorShapeSize</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询选项参数中shape描述的个数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.86.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回选项参数中shape描述的个数，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getmodeldevicecount" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetModelDeviceCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getmodeldevicecount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAIOptions_GetModelDeviceCount</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询模型级调优配置中模型的执行设备个数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回执行设备的个数，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getmodeldeviceorder" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetModelDeviceOrder()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getmodeldeviceorder" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_ExecuteDevice* <span class="hljs-title">HMS_HiAIOptions_GetModelDeviceOrder</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询模型级调优配置中模型的执行设备列表。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.88.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a>执行设备列表，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="hms_hiaioptions_getoperatordevicecount" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetOperatorDeviceCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getoperatordevicecount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAIOptions_GetOperatorDeviceCount</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * operatorName)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询算子级调优配置中指定算子的执行设备个数。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.89.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>operatorName</p> </td> <td class="cellrowborder" width="50%"><p>算子名称，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回执行设备的个数，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="hms_hiaioptions_getoperatordeviceorder" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetOperatorDeviceOrder()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getoperatordeviceorder" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_ExecuteDevice* <span class="hljs-title">HMS_HiAIOptions_GetOperatorDeviceOrder</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * operatorName)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询算子级调优配置中指定算子的执行设备列表。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.90.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>operatorName</p> </td> <td class="cellrowborder" width="50%"><p>算子名称，非空，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a>执行设备列表，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getquantconfigdata" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetQuantConfigData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getquantconfigdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">HMS_HiAIOptions_GetQuantConfigData</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询量化配置的数据地址。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.91.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回量化配置的数据地址，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_getquantconfigsize" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetQuantConfigSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_getquantconfigsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAIOptions_GetQuantConfigSize</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询量化配置的数据大小。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回量化配置的数据大小，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_gettuningcachedir" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetTuningCacheDir()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_gettuningcachedir" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">HMS_HiAIOptions_GetTuningCacheDir</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询辅助调优的缓存目录。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.93.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回缓存目录，失败返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_gettuningmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetTuningMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_gettuningmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_TuningMode <span class="hljs-title">HMS_HiAIOptions_GetTuningMode</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询辅助调优模式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.94.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回辅助调优模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningmode">HiAI_TuningMode</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 645px;"><h3 id="hms_hiaioptions_gettuningstrategy" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_GetTuningStrategy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_gettuningstrategy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_TuningStrategy <span class="hljs-title">HMS_HiAIOptions_GetTuningStrategy</span> <span class="hljs-params">(<span class="hljs-type">const</span> OH_NNCompilation * compilation)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询模型优化策略。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回默认值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功返回<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningstrategy">HiAI_TuningStrategy</a>，失败返回默认值。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_setbandmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetBandMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setbandmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetBandMode</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_BandMode bandMode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置NPU与周边硬件IO资源的带宽模式。</p> <p>根据需要设置合适的值，带宽与功耗成正比，高带宽也意味着高功耗。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.96.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bandMode</p> </td> <td class="cellrowborder" width="50%"><p>带宽模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_bandmode">HiAI_BandMode</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_setdevicememoryreuseplan" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetDeviceMemoryReusePlan()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setdevicememoryreuseplan" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetDeviceMemoryReusePlan</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_DeviceMemoryReusePlan deviceMemoryReusePlan)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置调优配置中的设备内存复用参数。</p> <p>本方法仅在模型编译阶段生效。用于在调优时，指定设备内存复用方式。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.97.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.97.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>deviceMemoryReusePlan</p> </td> <td class="cellrowborder" width="50%"><p>设备内存复用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_devicememoryreuseplan">HiAI_DeviceMemoryReusePlan</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h3 id="hms_hiaioptions_setdynamicshapecachemode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetDynamicShapeCacheMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setdynamicshapecachemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetDynamicShapeCacheMode</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_DynamicShapeCacheMode mode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置编译前可变shape配置中的缓存模式参数。</p> <p>本方法仅在模型编译阶段生效，用于在推理阶段期望变更shape，且模型的shape变化数量不超过10个场景。 本方法需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapestatus">HMS_HiAIOptions_SetDynamicShapeStatus</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapemaxcache">HMS_HiAIOptions_SetDynamicShapeMaxCache</a>搭配使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.98.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>mode</p> </td> <td class="cellrowborder" width="50%"><p>编译前可变shape的缓存模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapecachemode">HiAI_DynamicShapeCacheMode</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaioptions_setdynamicshapemaxcache" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetDynamicShapeMaxCache()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setdynamicshapemaxcache" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetDynamicShapeMaxCache</span> <span class="hljs-params">(OH_NNCompilation * compilation, <span class="hljs-type">size_t</span> maxCacheCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置编译前可变shape配置中的最大缓存编译后模型数量。</p> <p>本方法仅在模型编译阶段生效，用于在推理阶段期望变更shape，且模型的shape变化数量不超过10个场景。 本方法需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapestatus">HMS_HiAIOptions_SetDynamicShapeStatus</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapecachemode">HMS_HiAIOptions_SetDynamicShapeCacheMode</a>搭配使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.99.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>maxCacheCount</p> </td> <td class="cellrowborder" width="50%"><p>最大档位，取值范围[1, 10]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaioptions_setdynamicshapestatus" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetDynamicShapeStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setdynamicshapestatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetDynamicShapeStatus</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_DynamicShapeStatus status)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置编译前可变shape配置中的EnableMode参数。</p> <p>本方法仅在模型编译阶段生效，用于在推理阶段期望变更shape，且模型的shape变化数量不超过10个场景。 本方法需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapemaxcache">HMS_HiAIOptions_SetDynamicShapeMaxCache</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_setdynamicshapecachemode">HMS_HiAIOptions_SetDynamicShapeCacheMode</a>搭配使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>status</p> </td> <td class="cellrowborder" width="50%"><p>是否使能编译前可变shape<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_dynamicshapestatus">HiAI_DynamicShapeStatus</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_setfallbackmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetFallbackMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setfallbackmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetFallbackMode</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_FallbackMode fallbackMode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置调优配置中的回滚模式。</p> <p>本方法仅在模型编译阶段生效。用于在模型级或算子级调优时，指定的执行设备列表出现不支持时，是否可回滚到其他硬件执行。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.101.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>fallbackMode</p> </td> <td class="cellrowborder" width="50%"><p>是否使能回滚模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_fallbackmode">HiAI_FallbackMode</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_setformatmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetFormatMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setformatmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetFormatMode</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_FormatMode formatMode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置模型编译时的数据排列格式。</p> <p>本方法仅在模型编译阶段生效，用于模型中的数据排列格式与默认值不匹配时的场景。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.102.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>formatMode</p> </td> <td class="cellrowborder" width="50%"><p>数据排列格式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_formatmode">HiAI_FormatMode</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 827px;"><h3 id="hms_hiaioptions_setinputtensorshapes" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetInputTensorShapes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setinputtensorshapes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetInputTensorShapes</span> <span class="hljs-params">(OH_NNCompilation * compilation, NN_TensorDesc * inputTensorDescs[], <span class="hljs-type">size_t</span> shapeCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>编译时更新模型输入shape。</p> <p>本方法仅在模型编译阶段生效，用于模型结构及权重不变，模型输入shape需要变化的场景。数组的大小需要与模型的输入数量保持一致。 模型编译后，模型的输入shape将变更为新设置的shape，推理时输入输出数据需符合新的模型输入输出描述。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.103.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.103.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputTensorDescs[]</p> </td> <td class="cellrowborder" width="50%"><p>模型输入shape列表数组NN_TensorDesc，非空。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>shapeCount</p> </td> <td class="cellrowborder" width="50%"><p>模型输入shape的个数，需与模型输入个数对应。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 827px;"><h3 id="hms_hiaioptions_setmodeldeviceorder" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetModelDeviceOrder()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setmodeldeviceorder" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetModelDeviceOrder</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_ExecuteDevice * executeDevices, <span class="hljs-type">size_t</span> deviceCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置模型级调优配置中模型执行设备列表。</p> <p>本方法仅在模型编译阶段生效，不可与其他调优混用。用于指定模型的执行设备列表，按照优先级顺序排列。默认NPU优先。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>executeDevices</p> </td> <td class="cellrowborder" width="50%"><p>支持的设备类型列表<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a>，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>deviceCount</p> </td> <td class="cellrowborder" width="50%"><p>支持的执行硬件个数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="hms_hiaioptions_setomoptions" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetOmOptions()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setomoptions" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-rust" data-highlighted="yes"><ol class="linenums"><li>OH_NN_ReturnCode <span class="hljs-title function_ invoke__">HMS_HiAIOptions_SetOmOptions</span> (OH_NNCompilation * compilation, HiAI_OmType <span class="hljs-keyword">type</span>, <span class="hljs-keyword">const</span> <span class="hljs-type">char</span> * outputDir)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置模型加载时的维测选项信息。</p> <p>该方法属于可选接口，在模型加载阶段生效，用于模型的性能调试。</p> <p><strong>起始版本：</strong> 5.1.0(18)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.105.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.105.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>type</p> </td> <td class="cellrowborder" width="50%"><p>维测类型<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_omtype">HiAI_OmType</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>outputDir</p> </td> <td class="cellrowborder" width="50%"><p>维测输出目录，用于生产profiling相关文件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 906px;"><h3 id="hms_hiaioptions_setoperatordeviceorder" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetOperatorDeviceOrder()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setoperatordeviceorder" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetOperatorDeviceOrder</span> <span class="hljs-params">(OH_NNCompilation * compilation, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * operatorName, HiAI_ExecuteDevice * executeDevices, <span class="hljs-type">size_t</span> deviceCount)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置算子级调优配置中算子执行设备列表。</p> <p>本方法仅在模型编译阶段生效，不可与其他调优混用。用于指定模型中算子的执行设备列表，按照优先级顺序排列，算子名称不可重复。 模型中的算子可以部分指定，不指定的算子以NPU优先，可以使用开源工具Netron查看模型中的算子名称。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.106.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.106.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>operatorName</p> </td> <td class="cellrowborder" width="50%"><p>算子名称，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>executeDevices</p> </td> <td class="cellrowborder" width="50%"><p>支持的设备类型列表<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_executedevice">HiAI_ExecuteDevice</a>，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>deviceCount</p> </td> <td class="cellrowborder" width="50%"><p>支持的执行硬件个数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="hms_hiaioptions_setquantconfig" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetQuantConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_setquantconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetQuantConfig</span> <span class="hljs-params">(OH_NNCompilation * compilation, <span class="hljs-type">void</span> * data, <span class="hljs-type">size_t</span> size)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置模型编译时量化配置。</p> <p>本方法仅在模型编译阶段生效。用于模型编译时进行量化的场景。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.107.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.107.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>data</p> </td> <td class="cellrowborder" width="50%"><p>量化配置的数据地址，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>size</p> </td> <td class="cellrowborder" width="50%"><p>量化配置的数据大小，大于0，否则返回失败。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_settuningcachedir" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetTuningCacheDir()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_settuningcachedir" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetTuningCacheDir</span> <span class="hljs-params">(OH_NNCompilation * compilation, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * cacheDir)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置辅助调优的缓存目录。</p> <p>要求用户进程对缓存目录有读写权限。本方法需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_settuningmode">HMS_HiAIOptions_SetTuningMode</a>搭配使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.108.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.108.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>cacheDir</p> </td> <td class="cellrowborder" width="50%"><p>缓存目录，非空，否则返回失败。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaioptions_settuningmode" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetTuningMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_settuningmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetTuningMode</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_TuningMode tuningMode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>选择辅助调优模式。</p> <p>本方法仅在模型编译阶段生效，不可与其他调优混用。用于指定CANN Kit协助进行调优的场景。 本方法需与<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaioptions_settuningcachedir">HMS_HiAIOptions_SetTuningCacheDir</a>搭配使用。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.109.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.109.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>tuningMode</p> </td> <td class="cellrowborder" width="50%"><p>辅助调优模式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningmode">HiAI_TuningMode</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 748px;"><h3 id="hms_hiaioptions_settuningstrategy" device-type="phone,2in1,tablet,tv">HMS_HiAIOptions_SetTuningStrategy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaioptions_settuningstrategy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAIOptions_SetTuningStrategy</span> <span class="hljs-params">(OH_NNCompilation * compilation, HiAI_TuningStrategy tuningStrategy)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置模型编译时的模型优化策略。</p> <p>本方法仅在模型编译阶段生效。用于模型算子深度融合的场景。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.110.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.110.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>compilation</p> </td> <td class="cellrowborder" width="50%"><p>OH_NNCompilation指针实例，非空，否则返回失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>tuningStrategy</p> </td> <td class="cellrowborder" width="50%"><p>模型优化策略配置<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_tuningstrategy">HiAI_TuningStrategy</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleopbuffer_create" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpBuffer_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopbuffer_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpBuffer* <span class="hljs-title">HMS_HiAISingleOpBuffer_Create</span> <span class="hljs-params">(<span class="hljs-type">size_t</span> dataSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>按照指定的内存大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。</p> <p>本方法用于根据指定的<strong>dataSize</strong>申请对应大小的ION内存，并创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象时， 调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_destroy">HMS_HiAISingleOpBuffer_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.111.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>dataSize</p> </td> <td class="cellrowborder" width="50%"><p>要申请的内存字节大小。该值不能为0，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleopbuffer_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpBuffer_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopbuffer_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpBuffer_Destroy</span> <span class="hljs-params">(HiAI_SingleOpBuffer ** buffer)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。</p> <p>本方法用于释放调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_create">HMS_HiAISingleOpBuffer_Create</a>创建的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.112.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>buffer</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的二级指针。<strong>buffer</strong>和<strong>*buffer</strong>不能是空指针，否则返回错误码。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleopbuffer_getdata" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpBuffer_GetData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopbuffer_getdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">HMS_HiAISingleOpBuffer_GetData</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpBuffer * buffer)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的内存地址。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的内存地址。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.113.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>buffer</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>Buffer的内存地址。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleopbuffer_getsize" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpBuffer_GetSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopbuffer_getsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAISingleOpBuffer_GetSize</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpBuffer * buffer)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的字节大小。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的字节大小。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.114.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.114.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>buffer</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的指针。该值不能为空指针，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>Buffer的字节大小。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 796px;"><h3 id="hms_hiaisingleopdescriptor_createactivation" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpDescriptor_CreateActivation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopdescriptor_createactivation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpDescriptor* <span class="hljs-title">HMS_HiAISingleOpDescriptor_CreateActivation</span> <span class="hljs-params">(HiAI_SingleOpActivationType activationType, <span class="hljs-type">float</span> coef)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建激活函数类的描述符对象。</p> <p>本方法用于根据传入的参数创建激活函数类的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象。当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_destroy">HMS_HiAISingleOpDescriptor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.115.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.115.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>activationType</p> </td> <td class="cellrowborder" width="50%"><p>激活模式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>coef</p> </td> <td class="cellrowborder" width="50%"><p>如果激活模式为带系数的激活类型，该值表示系数。否则，该值不会生效。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 741px;"><h3 id="hms_hiaisingleopdescriptor_createconvolution" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpDescriptor_CreateConvolution()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopdescriptor_createconvolution" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpDescriptor* <span class="hljs-title">HMS_HiAISingleOpDescriptor_CreateConvolution</span> <span class="hljs-params">(HiAISingleOpDescriptor_ConvolutionParam param)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建卷积类（普通卷积、转置卷积、深度卷积）的描述符对象。</p> <p>本方法用于根据传入的参数创建卷积类的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象。当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopdescriptor_destroy">HMS_HiAISingleOpDescriptor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.116.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.116.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>param</p> </td> <td class="cellrowborder" width="50%"><p>详细输入参数参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopdesc-convparam">HiAISingleOpDescriptor_ConvolutionParam</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="hms_hiaisingleopdescriptor_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpDescriptor_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopdescriptor_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HMS_HiAISingleOpDescriptor_Destroy</span> <span class="hljs-params">(HiAI_SingleOpDescriptor ** opDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象时，调用该接口销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.117.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.117.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>opDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopdescriptor">HiAI_SingleOpDescriptor</a>对象的二级指针。<strong>opDesc</strong>和<strong>*opDesc</strong>不能是空指针，否则销毁失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 813px;"><h3 id="hms_hiaisingleopexecutor_createconvolution" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_CreateConvolution()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_createconvolution" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpExecutor* <span class="hljs-title">HMS_HiAISingleOpExecutor_CreateConvolution</span> <span class="hljs-params">(HiAI_SingleOpExecutorConvolutionParam param)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建卷积类算子对应的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_destroy">HMS_HiAISingleOpExecutor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p>对于输出Tensor描述，其数据类型和排布格式可以同时为HIAI_SINGLEOP_DT_UNDEFINED和HIAI_SINGLEOP_FORMAT_RESERVED。在这种情况下，执行器会将输出的数据类型和排布格式设置为适配硬件的类型。该接口执行成功后，可以调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_updateoutputtensordesc">HMS_HiAISingleOpExecutor_UpdateOutputTensorDesc</a>更新输出Tensor描述的数据类型和排布格式。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>param</p> </td> <td class="cellrowborder" width="50%"><p>详细输入参数参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针，如果创建失败，则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 837px;"><h3 id="hms_hiaisingleopexecutor_createfusedconvolutionactivation" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_createfusedconvolutionactivation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpExecutor* <span class="hljs-title">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</span> <span class="hljs-params">(HiAI_SingleOpExecutorFusedConvolutionActivationParam param)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建卷积和激活融合算子对应的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_destroy">HMS_HiAISingleOpExecutor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p>对于输出Tensor描述，其数据类型和排布格式可以为HIAI_SINGLEOP_DT_UNDEFINED和HIAI_SINGLEOP_FORMAT_RESERVED。在这种情况下，执行器会将输出的数据类型和排布格式设置为适配硬件的类型。该接口执行成功后，可以调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_updateoutputtensordesc">HMS_HiAISingleOpExecutor_UpdateOutputTensorDesc</a>更新输出Tensor描述的数据类型和排布格式。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.119.9.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.119.9.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>param</p> </td> <td class="cellrowborder" width="50%"><p>详细输入参数参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针，如果创建失败，则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 789px;"><h3 id="hms_hiaisingleopexecutor_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpExecutor_Destroy</span> <span class="hljs-params">(HiAI_SingleOpExecutor ** executor)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象，释放执行器占用的内存。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象时，调用该接口销毁，否则会造成内存泄漏。</p> <p>注意：该接口不会释放传递给<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_init">HMS_HiAISingleOpExecutor_Init</a>的工作空间内存，工作空间所属的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>需要单独释放。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>executor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的二级指针。<strong>executor</strong>和<strong>*executor</strong>不能是空指针，否则返回错误码。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 985px;"><h3 id="hms_hiaisingleopexecutor_execute" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_Execute()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_execute" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpExecutor_Execute</span> <span class="hljs-params">(HiAI_SingleOpExecutor * executor, HiAI_SingleOpTensor * input[], <span class="hljs-type">int32_t</span> inputNum, HiAI_SingleOpTensor * output[], <span class="hljs-type">int32_t</span> outputNum)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>执行同步运算推理。</p> <p>在调用该接口前，需要先通过<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromtensordesc">HMS_HiAISingleOpTensor_CreateFromTensorDesc</a>或<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromsingleopbuffer">HMS_HiAISingleOpTensor_CreateFromSingleOpBuffer</a>接口创建输入和输出Tensor并填充输入Tensor数据。执行器会通过执行推理产生推理结果，并将结果写入输出Tensor中。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.121.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>executor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针。该值不能为空指针，否则返回错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>input[]</p> </td> <td class="cellrowborder" width="50%"><p>输入Tensor的数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>inputNum</p> </td> <td class="cellrowborder" width="50%"><p>输入Tensor的数量。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>output[]</p> </td> <td class="cellrowborder" width="50%"><p>输出Tensor的数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>outputNum</p> </td> <td class="cellrowborder" width="50%"><p>输出Tensor的数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 789px;"><h3 id="hms_hiaisingleopexecutor_getworkspacesize" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_GetWorkspaceSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_getworkspacesize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAISingleOpExecutor_GetWorkspaceSize</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpExecutor * executor)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>所需的ION内存工作空间的字节大小。</p> <p>在成功创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>后，调用该接口获取执行器所需的ION内存工作空间的字节大小，然后需要调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_create">HMS_HiAISingleOpBuffer_Create</a>申请足够的工作空间内存，将分配的工作空间传入<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_init">HMS_HiAISingleOpExecutor_Init</a>接口。</p> <p>注意：同一个执行器的工作空间内存和输入、输出Tensor内存不能复用，不同执行器的工作空间内存可以复用。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.122.9.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.122.9.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>executor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针。该值不能为空指针，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>工作空间的字节大小。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 899px;"><h3 id="hms_hiaisingleopexecutor_init" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_Init()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_init" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpExecutor_Init</span> <span class="hljs-params">(HiAI_SingleOpExecutor * executor, <span class="hljs-type">void</span> * workspace, <span class="hljs-type">size_t</span> workspaceSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>加载<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>。</p> <p>在调用该接口之前，需要申请执行器所需的工作空间内存。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.123.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.123.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>executor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针。该值不能为空指针，否则返回错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>workspace</p> </td> <td class="cellrowborder" width="50%"><p>工作空间地址。当<strong>workspaceSize</strong>不为0时，该值必须为<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>中的内存地址，否则返回错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>workspaceSize</p> </td> <td class="cellrowborder" width="50%"><p>提供的<strong>workspace</strong>的字节大小。该值必须大于等于<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_getworkspacesize">HMS_HiAISingleOpExecutor_GetWorkspaceSize</a>获取的所需工作空间大小， 否则返回错误码。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 741px;"><h3 id="hms_hiaisingleopexecutor_precheckconvolution" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_PreCheckConvolution()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_precheckconvolution" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpSupportStatus <span class="hljs-title">HMS_HiAISingleOpExecutor_PreCheckConvolution</span> <span class="hljs-params">(HiAI_SingleOpExecutorConvolutionParam param)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>预查询卷积算子的支持状态。</p> <p>根据该接口的返回值确定是否调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createconvolution">HMS_HiAISingleOpExecutor_CreateConvolution</a>来创建卷积执行器，也可以不调用本方法，直接调用创建卷积执行器。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.124.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.124.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>param</p> </td> <td class="cellrowborder" width="50%"><p>详细输入参数参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-convparam">HiAI_SingleOpExecutorConvolutionParam</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>支持状态。具体状态请参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopsupportstatus">HiAI_SingleOpSupportStatus</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 765px;"><h3 id="hms_hiaisingleopexecutor_precheckfusedconvolutionactivation" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_PreCheckFusedConvolutionActivation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_precheckfusedconvolutionactivation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpSupportStatus <span class="hljs-title">HMS_HiAISingleOpExecutor_PreCheckFusedConvolutionActivation</span> <span class="hljs-params">(HiAI_SingleOpExecutorFusedConvolutionActivationParam param)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>预查询卷积和激活融合算子的支持状态。</p> <p>根据该接口的返回值确定是否调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopexecutor_createfusedconvolutionactivation">HMS_HiAISingleOpExecutor_CreateFusedConvolutionActivation</a>来创建卷积激活融合执行器，也可以不调用本方法，直接创建卷积激活融合执行器。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.125.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>param</p> </td> <td class="cellrowborder" width="50%"><p>详细输入参数参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cannkit-sopexec-fusedconv-actparam">HiAI_SingleOpExecutorFusedConvolutionActivationParam</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>支持状态。具体状态请参考<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopsupportstatus">HiAI_SingleOpSupportStatus</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 899px;"><h3 id="hms_hiaisingleopexecutor_updateoutputtensordesc" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpExecutor_UpdateOutputTensorDesc()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopexecutor_updateoutputtensordesc" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpExecutor_UpdateOutputTensorDesc</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpExecutor * executor, <span class="hljs-type">uint32_t</span> index, HiAI_SingleOpTensorDesc * output)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>更新<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>的输出tensor描述。</p> <p>如果在创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>时，输入参数<strong>output</strong>数据类型为HIAI_SINGLEOP_DT_UNDEFINED，且排布格式为HIAI_SINGLEOP_FORMAT_RESERVED，那么在成功创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>后，调用该接口将输出Tensor描述更新为硬件适配的数据类型和排布格式。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.126.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.126.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>executor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopexecutor">HiAI_SingleOpExecutor</a>对象的指针。该值不能为空指针，否则返回错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>index</p> </td> <td class="cellrowborder" width="50%"><p>输出Tensor描述的索引，与创建executor时的输出顺序一致。索引值从0开始。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>output</p> </td> <td class="cellrowborder" width="50%"><p>需要更新的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 522px;"><h3 id="hms_hiaisingleopoptions_create" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpOptions_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopoptions_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpOptions* <span class="hljs-title">HMS_HiAISingleOpOptions_Create</span> <span class="hljs-params">(<span class="hljs-type">void</span>)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopoptions_destroy">HMS_HiAISingleOpOptions_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="hms_hiaisingleopoptions_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpOptions_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleopoptions_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HMS_HiAISingleOpOptions_Destroy</span> <span class="hljs-params">(HiAI_SingleOpOptions ** options)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象。</p> <p>本方法用于释放调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopoptions_create">HMS_HiAISingleOpOptions_Create</a>创建的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.128.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>options</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopoptions">HiAI_SingleOpOptions</a>对象的二级指针。<strong>options</strong>和<strong>*options</strong>不能是空指针，否则销毁失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1043px;"><h3 id="hms_hiaisingleoptensor_createfromconst" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_CreateFromConst()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_createfromconst" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpTensor* <span class="hljs-title">HMS_HiAISingleOpTensor_CreateFromConst</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * desc, <span class="hljs-type">void</span> * data, <span class="hljs-type">size_t</span> dataSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>、常量数据（如卷积权重、偏置等）的内存地址和数据大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> <p>本方法用于根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>和常量数据（如卷积权重、偏置等）的内存地址和数据大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> <p>本方法直接复用<strong>data</strong>和<strong>dataSize</strong>对应的常量数据，不会进行数据的拷贝。因此，在本方法创建的Tensor仍要被使用时，不要释放该Tensor对应的常量数据内存。本方法仅读取<strong>data</strong>和<strong>dataSize</strong>对应的常量数据，不会修改其数据。</p> <p>注意：该接口会将<strong>desc</strong>拷贝到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>中。因此，当<strong>desc</strong>不再使用时，请使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_destroy">HMS_HiAISingleOpTensorDesc_Destroy</a>销毁<strong>desc</strong>。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_destroy">HMS_HiAISingleOpTensor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.129.11.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.11.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>desc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>data</p> </td> <td class="cellrowborder" width="50%"><p>常量数据地址。该值不能为空指针，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>dataSize</p> </td> <td class="cellrowborder" width="50%"><p>常量数据大小。该值不能为0，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1019px;"><h3 id="hms_hiaisingleoptensor_createfromsingleopbuffer" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_CreateFromSingleOpBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_createfromsingleopbuffer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpTensor* <span class="hljs-title">HMS_HiAISingleOpTensor_CreateFromSingleOpBuffer</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * desc, <span class="hljs-type">void</span> * data, <span class="hljs-type">size_t</span> dataSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的内存地址和数据大小创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> <p>本方法复用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>的ION内存，所复用的内存地址和大小由<strong>data</strong>和<strong>dataSize</strong>确定。<strong>dataSize</strong>必须等于通过<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getbytesize">HMS_HiAISingleOpTensorDesc_GetByteSize</a>计算得到的<strong>desc</strong>的字节大小。当调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_destroy">HMS_HiAISingleOpTensor_Destroy</a>接口销毁该接口创建的Tensor时，不会释放该Tensor数据的内存。</p> <p>注意：该接口会将<strong>desc</strong>拷贝到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>中。因此，当<strong>desc</strong>不再使用时，请使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_destroy">HMS_HiAISingleOpTensorDesc_Destroy</a>销毁<strong>desc</strong>。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_destroy">HMS_HiAISingleOpTensor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.130.10.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.130.10.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>desc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>data</p> </td> <td class="cellrowborder" width="50%"><p>Tensor数据地址。该值必须是<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>中的内存地址，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>dataSize</p> </td> <td class="cellrowborder" width="50%"><p>Tensor数据大小。该值不能为0，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 861px;"><h3 id="hms_hiaisingleoptensor_createfromtensordesc" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_CreateFromTensorDesc()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_createfromtensordesc" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpTensor* <span class="hljs-title">HMS_HiAISingleOpTensor_CreateFromTensorDesc</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * desc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> <p>本方法使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_getbytesize">HMS_HiAISingleOpTensorDesc_GetByteSize</a>计算Tensor数据的字节数， 并使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleopbuffer_create">HMS_HiAISingleOpBuffer_Create</a>为Tensor数据分配ION内存。设备驱动将通过“零拷贝”的方式直接获取张量数据。</p> <p>注意：该接口会将<strong>desc</strong>拷贝到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>中。因此，当<strong>desc</strong>不再使用时，请使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_destroy">HMS_HiAISingleOpTensorDesc_Destroy</a>销毁<strong>desc</strong>。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_destroy">HMS_HiAISingleOpTensor_Destroy</a>销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.131.10.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.10.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>desc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的指针，如果创建失败则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensor_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAISingleOpTensor_Destroy</span> <span class="hljs-params">(HiAI_SingleOpTensor ** tensor)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象。</p> <p>当不再使用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象时，需要调用该接口销毁该对象，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.132.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的二级指针。<strong>tensor</strong>和<strong>*tensor</strong>不能是空指针，否则返回错误码。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行的结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensor_getbuffer" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_GetBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_getbuffer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpBuffer* <span class="hljs-title">HMS_HiAISingleOpTensor_GetBuffer</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensor * tensor)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>的Buffer。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.133.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.133.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleopbuffer">HiAI_SingleOpBuffer</a>对象的指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensor_gettensordesc" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensor_GetTensorDesc()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensor_gettensordesc" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpTensorDesc* <span class="hljs-title">HMS_HiAISingleOpTensor_GetTensorDesc</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensor * tensor)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>的Tensor描述。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.134.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.134.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensor</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象的指针。该值不能为空指针，否则返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1225px;"><h3 id="hms_hiaisingleoptensordesc_create" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpTensorDesc* <span class="hljs-title">HMS_HiAISingleOpTensorDesc_Create</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">int64_t</span> * dims, <span class="hljs-type">size_t</span> dimNum, HiAI_SingleOpDataType dataType, HiAI_SingleOpFormat format, <span class="hljs-type">bool</span> isVirtual)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> <p>本方法用于根据传入的维度、数据类型、排布格式等参数创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> <p>可以调用以下接口，基于传入的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>指针创建<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>对象： <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromtensordesc">HMS_HiAISingleOpTensor_CreateFromTensorDesc</a>、<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromsingleopbuffer">HMS_HiAISingleOpTensor_CreateFromSingleOpBuffer</a>、 <a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensor_createfromconst">HMS_HiAISingleOpTensor_CreateFromConst</a>。</p> <p>注意：这些接口会将<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象复制到<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensor">HiAI_SingleOpTensor</a>中。 当<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象不再使用时，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_destroy">HMS_HiAISingleOpTensorDesc_Destroy</a>接口销毁，否则会造成内存泄漏。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.135.10.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>dims</p> </td> <td class="cellrowborder" width="50%"><p>张量维度列表。该值不能为空指针，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>dimNum</p> </td> <td class="cellrowborder" width="50%"><p>张量维度数量。该值不能为0，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>dataType</p> </td> <td class="cellrowborder" width="50%"><p>张量数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>format</p> </td> <td class="cellrowborder" width="50%"><p>张量排布格式。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>isVirtual</p> </td> <td class="cellrowborder" width="50%"><p>表示张量是否是虚拟张量。true表示该张量为虚拟张量，false表示该张量为非虚拟张量。虚拟张量是相连的CANN Kit单算子之间的中间张量，其中的数据仅暂时存在，不经非CANN Kit单算子内存读取或写入。例如， 若CANN Kit单算子A的输出张量T1仅作为CANN Kit单算子B的输入张量，且用户只读取单算子B的输出张量T2，不会读取或写入T1，那么T1需要被设置为虚拟张量，而T2则是非虚拟张量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针，如果创建失败，则返回空指针。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="hms_hiaisingleoptensordesc_destroy" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HMS_HiAISingleOpTensorDesc_Destroy</span> <span class="hljs-params">(HiAI_SingleOpTensorDesc ** tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> <p>本方法用于释放调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaisingleoptensordesc_create">HMS_HiAISingleOpTensorDesc_Create</a>创建的<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.136.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.136.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的二级指针。 <strong>tensorDesc</strong>和<strong>*tensorDesc</strong>不能为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensordesc_getbytesize" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_GetByteSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_getbytesize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAISingleOpTensorDesc_GetByteSize</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询基于<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的维度和数据类型计算的数据占用字节数。</p> <p>本方法用于获取基于<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的维度和数据类型计算得到的数据占用字节数。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.137.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.137.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>张量的数据字节数。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensordesc_getdatatype" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_GetDataType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_getdatatype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpDataType <span class="hljs-title">HMS_HiAISingleOpTensorDesc_GetDataType</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的数据类型。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的数据类型。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.138.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.138.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回HIAI_SINGLEOP_DT_UNDEFINED。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>张量的数据类型。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 772px;"><h3 id="hms_hiaisingleoptensordesc_getdimension" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_GetDimension()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_getdimension" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int64_t</span> <span class="hljs-title">HMS_HiAISingleOpTensorDesc_GetDimension</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc, <span class="hljs-type">size_t</span> index)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>指定索引的维度长度。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的某个维度的长度。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.139.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.139.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>index</p> </td> <td class="cellrowborder" width="50%"><p>维度的索引值。索引从0开始。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>张量的索引为<strong>index</strong>的维度的长度，如果执行失败，则返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensordesc_getdimensioncount" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_GetDimensionCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_getdimensioncount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAISingleOpTensorDesc_GetDimensionCount</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的维度数量。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的维度数量。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.140.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.140.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回0。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>张量的维度数量，如果执行失败，则返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 717px;"><h3 id="hms_hiaisingleoptensordesc_getformat" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_GetFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_getformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">HiAI_SingleOpFormat <span class="hljs-title">HMS_HiAISingleOpTensorDesc_GetFormat</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>的排布格式。</p> <p>本方法用于获取指定<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的排布格式。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.141.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.141.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回HIAI_SINGLEOP_FORMAT_RESERVED。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>张量的排布格式。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 765px;"><h3 id="hms_hiaisingleoptensordesc_isvirtual" device-type="phone,2in1,tablet,tv">HMS_HiAISingleOpTensorDesc_IsVirtual()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaisingleoptensordesc_isvirtual" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">HMS_HiAISingleOpTensorDesc_IsVirtual</span> <span class="hljs-params">(<span class="hljs-type">const</span> HiAI_SingleOpTensorDesc * tensorDesc)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>是否为虚拟张量。</p> <p>虚拟张量是相连的CANN Kit单算子之间的中间张量，其中的数据仅暂时存在，不经非CANN Kit单算子内存读取或写入。例如，若CANN Kit单算子A的输出张量T1仅作为CANN Kit单算子B的输入张量，且用户只读取单算子B的输出张量T2，不会读取或写入T1， 那么T1需要被设置为虚拟张量，而T2则是非虚拟张量。</p> <p><strong>起始版本：</strong> 5.0.0(12)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.142.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.142.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensorDesc</p> </td> <td class="cellrowborder" width="50%"><p>指向<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_singleoptensordesc">HiAI_SingleOpTensorDesc</a>对象的指针。该值不能为空指针，否则返回false。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>如果张量是虚拟张量，则返回true，否则返回false。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="hms_hiaitensor_getsizewithimageformat" device-type="phone,2in1,tablet,tv">HMS_HiAITensor_GetSizeWithImageFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaitensor_getsizewithimageformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">HMS_HiAITensor_GetSizeWithImageFormat</span> <span class="hljs-params">(NN_TensorDesc * desc, HiAI_ImageFormat format)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据NN_TensorDesc和HiAI_ImageFormat计算申请tensor的大小。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.143.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>desc</p> </td> <td class="cellrowborder" width="50%"><p>NN_TensorDesc指针实例，非空，否则返回0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>format</p> </td> <td class="cellrowborder" width="50%"><p>图像的格式<a href="/consumer/cn/doc/harmonyos-references/cannkit#hiai_imageformat">HiAI_ImageFormat</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>成功时返回计算后需要申请的tensor的大小，失败返回0。</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="hms_hiaitensor_setaippparams" device-type="phone,2in1,tablet,tv">HMS_HiAITensor_SetAippParams()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hms_hiaitensor_setaippparams" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-tgc-c106="" class="highlight-div"><div _ngcontent-tgc-c106="" class="highlight-div-header"><div _ngcontent-tgc-c106="" class="highlight-div-header-left"><div _ngcontent-tgc-c106="" class="handle-button expand-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tgc-c106="" class="highlight-div-header-right"><div _ngcontent-tgc-c106="" class="handle-button ai-button"></div><div _ngcontent-tgc-c106="" class="handle-button line-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tgc-c106="" class="handle-button theme-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tgc-c106="" class="handle-button copy-button"><div _ngcontent-tgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tgc-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NN_ReturnCode <span class="hljs-title">HMS_HiAITensor_SetAippParams</span> <span class="hljs-params">(NN_Tensor * tensor, HiAI_AippParam * aippParams[], <span class="hljs-type">size_t</span> aippNum)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>给NN_Tensor设置AippParams。</p> <p>AIPP参数设置给NN_Tensor后，其内存在tensor使用完成后，调用<a href="/consumer/cn/doc/harmonyos-references/cannkit#hms_hiaiaippparam_destroy">HMS_HiAIAippParam_Destroy</a>释放。</p> <p><strong>起始版本：</strong> 4.1.0(11)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.144.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.144.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>tensor</p> </td> <td class="cellrowborder" width="50%"><p>NN_Tensor指针实例，非空，否则返回空指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>aippParams[]</p> </td> <td class="cellrowborder" width="50%"><p>AIPP参数数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>aippNum</p> </td> <td class="cellrowborder" width="50%"><p>AIPP参数数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>函数执行结果状态。执行成功返回OH_NN_SUCCESS；失败返回具体错误码，具体失败错误码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-neural-network-runtime-type-h#oh_nn_returncode" target="_blank">OH_NN_ReturnCode</a>。</p> </div> </div> <div></div></div>