<h1 _ngcontent-vlu-c119="" class="doc-title ng-star-inserted" title="CanvasRenderingContext2D"> CanvasRenderingContext2D </h1>

<div _ngcontent-vlu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>使用RenderingContext在Canvas组件上进行绘制，绘制对象可以是矩形、文本、图片等。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>从API version 8开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>      <p>本文绘制接口在调用时会存入被关联的Canvas组件的指令队列中。仅当当前帧进入渲染阶段且关联的Canvas组件处于可见状态时，这些指令才会从队列中被提取并执行。因此，在Canvas组件不可见的情况下，应尽量避免频繁调用绘制接口，以防止指令在队列中堆积，从而避免内存占用过大的问题，具体示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-drawing-customization-on-canvas#控制在画布组件不可见时不进行绘制" target="_blank">控制在画布组件不可见时不进行绘制</a>。</p>      <p><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#beginpath">beginPath</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#moveto">moveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#lineto">lineTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#closepath">closePath</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#beziercurveto">bezierCurveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#quadraticcurveto">quadraticCurveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#arc">arc</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#arcto">arcTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#ellipse">ellipse</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#rect">rect</a>和<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#roundrect20">roundRect</a>接口只能对CanvasRenderingContext2D中的路径生效，无法对<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d">OffscreenCanvasRenderingContext2D</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a>对象中设置的路径生效。</p>      <p>Canvas组件的宽或高超过8000px时使用CPU渲染，会导致性能明显下降。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;">     <h2 id="构造函数" device-type="phone,2in1,tablet,wearable,tv">构造函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="构造函数" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 669px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(settings?: RenderingContextSettings)</p>     <p>构造Canvas画布对象，支持配置CanvasRenderingContext2D对象的参数。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 在API version 11中，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">settings</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置CanvasRenderingContext2D对象的参数，见<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>。</p>          <p>异常值undefined和null按<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>的默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 2200px;">     <h3 id="constructor12" device-type="phone,2in1,tablet,wearable,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(settings?: RenderingContextSettings, unit?: LengthMetricsUnit)</p>     <p>构造Canvas画布对象，支持配置CanvasRenderingContext2D对象的参数和单位模式。</p>     <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 在API version 12中，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">settings</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置CanvasRenderingContext2D对象的参数，见<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>。</p>          <p>异常值undefined和null按<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>的默认值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">unit</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetricsunit12">LengthMetricsUnit</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置CanvasRenderingContext2D对象的单位模式，配置后无法更改。</p>          <p>异常值undefined、NaN和Infinity按默认值处理。</p>          <p>默认值：DEFAULT</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>以下示例展示了配置CanvasRenderingContext2D对象的单位模式，默认单位模式为LengthMetricsUnit.DEFAULT，对应默认单位vp，配置后无法动态更改。详细说明见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetricsunit12">LengthMetricsUnit</a>。</p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetricsUnit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LengthMetricsUnitDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">contextPX</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>, <span class="hljs-title class_">LengthMetricsUnit</span>.<span class="hljs-property">PX</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">contextVP</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contextPX</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">contextPX</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">contextPX</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>)</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contextVP</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">contextVP</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">contextVP</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="282" originwidth="283" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.85796012604328061755457815671556:50001231000000:2800:A8CB273E31D3B78BD3CA183D4DA6E854E114D67FBAF02E1F2B3A48EFD4B9946D.png" class="notEnlarge" width="283" height="282"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 17684px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#fillstyle">fillStyle</a></td>         <td class="cellrowborder" width="20%">string |number<sup>10+</sup> |<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定绘制的填充色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>- 类型为string时，表示设置填充区域的颜色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>- 类型为number时，表示设置填充区域的颜色，不支持设置全透明色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中number类型说明。</p>          <p>- 类型为CanvasGradient时，表示渐变对象，使用<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#createlineargradient">createLinearGradient</a>方法创建。</p>          <p>- 类型为CanvasPattern时，使用<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#createpattern">createPattern</a>方法创建。</p>          <p>默认值：'#000000'（黑色）</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#linewidth">lineWidth</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制线条的宽度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：1(px)</p>          <p>默认单位：vp</p>          <p>lineWidth取值不支持0和负数，0、负数和NaN按默认值处理，Infinity会导致lineWidth属性异常。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#strokestyle">strokeStyle</a></td>         <td class="cellrowborder" width="20%">string |number<sup>10+</sup> |<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置线条的颜色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>- 类型为string时，表示设置线条使用的颜色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>- 类型为number时，表示设置线条使用的颜色，不支持设置全透明色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中number类型说明。</p>          <p>- 类型为CanvasGradient时，表示渐变对象，使用<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#createlineargradient">createLinearGradient</a>方法创建。</p>          <p>- 类型为CanvasPattern时，使用<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#createpattern">createPattern</a>方法创建。</p>          <p>默认值：'#000000'（黑色）</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#linecap">lineCap</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvaslinecap类型说明">CanvasLineCap</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定线端点的样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'butt'：线端点以方形结束。</p>          <p>- 'round'：线端点以圆形结束。</p>          <p>- 'square'：线端点以方形结束，该样式下会增加一个长度和线段厚度相同，宽度是线段厚度一半的矩形。</p>          <p>默认值：'butt'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#linejoin">lineJoin</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvaslinejoin类型说明">CanvasLineJoin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定线段间相交的交点样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'round'：在线段相连处绘制一个扇形，扇形的圆角半径是线段的宽度。</p>          <p>- 'bevel'：在线段相连处使用三角形为底填充， 每个部分矩形拐角独立。</p>          <p>- 'miter'：在相连部分的外边缘处进行延伸，使其相交于一点，形成一个菱形区域，该属性可以通过设置miterLimit属性展现效果。</p>          <p>默认值：'miter'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#miterlimit">miterLimit</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置斜接面限制值，该值指定了线条相交处内角和外角的距离，仅当设置了lineJoin为miter才生效，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：10px</p>          <p>单位：px</p>          <p>miterLimit取值不支持0和负数，0、负数和NaN按默认值处理，Infinity会导致miterLimit属性异常。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#font">font</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的字体样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>语法：ctx.font = 'font-style font-weight font-size font-family'</p>          <p>- font-style(可选)，用于指定字体样式，支持如下几种样式：'normal','italic'。</p>          <p>- font-weight(可选)，用于指定字体的粗细，支持如下几种类型：'normal', 'bold', 'bolder', 'lighter', 100, 200, 300, 400, 500, 600, 700, 800, 900。</p>          <p>- font-size(可选)，指定字号和行高，单位支持px、vp。使用时需要添加单位。</p>          <p>- font-family(可选)，指定字体系列，支持如下几种类型：'sans-serif', 'serif', 'monospace'。API version 20及以后支持注册过的自定义字体（DevEco Studio的预览器不支持显示自定义字体），具体使用方法参考自定义字体<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#font">font</a>示例。</p>          <p>默认值：'normal normal 14px sans-serif'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#textalign">textAlign</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextalign类型说明">CanvasTextAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的文本对齐方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'left'：文本左对齐。</p>          <p>- 'right'：文本右对齐。</p>          <p>- 'center'：文本居中对齐。</p>          <p>- 'start'：文本对齐界线开始的地方。</p>          <p>- 'end'：文本对齐界线结束的地方。</p>          <p>ltr布局模式下'start'和'left'一致，rtl布局模式下'start'和'right'一致。</p>          <p>默认值：'left'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#textbaseline">textBaseline</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasTextBaseline</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的水平对齐方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'alphabetic'：文本基线是标准的字母基线。</p>          <p>- 'top'：文本基线在文本块的顶部。</p>          <p>- 'hanging'：文本基线是悬挂基线。</p>          <p>- 'middle'：文本基线在文本块的中间。</p>          <p>- 'ideographic'：文字基线是表意字基线；如果字符本身超出了alphabetic基线，那么ideographic基线位置在字符本身的底部。</p>          <p>- 'bottom'：文本基线在文本块的底部。 与ideographic基线的区别在于ideographic基线不需要考虑下行字母。</p>          <p>默认值：'alphabetic'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#globalalpha">globalAlpha</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置透明度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>范围为[0.0, 1.0]，0.0为完全透明，1.0为完全不透明。若给定值小于0.0，则取值0.0；若给定值大于1.0，则取值1.0.</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制。API version 18及以后，设置NaN或Infinity时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认值：1.0</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#linedashoffset">lineDashOffset</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置画布的虚线偏移量，精度为float，仅当设置setLineDash时属性才生效，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>API version 18之前，设置NaN或Infinity时，设置了虚线样式的线条绘制出来是实线。API version 18及以后，设置NaN或Infinity时当前接口不生效，设置了虚线样式的线条绘制出来是虚线。</p>          <p>默认值：0.0</p>          <p>默认单位：vp</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#globalcompositeoperation">globalCompositeOperation</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置合成操作的方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>类型字段可选值有'source-over'，'source-atop'，'source-in'，'source-out'，'destination-over'，'destination-atop'，'destination-in'，'destination-out'，'lighter'，'copy'，'xor'。</p>          <p>默认值：'source-over'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#shadowblur">shadowBlur</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时的模糊级别，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>值越大越模糊，精度为float，取值范围≥0。</p>          <p>默认值：0.0</p>          <p>单位：px</p>          <p>shadowBlur取值不支持负数，负数、NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#shadowcolor">shadowColor</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时的阴影颜色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>默认值：透明黑色</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#shadowoffsetx">shadowOffsetX</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时和原有对象的水平偏移值，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：0.0</p>          <p>默认单位：vp</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#shadowoffsety">shadowOffsetY</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时和原有对象的垂直偏移值，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：0.0</p>          <p>默认单位：vp</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#imagesmoothingenabled">imageSmoothingEnabled</a></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置绘制图片时是否进行图像平滑度调整，true为启用，false为不启用，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：true</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#height">height</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>组件高度。</p>          <p>默认单位：vp</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#width">width</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>组件宽度。</p>          <p>默认单位：vp</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#imagesmoothingquality">imageSmoothingQuality</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#imagesmoothingquality类型说明">ImageSmoothingQuality</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>imageSmoothingEnabled为true时，用于设置图像平滑度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值："low"</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#direction">direction</a></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasdirection类型说明">CanvasDirection</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置绘制文字时使用的文字方向，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值："inherit"</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#filter">filter</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置图像的滤镜，可以组合任意数量的滤镜，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>支持的滤镜效果如下：</p>          <p>- 'none': 无滤镜效果。</p>          <p>- 'blur(&lt;length&gt;)'：给图像设置高斯模糊，取值范围≥0，支持单位px、vp、rem，默认值：blur(0px)。</p>          <p>- 'brightness([&lt;number&gt;|&lt;percentage&gt;])'：给图片应用一种线性乘法，使其看起来更亮或更暗，支持数字和百分比参数，取值范围≥0，默认值：brightness(1)。</p>          <p>- 'contrast([&lt;number&gt;|&lt;percentage&gt;])'：调整图像的对比度，支持数字和百分比参数，取值范围≥0，默认值：contrast(1)。</p>          <p>- 'grayscale([&lt;number&gt;|&lt;percentage&gt;])'：将图像转换为灰度图像，支持数字和百分比参数，取值范围[0, 1]，默认值：grayscale(0)。</p>          <p>- 'hue-rotate(&lt;angle&gt;)'：给图像应用色相旋转，取值范围0deg-360deg，默认值：hue-rotate(0deg)。</p>          <p>- 'invert([&lt;number&gt;|&lt;percentage&gt;])'：反转输入图像，支持数字和百分比参数，取值范围[0, 1]，默认值：invert(0)。</p>          <p>- 'opacity([&lt;number&gt;|&lt;percentage&gt;])'：转化图像的透明程度，支持数字和百分比参数，取值范围[0, 1]，默认值：opacity(1)。</p>          <p>- 'saturate([&lt;number&gt;|&lt;percentage&gt;])'：转换图像饱和度，支持数字和百分比参数，取值范围≥0，默认值：saturate(1)。</p>          <p>- 'sepia([&lt;number&gt;|&lt;percentage&gt;])'：将图像转换为深褐色，支持数字和百分比参数，取值范围[0, 1]，默认值：sepia(0)。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvas13">canvas<sup>13+</sup></a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>获取和CanvasRenderingContext2D关联的Canvas组件的FrameNode实例。</p>          <p>可用于监听关联的Canvas组件的可见状态。</p>          <p>默认值：null</p>          <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#letterspacing18">letterSpacing<sup>18+</sup></a></td>         <td class="cellrowborder" width="20%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于指定绘制文本时字母之间的间距，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>当使用LengthMetrics时：</p>          <p>字间距按照指定的单位设置；</p>          <p>不支持FP、PERCENT和LPX（按无效值处理）；</p>          <p>支持负数和小数，设为小数时字间距不四舍五入。</p>          <p>当使用string时：</p>          <p>不支持设置百分比（按无效值处理）；</p>          <p>支持负数和小数，设为小数时字间距不四舍五入；</p>          <p>若letterSpacing的赋值未指定单位（例如：letterSpacing='10'），且未指定LengthMetricsUnit时，默认单位设置为vp；</p>          <p>指定LengthMetricsUnit为px时，默认单位设置为px；</p>          <p>当letterSpacing的赋值指定单位时（例如：letterSpacing='10vp'），字间距按照指定的单位设置。</p>          <p>默认值：0（输入无效值时，字间距设为默认值）</p>          <p>注：推荐使用LengthMetrics，性能更好。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>fillStyle、shadowColor与 strokeStyle 中string类型格式为rgb(255, 255, 255)、rgba(255, 255, 255, 1.0)或者#FFFFFF。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 787px;">     <h3 id="fillstyle" class="firsth2">fillStyle<i class="anchor-icon anchor-icon-link" anchorid="fillstyle" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="95" originwidth="98" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.47311574125526898308087362310511:50001231000000:2800:582F3FAC0E370890A2C34565258B470BF0735D84EC4199F25D400C8F998F11E1.png" class="notEnlarge" width="98" height="95"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 811px;">     <h3 id="linewidth">lineWidth<i class="anchor-icon anchor-icon-link" anchorid="linewidth" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineWidthExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">85</span>, <span class="hljs-number">105</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="103" originwidth="98" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.66280495561859480163120177950250:50001231000000:2800:30B225466A9DEA07B67DB641DE629BCB37CEA46083F6974672940DE9420E421F.png" class="notEnlarge" width="98" height="103"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 803px;">     <h3 id="strokestyle">strokeStyle<i class="anchor-icon anchor-icon-link" anchorid="strokestyle" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">155</span>, <span class="hljs-number">105</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="71" originwidth="111" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.55154343745774845005435729328314:50001231000000:2800:5A3E3FBB4CF0915AC34E10AC0AE5F9B06BCAAC2FC0927C277652CEB5E8C12816.png" class="notEnlarge" width="111" height="71"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 876px;">     <h3 id="linecap">lineCap<i class="anchor-icon anchor-icon-link" anchorid="linecap" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineCapExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">220</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="72" originwidth="133" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.95975126287936304686562761884212:50001231000000:2800:B865E337C00E7F5181363C442B2F09E2E6C02CC102876A8DE42888201FD8A792.png" class="notEnlarge" width="133" height="72"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 926px;">     <h3 id="linejoin">lineJoin<i class="anchor-icon anchor-icon-link" anchorid="linejoin" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineJoinExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">120</span>, <span class="hljs-number">60</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">110</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="98" originwidth="124" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.96598921289077559761867934218242:50001231000000:2800:05CEB887161587358D1A54E2DC74F1F01002418C02D33B94E524CB8CC37414AC.png" class="notEnlarge" width="124" height="98"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 909px;">     <h3 id="miterlimit">miterLimit<i class="anchor-icon anchor-icon-link" anchorid="miterlimit" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MiterLimit</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">miterLimit</span> = <span class="hljs-number">3</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">35</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">37</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="81" originwidth="111" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.86168548877950714438418231957251:50001231000000:2800:34DF7B2E47BDF351EAEEDCC53E29982C6C80A27D1984A955C7FF07DFAC918586.png" class="notEnlarge" width="111" height="81"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1416px;">     <h3 id="font">font<i class="anchor-icon anchor-icon-link" anchorid="font" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>自定义字体注册有以下两种方式。一种是通过ArkUI的异步接口this.uiContext.getFont().<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-font#registerfont">registerFont</a>注册，调用后立即绘制可能会导致自定义字体不生效。另一种是直接调用字体引擎的fontCollection.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#loadfontsync">loadFontSync</a>接口来注册自定义字体到字体引擎。在直接调用字体引擎接口注册自定义字体时，fontCollection的实例需要是text.FontCollection.getGlobalInstance()，因为组件默认会从该实例加载字体。如果使用其他实例，可能会导致自定义字体不生效。</p>      </div></div></div>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FontDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 常规字体样式，常规粗细，字体大小为30px，字体系列为sans-serif</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'normal normal 30px sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello px"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">60</span>)</li><li>          <span class="hljs-comment">// 斜体样式，加粗，字体大小为30vp，字体系列为monospace</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'italic bold 30vp monospace'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello vp"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-comment">// 加载rawfile目录下的自定义字体文件HarmonyOS_Sans_Thin_Italic.ttf</span></li><li>          <span class="hljs-keyword">let</span> fontCollection = text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>();</li><li>          fontCollection.<span class="hljs-title function_">loadFontSync</span>(<span class="hljs-string">'HarmonyOS_Sans_Thin_Italic'</span>, $rawfile(<span class="hljs-string">"HarmonyOS_Sans_Thin_Italic.ttf"</span>))</li><li>          <span class="hljs-comment">// 加粗，字体大小为30vp，字体系列为HarmonyOS_Sans_Thin_Italic</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">"bold 30vp HarmonyOS_Sans_Thin_Italic"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello customFont"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">140</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="256" originwidth="424" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.44826856903497822929718628152205:50001231000000:2800:4DB418BD18A4531823D155D8E23A595C73861C353E9478950DBFE01EF6822245.jpeg" width="424" height="256"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1130px;">     <h3 id="textalign">textAlign<i class="anchor-icon anchor-icon-link" anchorid="textalign" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">140</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">140</span>, <span class="hljs-number">160</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'18px sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'start'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=start'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">60</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'end'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=end'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">80</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'left'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=left'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=center'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'right'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=right'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">140</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="110" originwidth="134" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.39061356838932542415652366090277:50001231000000:2800:6EE4B5CD5BA04417C8CC8349A2900714FC022060106B46EFCB76D487AE1934CE.png" class="notEnlarge" width="134" height="110"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1250px;">     <h3 id="textbaseline">textBaseline<i class="anchor-icon anchor-icon-link" anchorid="textbaseline" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TextBaseline</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'20px sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'top'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Top'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'bottom'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Bottom'</span>, <span class="hljs-number">55</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Middle'</span>, <span class="hljs-number">125</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'alphabetic'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Alphabetic'</span>, <span class="hljs-number">195</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'hanging'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Hanging'</span>, <span class="hljs-number">295</span>, <span class="hljs-number">120</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="230" originwidth="660" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.90729311791942951180751417500588:50001231000000:2800:926853F031E35ECEA0CCF78384157579103EAC23687C9E6F3DDEC6BD6E76051E.jpg" width="660" height="230"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 993px;">     <h3 id="globalalpha">globalAlpha<i class="anchor-icon anchor-icon-link" anchorid="globalalpha" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GlobalAlpha</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.4</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="213" originwidth="222" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.13058793199808669377909224926732:50001231000000:2800:7701427B46051FB788504890450823CB8B7F91C8FE3B9553C1B3E59CDF2DA017.png" class="notEnlarge" width="222" height="213"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1006px;">     <h3 id="linedashoffset">lineDashOffset<i class="anchor-icon anchor-icon-link" anchorid="linedashoffset" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineDashOffset</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>,<span class="hljs-number">20</span>])</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineDashOffset</span> = <span class="hljs-number">10.0</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="191" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.60914701377362523270671264039838:50001231000000:2800:CA78D70C524D9221BFF4A2E789B1D71D598AF9F309633FE890E3853E4A03578E.png" class="notEnlarge" width="191" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1656px;">     <h3 id="globalcompositeoperation">globalCompositeOperation<i class="anchor-icon anchor-icon-link" anchorid="globalcompositeoperation" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">source-over</td>         <td class="cellrowborder" width="50%">在现有绘制内容上显示新绘制内容，属于默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-atop</td>         <td class="cellrowborder" width="50%">在现有绘制内容顶部显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-in</td>         <td class="cellrowborder" width="50%">在现有绘制内容中显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-out</td>         <td class="cellrowborder" width="50%">在现有绘制内容之外显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-over</td>         <td class="cellrowborder" width="50%">在新绘制内容上方显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-atop</td>         <td class="cellrowborder" width="50%">在新绘制内容顶部显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-in</td>         <td class="cellrowborder" width="50%">在新绘制内容中显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-out</td>         <td class="cellrowborder" width="50%">在新绘制内容外显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">lighter</td>         <td class="cellrowborder" width="50%">显示新绘制内容和现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">copy</td>         <td class="cellrowborder" width="50%">显示新绘制内容而忽略现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">xor</td>         <td class="cellrowborder" width="50%">使用异或操作对新绘制内容与现有绘制内容进行融合。</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GlobalCompositeOperation</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'source-over'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-over'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="83" originwidth="152" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.51550927592609873492290566422210:50001231000000:2800:12C25383E05AF132E753B19AD868E9AFA0908D3BB6C2D6C8228D789F0761D8D8.png" class="notEnlarge" width="152" height="83"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 971px;">     <h3 id="shadowblur">shadowBlur<i class="anchor-icon anchor-icon-link" anchorid="shadowblur" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowBlur</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="215" originwidth="233" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.74207509524278830384958146420535:50001231000000:2800:B5C3A20BB64A48243DCDDE7B05545F93AD432F346C93C30E4081A622E9B5DFB6.png" class="notEnlarge" width="233" height="215"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 965px;">     <h3 id="shadowcolor">shadowColor<i class="anchor-icon anchor-icon-link" anchorid="shadowcolor" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowColor</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="209" originwidth="189" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.72447464499725854980198331412895:50001231000000:2800:0C0B389479AD7891721B4184848043009F05609D711821135263BBBEDC544A3D.png" class="notEnlarge" width="189" height="209"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 886px;">     <h3 id="shadowoffsetx">shadowOffsetX<i class="anchor-icon anchor-icon-link" anchorid="shadowoffsetx" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowOffsetX</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">20</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="106" originwidth="123" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.65350044237610123802353762350167:50001231000000:2800:6FF873F03BB69FFDBD845E755B2E732C95EBF01C8404905C62EEFE9A11CC1D3F.png" class="notEnlarge" width="123" height="106"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 874px;">     <h3 id="shadowoffsety">shadowOffsetY<i class="anchor-icon anchor-icon-link" anchorid="shadowoffsety" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowOffsetY</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">20</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="118" originwidth="120" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.23171419769977363690256916371007:50001231000000:2800:1BD4156BE9A652B69C598F65FAB0E97E5B00FB4B8F8844B3B6BD40B39ECDE6B2.png" class="notEnlarge" width="120" height="118"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1092px;">     <h3 id="imagesmoothingenabled">imageSmoothingEnabled<i class="anchor-icon anchor-icon-link" anchorid="imagesmoothingenabled" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageSmoothingEnabled</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-comment">// "common/images/icon.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/icon.jpg"</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">imageSmoothingEnabled</span> = <span class="hljs-literal">false</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>( <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">400</span>,<span class="hljs-number">200</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="336" originwidth="418" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.92015629373576688983239285550710:50001231000000:2800:E1098EF62F84B4265C3B3E814AD143868E6686FB9AC264C5B9A47A11A7A21904.png" width="418" height="336"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 908px;">     <h3 id="height">height<i class="anchor-icon anchor-icon-link" anchorid="height" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">HeightExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> h = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">height</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, h/<span class="hljs-number">2</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="200" originwidth="200" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.16156700634073215120709301541040:50001231000000:2800:97985C767F4E465627662CD773B41CF2C33AD3985CD8B6C533878F61FDF51B0F.png" class="notEnlarge" width="200" height="200"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 908px;">     <h3 id="width">width<i class="anchor-icon anchor-icon-link" anchorid="width" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WidthExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> w = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">width</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w/<span class="hljs-number">2</span>, <span class="hljs-number">300</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="200" originwidth="200" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.64723921531277635667116675941261:50001231000000:2800:CC85C3C8E8F20449F57DD04D72E36066AB947464F2EB0650A0924BB138664157.png" class="notEnlarge" width="200" height="200"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1160px;">     <h3 id="canvas13">canvas<sup>13+</sup><i class="anchor-icon anchor-icon-link" anchorid="canvas13" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">canvas</span></li><li>          node?.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnVisibleAreaApproximateChange</span>(</li><li>            { <span class="hljs-attr">ratios</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-attr">expectedUpdateInterval</span>: <span class="hljs-number">10</span>},</li><li>            <span class="hljs-function">(<span class="hljs-params">isVisible: <span class="hljs-built_in">boolean</span>, currentRatio: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (!isVisible &amp;&amp; currentRatio &lt;= <span class="hljs-number">0.0</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">'Canvas is completely invisible.'</span></li><li>              }</li><li>              <span class="hljs-keyword">if</span> (isVisible &amp;&amp; currentRatio &gt;= <span class="hljs-number">1.0</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">'Canvas is fully visible.'</span></li><li>              }</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">reset</span>()</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30vp sans-serif'</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>            }</li><li>          )</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="92" originwidth="386" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.79323037476447433155074026236549:50001231000000:2800:2B455672FB320AC031D1F5B05F7C832BB0182657BE24371F4889E099BA2770D1.png" width="386" height="92"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1251px;">     <h3 id="imagesmoothingquality">imageSmoothingQuality<i class="anchor-icon anchor-icon-link" anchorid="imagesmoothingquality" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">ImageSmoothingQualityDemo</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>            ctx.<span class="hljs-property">imageSmoothingEnabled</span> = <span class="hljs-literal">true</span></li><li>            ctx.<span class="hljs-property">imageSmoothingQuality</span> = <span class="hljs-string">'high'</span></li><li>            ctx.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">200</span>)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="447" originwidth="717" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.40077164719470345050703426297362:50001231000000:2800:48C27BC4225948311C316BC65DC6579252AEE60AE0FB440599E742AFF9C383A9.jpeg" width="717" height="447"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1183px;">     <h3 id="direction">direction<i class="anchor-icon anchor-icon-link" anchorid="direction" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">DirectionDemo</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>            ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'48px serif'</span>;</li><li>            ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'start'</span></li><li>            ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hi ltr!"</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">direction</span> = <span class="hljs-string">"rtl"</span>;</li><li>            ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hi rtl!"</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="355" originwidth="719" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115524.09635797246008953981650771876312:50001231000000:2800:F65AAA5738D1E241F38DB0E54B4CE1EF1ABF7ECD03F05518CA32777EA542ED32.jpeg" width="719" height="355"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2174px;">     <h3 id="filter">filter<i class="anchor-icon anchor-icon-link" anchorid="filter" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">FilterDemo</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>            <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span></li><li>
</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'grayscale(50%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'sepia(60%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'saturate(30%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'hue-rotate(90deg)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'invert(100%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'opacity(25%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'brightness(0.4)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'contrast(200%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'blur(5px)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            <span class="hljs-comment">// Applying multiple filters</span></li><li>            ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'opacity(50%) contrast(200%) grayscale(50%)'</span>;</li><li>            ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="650" originwidth="720" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.23019910805271952645406540498439:50001231000000:2800:9AE0E5FFD072AEEDB0F9D036B29FDD7931009C7D94674858076DBF93EA13B7EF.jpeg" width="720" height="650"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1006px;">     <h3 id="letterspacing18">letterSpacing<sup>18+</sup><i class="anchor-icon anchor-icon-link" anchorid="letterspacing18" tips="复制节点链接"></i></h3>          <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span>, <span class="hljs-title class_">LengthUnit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct letterSpacingDemo {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30vp'</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">letterSpacing</span> = <span class="hljs-string">'10vp'</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">letterSpacing</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LengthMetrics</span>(<span class="hljs-number">10</span>, <span class="hljs-title class_">LengthUnit</span>.<span class="hljs-property">VP</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="178" originwidth="468" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.49496403540628448794855745138430:50001231000000:2800:2DFBCF4BE4885ABA3221E41F0446E5D535EAC7CE34BC565E2144C4C1EA0BB514.jpeg" width="468" height="178"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="方法" device-type="phone,2in1,tablet,wearable,tv">方法<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="方法" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>以下方法在隐藏页面中调用会产生缓存，应避免在隐藏页面中频繁刷新Canvas。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1901px;">     <h3 id="fillrect" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">fillRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fillrect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fillRect(x: number, y: number, w: number, h: number): void</p>     <p>填充一个矩形。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形左上角点的x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形左上角点的y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>       })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="221" originwidth="194" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.69359292160046501507608871943030:50001231000000:2800:AF6C8A233C5EC2641B2495C4A4E4B5081C68B15BB7A29C6CE022C71A62AD67F3.jpg" class="notEnlarge" width="194" height="221"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1922px;">     <h3 id="strokerect" device-type="phone,2in1,tablet,wearable,tv">strokeRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokerect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeRect(x: number, y: number, w: number, h: number): void</p>     <p>绘制具有边框的矩形，矩形内部不填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="226" originwidth="160" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.21502558144533208135803921054923:50001231000000:2800:3EF6679D1994A608160EB9DECB50FB1158F766C39488BFF7106EF50C9E53DF44.png" class="notEnlarge" width="160" height="226"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1965px;">     <h3 id="clearrect" device-type="phone,2in1,tablet,wearable,tv">clearRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearrect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearRect(x: number, y: number, w: number, h: number): void</p>     <p>删除指定区域内的绘制内容。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形上的左上角x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形上的左上角y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ClearRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>,<span class="hljs-number">20</span>,<span class="hljs-number">200</span>,<span class="hljs-number">200</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">30</span>,<span class="hljs-number">30</span>,<span class="hljs-number">150</span>,<span class="hljs-number">100</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="221" originwidth="160" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.98886436853817728528545150762786:50001231000000:2800:04C05F36A5F7CCACAB62BEF3560C08F3B86FAAC5AEA58DA83C03FF39AD27A610.png" class="notEnlarge" width="160" height="221"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1921px;">     <h3 id="filltext" device-type="phone,2in1,tablet,wearable,tv">fillText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="filltext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fillText(text: string, x: number, y: number, maxWidth?: number): void</p>     <p>绘制填充类文本。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本内容。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的x轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的y轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">maxWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定文本允许的最大宽度。</p>          <p>异常值null按无效值处理，不进行绘制，undefined、NaN或Infinity按默认值处理。</p>          <p>默认值：不限制宽度。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30px sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="225" originwidth="190" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.46523039321178930054471646446563:50001231000000:2800:81F37180B26DE01477E143FB566F34338ADF1584B3B79B24B9771B49CA9F27F9.png" class="notEnlarge" width="190" height="225"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1775px;">     <h3 id="stroketext" device-type="phone,2in1,tablet,wearable,tv">strokeText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroketext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeText(text: string, x: number, y: number, maxWidth?: number): void</p>     <p>绘制描边类文本。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本内容。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的x轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的y轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">maxWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本的最大宽度。</p>          <p>异常值null按无效值处理，不进行绘制，undefined、NaN或Infinity按默认值处理。</p>          <p>默认单位：vp</p>          <p>默认值：不限制宽度。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'50vp sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">60</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="55" originwidth="240" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.40935708072737372961613874359134:50001231000000:2800:B628CF9E91030FA3609E66F22CE2229348E2F1146E4330B921CBC62CE765796F.jpg" class="notEnlarge" width="240" height="55"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1600px;">     <h3 id="measuretext" device-type="phone,2in1,tablet,wearable,tv">measureText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measuretext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>measureText(text: string): TextMetrics</p>     <p>该方法返回一个文本测算的对象，通过该对象可以获取指定文本的宽度值。不同设备上获取的宽度值可能不同。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要进行测量的文本。</p>          <p>传入异常值undefined或null时按"undefined"或"null"计算。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#textmetrics">TextMetrics</a></td>         <td class="cellrowborder" width="50%">文本的尺寸信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MeasureText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'50px sans-serif'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"width:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">measureText</span>(<span class="hljs-string">"Hello World!"</span>).<span class="hljs-property">width</span>, <span class="hljs-number">20</span>, <span class="hljs-number">200</span>)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="132" originwidth="273" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.88432837734751520717447098484935:50001231000000:2800:C035EE22596D799B17F707B06E20166581E974185402902C16D0D5BEC3AA4AEC.jpg" class="notEnlarge" width="273" height="132"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1389px;">     <h3 id="stroke" device-type="phone,2in1,tablet,wearable,tv">stroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroke" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stroke(): void</p>     <p>根据当前的路径，进行边框绘制操作。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Stroke</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">125</span>, <span class="hljs-number">25</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">125</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">175</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">175</span>, <span class="hljs-number">25</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="243" originwidth="402" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.24735686344038279032962323777665:50001231000000:2800:F2B323527EBE4D42570A1B267C79A69FEA11704806A7335C2D2BBFA138C4AEF3.png" width="402" height="243"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1573px;">     <h3 id="stroke-1" device-type="phone,2in1,tablet,wearable,tv">stroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroke-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stroke(path: Path2D): void</p>     <p>根据指定的路径，进行边框绘制操作。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的Path2D。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Stroke</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">path2Da</span>: <span class="hljs-title class_">Path2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">25</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">75</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">75</span>, <span class="hljs-number">25</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="204" originwidth="324" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.76935759037841460431118216233336:50001231000000:2800:6372499A8B36F52E0338B1AD5237417027EAC117236E77953F9939456A9B742C.png" width="324" height="204"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1458px;">     <h3 id="beginpath" device-type="phone,2in1,tablet,wearable,tv">beginPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beginpath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginPath(): void</p>     <p>创建一个新的绘制路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BeginPath</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">6</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">15</span>, <span class="hljs-number">80</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">240</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">15</span>, <span class="hljs-number">240</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="240" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.37949754604447669767144400951720:50001231000000:2800:CAA4686130B2F3D1355DE33F5133866EC76A9D65A840ADF889E0B258834ED536.png" width="318" height="240"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2008px;">     <h3 id="moveto" device-type="phone,2in1,tablet,wearable,tv">moveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="moveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveTo(x: number, y: number): void</p>     <p>路径从当前点移动到指定点。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的x坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的y坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>API version 18之前，若未执行moveTo接口或moveTo接口传入无效参数，路径以(0,0)为起点。</p>       <p>API version 18及以后，若未执行moveTo接口或moveTo接口传入无效参数，路径以初次调用的lineTo、arcTo、bezierCurveTo或quadraticCurveTo接口中的起始点为起点。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MoveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="94" originwidth="148" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.64310363592743221412119222986514:50001231000000:2800:FBB977E1A00FC7D94BCD81BEBC9F7965660AEA6F3B25F14D4AC67A2EEB76A715.png" class="notEnlarge" width="148" height="94"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1868px;">     <h3 id="lineto" device-type="phone,2in1,tablet,wearable,tv">lineTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lineto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lineTo(x: number, y: number): void</p>     <p>从当前点到指定点进行路径连接。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的x坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的y坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="94" originwidth="148" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.88117911453938592660402253852155:50001231000000:2800:5D5B023B41C1558280E3C229656737C8955BDDE3DF3B12E39A706D0CEA89B91A.png" class="notEnlarge" width="148" height="94"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1223px;">     <h3 id="closepath" device-type="phone,2in1,tablet,wearable,tv">closePath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closepath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closePath(): void</p>     <p>结束当前路径，形成一个封闭路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ClosePath</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">30</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">70</span>, <span class="hljs-number">90</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">closePath</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="77" originwidth="82" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.35223066068625067622466713256343:50001231000000:2800:5647BF337E5940E6A0319DD7BDFD2423A3C3E2989F333BA57B2841C7394AC55B.png" class="notEnlarge" width="82" height="77"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2317px;">     <h3 id="createpattern" device-type="phone,2in1,tablet,wearable,tv">createPattern<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createpattern" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createPattern(image: ImageBitmap, repetition: string | null): CanvasPattern | null</p>     <p>通过指定图像和重复方式创建图片填充的模板。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图源对象，具体参考ImageBitmap对象。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">repetition</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置图像重复的方式：</p>          <p>'repeat'：沿x轴和y轴重复绘制图像；</p>          <p>'repeat-x'：沿x轴重复绘制图像；</p>          <p>'repeat-y'：沿y轴重复绘制图像；</p>          <p>'no-repeat'：不重复绘制图像；</p>          <p>'clamp'：在原始边界外绘制时，超出部分使用边缘的颜色绘制；</p>          <p>'mirror'：沿x轴和y轴重复翻转绘制图像。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a> | null</td>         <td class="cellrowborder" width="50%">通过指定图像和重复方式创建图片填充的模板对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreatePattern</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-comment">// "common/images/icon.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/icon.jpg"</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> pattern = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createPattern</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-string">'repeat'</span>)</li><li>          <span class="hljs-keyword">if</span> (pattern) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = pattern</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="348" originwidth="396" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.59128492824582992577248176618857:50001231000000:2800:617700FC69671144A58F3A7D5754D5A9259520B8A22193F51631C6AFD76EE4F5.png" width="396" height="348"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3096px;">     <h3 id="beziercurveto" device-type="phone,2in1,tablet,wearable,tv">bezierCurveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beziercurveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): void</p>     <p>创建三次贝塞尔曲线的路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cp1x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp1y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp2x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp2y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BezierCurveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">20</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="86" originwidth="130" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115525.38195933655679911585525655094466:50001231000000:2800:B4632173E6432419E604D35252FB597E10562DD1C1F7B86337175399AC7F2CEB.png" class="notEnlarge" width="130" height="86"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2475px;">     <h3 id="quadraticcurveto" device-type="phone,2in1,tablet,wearable,tv">quadraticCurveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="quadraticcurveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>quadraticCurveTo(cpx: number, cpy: number, x: number, y: number): void</p>     <p>创建二次贝塞尔曲线的路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cpx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cpy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">QuadraticCurveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">20</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="131" originwidth="196" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.51578171500623059085968335011593:50001231000000:2800:1E19432A6DE8643324A8CBF5852DA09BDE90790B6B55DEFBC30F5841A7F3882C.png" class="notEnlarge" width="196" height="131"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2969px;">     <h3 id="arc" device-type="phone,2in1,tablet,wearable,tv">arc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arc" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): void</p>     <p>绘制弧线路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线圆心的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线圆心的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的圆半径。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的起始弧度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">endAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的终止弧度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">counterclockwise</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否逆时针绘制圆弧。</p>          <p>true：逆时针方向绘制圆弧。</p>          <p>false：顺时针方向绘制圆弧。</p>          <p>默认值：false，设置null或undefined按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Arc</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="175" originwidth="325" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.29468892252594799025268480330003:50001231000000:2800:D37BD18617D602D1B2B5F2F45AAA57DECEDAF890886D7774DE4C97D3E53F9E4E.jpeg" width="325" height="175"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3490px;">     <h3 id="arcto" device-type="phone,2in1,tablet,wearable,tv">arcTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arcto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void</p>     <p>依据给定的控制点和圆弧半径创建圆弧路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个控制点的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个控制点的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x2</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个控制点的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y2</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个控制点的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆弧的圆半径值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ArcTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-comment">// 切线</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#808080'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">1.5</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">170</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>();</li><li>          </li><li>          <span class="hljs-comment">// 圆弧</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000000'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arcTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>, <span class="hljs-number">110</span>, <span class="hljs-number">170</span>, <span class="hljs-number">150</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          </li><li>          <span class="hljs-comment">// 起始点</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#00ff00'</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fill</span>();</li><li>          </li><li>          <span class="hljs-comment">// 控制点</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#ff0000'</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">110</span>, <span class="hljs-number">170</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fill</span>();</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="141" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.56375754586717955928694734657374:50001231000000:2800:41067D89491AA4FC6E2D8A24C0D1076D991403A3D00EE81BFAADEB958247CE9C.png" width="360" height="141"></span></p>     <p>此示例中，arcTo()创建的圆弧为黑色，圆弧的两条切线为灰色。控制点为红色，起始点为绿色。</p>     <p>可以想象两条切线：一条切线从起始点到第一个控制点，另一条切线从第一个控制点到第二个控制点。arcTo()在这两条切线间创建一个圆弧，并使圆弧与这两条切线都相切。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3856px;">     <h3 id="ellipse" device-type="phone,2in1,tablet,wearable,tv">ellipse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ellipse" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ellipse(x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, counterclockwise?: boolean): void</p>     <p>在规定的矩形区域绘制一个椭圆。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆圆心的x轴坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆圆心的y轴坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radiusX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆x轴的半径长度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radiusY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆y轴的半径长度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">rotation</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆的旋转角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆绘制的起始点角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">endAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆绘制的结束点角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">counterclockwise</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否以逆时针方向绘制椭圆。</p>          <p>true：逆时针方向绘制椭圆。</p>          <p>false：顺时针方向绘制椭圆。</p>          <p>默认值：false，设置null或undefined按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.25</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.5</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>, <span class="hljs-literal">false</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.25</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.5</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="372" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.01155174525592726481471712578114:50001231000000:2800:E1B5B29291A42A582719D5B39E12AD0D5D0FBB569E794121539845BC5EBB22EF.jpeg" width="360" height="372"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2468px;">     <h3 id="rect" device-type="phone,2in1,tablet,wearable,tv">rect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rect(x: number, y: number, w: number, h: number): void</p>     <p>创建矩形路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">rect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>) <span class="hljs-comment">// Create a 100*100 rectangle at (20, 20)</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="172" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.34519755258841015402457848598282:50001231000000:2800:A03A2D30B9E0E43018DB7FEF236A5D08F7F4E4944A6F1601930A409A72CC6DB7.jpeg" width="360" height="172"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4048px;">     <h3 id="roundrect20" device-type="phone,2in1,tablet,wearable,tv">roundRect<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="roundrect20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>roundRect(x: number, y: number, w: number, h: number, radii?: number | Array&lt;number&gt;): void</p>     <p>创建圆角矩形路径，此方法不会直接渲染内容，如需将圆角矩形绘制到画布上，可以使用fill或stroke方法。</p>     <p><strong>卡片能力：</strong> 从API version 20开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标值。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[0, Canvas宽度)。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标值。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[0, Canvas高度)。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度，设置负值为向左绘制。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[-x, Canvas宽度 - x]。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度，设置负值为向上绘制。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[-y, Canvas高度 - y]。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radii</td>         <td class="cellrowborder" width="25%">number | Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定用于矩形角的圆弧半径的数字或列表。</p>          <p>参数类型为number时，所有矩形角的圆弧半径按该数字执行。</p>          <p>参数类型为Array&lt;number&gt;时，数目为1-4个按下面执行：</p>          <p>[所有矩形角的圆弧半径]</p>          <p>[左上及右下矩形角的圆弧半径, 右上及左下矩形角的圆弧半径]</p>          <p>[左上矩形角的圆弧半径, 右上及左下矩形角的圆弧半径, 右下矩形角的圆弧半径]</p>          <p>[左上矩形角的圆弧半径, 右上矩形角的圆弧半径, 右下矩形角的圆弧半径, 左下矩形角的圆弧半径]</p>          <p>radii存在负数或列表的数目不在[1,4]内时抛出异常，错误码：103701。</p>          <p>默认值：0，null和undefined按默认值处理。</p>          <p>圆弧半径超过矩形宽高时会等比例缩放到宽高的长度。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-canvas">Canvas组件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.4.1.1" width="33.33333333333333%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.4.1.2" width="33.33333333333333%">错误信息</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.4.1.3" width="33.33333333333333%">可能原因</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">103701</td>         <td class="cellrowborder" width="33.33333333333333%">Parameter error.</td>         <td class="cellrowborder" width="33.33333333333333%">1. The param radii is a list that has zero or more than four elements; 2. The param radii contains negative value.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例展示了绘制六个圆角矩形：</p>     <ol>      <li>       <p>创建一个(10vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形并填充；</p></li>      <li>       <p>创建一个(120vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形并填充；</p></li>      <li>       <p>创建一个(10vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径及右下矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(120vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(10vp, 230vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(220vp, 330vp)为起点，宽高为-100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形并描边。</p></li>     </ol>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#707070'</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>            <span class="hljs-comment">// 创建一个(10vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>)</li><li>            <span class="hljs-comment">// 创建一个(120vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>])</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fill</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">beginPath</span>()</li><li>            <span class="hljs-comment">// 创建一个(10vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径及右下矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">120</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])</li><li>            <span class="hljs-comment">// 创建一个(120vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">120</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>])</li><li>            <span class="hljs-comment">// 创建一个(10vp, 230vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">230</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])</li><li>            <span class="hljs-comment">// 创建一个(220vp, 330vp)为起点，宽高为-100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">220</span>, <span class="hljs-number">330</span>, -<span class="hljs-number">100</span>, -<span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create roundRect. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="364" originwidth="364" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.36298342519599005878858511895636:50001231000000:2800:422DEFA70B143D4B8D5F4A567A74715F576E8DC462D2A7553F487E2F91B691A3.jpeg" width="364" height="364"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1403px;">     <h3 id="fill" device-type="phone,2in1,tablet,wearable,tv">fill<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fill" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fill(fillRule?: CanvasFillRule): void</p>     <p>对当前路径进行填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要填充对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Fill</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">rect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>) <span class="hljs-comment">// Create a 100*100 rectangle at (20, 20)</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fill</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="58" originwidth="78" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.00093182532630816721915512795670:50001231000000:2800:3EA20772A2DE528F86863884BAD47CD814C8DB63223C6FDAD172D68C01A00D97.png" class="notEnlarge" width="78" height="58"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1776px;">     <h3 id="fill-1" device-type="phone,2in1,tablet,wearable,tv">fill<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fill-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fill(path: Path2D, fillRule?: CanvasFillRule): void</p>     <p>对指定路径进行填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Path2D填充路径。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要填充对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Fill</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> region = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>()</li><li>          region.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">240</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">190</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">270</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">closePath</span>()</li><li>          <span class="hljs-comment">// Fill path</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#00ff00'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fill</span>(region, <span class="hljs-string">"evenodd"</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="122" originwidth="206" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.87106830517459078883765245467700:50001231000000:2800:2C525599D846D15D93949F13F8C6A16634431171DF186BF89FB1ACFC78906F0F.jpg" class="notEnlarge" width="206" height="122"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1657px;">     <h3 id="clip" device-type="phone,2in1,tablet,wearable,tv">clip<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clip" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clip(fillRule?: CanvasFillRule): void</p>     <p>设置当前路径为剪切路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要剪切对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Clip</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">clip</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"rgb(255,0,0)"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="240" originwidth="200" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.76615572288256314809118303105137:50001231000000:2800:E8A7B784F08BE695B5E74563C887C4F72599B2D2C946BA7C9A1A2800ABC56871.png" class="notEnlarge" width="200" height="240"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1752px;">     <h3 id="clip-1" device-type="phone,2in1,tablet,wearable,tv">clip<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clip-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clip(path: Path2D, fillRule?: CanvasFillRule): void</p>     <p>设置指定路径为剪切路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Path2D剪切路径。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要剪切对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Clip</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> region = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>()</li><li>          region.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">240</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">190</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">270</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">closePath</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">clip</span>(region,<span class="hljs-string">"evenodd"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"rgb(0,255,0)"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">height</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="122" originwidth="206" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.45450228321309608432815355529595:50001231000000:2800:7F9AC2C6D2B91F9DFF293FFB283311013D2B32BA774F02151D30A1728A0839CA.jpg" class="notEnlarge" width="206" height="122"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1167px;">     <h3 id="reset12" device-type="phone,2in1,tablet,wearable,tv">reset<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reset12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reset(): void</p>     <p>将CanvasRenderingContext2D重置为其默认状态，清除后台缓冲区、绘制状态栈、绘制路径和样式。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Reset</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">reset</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="165" originwidth="128" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.20718553302064756106381683135220:50001231000000:2800:CB83F4D7E84B6DC3F68BDAF1442986FBC8A785A8131EFD78EA6FC4F499ACE06A.png" class="notEnlarge" width="128" height="165"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1434px;">     <h3 id="savelayer12" device-type="phone,2in1,tablet,wearable,tv">saveLayer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savelayer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>saveLayer(): void</p>     <p>创建一个图层。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct saveLayer {</li><li><span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li><span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li><span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>    <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>      .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#0000ff"</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ffff"</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">150</span>,<span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-over'</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">saveLayer</span>()</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'source-over'</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#ff0000"</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>,<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">restoreLayer</span>()</li><li>      })</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>}</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="240" originwidth="154" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.84130515293410924635888027378903:50001231000000:2800:499DC93A4EB74E4F06178153DCC1E7BE3C2B79DB39B99734DD823CDB04B151B3.png" class="notEnlarge" width="154" height="240"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 270px;">     <h3 id="restorelayer12" device-type="phone,2in1,tablet,wearable,tv">restoreLayer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restorelayer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restoreLayer(): void</p>     <p>恢复图像变换和裁剪状态至saveLayer前的状态，并将图层绘制在canvas上。restoreLayer示例代码同saveLayer。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1310px;">     <h3 id="resettransform" device-type="phone,2in1,tablet,wearable,tv">resetTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resettransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetTransform(): void</p>     <p>使用单位矩阵重新设置当前矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ResetTransform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">resetTransform</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="164" originwidth="170" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.41022679186050474776499399600985:50001231000000:2800:F6F62EB4AEC1F20A17EC5D86BC7CDD791577EB97252BFF4D517CE8BB21EE7077.png" class="notEnlarge" width="170" height="164"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1618px;">     <h3 id="rotate" device-type="phone,2in1,tablet,wearable,tv">rotate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rotate(angle: number): void</p>     <p>针对当前坐标轴进行顺时针旋转。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">angle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置顺时针旋转的弧度值，可以通过 degree * Math.PI / 180 将角度转换为弧度值。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Rotate</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">rotate</span>(<span class="hljs-number">45</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">70</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="105" originwidth="95" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.47084322674801694619593826424767:50001231000000:2800:AA53541FCA617C03E6E5D32830FC81397BE7FEE2D521556FFB1C40C8F8CA5E9A.png" class="notEnlarge" width="95" height="105"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2044px;">     <h3 id="scale" device-type="phone,2in1,tablet,wearable,tv">scale<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scale" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scale(x: number, y: number): void</p>     <p>设置canvas画布的缩放变换属性，后续的绘制操作将按照缩放比例进行缩放。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置水平方向的缩放值。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；不支持设置0和负数，设置0、负数、null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、0、负数、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置垂直方向的缩放值，不支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；不支持设置0和负数，设置0、负数、null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、0、负数、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Scale</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// Scale to 200%</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="198" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115526.75137095928960801951747381689307:50001231000000:2800:4DEE489FE0B47FF4375A0FB930085EDBEFA70E441BE3CEB84000C0F22DAF2F27.png" class="notEnlarge" width="220" height="198"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3802px;">     <h3 id="transform" device-type="phone,2in1,tablet,wearable,tv">transform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transform(a: number, b: number, c: number, d: number, e: number, f: number): void</p>     <p>transform方法对应一个变换矩阵，想对一个图形进行变化的时候，只要设置此变换矩阵相应的参数，对图形的各个定点的坐标分别乘以这个矩阵，就能得到新的定点的坐标。矩阵变换效果可叠加。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>图形中各个点变换后的坐标可通过下方坐标计算公式计算。</p>       <p>变换后的坐标计算方式（x和y为变换前坐标，x'和y'为变换后坐标）：</p>       <ul>        <li>         <p>x' = a * x + c * y + e</p></li>        <li>         <p>y' = b * x + d * y + f</p></li>       </ul>      </div></div></div>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">a</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵中第一行第一列的单元格。scaleX：指定水平缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">b</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵第二行第一列的单元格。skewY：指定垂直倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">c</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵第一行第二列的单元格。skewX：指定水平倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">d</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵第二行第二列的单元格。scaleY：指定垂直缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">e</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵第一行第三列的单元格。translateX：指定水平移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">f</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵第二行第三列的单元格。translateY：指定垂直移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Transform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(112,112,112)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,74,175)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="252" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.24025719128864963320847596643093:50001231000000:2800:C206B80C4A7E6DCED2878282AC8BAE8E7BE077900E89CC810F35B205F3CBA96B.jpg" class="notEnlarge" width="252" height="252"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3688px;">     <h3 id="settransform" device-type="phone,2in1,tablet,wearable,tv">setTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTransform(a: number, b: number, c: number, d: number, e: number, f: number): void</p>     <p>setTransform方法使用的参数和transform()方法相同，但setTransform()方法会重置现有的变换矩阵并创建新的变换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>图形中各个点变换后的坐标可通过下方坐标计算公式计算。</p>       <p>变换后的坐标计算方式（x和y为变换前坐标，x'和y'为变换后坐标）：</p>       <ul>        <li>         <p>x' = a * x + c * y + e</p></li>        <li>         <p>y' = b * x + d * y + f</p></li>       </ul>      </div></div></div>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">a</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleX：指定水平缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">b</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewY：指定垂直倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">c</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewX：指定水平倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">d</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleY：指定垂直缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">e</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateX：指定水平移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">f</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateY：指定垂直移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SetTransform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(112,112,112)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(23,169,141)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="306" originwidth="292" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.57863902122669115351505406091751:50001231000000:2800:C1DC8A6C297CEDE34131B31AD06E4E40CC65E2B51FEA9DFA0A78AE6BFA4692F7.png" class="notEnlarge" width="292" height="306"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1899px;">     <h3 id="settransform-1" device-type="phone,2in1,tablet,wearable,tv">setTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settransform-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTransform(transform?: Matrix2D): void</p>     <p>以Matrix2D对象为模板重置现有的变换矩阵并创建新的变换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transform</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-matrix2d">Matrix2D</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵。</p>          <p>异常值undefined或null按无效值处理。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransFormDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context1</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context2</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context1'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'160vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context2'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'160vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0ffff0'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-keyword">let</span> storedTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">getTransform</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">setTransform</span>(storedTransform);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="290" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.98841975827488540374870645510527:50001231000000:2800:C8C0A6FD09EFE24806002AB270D9F7B0D998313CBE63DDB3327F72C2FDC72FFD.jpeg" class="notEnlarge" width="288" height="290"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2141px;">     <h3 id="gettransform" device-type="phone,2in1,tablet,wearable,tv">getTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTransform(): Matrix2D</p>     <p>获取当前被应用到上下文的转换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-matrix2d">Matrix2D</a></td>         <td class="cellrowborder" width="50%">当前被应用到上下文的转换矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransFormDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context1</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context2</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context1'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'120vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1.2</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">8</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">6</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">30</span>, -<span class="hljs-number">25</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context2'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'120vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0ffff0'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-keyword">let</span> storedTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">getTransform</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Matrix [scaleX = "</span> + storedTransform.<span class="hljs-property">scaleX</span> + <span class="hljs-string">", scaleY = "</span> + storedTransform.<span class="hljs-property">scaleY</span> +</li><li>          <span class="hljs-string">", rotateX = "</span> + storedTransform.<span class="hljs-property">rotateX</span> + <span class="hljs-string">", rotateY = "</span> + storedTransform.<span class="hljs-property">rotateY</span> +</li><li>          <span class="hljs-string">", translateX = "</span> + storedTransform.<span class="hljs-property">translateX</span> + <span class="hljs-string">", translateY = "</span> + storedTransform.<span class="hljs-property">translateY</span> + <span class="hljs-string">"]"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">setTransform</span>(storedTransform);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="512" originwidth="548" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.60992396684948219440035030498359:50001231000000:2800:56EB43D44F8E419E8D845599D29C2870B4A89821A05635903FF8DCDFE28B36FD.png" width="548" height="512"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1913px;">     <h3 id="translate" device-type="phone,2in1,tablet,wearable,tv">translate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="translate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>translate(x: number, y: number): void</p>     <p>移动当前坐标系的原点。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置水平平移量。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置竖直平移量。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Translate</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">translate</span>(<span class="hljs-number">70</span>, <span class="hljs-number">70</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="115" originwidth="116" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.00744614137603098467123229307596:50001231000000:2800:92132DB4BC4A6760230C86331562633504BCD01ACA44BBB9C99288708ACF4178.png" class="notEnlarge" width="116" height="115"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1927px;">     <h3 id="drawimage" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, dx: number, dy: number): void</p>     <p>进行图像绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.52746633358574383948947991921538:50001231000000:2800:F98B8EA4AFF74FE56E3013D196A55EF03E722FDB8117479095C7D2487841862A.png" width="360" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2401px;">     <h3 id="drawimage-1" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, dx: number, dy: number, dw: number, dh: number): void</p>     <p>将图像裁剪后拉伸或压缩绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的宽度。当绘制区域的宽度和裁剪图像的宽度不一致时，将图像宽度拉伸或压缩为绘制区域的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的高度。当绘制区域的高度和裁剪图像的高度不一致时，将图像高度拉伸或压缩为绘制区域的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.19771846388943831177862962050150:50001231000000:2800:EE18F700CBB8486DB62249B8B7948E107C74EFBB35EDB8D385E1EE28057EF8E2.png" width="360" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3593px;">     <h3 id="drawimage-2" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, sx: number, sy: number, sw: number, sh: number, dx: number, dy: number, dw: number, dh: number): void</p>     <p>将图像裁剪后拉伸或压缩绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时距离源图像左上角的x坐标值。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时距离源图像左上角的y坐标值。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时需要裁切的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时需要裁切的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。当绘制区域的宽度和裁剪图像的宽度不一致时，将图像宽度拉伸或压缩为绘制区域的宽度。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。当绘制区域的高度和裁剪图像的高度不一致时，将图像高度拉伸或压缩为绘制区域的高度。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">500</span>, <span class="hljs-number">500</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="280" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.33223146875594720394014975793472:50001231000000:2800:5A8908B5ED84C30D714454FA4AD38E67EE9F85BCB11CD1B734BDE76C543E208C.png" width="360" height="280"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 901px;">     <h3 id="createimagedata" device-type="phone,2in1,tablet,wearable,tv">createImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createImageData(sw: number, sh: number): ImageData</p>     <p>创建新的、空白的、指定大小的ImageData 对象，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>，该接口存在内存拷贝行为，高耗时，应避免频繁使用。createImageData示例同putImageData。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>ImageData的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>ImageData的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 784px;">     <h3 id="createimagedata-1" device-type="phone,2in1,tablet,wearable,tv">createImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createimagedata-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createImageData(imageData: ImageData): ImageData</p>     <p>根据一个现有的ImageData对象重新创建一个宽、高相同的ImageData对象（不会复制图像数据），请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>，该接口存在内存拷贝行为，高耗时，应避免频繁使用。createImageData示例同putImageData。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>现有的ImageData对象。</p>          <p>异常值undefined和null按width和height为0的ImageData处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2190px;">     <h3 id="getpixelmap" device-type="phone,2in1,tablet,wearable,tv">getPixelMap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpixelmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPixelMap(sx: number, sy: number, sw: number, sh: number): PixelMap</p>     <p>以当前canvas指定区域内的像素创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>对象，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角x坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角y坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="50%">新的PixelMap对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>DevEco Studio的预览器不支持显示使用setPixelMap绘制的内容。</p>      </div></div></div>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GetPixelMap</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">130</span>, <span class="hljs-number">130</span>)</li><li>          <span class="hljs-keyword">let</span> pixelmap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">130</span>, <span class="hljs-number">130</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setPixelMap</span>(pixelmap)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="231" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.71619186487926860561709252710796:50001231000000:2800:2DB9EA9167FA046417C9FEDF9B8D9AF8FA86E1CEF443A23CEF2E6D4CC4A28BFD.png" class="notEnlarge" width="252" height="231"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="setpixelmap" device-type="phone,2in1,tablet,wearable,tv">setPixelMap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpixelmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPixelMap(value?: PixelMap): void</p>     <p>将当前传入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>对象绘制在画布上。setPixelMap示例同getPixelMap。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的PixelMap对象。</p>          <p>异常值undefined和null按无效值处理，不进行绘制。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2128px;">     <h3 id="getimagedata" device-type="phone,2in1,tablet,wearable,tv">getImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getImageData(sx: number, sy: number, sw: number, sh: number): ImageData</p>     <p>以当前canvas指定区域内的像素创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>对象，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角x坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角y坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GetImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-comment">// "/common/images/1234.png"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"/common/images/1234.png"</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">130</span>,<span class="hljs-number">130</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">130</span>,<span class="hljs-number">130</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">putImageData</span>(imageData,<span class="hljs-number">150</span>,<span class="hljs-number">150</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="213" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.22383061727076399109117182092014:50001231000000:2800:4D97710C638914324FDB490ADE83A3A6BA1BA8D8310E7377B5D2044C90C8397E.png" class="notEnlarge" width="250" height="213"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1973px;">     <h3 id="putimagedata" device-type="phone,2in1,tablet,wearable,tv">putImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="putimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>putImageData(imageData: ImageData, dx: number | string, dy: number | string): void</p>     <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>数据填充新的矩形区域。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的ImageData对象。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在x轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在y轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PutImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> imageDataNum = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createImageData</span>(imageDataNum)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span></li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.23556829972652229078357734079392:50001231000000:2800:71978BC771D435CDF64EF6F11CD2C6BDFC42C0A48680D4505CC9CDDC36E0AE5C.png" width="300" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2609px;">     <h3 id="putimagedata-1" device-type="phone,2in1,tablet,wearable,tv">putImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="putimagedata-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>putImageData(imageData: ImageData, dx: number | string, dy: number | string, dirtyX: number | string, dirtyY: number | string, dirtyWidth: number | string, dirtyHeight: number | string): void</p>     <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>数据裁剪后填充至新的矩形区域。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的ImageData对象。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在x轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在y轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyX</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围左上角距离源图像左上角的x轴偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyY</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围左上角距离源图像左上角的y轴偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyWidth</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyHeight</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PutImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> imageDataNum = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createImageData</span>(imageDataNum)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span></li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.02265610457567388283152913404572:50001231000000:2800:7CE6B5E653A243DC0FC9DBF157FB479C3200C9FAF5B11601CFD7812CE6A0A193.png" width="300" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1593px;">     <h3 id="setlinedash" device-type="phone,2in1,tablet,wearable,tv">setLineDash<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlinedash" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLineDash(segments: number[]): void</p>     <p>设置画布的虚线样式。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">segments</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>描述线段如何交替和线段间距长度的数组。</p>          <p>异常值undefined或null按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SetLineDash</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>,<span class="hljs-number">20</span>])</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="272" originwidth="323" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.83094819624655396350391417361013:50001231000000:2800:7688515C2434A38C63645B2DD4BCB554C0049078642BA5A4C8AF0345CED2D955.png" width="323" height="272"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1743px;">     <h3 id="getlinedash" device-type="phone,2in1,tablet,wearable,tv">getLineDash<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlinedash" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLineDash(): number[]</p>     <p>获得当前画布的虚线样式。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">          <p>返回数组，该数组用来描述线段如何交替和间距长度。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasGetLineDash</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stroke</span>()</li><li>            <span class="hljs-keyword">let</span> res = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getLineDash</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="282" originwidth="416" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.66686737044418359179701709174124:50001231000000:2800:A8A43782AAF4CB016A97EECBF757E74B9F530E2FECF238DA73D98799DE6964E8.png" width="416" height="282"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1623px;">     <h3 id="transferfromimagebitmap" device-type="phone,2in1,tablet,wearable,tv">transferFromImageBitmap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transferfromimagebitmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transferFromImageBitmap(bitmap: ImageBitmap): void</p>     <p>显示给定的ImageBitmap对象。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bitmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待显示的ImageBitmap对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransferFromImageBitmap</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offContext</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">255</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">60</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">80</span></li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="182" originwidth="204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.90393196613347486124288466587755:50001231000000:2800:0439740A2C4F373FAD03E9B51D294E0F1B84FE2E1452181BB075C1A26D560A3E.jpg" class="notEnlarge" width="204" height="182"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2101px;">     <h3 id="todataurl" device-type="phone,2in1,tablet,wearable,tv">toDataURL<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="todataurl" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toDataURL(type?: string, quality?: any): string</p>     <p>生成一个包含图片展示的URL，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用于指定图像格式。</p>          <p>可选参数为："image/png"，"image/jpeg"，"image/webp"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值：image/png</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">quality</td>         <td class="cellrowborder" width="25%">any</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>在指定图片格式为image/jpeg或image/webp的情况下，可以从0到1的区间内选择图片的质量。如果超出取值范围，将会使用默认值0.92。</p>          <p>异常值undefined、null、NaN和Infinity按默认值处理。</p>          <p>默认值：0.92</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">图像的URL地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">toDataURL</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">toDataURL</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">"image/png"</span>, <span class="hljs-number">0.92</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">toDataURL</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="252" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115527.40309886034865946074337747509656:50001231000000:2800:7E9E41E9EE782A12154EF6BA13FDEF5669E5E93B04E9B5B553AF88FC10C16E56.png" class="notEnlarge" width="252" height="252"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1496px;">     <h3 id="restore" device-type="phone,2in1,tablet,wearable,tv">restore<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restore(): void</p>     <p>恢复保存的绘图上下文。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当restore()次数未超出save()次数时，从栈中弹出存储的绘制状态并恢复CanvasRenderingContext2D对象的属性、剪切路径和变换矩阵的值。</p>       <p>当restore()次数超出save()次数时，此方法不做任何改变。</p>       <p>当没有保存状态时，此方法不做任何改变。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// save the default state</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">restore</span>() <span class="hljs-comment">// restore to the default state</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="210" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.34066473953203643853577313365100:50001231000000:2800:7C2AAC57645037AB4CB95A61C8FE1755CB7500D0CB8F36962B5F3271B9626181.png" class="notEnlarge" width="250" height="210"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1332px;">     <h3 id="save" device-type="phone,2in1,tablet,wearable,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>save(): void</p>     <p>将当前状态放入栈中，保存canvas的全部状态，通常在需要保存绘制状态时调用。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// save the default state</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">restore</span>() <span class="hljs-comment">// restore to the default state</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="210" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.47624746991777959260996580157338:50001231000000:2800:358A94B5BA9F204477EE758617FC3AE54DE44CE5B5F2955C93CA742E69BEDD7B.png" class="notEnlarge" width="250" height="210"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2575px;">     <h3 id="createlineargradient" device-type="phone,2in1,tablet,wearable,tv">createLinearGradient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createlineargradient" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createLinearGradient(x0: number, y0: number, x1: number, y1: number): CanvasGradient</p>     <p>创建一个线性渐变色。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起点的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起点的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在canvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreateLinearGradient</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> grad = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">50</span>,<span class="hljs-number">0</span>, <span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'rgb(255,238,240)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'rgb(23,169,141)'</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = grad</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">400</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="492" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.51016820700221025710433720514550:50001231000000:2800:A21834EFED404F4A74A00909F7B5F5D39F9C818BA93F3A4443F7E33C273646BF.png" class="notEnlarge" width="252" height="492"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3015px;">     <h3 id="createradialgradient" device-type="phone,2in1,tablet,wearable,tv">createRadialGradient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createradialgradient" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRadialGradient(x0: number, y0: number, r0: number, x1: number, y1: number, r1: number): CanvasGradient</p>     <p>创建一个径向渐变色。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">r0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的半径。必须是非负且有限的。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">r1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的半径。必须为非负且有限的。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在canvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreateRadialGradient</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> grad = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'rgb(255,238,240)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'rgb(112,112,112)'</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = grad</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">440</span>, <span class="hljs-number">440</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="554" originwidth="284" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.52145983106155297510860591138236:50001231000000:2800:D184EA49F809583B1B14B6948541BF427ED918CD46B93876D30B32A87D585B40.png" class="notEnlarge" width="284" height="554"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2236px;">     <h3 id="createconicgradient10" device-type="phone,2in1,tablet,wearable,tv">createConicGradient<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createconicgradient10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createConicGradient(startAngle: number, x: number, y: number): CanvasGradient</p>     <p>创建一个圆锥渐变色。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>开始渐变的角度。角度测量从中心右侧水平开始，顺时针移动。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆锥渐变的中心x轴坐标。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆锥渐变的中心y轴坐标。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在canvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffffff'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> grad = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">createConicGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">80</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'#ff0000'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'#ffffff'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'#00ff00'</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = grad</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="390" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.05365295382073164869447798663782:50001231000000:2800:0192A2EF30CFCEE81A21750AC136AABC7F3110EC4F0B92BC287F11005A340403.png" class="notEnlarge" width="220" height="390"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 966px;">     <h3 id="ononattach13" device-type="phone,2in1,tablet,wearable,tv">on('onAttach')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ononattach13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'onAttach', callback: () =&gt; void): void</p>     <p>订阅CanvasRenderingContext2D与Canvas组件发生绑定的场景。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅CanvasRenderingContext2D与Canvas组件发生绑定的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅CanvasRenderingContext2D与Canvas组件发生绑定后触发的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>CanvasRenderingContext2D对象在同一时间只能与一个Canvas组件绑定。</p>       <p>当CanvasRenderingContext2D对象和Canvas组件发生绑定时，会触发'onAttach'回调，表示可以获取到<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvas13">canvas</a>。</p>       <p>避免在'onAttach'中执行绘制方法，应保证Canvas组件已经'<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvas#事件">onReady</a>'再进行绘制。</p>       <p>触发'onAttach'回调的一般场景：</p>       <p>1、Canvas组件创建时绑定CanvasRenderingContext2D对象;</p>       <p>2、CanvasRenderingContext2D对象新绑定一个Canvas组件时。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 918px;">     <h3 id="onondetach13" device-type="phone,2in1,tablet,wearable,tv">on('onDetach')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onondetach13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'onDetach', callback: () =&gt; void): void</p>     <p>订阅CanvasRenderingContext2D与Canvas组件解除绑定的场景。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅CanvasRenderingContext2D与Canvas组件解除绑定的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>订阅CanvasRenderingContext2D与Canvas组件解除绑定后触发的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当CanvasRenderingContext2D对象和Canvas组件解除绑定时，会触发'onDetach'回调，表示应停止绘制行为。</p>       <p>触发'onDetach'回调的一般场景：</p>       <p>1、Canvas组件销毁时解除绑定CanvasRenderingContext2D对象;</p>       <p>2、CanvasRenderingContext2D对象新绑定一个Canvas组件，会先解除已有的绑定。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 802px;">     <h3 id="offonattach13" device-type="phone,2in1,tablet,wearable,tv">off('onAttach')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offonattach13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'onAttach', callback?: () =&gt; void): void</p>     <p>取消订阅CanvasRenderingContext2D与Canvas组件发生绑定的场景。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>取消订阅CanvasRenderingContext2D与Canvas组件发生绑定的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>为空表示取消所有订阅CanvasRenderingContext2D与Canvas组件发生绑定后触发的回调。</p>          <p>非空则取消订阅发生绑定对应的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3595px;">     <h3 id="offondetach13" device-type="phone,2in1,tablet,wearable,tv">off('onDetach')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offondetach13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'onDetach', callback?: () =&gt; void): void</p>     <p>取消订阅CanvasRenderingContext2D与Canvas组件解除绑定的场景。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>取消订阅CanvasRenderingContext2D与Canvas组件解除绑定的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>为空代表取消所有订阅CanvasRenderingContext2D与Canvas组件解除绑定后触发的回调。</p>          <p>非空代表取消订阅解除绑定对应的回调。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AttachDetachExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>()</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span></li><li>  attachCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'CanvasRenderingContext2D attached to the canvas frame node.'</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">node</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">canvas</span></li><li>  }</li><li>  detachCallback = <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'CanvasRenderingContext2D detach from the canvas frame node.'</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">node</span> = <span class="hljs-literal">null</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'onAttach'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">attachCallback</span>)</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'onDetach'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">detachCallback</span>)</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'onAttach'</span>)</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'onDetach'</span>)</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">Row</span>() {</li><li>              <span class="hljs-keyword">if</span> (item == <span class="hljs-number">3</span>) {</li><li>                <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>                  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>                  .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30vp sans-serif'</span></li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">node</span>?.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnVisibleAreaApproximateChange</span>(</li><li>                      { <span class="hljs-attr">ratios</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-attr">expectedUpdateInterval</span>: <span class="hljs-number">10</span> },</li><li>                      <span class="hljs-function">(<span class="hljs-params">isVisible: <span class="hljs-built_in">boolean</span>, currentRatio: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>                        <span class="hljs-keyword">if</span> (!isVisible &amp;&amp; currentRatio &lt;= <span class="hljs-number">0.0</span>) {</li><li>                          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Canvas is completely invisible.'</span>)</li><li>                        }</li><li>                        <span class="hljs-keyword">if</span> (isVisible &amp;&amp; currentRatio &gt;= <span class="hljs-number">1.0</span>) {</li><li>                          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Canvas is fully visible.'</span>)</li><li>                        }</li><li>                      }</li><li>                    )</li><li>                  })</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-title class_">Text</span>(item.<span class="hljs-title function_">toString</span>())</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>                  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>                  .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>                  .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                  .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>              }</li><li>            }</li><li>          }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> item.<span class="hljs-title function_">toString</span>())</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>      .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="525" originwidth="302" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.78171025978924167327964571429420:50001231000000:2800:1D316C08AFBD72A32E5D31CBD5423524D16A46685A97DC31C9E528566468F449.gif" width="302" height="525"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1277px;">     <h3 id="startimageanalyzer12" device-type="phone,2in1,tablet,wearable,tv">startImageAnalyzer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startimageanalyzer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startImageAnalyzer(config: ImageAnalyzerConfig): Promise&lt;void&gt;</p>     <p>配置并启动AI分析功能，使用Promise异步回调。使用前需先<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvas#enableanalyzer12">启用图像AI分析能力</a>。</p>     <p>该方法调用时，将截取调用时刻的画面帧进行分析，使用时需注意启动分析的时机，避免出现画面和分析内容不一致的情况。</p>     <p>未执行完重复调用该方法会触发错误回调。示例代码同stopImageAnalyzer。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>分析类型不支持动态修改。</p>       <p>当检测到画面有变化时，分析结果将自动销毁，可重新调用本接口启动分析。</p>       <p>该特性依赖设备能力，不支持该能力的情况下，将返回错误码。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-image-common#imageanalyzerconfig12">ImageAnalyzerConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>执行AI分析所需要的入参，用于配置AI分析功能。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-image-analyzer">AI分析类库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">110001</td>         <td class="cellrowborder" width="50%">Image analysis feature is unsupported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">110002</td>         <td class="cellrowborder" width="50%">Image analysis is currently being executed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">110003</td>         <td class="cellrowborder" width="50%">Image analysis is stopped.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2759px;">     <h3 id="stopimageanalyzer12" device-type="phone,2in1,tablet,wearable,tv">stopImageAnalyzer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopimageanalyzer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopImageAnalyzer(): void</p>     <p>停止AI分析功能，AI分析展示的内容将被销毁。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在startImageAnalyzer方法未返回结果时调用本方法，会触发其错误回调。</p>       <p>该特性依赖设备能力。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageAnalyzerExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">ImageAnalyzerConfig</span> = {</li><li>    <span class="hljs-attr">types</span>: [<span class="hljs-title class_">ImageAnalyzerType</span>.<span class="hljs-property">SUBJECT</span>, <span class="hljs-title class_">ImageAnalyzerType</span>.<span class="hljs-property">TEXT</span>]</li><li>  }</li><li>  <span class="hljs-comment">// 'common/images/example.png'需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">'common/images/example.png'</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">aiController</span>: <span class="hljs-title class_">ImageAnalyzerController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageAnalyzerController</span>()</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">ImageAIOptions</span> = {</li><li>    <span class="hljs-attr">types</span>: [<span class="hljs-title class_">ImageAnalyzerType</span>.<span class="hljs-property">SUBJECT</span>, <span class="hljs-title class_">ImageAnalyzerType</span>.<span class="hljs-property">TEXT</span>],</li><li>    <span class="hljs-attr">aiController</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">aiController</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'start'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">startImageAnalyzer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>)</li><li>            .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"analysis complete"</span>)</li><li>            })</li><li>            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"error code: "</span> + error.<span class="hljs-property">code</span>)</li><li>            })</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'stop'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">stopImageAnalyzer</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getTypes'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">aiController</span>.<span class="hljs-title function_">getImageAnalyzerSupportTypes</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">enableAnalyzer</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="729" originwidth="504" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.73362677376891795620969658835571:50001231000000:2800:59E2A5C0877A20EFF692C3DC6FC191DABD9A4B987898F10008B9E71B749E56A3.png" width="504" height="729"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 607px;">     <h2 id="canvasdirection类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasDirection类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvasdirection类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasDirection = "inherit" | "ltr" | "rtl"</p>     <p>定义当前文本方向的类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">inherit</td>         <td class="cellrowborder" width="50%">继承canvas组件通用属性已设定的文本方向。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">ltr</td>         <td class="cellrowborder" width="50%">从左往右。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">rtl</td>         <td class="cellrowborder" width="50%">从右往左。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2048px;">     <h2 id="canvasfillrule类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasFillRule类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvasfillrule类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasFillRule = "evenodd" | "nonzero"</p>     <p>定义用于确定点是在路径内还是路径外的填充样式算法的类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">evenodd</td>         <td class="cellrowborder" width="50%">          <p>奇偶规则。</p>          <p>此规则通过从画布上的某点向任意方向发射一条射线，并统计图形路径与射线的交点数量来判断该点是否在图形内部。如果交点数量是奇数，则该点在图形内部，否则在图形外部。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">nonzero</td>         <td class="cellrowborder" width="50%">          <p>非零规则。</p>          <p>此规则通过从画布上的某点向任意方向发射一条射线，并检查图形路径与射线的交点来判断该点是否在图形内部。初始计数为0，为路径的每一段线段指定一个方向值，每当路径从左向右穿过射线时加1，从右向左穿过时减1。如果最终的结果是0，则该点在图形外部，否则在图形内部。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-vlu-c106="" class="highlight-div"><div _ngcontent-vlu-c106="" class="highlight-div-header"><div _ngcontent-vlu-c106="" class="highlight-div-header-left"><div _ngcontent-vlu-c106="" class="handle-button expand-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vlu-c106="" class="highlight-div-header-right"><div _ngcontent-vlu-c106="" class="handle-button ai-button"></div><div _ngcontent-vlu-c106="" class="handle-button line-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vlu-c106="" class="handle-button theme-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vlu-c106="" class="handle-button copy-button"><div _ngcontent-vlu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vlu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213, 213, 213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'60px sans-serif'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39, 135, 217)'</span>;</li><li>          <span class="hljs-comment">// 非零环绕规则 (nonzero)</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>();</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);</li><li>          offContext.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'nonzero'</span>); <span class="hljs-comment">// 使用非零环绕规则</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'nonzero'</span>, <span class="hljs-number">65</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-comment">// 奇偶环绕规则 (evenodd)</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>();</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">250</span>, <span class="hljs-number">100</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">250</span>, <span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);</li><li>          offContext.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'evenodd'</span>); <span class="hljs-comment">// 使用奇偶环绕规则</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'evenodd'</span>, <span class="hljs-number">215</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="212" originwidth="348" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115528.19711380923348985758555351181927:50001231000000:2800:F1BCD04AE6E11850C71583C9C87B0351EEF8720E5620285A8DB55F228D245172.png" width="348" height="212"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 631px;">     <h2 id="canvaslinecap类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasLineCap类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvaslinecap类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasLineCap = "butt" | "round" | "square"</p>     <p>定义绘制每条线段端点的类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">butt</td>         <td class="cellrowborder" width="50%">线条两端为平行线，不额外扩展。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">round</td>         <td class="cellrowborder" width="50%">在线条两端延伸半个圆，直径等于线宽。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">square</td>         <td class="cellrowborder" width="50%">在线条两端延伸一个矩形，宽度等于线宽的一半，高度等于线宽。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 679px;">     <h2 id="canvaslinejoin类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasLineJoin类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvaslinejoin类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasLineJoin = "bevel" | "miter" | "round"</p>     <p>定义长度不为0的两个连接部分（线段、圆弧和曲线）的类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bevel</td>         <td class="cellrowborder" width="50%">在线段相连处使用三角形为底填充， 每个部分矩形拐角独立。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">miter</td>         <td class="cellrowborder" width="50%">在相连部分的外边缘处进行延伸，使其相交于一点，形成一个菱形区域，该属性可以通过设置miterLimit属性展现效果。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">round</td>         <td class="cellrowborder" width="50%">在线段相连处绘制一个扇形，扇形的圆角半径是线段的宽度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 717px;">     <h2 id="canvastextalign类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasTextAlign类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvastextalign类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasTextAlign = "center" | "end" | "left" | "right" | "start"</p>     <p>定义文本对齐方式的类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">center</td>         <td class="cellrowborder" width="50%">文本居中对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">start</td>         <td class="cellrowborder" width="50%">文本对齐界线开始的地方。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">end</td>         <td class="cellrowborder" width="50%">文本对齐界线结束的地方。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">left</td>         <td class="cellrowborder" width="50%">文本左对齐。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">right</td>         <td class="cellrowborder" width="50%">文本右对齐。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 820px;">     <h2 id="canvastextbaseline类型说明" device-type="phone,2in1,tablet,wearable,tv">CanvasTextBaseline类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canvastextbaseline类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CanvasTextBaseline = "alphabetic" | "bottom" | "hanging" | "ideographic" | "middle" | "top"</p>     <p>定义文本基线类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">alphabetic</td>         <td class="cellrowborder" width="50%">文本基线是标准的字母基线。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">bottom</td>         <td class="cellrowborder" width="50%">文本基线在文本块的底部。 与ideographic基线的区别在于ideographic基线不需要考虑下行字母。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">hanging</td>         <td class="cellrowborder" width="50%">文本基线是悬挂基线。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">ideographic</td>         <td class="cellrowborder" width="50%">文字基线是表意字基线；如果字符本身超出了alphabetic基线，那么ideographic基线位置在字符本身的底部。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">middle</td>         <td class="cellrowborder" width="50%">文本基线在文本块的中间。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">top</td>         <td class="cellrowborder" width="50%">文本基线在文本块的顶部。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 607px;">     <h2 id="imagesmoothingquality类型说明" device-type="phone,2in1,tablet,wearable,tv">ImageSmoothingQuality类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imagesmoothingquality类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ImageSmoothingQuality = "high" | "low" | "medium"</p>     <p>定义图片平滑度类型。取值类型为下表类型中的并集。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">low</td>         <td class="cellrowborder" width="50%">低画质</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">medium</td>         <td class="cellrowborder" width="50%">中画质</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">high</td>         <td class="cellrowborder" width="50%">高画质</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2385px;">     <h2 id="textmetrics" device-type="phone,2in1,tablet,wearable,tv">TextMetrics<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textmetrics" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，文本方块的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，文本方块的高度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">actualBoundingBoxAscent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到渲染文本的矩形边界顶部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">actualBoundingBoxDescent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到渲染文本的矩形边界底部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">actualBoundingBoxLeft</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，平行于基线，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextalign类型说明">CanvasRenderingContext2D.textAlign</a>属性确定的对齐点到文本矩形边界左侧的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">actualBoundingBoxRight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，平行于基线，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextalign类型说明">CanvasRenderingContext2D.textAlign</a>属性确定的对齐点到文本矩形边界右侧的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">alphabeticBaseline</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到线框的 alphabetic 基线的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">emHeightAscent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到线框中 em 方块顶部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">emHeightDescent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到线框中 em 方块底部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontBoundingBoxAscent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到渲染文本的所有字体的矩形最高边界顶部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontBoundingBoxDescent</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到渲染文本的所有字体的矩形边界最底部的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hangingBaseline</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到线框的 hanging 基线的距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">ideographicBaseline</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">只读属性，从<a href="/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasRenderingContext2D.textBaseline</a>属性标明的水平线到线框的 ideographic 基线的距离。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 274px;">     <h2 id="renderingcontextsettings" device-type="phone,2in1,tablet,wearable,tv">RenderingContextSettings<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderingcontextsettings" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用来配置CanvasRenderingContext2D对象的参数，包括是否开启抗锯齿。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>RenderingContextSettings的抗锯齿效果对文本绘制无影响。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 669px;">     <h3 id="constructor-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(antialias?: boolean)</p>     <p>构造CanvasRenderingContext2D对象，支持配置开启抗锯齿。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">antialias</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>表明canvas是否开启抗锯齿。</p>          <p>异常值undefined按默认值处理。</p>          <p>false：表示不开启抗锯齿功能，true：表示开启抗锯齿。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="属性-1" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">antialias</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>表明canvas是否开启抗锯齿。</p>          <p>异常值undefined按默认值处理。</p>          <p>false：表示不开启抗锯齿功能，true：表示开启抗锯齿。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>