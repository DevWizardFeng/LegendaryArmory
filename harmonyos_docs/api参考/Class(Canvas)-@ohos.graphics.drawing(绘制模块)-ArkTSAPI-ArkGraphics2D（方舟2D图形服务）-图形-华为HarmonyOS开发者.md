<h1 _ngcontent-gcj-c119="" class="doc-title ng-star-inserted" title="Class (Canvas)"> Class (Canvas) </h1>

<div _ngcontent-gcj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>本模块使用屏幕物理像素单位px。</p></li>       <li>        <p>本模块为单线程模型策略，需要调用方自行管理线程安全和上下文状态的切换。</p></li>      </ul>     </div></div></div>    <p>承载绘制内容与绘制状态的载体。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>画布自带一个默认画刷，该画刷为黑色，开启反走样，不具备其他任何样式效果。当画布中没有主动设置画刷和画笔时，该默认画刷生效。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1169px;">     <h2 id="constructor" device-type="phone,2in1,tablet,wearable">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>constructor(pixelmap: image.PixelMap)</p>     <p>创建一个以PixelMap作为绘制目标的Canvas对象。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">构造函数入参。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> color = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">96</span>);</li><li><span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>  <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>  <span class="hljs-attr">size</span>: {</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">4</span>,</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">6</span></li><li>  }</li><li>}</li><li>image.<span class="hljs-title function_">createPixelMap</span>(color, opts).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> canvas = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(pixelMap);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1145px;">     <h2 id="drawrect" device-type="phone,2in1,tablet,wearable">drawRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawrect" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawRect(rect: common2D.Rect): void</p>     <p>绘制一个矩形，默认使用黑色填充。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的矩形区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ left : <span class="hljs-number">0</span>, right : <span class="hljs-number">10</span>, top : <span class="hljs-number">0</span>, bottom : <span class="hljs-number">10</span> });</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1400px;">     <h2 id="drawrect12" device-type="phone,2in1,tablet,wearable">drawRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawrect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawRect(left: number, top: number, right: number, bottom: number): void</p>     <p>绘制一个矩形，默认使用黑色填充。性能优于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#drawrect">drawRect</a>接口，推荐使用本接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">left</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形的左上角x轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">top</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形的左上角y轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">right</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形的右下角x轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bottom</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形的右下角y轴坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>
</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="drawroundrect12" device-type="phone,2in1,tablet,wearable">drawRoundRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawroundrect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawRoundRect(roundRect: RoundRect): void</p>     <p>画一个圆角矩形。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">roundRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-roundrect">RoundRect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆角矩形对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = { left : <span class="hljs-number">100</span>, top : <span class="hljs-number">100</span>, right : <span class="hljs-number">400</span>, bottom : <span class="hljs-number">500</span> };</li><li>    <span class="hljs-keyword">let</span> roundRect = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">RoundRect</span>(rect, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">drawRoundRect</span>(roundRect);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1238px;">     <h2 id="drawnestedroundrect12" device-type="phone,2in1,tablet,wearable">drawNestedRoundRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawnestedroundrect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawNestedRoundRect(outer: RoundRect, inner: RoundRect): void</p>     <p>绘制两个嵌套的圆角矩形，外部矩形边界必须包含内部矩形边界，否则无绘制效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">outer</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-roundrect">RoundRect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆角矩形对象，表示外部圆角矩形边界。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">inner</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-roundrect">RoundRect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆角矩形对象，表示内部圆角矩形边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">inRect</span>: common2D.<span class="hljs-property">Rect</span> = { left : <span class="hljs-number">200</span>, top : <span class="hljs-number">200</span>, right : <span class="hljs-number">400</span>, bottom : <span class="hljs-number">500</span> };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">outRect</span>: common2D.<span class="hljs-property">Rect</span> = { left : <span class="hljs-number">100</span>, top : <span class="hljs-number">100</span>, right : <span class="hljs-number">400</span>, bottom : <span class="hljs-number">500</span> };</li><li>    <span class="hljs-keyword">let</span> outRoundRect = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">RoundRect</span>(outRect, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    <span class="hljs-keyword">let</span> inRoundRect = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">RoundRect</span>(inRect, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">drawNestedRoundRect</span>(outRoundRect, inRoundRect);</li><li>    canvas.<span class="hljs-title function_">drawRoundRect</span>(outRoundRect);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="drawbackground12" device-type="phone,2in1,tablet,wearable">drawBackground<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawbackground12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawBackground(brush: Brush): void</p>     <p>使用画刷填充画布的可绘制区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brush</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-brush">Brush</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">画刷对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    <span class="hljs-keyword">const</span> color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> };</li><li>    brush.<span class="hljs-title function_">setColor</span>(color);</li><li>    canvas.<span class="hljs-title function_">drawBackground</span>(brush);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1847px;">     <h2 id="drawshadow12" device-type="phone,2in1,tablet,wearable">drawShadow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawshadow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawShadow(path: Path, planeParams: common2D.Point3d, devLightPos: common2D.Point3d, lightRadius: number, ambientColor: common2D.Color, spotColor: common2D.Color, flag: ShadowFlag) : void</p>     <p>绘制射灯类型阴影，使用路径描述环境光阴影的轮廓。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">路径对象，可生成阴影。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">planeParams</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point3d12">common2D.Point3d</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示一个三维向量，用于计算遮挡物相对于画布在z轴上的偏移量，其值取决于x与y坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">devLightPos</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point3d12">common2D.Point3d</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光线相对于画布的位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">lightRadius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆形灯半径，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ambientColor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">环境阴影颜色。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">spotColor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点阴影颜色。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flag</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#shadowflag12">ShadowFlag</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">阴影标志枚举。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>    path.<span class="hljs-title function_">addCircle</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, drawing.<span class="hljs-property">PathDirection</span>.<span class="hljs-property">CLOCKWISE</span>);</li><li>    <span class="hljs-keyword">let</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setAntiAlias</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">let</span> pen_color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0x00</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0x00</span> };</li><li>    pen.<span class="hljs-title function_">setColor</span>(pen_color);</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">10.0</span>);</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">let</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    <span class="hljs-keyword">let</span> brush_color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">0x00</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0x00</span> };</li><li>    brush.<span class="hljs-title function_">setColor</span>(brush_color);</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">let</span> point1 : common2D.<span class="hljs-property">Point3d</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">z</span>:<span class="hljs-number">80</span>};</li><li>    <span class="hljs-keyword">let</span> point2 : common2D.<span class="hljs-property">Point3d</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">z</span>:<span class="hljs-number">40</span>};</li><li>    <span class="hljs-keyword">let</span> color1 : common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">red</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">green</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>:<span class="hljs-number">0xFF</span>};</li><li>    <span class="hljs-keyword">let</span> color2 : common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">0xFF</span>, <span class="hljs-attr">red</span>:<span class="hljs-number">0xFF</span>, <span class="hljs-attr">green</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>:<span class="hljs-number">0</span>};</li><li>    <span class="hljs-keyword">let</span> shadowFlag : drawing.<span class="hljs-property">ShadowFlag</span> = drawing.<span class="hljs-property">ShadowFlag</span>.<span class="hljs-property">ALL</span>;</li><li>    canvas.<span class="hljs-title function_">drawShadow</span>(path, point1, point2, <span class="hljs-number">30</span>, color1, color2, shadowFlag);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1607px;">     <h2 id="drawshadow18" device-type="phone,2in1,tablet,wearable">drawShadow<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawshadow18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawShadow(path: Path, planeParams: common2D.Point3d, devLightPos: common2D.Point3d, lightRadius: number, ambientColor: common2D.Color | number, spotColor: common2D.Color | number, flag: ShadowFlag) : void</p>     <p>绘制射灯类型阴影，使用路径描述环境光阴影的轮廓。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">路径对象，可生成阴影。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">planeParams</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point3d12">common2D.Point3d</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示一个三维向量，用于计算z轴方向的偏移量。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">devLightPos</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point3d12">common2D.Point3d</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光线相对于画布的位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">lightRadius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆形灯半径，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">ambientColor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a> | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">环境阴影颜色，可以用16进制ARGB格式的32位无符号整数表示。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">spotColor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a> | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点阴影颜色，可以用16进制ARGB格式的32位无符号整数表示。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">flag</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#shadowflag12">ShadowFlag</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">阴影标志枚举。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>    path.<span class="hljs-title function_">addCircle</span>(<span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">100</span>, drawing.<span class="hljs-property">PathDirection</span>.<span class="hljs-property">CLOCKWISE</span>);</li><li>    <span class="hljs-keyword">let</span> point1 : common2D.<span class="hljs-property">Point3d</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">z</span>:<span class="hljs-number">80</span>};</li><li>    <span class="hljs-keyword">let</span> point2 : common2D.<span class="hljs-property">Point3d</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">z</span>:<span class="hljs-number">40</span>};</li><li>    <span class="hljs-keyword">let</span> shadowFlag : drawing.<span class="hljs-property">ShadowFlag</span> = drawing.<span class="hljs-property">ShadowFlag</span>.<span class="hljs-property">ALL</span>;</li><li>    canvas.<span class="hljs-title function_">drawShadow</span>(path, point1, point2, <span class="hljs-number">30</span>, <span class="hljs-number">0xFF0000FF</span>, <span class="hljs-number">0xFFFF0000</span>, shadowFlag);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 994px;">     <h2 id="getlocalclipbounds12" device-type="phone,2in1,tablet,wearable">getLocalClipBounds<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlocalclipbounds12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getLocalClipBounds(): common2D.Rect</p>     <p>获取画布裁剪区域的边界。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="50%">返回画布裁剪区域的矩形边界。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">clipRect</span>: common2D.<span class="hljs-property">Rect</span> = {</li><li>      left : <span class="hljs-number">150</span>, top : <span class="hljs-number">150</span>, right : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">400</span></li><li>    };</li><li>    canvas.<span class="hljs-title function_">clipRect</span>(clipRect,drawing.<span class="hljs-property">ClipOp</span>.<span class="hljs-property">DIFFERENCE</span>, <span class="hljs-literal">true</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"test rect.left: "</span> + clipRect.<span class="hljs-property">left</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"test rect.top: "</span> + clipRect.<span class="hljs-property">top</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"test rect.right: "</span> + clipRect.<span class="hljs-property">right</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"test rect.bottom: "</span> + clipRect.<span class="hljs-property">bottom</span>);</li><li>    canvas.<span class="hljs-title function_">getLocalClipBounds</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 874px;">     <h2 id="gettotalmatrix12" device-type="phone,2in1,tablet,wearable">getTotalMatrix<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettotalmatrix12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getTotalMatrix(): Matrix</p>     <p>获取画布矩阵。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-matrix">Matrix</a></td>         <td class="cellrowborder" width="50%">返回画布矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> matrix = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Matrix</span>();</li><li>    matrix.<span class="hljs-title function_">setMatrix</span>([<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>    canvas.<span class="hljs-title function_">setMatrix</span>(matrix);</li><li>    <span class="hljs-keyword">let</span> matrixResult =canvas.<span class="hljs-title function_">getTotalMatrix</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;">     <h2 id="drawcircle" device-type="phone,2in1,tablet,wearable">drawCircle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawcircle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawCircle(x: number, y: number, radius: number): void</p>     <p>绘制一个圆形。如果半径小于等于零，则不绘制。默认使用黑色填充。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆心的x坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆心的y坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆的半径，大于0的浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1832px;">     <h2 id="drawimage" device-type="phone,2in1,tablet,wearable">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawImage(pixelmap: image.PixelMap, left: number, top: number, samplingOptions?: SamplingOptions): void</p>     <p>画一张图片，图片的左上角坐标为(left, top)。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片的PixelMap。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">left</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片位置的左上角x轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">top</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片位置的左上角y轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">samplingOptions<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-samplingoptions">SamplingOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">采样选项对象，默认为不使用任何参数构造的原始采样选项对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; colorData.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>      colorData[i] = <span class="hljs-number">255</span>;</li><li>      colorData[i+<span class="hljs-number">1</span>] = <span class="hljs-number">156</span>;</li><li>      colorData[i+<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;</li><li>      colorData[i+<span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">SamplingOptions</span>(drawing.<span class="hljs-property">FilterMode</span>.<span class="hljs-property">FILTER_MODE_NEAREST</span>);</li><li>    <span class="hljs-keyword">if</span> (pixelMap != <span class="hljs-literal">null</span>) {</li><li>      canvas.<span class="hljs-title function_">drawImage</span>(pixelMap, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, options);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1787px;">     <h2 id="drawimagerect12" device-type="phone,2in1,tablet,wearable">drawImageRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimagerect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawImageRect(pixelmap: image.PixelMap, dstRect: common2D.Rect, samplingOptions?: SamplingOptions): void</p>     <p>将图片绘制到画布的指定区域上。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片的PixelMap。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dstRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形对象，用于指定画布上图片的绘制区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">samplingOptions</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-samplingoptions">SamplingOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">采样选项对象，默认为不使用任何参数构造的原始采样选项对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; colorData.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>      colorData[i] = <span class="hljs-number">255</span>;</li><li>      colorData[i+<span class="hljs-number">1</span>] = <span class="hljs-number">156</span>;</li><li>      colorData[i+<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;</li><li>      colorData[i+<span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span> };</li><li>    canvas.<span class="hljs-title function_">drawImageRect</span>(pixelMap, rect);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1973px;">     <h2 id="drawimagerectwithsrc12" device-type="phone,2in1,tablet,wearable">drawImageRectWithSrc<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimagerectwithsrc12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawImageRectWithSrc(pixelmap: image.PixelMap, srcRect: common2D.Rect, dstRect: common2D.Rect, samplingOptions?: SamplingOptions, constraint?: SrcRectConstraint): void</p>     <p>将图片的指定区域绘制到画布的指定区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片的PixelMap。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">srcRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形对象，用于指定图片的待绘制区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dstRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形对象，用于指定画布上图片的绘制区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">samplingOptions</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-samplingoptions">SamplingOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">采样选项对象，默认为不使用任何参数构造的原始采样选项对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#srcrectconstraint12">SrcRectConstraint</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">源矩形区域约束类型，默认为STRICT。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; colorData.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>      colorData[i] = <span class="hljs-number">255</span>;</li><li>      colorData[i+<span class="hljs-number">1</span>] = <span class="hljs-number">156</span>;</li><li>      colorData[i+<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;</li><li>      colorData[i+<span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">srcRect</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">100</span> };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dstRect</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span> };</li><li>    canvas.<span class="hljs-title function_">drawImageRectWithSrc</span>(pixelMap, srcRect, dstRect);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1310px;">     <h2 id="drawcolor" device-type="phone,2in1,tablet,wearable">drawColor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawcolor" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawColor(color: common2D.Color, blendMode?: BlendMode): void</p>     <p>使用指定颜色并按照指定的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a>对画布当前可绘制区域进行填充。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式的颜色，每个颜色通道的值是0到255之间的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">blendMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">颜色混合模式，默认模式为SRC_OVER。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: common2D.<span class="hljs-property">Color</span> = {</li><li>      alpha : <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">10</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">10</span></li><li>    }</li><li>    canvas.<span class="hljs-title function_">drawColor</span>(color, drawing.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">CLEAR</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1541px;">     <h2 id="drawcolor12" device-type="phone,2in1,tablet,wearable">drawColor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawcolor12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawColor(alpha: number, red: number, green: number, blue: number, blendMode?: BlendMode): void</p>     <p>使用指定颜色并按照指定的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a>对画布当前可绘制区域进行填充。性能优于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#drawcolor">drawColor</a>接口，推荐使用本接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">alpha</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式颜色的透明度通道值，该参数是0到255之间的整数，传入范围内的浮点数会向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">red</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式颜色的红色通道值，该参数是0到255之间的整数，传入范围内的浮点数会向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">green</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式颜色的绿色通道值，该参数是0到255之间的整数，传入范围内的浮点数会向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">blue</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式颜色的蓝色通道值，该参数是0到255之间的整数，传入范围内的浮点数会向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">blendMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">颜色混合模式，默认模式为SRC_OVER。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    canvas.<span class="hljs-title function_">drawColor</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, drawing.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">CLEAR</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="drawcolor18" device-type="phone,2in1,tablet,wearable">drawColor<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawcolor18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawColor(color: number, blendMode?: BlendMode): void</p>     <p>使用指定颜色并按照指定的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a>对画布当前可绘制区域进行填充。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">16进制ARGB格式的颜色。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">blendMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#blendmode">BlendMode</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">颜色混合模式，默认模式为SRC_OVER。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    canvas.<span class="hljs-title function_">drawColor</span>(<span class="hljs-number">0xff000a0a</span>, drawing.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">CLEAR</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2279px;">     <h2 id="drawpixelmapmesh12" device-type="phone,2in1,tablet,wearable">drawPixelMapMesh<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawpixelmapmesh12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawPixelMapMesh(pixelmap: image.PixelMap, meshWidth: number, meshHeight: number, vertices: Array&lt;number&gt;, vertOffset: number, colors: Array&lt;number&gt;, colorOffset: number): void</p>     <p>在网格上绘制像素图，网格均匀分布在像素图上。（只支持brush，使用pen没有绘制效果。）</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于绘制网格的像素图。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">meshWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格中的列数，大于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">meshHeight</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格中的行数，大于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">vertices</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">顶点数组，指定网格的绘制位置，浮点数组，大小必须为((meshWidth+1) * (meshHeight+1) + vertOffset) * 2。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">vertOffset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘图前要跳过的vert元素数，大于等于0的整数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">colors</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">颜色数组，在每个顶点指定一种颜色，整数数组，可为null，大小必须为(meshWidth+1) * (meshHeight+1) + colorOffset。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">colorOffset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制前要跳过的颜色元素数，大于等于0的整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; colorData.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>      colorData[i] = <span class="hljs-number">255</span>;</li><li>      colorData[i+<span class="hljs-number">1</span>] = <span class="hljs-number">156</span>;</li><li>      colorData[i+<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;</li><li>      colorData[i+<span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">if</span> (pixelMap != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>(); <span class="hljs-comment">// 只支持brush，使用pen没有绘制效果。</span></li><li>      canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>      <span class="hljs-keyword">let</span> verts : <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>]; <span class="hljs-comment">// 18</span></li><li>      canvas.<span class="hljs-title function_">drawPixelMapMesh</span>(pixelMap, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, verts, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>);</li><li>      canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="clear12" device-type="phone,2in1,tablet,wearable">clear<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clear12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clear(color: common2D.Color): void</p>     <p>使用指定颜色填充画布上的裁剪区域。效果等同于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#drawcolor">drawColor</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">ARGB格式的颜色，每个颜色通道的值是0到255之间的整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>};</li><li>    canvas.<span class="hljs-title function_">clear</span>(color);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 830px;">     <h2 id="clear18" device-type="phone,2in1,tablet,wearable">clear<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clear18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clear(color: common2D.Color | number): void</p>     <p>使用指定颜色填充画布上的裁剪区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#color">common2D.Color</a> | number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">颜色，可以用16进制ARGB格式的无符号整数表示。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xffff0000</span>;</li><li>    canvas.<span class="hljs-title function_">clear</span>(color);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 826px;">     <h2 id="getwidth12" device-type="phone,2in1,tablet,wearable">getWidth<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwidth12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getWidth(): number</p>     <p>获取画布的宽度。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回画布的宽度，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> width = canvas.<span class="hljs-title function_">getWidth</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get canvas width:'</span> + width);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 826px;">     <h2 id="getheight12" device-type="phone,2in1,tablet,wearable">getHeight<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getheight12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getHeight(): number</p>     <p>获取画布的高度。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回画布的高度，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> height = canvas.<span class="hljs-title function_">getHeight</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get canvas height:'</span> + height);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1217px;">     <h2 id="drawoval12" device-type="phone,2in1,tablet,wearable">drawOval<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawoval12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawOval(oval: common2D.Rect): void</p>     <p>在画布上绘制一个椭圆，椭圆的形状和位置由椭圆的外切矩形给出。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">oval</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形区域，该矩形的内切椭圆即为待绘制椭圆。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    <span class="hljs-keyword">const</span> color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> };</li><li>    pen.<span class="hljs-title function_">setColor</span>(color);</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = {<span class="hljs-attr">left</span>:<span class="hljs-number">100</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">50</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">400</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">500</span>};</li><li>    canvas.<span class="hljs-title function_">drawOval</span>(rect);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1571px;">     <h2 id="drawarc12" device-type="phone,2in1,tablet,wearable">drawArc<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawarc12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawArc(arc: common2D.Rect, startAngle: number, sweepAngle: number): void</p>     <p>在画布上绘制圆弧。该方法允许指定起始角度、扫描角度。当扫描角度的绝对值大于360度时，则绘制椭圆。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">arc</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">包含要绘制的圆弧的椭圆的矩形边界。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">弧的起始角度，单位为度，该参数为浮点数。0度时起始点位于椭圆的右端点，正数时以顺时针方向放置起始点，负数时以逆时针方向放置起始点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sweepAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">弧的扫描角度，单位为度，该参数为浮点数。为正数时顺时针扫描，为负数时逆时针扫描。它的有效范围在-360度到360度之间，当绝对值大于360度时，该方法绘制的是一个椭圆。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    <span class="hljs-keyword">const</span> color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> };</li><li>    pen.<span class="hljs-title function_">setColor</span>(color);</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = {<span class="hljs-attr">left</span>:<span class="hljs-number">100</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">50</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">400</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">200</span>};</li><li>    canvas.<span class="hljs-title function_">drawArc</span>(rect, <span class="hljs-number">90</span>, <span class="hljs-number">180</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1238px;">     <h2 id="drawpoint" device-type="phone,2in1,tablet,wearable">drawPoint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawpoint" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawPoint(x: number, y: number): void</p>     <p>绘制一个点。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点的x轴坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点的y轴坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawPoint</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="drawpoints12" device-type="phone,2in1,tablet,wearable">drawPoints<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawpoints12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawPoints(points: Array&lt;common2D.Point&gt;, mode?: PointMode): void</p>     <p>在画布上绘制一组点、线段或多边形。通过指定点的数组和绘制模式来决定绘制方式。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">points</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#point12">common2D.Point</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要绘制的点的数组。长度不能为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#pointmode12">PointMode</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">绘制数组中的点的方式，默认为drawing.PointMode.POINTS。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">30</span>);</li><li>    <span class="hljs-keyword">const</span> color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> };</li><li>    pen.<span class="hljs-title function_">setColor</span>(color);</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawPoints</span>([{<span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">200</span>}, {<span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">230</span>}, {<span class="hljs-attr">x</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">300</span>}], drawing.<span class="hljs-property">PointMode</span>.<span class="hljs-property">POINTS</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1241px;">     <h2 id="drawpath" device-type="phone,2in1,tablet,wearable">drawPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawpath" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawPath(path: Path): void</p>     <p>绘制一个自定义路径，该路径包含了一组路径轮廓，每个路径轮廓可以是开放的或封闭的。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要绘制的路径对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    <span class="hljs-keyword">let</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>    path.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>);</li><li>    path.<span class="hljs-title function_">cubicTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">15</span>);</li><li>    path.<span class="hljs-title function_">close</span>();</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawPath</span>(path);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1376px;">     <h2 id="drawline" device-type="phone,2in1,tablet,wearable">drawLine<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawline" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawLine(x0: number, y0: number, x1: number, y1: number): void</p>     <p>画一条直线段，从指定的起点到终点。如果直线段的起点和终点是同一个点，无法绘制。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">线段起点的X坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">线段起点的Y坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">线段终点的X坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">线段终点的Y坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawLine</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h2 id="drawtextblob" device-type="phone,2in1,tablet,wearable">drawTextBlob<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawtextblob" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawTextBlob(blob: TextBlob, x: number, y: number): void</p>     <p>绘制一段文字。若构造blob的字体不支持待绘制字符，则该部分字符无法绘制。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">blob</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-textblob">TextBlob</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">TextBlob对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制出的文字基线（下图蓝线）的左端点（下图红点）的横坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制出的文字基线（下图蓝线）的左端点（下图红点）的纵坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><span><img originheight="163" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115131.56101528164173619887971874203086:50001231000000:2800:0D943BB1B8F68FC174A265892DBB9A3EAB5E8DAB0E6B86E416D335CF0FB3F7BF.png" width="360" height="163"></span></p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    <span class="hljs-keyword">const</span> font = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Font</span>();</li><li>    font.<span class="hljs-title function_">setSize</span>(<span class="hljs-number">20</span>);</li><li>    <span class="hljs-keyword">const</span> textBlob = drawing.<span class="hljs-property">TextBlob</span>.<span class="hljs-title function_">makeFromString</span>(<span class="hljs-string">"Hello, drawing"</span>, font, drawing.<span class="hljs-property">TextEncoding</span>.<span class="hljs-property">TEXT_ENCODING_UTF8</span>);</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawTextBlob</span>(textBlob, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>);</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1707px;">     <h2 id="drawsinglecharacter12" device-type="phone,2in1,tablet,wearable">drawSingleCharacter<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawsinglecharacter12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawSingleCharacter(text: string, font: Font, x: number, y: number): void</p>     <p>绘制单个字符。当前字型中的字体不支持待绘制字符时，退化到使用系统字体绘制字符。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绘制的单个字符，字符串的长度必须为1。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">font</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-font">Font</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字型对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制出的字符基线（下图蓝线）的左端点（下图红点）的横坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制出的字符基线（下图蓝线）的左端点（下图红点）的纵坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><span><img originheight="163" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115131.66461362590655758997378195862082:50001231000000:2800:19A033064D8C25BA392D04D68051D836D56C95D1F4440CDB6101E7BAF147ADE5.png" width="360" height="163"></span></p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    <span class="hljs-keyword">const</span> font = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Font</span>();</li><li>    font.<span class="hljs-title function_">setSize</span>(<span class="hljs-number">20</span>);</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawSingleCharacter</span>(<span class="hljs-string">"你"</span>, font, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    canvas.<span class="hljs-title function_">drawSingleCharacter</span>(<span class="hljs-string">"好"</span>, font, <span class="hljs-number">120</span>, <span class="hljs-number">100</span>);</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1565px;">     <h2 id="drawsinglecharacterwithfeatures20" device-type="phone,2in1,tablet,wearable">drawSingleCharacterWithFeatures<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawsinglecharacterwithfeatures20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawSingleCharacterWithFeatures(text: string, font: Font, x: number, y: number, features: Array&lt;FontFeature&gt;): void</p>     <p>绘制单个字符，字符带有字体特征。当前字型中的字体不支持待绘制字符时，退化到使用系统字体绘制字符。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待绘制的单个字符，字符串长度必须为1。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">font</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-font">Font</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字型对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制字符基线左端点的横坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所绘制字符基线左端点的纵坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">features</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-i#fontfeature20">FontFeature</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">字体特征对象数组。参数为空数组时使用TTF(TrueType Font)文件中预设的字体特征。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-drawing">图形绘制与显示错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">25900001</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: Incorrect parameter range.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    <span class="hljs-keyword">const</span> font = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Font</span>();</li><li>    font.<span class="hljs-title function_">setSize</span>(<span class="hljs-number">20</span>);</li><li>    <span class="hljs-keyword">let</span> fontFeatures : <span class="hljs-title class_">Array</span>&lt;drawing.<span class="hljs-property">FontFeature</span>&gt; = [];</li><li>    fontFeatures.<span class="hljs-title function_">push</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">'calt'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawSingleCharacterWithFeatures</span>(<span class="hljs-string">"你"</span>, font, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, fontFeatures);</li><li>    canvas.<span class="hljs-title function_">drawSingleCharacterWithFeatures</span>(<span class="hljs-string">"好"</span>, font, <span class="hljs-number">180</span>, <span class="hljs-number">100</span>, fontFeatures);</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1193px;">     <h2 id="drawregion12" device-type="phone,2in1,tablet,wearable">drawRegion<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawregion12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawRegion(region: Region): void</p>     <p>绘制一个区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">region</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-region">Region</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制的区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    <span class="hljs-keyword">let</span> region = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Region</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">10</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    region.<span class="hljs-title function_">setRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">400</span>);</li><li>    canvas.<span class="hljs-title function_">drawRegion</span>(region);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1261px;">     <h2 id="attachpen" device-type="phone,2in1,tablet,wearable">attachPen<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attachpen" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>attachPen(pen: Pen): void</p>     <p>绑定画笔到画布上，在画布上进行绘制时，将使用画笔的样式去绘制图形形状的轮廓。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>执行该方法后，若pen的效果发生改变并且开发者希望该变化生效于接下来的绘制动作，需要再次执行该方法以确保变化生效。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pen</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-pen">Pen</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">画笔对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ left : <span class="hljs-number">0</span>, right : <span class="hljs-number">10</span>, top : <span class="hljs-number">0</span>, bottom : <span class="hljs-number">10</span> });</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1237px;">     <h2 id="attachbrush" device-type="phone,2in1,tablet,wearable">attachBrush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attachbrush" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>attachBrush(brush: Brush): void</p>     <p>绑定画刷到画布上，在画布上进行绘制时，将使用画刷的样式对绘制图形形状的内部进行填充。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>执行该方法后，若brush的效果发生改变并且开发者希望该变化生效于接下来的绘制动作，需要再次执行该方法以确保变化生效。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brush</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-brush">Brush</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">画刷对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ left : <span class="hljs-number">0</span>, right : <span class="hljs-number">10</span>, top : <span class="hljs-number">0</span>, bottom : <span class="hljs-number">10</span> });</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 751px;">     <h2 id="detachpen" device-type="phone,2in1,tablet,wearable">detachPen<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detachpen" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>detachPen(): void</p>     <p>将画笔与画布解绑，在画布上进行绘制时，不会再使用画笔去绘制图形形状的轮廓。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ left : <span class="hljs-number">0</span>, right : <span class="hljs-number">10</span>, top : <span class="hljs-number">0</span>, bottom : <span class="hljs-number">10</span> });</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 727px;">     <h2 id="detachbrush" device-type="phone,2in1,tablet,wearable">detachBrush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detachbrush" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>detachBrush(): void</p>     <p>将画刷与画布解绑，在画布上进行绘制时，不会再使用画刷对绘制图形形状的内部进行填充。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ left : <span class="hljs-number">0</span>, right : <span class="hljs-number">10</span>, top : <span class="hljs-number">0</span>, bottom : <span class="hljs-number">10</span> });</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;">     <h2 id="clippath12" device-type="phone,2in1,tablet,wearable">clipPath<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clippath12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clipPath(path: Path, clipOp?: ClipOp, doAntiAlias?: boolean): void</p>     <p>使用自定义路径对画布的可绘制区域进行裁剪。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">路径对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">clipOp</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#clipop12">ClipOp</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">裁剪方式。默认为INTERSECT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">doAntiAlias</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示是否使能抗锯齿绘制。true表示使能，false表示不使能。默认为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>    path.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    path.<span class="hljs-title function_">cubicTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>, <span class="hljs-number">150</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>);</li><li>    path.<span class="hljs-title function_">close</span>();</li><li>    canvas.<span class="hljs-title function_">clipPath</span>(path, drawing.<span class="hljs-property">ClipOp</span>.<span class="hljs-property">INTERSECT</span>, <span class="hljs-literal">true</span>);</li><li>    canvas.<span class="hljs-title function_">clear</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1211px;">     <h2 id="cliprect12" device-type="phone,2in1,tablet,wearable">clipRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cliprect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clipRect(rect: common2D.Rect, clipOp?: ClipOp, doAntiAlias?: boolean): void</p>     <p>使用矩形对画布的可绘制区域进行裁剪。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要裁剪的矩形区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">clipOp</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#clipop12">ClipOp</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">裁剪方式。默认为INTERSECT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">doAntiAlias</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示是否使能抗锯齿绘制。true表示使能，false表示不使能。默认为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    canvas.<span class="hljs-title function_">clipRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>}, drawing.<span class="hljs-property">ClipOp</span>.<span class="hljs-property">DIFFERENCE</span>, <span class="hljs-literal">true</span>);</li><li>    canvas.<span class="hljs-title function_">clear</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 850px;">     <h2 id="save12" device-type="phone,2in1,tablet,wearable">save<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>save(): number</p>     <p>保存当前画布状态（画布矩阵和可绘制区域）到栈顶。需要与恢复接口<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#restore12">restore</a>配合使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">画布状态个数，该参数为正整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = {<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span>};</li><li>    canvas.<span class="hljs-title function_">drawRect</span>(rect);</li><li>    canvas.<span class="hljs-title function_">save</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1817px;">     <h2 id="savelayer12" device-type="phone,2in1,tablet,wearable">saveLayer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savelayer12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>saveLayer(rect?: common2D.Rect | null, brush?: Brush | null): number</p>     <p>保存当前画布的矩阵和裁剪区域，并为后续绘制分配位图。调用恢复接口<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#restore12">restore</a>将会舍弃对矩阵和裁剪区域做的更改，并绘制位图。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a> | null</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">矩形对象，用于限制图层大小，默认为当前画布大小。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">brush</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-brush">Brush</a> | null</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">画刷对象，绘制位图时会应用画刷对象的透明度，颜色滤波器效果和混合模式，默认不设置额外效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回调用前保存的画布状态数，该参数为正整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: Mandatory parameters are left unspecified.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);</li><li>    <span class="hljs-keyword">const</span> brushRect = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">colorRect</span>: common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>};</li><li>    brushRect.<span class="hljs-title function_">setColor</span>(colorRect);</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brushRect);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = {<span class="hljs-attr">left</span>:<span class="hljs-number">100</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">100</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">500</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">500</span>};</li><li>    canvas.<span class="hljs-title function_">drawRect</span>(rect);</li><li>
</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setBlendMode</span>(drawing.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">DST_OUT</span>);</li><li>    canvas.<span class="hljs-title function_">saveLayer</span>(rect, brush);</li><li>
</li><li>    <span class="hljs-keyword">const</span> brushCircle = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">colorCircle</span>: common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">255</span>};</li><li>    brushCircle.<span class="hljs-title function_">setColor</span>(colorCircle);</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brushCircle);</li><li>    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>, <span class="hljs-number">200</span>);</li><li>    canvas.<span class="hljs-title function_">restore</span>();</li><li>    canvas.<span class="hljs-title function_">restore</span>();</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1286px;">     <h2 id="scale12" device-type="phone,2in1,tablet,wearable">scale<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scale12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>scale(sx: number, sy: number): void</p>     <p>在当前画布矩阵（默认是单位矩阵）的基础上再叠加一个缩放矩阵，后续绘制操作和裁剪操作的形状和位置都会自动叠加一个缩放效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">x轴方向的缩放比例，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">y轴方向的缩放比例，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0.5</span>);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1430px;">     <h2 id="skew12" device-type="phone,2in1,tablet,wearable">skew<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="skew12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>skew(sx: number, sy: number) : void</p>     <p>在当前画布矩阵（默认是单位矩阵）的基础上再叠加一个倾斜矩阵，后续绘制操作和裁剪操作的形状和位置都会自动叠加一个倾斜效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">x轴上的倾斜量，该参数为浮点数。正值会使绘制沿y轴增量方向向右倾斜；负值会使绘制沿y轴增量方向向左倾斜。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">y轴上的倾斜量，该参数为浮点数。正值会使绘制沿x轴增量方向向下倾斜；负值会使绘制沿x轴增量方向向上倾斜。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">skew</span>(<span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1379px;">     <h2 id="rotate12" device-type="phone,2in1,tablet,wearable">rotate<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>rotate(degrees: number, sx: number, sy: number) : void</p>     <p>在当前画布矩阵（默认是单位矩阵）的基础上再叠加一个旋转矩阵，后续绘制操作和裁剪操作的形状和位置都会自动叠加一个旋转效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">degrees</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转角度，单位为度，该参数为浮点数，正数为顺时针旋转，负数为逆时针旋转。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转中心的横坐标，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">旋转中心的纵坐标，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">rotate</span>(<span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1286px;">     <h2 id="translate12" device-type="phone,2in1,tablet,wearable">translate<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="translate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>translate(dx: number, dy: number): void</p>     <p>在当前画布矩阵（默认是单位矩阵）的基础上再叠加一个平移矩阵，后续绘制操作和裁剪操作的形状和位置都会自动叠加一个平移效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">x轴方向的移动距离，该参数为浮点数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">y轴方向的移动距离，该参数为浮点数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">translate</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 994px;">     <h2 id="getsavecount12" device-type="phone,2in1,tablet,wearable">getSaveCount<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsavecount12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>getSaveCount(): number</p>     <p>获取栈中保存的画布状态（画布矩阵和裁剪区域）的数量。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">已保存的画布状态的数量，该参数为正整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span>});</li><li>    canvas.<span class="hljs-title function_">save</span>();</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">getSaveCount</span>();</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1409px;">     <h2 id="restoretocount12" device-type="phone,2in1,tablet,wearable">restoreToCount<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restoretocount12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>restoreToCount(count: number): void</p>     <p>恢复到指定数量的画布状态（画布矩阵和裁剪区域）。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要恢复的画布状态深度，该参数为整数。小于等于1时，恢复为初始状态；大于已保存的画布状态数量时，不执行任何操作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span>});</li><li>    canvas.<span class="hljs-title function_">save</span>();</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">500</span>});</li><li>    canvas.<span class="hljs-title function_">save</span>();</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">500</span>});</li><li>    canvas.<span class="hljs-title function_">save</span>();</li><li>    canvas.<span class="hljs-title function_">restoreToCount</span>(<span class="hljs-number">2</span>);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({left : <span class="hljs-number">10</span>, right : <span class="hljs-number">500</span>, top : <span class="hljs-number">300</span>, bottom : <span class="hljs-number">900</span>});</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 751px;">     <h2 id="restore12" device-type="phone,2in1,tablet,wearable">restore<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>restore(): void</p>     <p>恢复保存在栈顶的画布状态（画布矩阵和裁剪区域）。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>});</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">restore</span>();</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="concatmatrix12" device-type="phone,2in1,tablet,wearable">concatMatrix<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="concatmatrix12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>concatMatrix(matrix: Matrix): void</p>     <p>画布现有矩阵左乘传入矩阵，不影响之前的绘制操作，后续绘制操作和裁剪操作的形状和位置都会受到该矩阵的影响。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">matrix</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-matrix">Matrix</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩阵对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> matrix = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Matrix</span>();</li><li>    matrix.<span class="hljs-title function_">setMatrix</span>([<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>    canvas.<span class="hljs-title function_">concatMatrix</span>(matrix);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">500</span>});</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="setmatrix12" device-type="phone,2in1,tablet,wearable">setMatrix<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmatrix12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>setMatrix(matrix: Matrix): void</p>     <p>设置画布的矩阵，后续绘制操作和裁剪操作的形状和位置都会受到该矩阵的影响。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">matrix</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-matrix">Matrix</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩阵对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> matrix = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Matrix</span>()</li><li>    matrix.<span class="hljs-title function_">setMatrix</span>([<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>    canvas.<span class="hljs-title function_">setMatrix</span>(matrix);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">500</span>});</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 922px;">     <h2 id="isclipempty12" device-type="phone,2in1,tablet,wearable">isClipEmpty<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isclipempty12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>isClipEmpty(): boolean</p>     <p>判断裁剪后的可绘制区域是否为空。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回画布的可绘制区域是否为空的结果，true表示为空，false表示不为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">if</span> (canvas.<span class="hljs-title function_">isClipEmpty</span>()) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas.isClipEmpty() returned true"</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas.isClipEmpty() returned false"</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;">     <h2 id="clipregion12" device-type="phone,2in1,tablet,wearable">clipRegion<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clipregion12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clipRegion(region: Region, clipOp?: ClipOp): void</p>     <p>在画布上裁剪一个区域。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">region</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-region">Region</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">区域对象，表示裁剪范围。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">clipOp</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#clipop12">ClipOp</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">裁剪方式，默认为INTERSECT。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> region : drawing.<span class="hljs-property">Region</span> = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Region</span>();</li><li>    region.<span class="hljs-title function_">setRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">500</span>, <span class="hljs-number">500</span>);</li><li>    canvas.<span class="hljs-title function_">clipRegion</span>(region);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>};</li><li>    canvas.<span class="hljs-title function_">clear</span>(color);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;">     <h2 id="cliproundrect12" device-type="phone,2in1,tablet,wearable">clipRoundRect<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cliproundrect12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>clipRoundRect(roundRect: RoundRect, clipOp?: ClipOp, doAntiAlias?: boolean): void</p>     <p>在画布上裁剪一个圆角矩形。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">roundRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-roundrect">RoundRect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">圆角矩形对象，表示裁剪范围。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">clipOp</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#clipop12">ClipOp</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">裁剪方式，默认为INTERSECT。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">doAntiAlias</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示是否使能抗锯齿。true表示使能，false表示不使能。默认为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span> };</li><li>    <span class="hljs-keyword">let</span> roundRect = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">RoundRect</span>(rect, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    canvas.<span class="hljs-title function_">clipRoundRect</span>(roundRect);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: common2D.<span class="hljs-property">Color</span> = {<span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>};</li><li>    canvas.<span class="hljs-title function_">clear</span>(color);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 655px;">     <h2 id="resetmatrix12" device-type="phone,2in1,tablet,wearable">resetMatrix<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetmatrix12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>resetMatrix(): void</p>     <p>将当前画布的矩阵重置为单位矩阵。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    canvas.<span class="hljs-title function_">scale</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>);</li><li>    canvas.<span class="hljs-title function_">resetMatrix</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1169px;">     <h2 id="quickrejectpath18" device-type="phone,2in1,tablet,wearable">quickRejectPath<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="quickrejectpath18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>quickRejectPath(path: Path): boolean</p>     <p>判断路径与画布区域是否不相交。画布区域包含边界。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-path">Path</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">路径对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回路径是否与画布区域不相交的结果。true表示路径与画布区域不相交，false表示路径与画布区域相交。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> path = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Path</span>();</li><li>    path.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>    path.<span class="hljs-title function_">cubicTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">15</span>);</li><li>    path.<span class="hljs-title function_">close</span>();</li><li>    <span class="hljs-keyword">if</span> (canvas.<span class="hljs-title function_">quickRejectPath</span>(path)) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas and path do not intersect."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas and path intersect."</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;">     <h2 id="quickrejectrect18" device-type="phone,2in1,tablet,wearable">quickRejectRect<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="quickrejectrect18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>quickRejectRect(rect: common2D.Rect): boolean</p>     <p>判断矩形和画布区域是否不相交。画布区域包含边界。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回矩形是否与画布区域不相交的结果。true表示矩形与画布区域不相交，false表示矩形与画布区域相交。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = { left : <span class="hljs-number">10</span>, top : <span class="hljs-number">20</span>, right : <span class="hljs-number">50</span>, bottom : <span class="hljs-number">30</span> };</li><li>    <span class="hljs-keyword">if</span> (canvas.<span class="hljs-title function_">quickRejectRect</span>(rect)) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas and rect do not intersect."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"canvas and rect intersect."</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1421px;">     <h2 id="drawarcwithcenter18" device-type="phone,2in1,tablet,wearable">drawArcWithCenter<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawarcwithcenter18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawArcWithCenter(arc: common2D.Rect, startAngle: number, sweepAngle: number, useCenter: boolean): void</p>     <p>在画布上绘制圆弧。该方法允许指定圆弧的起始角度、扫描角度以及圆弧的起点和终点是否连接圆弧的中心点。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">arc</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">包含要绘制的圆弧的椭圆的矩形边界。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">弧的起始角度，单位为度，该参数为浮点数。0度时起始点位于椭圆的右端点，为正数时以顺时针方向放置起始点，为负数时以逆时针方向放置起始点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sweepAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">弧的扫描角度，单位为度，该参数为浮点数。为正数时顺时针扫描，为负数时逆时针扫描。扫描角度可以超过360度，将绘制一个完整的椭圆。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">useCenter</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绘制时弧形的起点和终点是否连接弧形的中心点。true表示连接，false表示不连接。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    <span class="hljs-keyword">const</span> color : common2D.<span class="hljs-property">Color</span> = { <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> };</li><li>    pen.<span class="hljs-title function_">setColor</span>(color);</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">rect</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">400</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span> };</li><li>    canvas.<span class="hljs-title function_">drawArcWithCenter</span>(rect, <span class="hljs-number">90</span>, <span class="hljs-number">180</span>, <span class="hljs-literal">false</span>);</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2312px;">     <h2 id="drawimagenine18" device-type="phone,2in1,tablet,wearable">drawImageNine<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimagenine18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawImageNine(pixelmap: image.PixelMap, center: common2D.Rect, dstRect: common2D.Rect, filterMode: FilterMode): void</p>     <p>通过绘制两条水平线和两条垂直线将图像分割成9个部分：四个边，四个角和中心。</p>     <p>若角落的4个区域尺寸不超过目标矩形，则会在不缩放的情况下被绘制在目标矩形，反之则会按比例缩放绘制在目标矩形；如果还有剩余空间，剩下的5个区域会通过拉伸或压缩来绘制，以便能够完全覆盖目标矩形。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于绘制网格的像素图。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">center</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">分割图像的中心矩形。矩形四条边所在的直线将图像分成了9个部分。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dstRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">在画布上绘制的目标矩形区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">filterMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#filtermode12">FilterMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">过滤模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">const</span> blockSize = <span class="hljs-number">50</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {</li><li>        <span class="hljs-keyword">const</span> index = (y * width + x) * <span class="hljs-number">4</span>; <span class="hljs-comment">// 计算当前像素的索引</span></li><li>        <span class="hljs-keyword">const</span> blockX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x / blockSize);</li><li>        <span class="hljs-keyword">const</span> blockY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(y / blockSize);</li><li>
</li><li>        <span class="hljs-comment">// 通过方块坐标的奇偶性决定颜色</span></li><li>        <span class="hljs-keyword">if</span> ((blockX + blockY) % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-comment">// 红色方块 (R, G, B, A)</span></li><li>          colorData[index] = <span class="hljs-number">255</span>;     <span class="hljs-comment">// R</span></li><li>          colorData[index + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// G</span></li><li>          colorData[index + <span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// B</span></li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-comment">// 蓝色方块</span></li><li>          colorData[index] = <span class="hljs-number">0</span>;       <span class="hljs-comment">// R</span></li><li>          colorData[index + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// G</span></li><li>          colorData[index + <span class="hljs-number">2</span>] = <span class="hljs-number">255</span>; <span class="hljs-comment">// B</span></li><li>        }</li><li>        colorData[index + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;   <span class="hljs-comment">// Alpha 始终为 255（不透明）</span></li><li>      }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    canvas.<span class="hljs-title function_">drawImage</span>(pixelMap, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// 原图</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">center</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">40</span> };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dst</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">30</span> };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dst1</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">90</span> };</li><li>    canvas.<span class="hljs-title function_">drawImageNine</span>(pixelMap, center, dst, drawing.<span class="hljs-property">FilterMode</span>.<span class="hljs-property">FILTER_MODE_NEAREST</span>); <span class="hljs-comment">// 示例1</span></li><li>    canvas.<span class="hljs-title function_">drawImageNine</span>(pixelMap, center, dst1, drawing.<span class="hljs-property">FilterMode</span>.<span class="hljs-property">FILTER_MODE_NEAREST</span>); <span class="hljs-comment">// 示例2</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2312px;">     <h2 id="drawimagelattice18" device-type="phone,2in1,tablet,wearable">drawImageLattice<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimagelattice18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>drawImageLattice(pixelmap: image.PixelMap, lattice: Lattice, dstRect: common2D.Rect, filterMode: FilterMode): void</p>     <p>将图像按照矩形网格对象的设置划分为多个网格，并把图像的每个部分按照网格对象的设置绘制到画布上的目标矩形区域。</p>     <p>偶数行和列（起始计数为0）的每个交叉点都是固定的，若固定网格区域的尺寸不超过目标矩形，则会在不缩放的情况下被绘制在目标矩形，反之则会按比例缩放绘制在目标矩形；如果还有剩余空间，剩下的区域会通过拉伸或压缩来绘制，以便能够完全覆盖目标矩形。</p>     <p><strong>系统能力：</strong> SystemCapability.Graphics.Drawing</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pixelmap</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于绘制网格的像素图。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">lattice</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-lattice">Lattice</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">矩形网格对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dstRect</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-common2d#rect">common2D.Rect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标矩形区域。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">filterMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-e#filtermode12">FilterMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">过滤模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error.Possible causes:1.Mandatory parameters are left unspecified;2.Incorrect parameter types;3.Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gcj-c106="" class="highlight-div"><div _ngcontent-gcj-c106="" class="highlight-div-header"><div _ngcontent-gcj-c106="" class="highlight-div-header-left"><div _ngcontent-gcj-c106="" class="handle-button expand-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gcj-c106="" class="highlight-div-header-right"><div _ngcontent-gcj-c106="" class="handle-button ai-button"></div><div _ngcontent-gcj-c106="" class="handle-button line-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gcj-c106="" class="handle-button theme-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gcj-c106="" class="handle-button copy-button"><div _ngcontent-gcj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gcj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common2D, drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context : DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> width = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> height = <span class="hljs-number">1000</span>;</li><li>    <span class="hljs-keyword">const</span> bufferSize = width * height * <span class="hljs-number">4</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(bufferSize);</li><li>
</li><li>    <span class="hljs-keyword">const</span> colorData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(color);</li><li>    <span class="hljs-keyword">const</span> blockSize = <span class="hljs-number">50</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {</li><li>        <span class="hljs-keyword">const</span> index = (y * width + x) * <span class="hljs-number">4</span>; <span class="hljs-comment">// 计算当前像素的索引</span></li><li>        <span class="hljs-keyword">const</span> blockX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x / blockSize);</li><li>        <span class="hljs-keyword">const</span> blockY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(y / blockSize);</li><li>
</li><li>        <span class="hljs-comment">// 通过方块坐标的奇偶性决定颜色</span></li><li>        <span class="hljs-keyword">if</span> ((blockX + blockY) % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-comment">// 红色方块 (R, G, B, A)</span></li><li>          colorData[index] = <span class="hljs-number">255</span>;     <span class="hljs-comment">// R</span></li><li>          colorData[index + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// G</span></li><li>          colorData[index + <span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// B</span></li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-comment">// 蓝色方块</span></li><li>          colorData[index] = <span class="hljs-number">0</span>;       <span class="hljs-comment">// R</span></li><li>          colorData[index + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// G</span></li><li>          colorData[index + <span class="hljs-number">2</span>] = <span class="hljs-number">255</span>; <span class="hljs-comment">// B</span></li><li>        }</li><li>        colorData[index + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;   <span class="hljs-comment">// Alpha 始终为 255（不透明）</span></li><li>      }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = {</li><li>      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>,</li><li>      <span class="hljs-attr">size</span>: { height, width }</li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> = image.<span class="hljs-title function_">createPixelMapSync</span>(color, opts);</li><li>    canvas.<span class="hljs-title function_">drawImage</span>(pixelMap, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// 原图</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">xDivs</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">28</span>, <span class="hljs-number">36</span>, <span class="hljs-number">44</span>, <span class="hljs-number">52</span>];</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">yDivs</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">28</span>, <span class="hljs-number">36</span>, <span class="hljs-number">44</span>, <span class="hljs-number">52</span>];</li><li>    <span class="hljs-keyword">let</span> lattice = drawing.<span class="hljs-property">Lattice</span>.<span class="hljs-title function_">createImageLattice</span>(xDivs, yDivs, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dst</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">164</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">64</span> };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">dst1</span>: common2D.<span class="hljs-property">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">360</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">160</span> };</li><li>    canvas.<span class="hljs-title function_">drawImageLattice</span>(pixelMap, lattice, dst, drawing.<span class="hljs-property">FilterMode</span>.<span class="hljs-property">FILTER_MODE_NEAREST</span>); <span class="hljs-comment">// 示例1</span></li><li>    canvas.<span class="hljs-title function_">drawImageLattice</span>(pixelMap, lattice, dst1, drawing.<span class="hljs-property">FilterMode</span>.<span class="hljs-property">FILTER_MODE_NEAREST</span>); <span class="hljs-comment">// 示例2</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>