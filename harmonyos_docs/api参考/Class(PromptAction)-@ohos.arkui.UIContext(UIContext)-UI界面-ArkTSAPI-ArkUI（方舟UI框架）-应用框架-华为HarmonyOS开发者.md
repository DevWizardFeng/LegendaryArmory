<h1 _ngcontent-kwt-c119="" class="doc-title ng-star-inserted" title="Class (PromptAction)"> Class (PromptAction) </h1>

<div _ngcontent-kwt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>创建并显示即时反馈、对话框、操作菜单以及自定义弹窗。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>本Class首批接口从API version 10开始支持。</p></li>       <li>        <p>以下API需先使用UIContext中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getpromptaction">getPromptAction()</a>方法获取到PromptAction对象，再通过该对象调用对应方法。</p></li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="showtoast" device-type="phone,2in1,tablet,wearable,tv">showToast<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtoast" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showToast(options: promptAction.ShowToastOptions): void</p>     <p>创建并显示即时反馈。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showtoastoptions">promptAction.ShowToastOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Toast选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用showToast接口，创建并显示即时反馈。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showToast'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showToast</span>({</li><li>              <span class="hljs-attr">message</span>: <span class="hljs-string">'Message Info'</span>,</li><li>              <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span></li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`showToast args error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          };</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="opentoast18" device-type="phone,2in1,tablet,wearable,tv">openToast<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opentoast18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openToast(options: promptAction.ShowToastOptions): Promise&lt;number&gt;</p>     <p>显示即时反馈。使用Promise异步回调返回即时反馈的id，可供closeToast使用。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showtoastoptions">promptAction.ShowToastOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Toast选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回即时反馈的id，可供closeToast使用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用openToast和closeToast接口，展示了弹出以及关闭Toast的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">toastId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'OpenToast'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">openToast</span>({</li><li>            <span class="hljs-attr">message</span>: <span class="hljs-string">'Toast Message'</span>,</li><li>            <span class="hljs-attr">duration</span>: <span class="hljs-number">10000</span>,</li><li>          }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">toastId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">toastId</span> = toastId;</li><li>          })</li><li>            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`openToast error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>            })</li><li>        })</li><li>      <span class="hljs-title class_">Blank</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close Toast'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">closeToast</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">toastId</span>);</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CloseToast error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          };</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="closetoast18" device-type="phone,2in1,tablet,wearable,tv">closeToast<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closetoast18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeToast(toastId: number): void</p>     <p>关闭即时反馈。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">toastId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">openToast返回的id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103401</td>         <td class="cellrowborder" width="50%">Cannot find the toast.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#opentoast18">openToast18</a>的示例。</p>    </div>    <div class="tiledSection">     <h2 id="showdialog" device-type="phone,2in1,tablet,wearable,tv">showDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showdialog" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showDialog(options: promptAction.ShowDialogOptions, callback: AsyncCallback&lt;promptAction.ShowDialogSuccessResponse&gt;): void</p>     <p>创建并显示对话框，对话框响应结果使用callback异步回调返回。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showdialogoptions">promptAction.ShowDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">页面显示对话框信息描述。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showdialogsuccessresponse">promptAction.ShowDialogSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。弹出对话框成功，err为undefined，data为获取到的对话框响应结果，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用showDialog接口，展示了弹出对话框以及返回对话框响应结果的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showDialog'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showDialog</span>({</li><li>              <span class="hljs-attr">title</span>: <span class="hljs-string">'showDialog Title Info'</span>,</li><li>              <span class="hljs-attr">message</span>: <span class="hljs-string">'Message Info'</span>,</li><li>              <span class="hljs-attr">buttons</span>: [</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'button1'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>                },</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'button2'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>                }</li><li>              ]</li><li>            }, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'showDialog err: '</span> + err);</li><li>                <span class="hljs-keyword">return</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'showDialog success callback, click button: '</span> + data.<span class="hljs-property">index</span>);</li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`showDialog args error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          };</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="showdialog-1" device-type="phone,2in1,tablet,wearable,tv">showDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showdialog-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showDialog(options: promptAction.ShowDialogOptions): Promise&lt;promptAction.ShowDialogSuccessResponse&gt;</p>     <p>创建并显示对话框，使用Promise异步回调获取对话框的响应结果。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showdialogoptions">promptAction.ShowDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">对话框选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#showdialogsuccessresponse">promptAction.ShowDialogSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回对话框的响应结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal"> 通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用showDialog接口，展示了弹出对话框以及通过Promise获取对话框响应结果的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showDialog'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showDialog</span>({</li><li>            <span class="hljs-attr">title</span>: <span class="hljs-string">'Title Info'</span>,</li><li>            <span class="hljs-attr">message</span>: <span class="hljs-string">'Message Info'</span>,</li><li>            <span class="hljs-attr">buttons</span>: [</li><li>              {</li><li>                <span class="hljs-attr">text</span>: <span class="hljs-string">'button1'</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>              },</li><li>              {</li><li>                <span class="hljs-attr">text</span>: <span class="hljs-string">'button2'</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>              }</li><li>            ],</li><li>          })</li><li>            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'showDialog success, click button: '</span> + data.<span class="hljs-property">index</span>);</li><li>            })</li><li>            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'showDialog error: '</span> + err);</li><li>            })</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="showactionmenu11" device-type="phone,2in1,tablet,wearable,tv">showActionMenu<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showactionmenu11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showActionMenu(options: promptAction.ActionMenuOptions, callback: AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenusuccessresponse">promptAction.ActionMenuSuccessResponse</a>&gt;): void</p>     <p>创建并显示操作菜单，菜单响应结果使用callback异步回调返回。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenuoptions">promptAction.ActionMenuOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">操作菜单选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenusuccessresponse">promptAction.ActionMenuSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。弹出操作菜单成功，err为undefined，data为获取到的操作菜单响应结果，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span>, promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showActionMenu'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showActionMenu</span>({</li><li>              <span class="hljs-attr">title</span>: <span class="hljs-string">'Title Info'</span>,</li><li>              <span class="hljs-attr">buttons</span>: [</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'item1'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#666666'</span></li><li>                },</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'item2'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>                }</li><li>              ]</li><li>            }, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: promptAction.ActionMenuSuccessResponse</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'showActionMenu err: '</span> + err);</li><li>                <span class="hljs-keyword">return</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'showActionMenu success callback, click button: '</span> + data.<span class="hljs-property">index</span>);</li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`showActionMenu args error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          };</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="showactionmenu" device-type="phone,2in1,tablet,wearable,tv">showActionMenu<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showactionmenu" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showActionMenu(options: promptAction.ActionMenuOptions): Promise&lt;promptAction.ActionMenuSuccessResponse&gt;</p>     <p>创建并显示操作菜单，通过Promise异步回调获取菜单的响应结果。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenuoptions">promptAction.ActionMenuOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">操作菜单选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenusuccessresponse">promptAction.ActionMenuSuccessResponse</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回菜单的响应结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用showActionMenu接口，展示了弹出操作菜单以及通过Promise获取操作菜单响应结果的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showActionMenu'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showActionMenu</span>({</li><li>            <span class="hljs-attr">title</span>: <span class="hljs-string">'showActionMenu Title Info'</span>,</li><li>            <span class="hljs-attr">buttons</span>: [</li><li>              {</li><li>                <span class="hljs-attr">text</span>: <span class="hljs-string">'item1'</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#666666'</span></li><li>              },</li><li>              {</li><li>                <span class="hljs-attr">text</span>: <span class="hljs-string">'item2'</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>              },</li><li>            ]</li><li>          })</li><li>            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'showActionMenu success, click button: '</span> + data.<span class="hljs-property">index</span>);</li><li>            })</li><li>            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'showActionMenu error: '</span> + err);</li><li>            })</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="opencustomdialog12" device-type="phone,2in1,tablet,wearable,tv">openCustomDialog<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opencustomdialog12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openCustomDialog&lt;T extends Object&gt;(dialogContent: ComponentContent&lt;T&gt;, options?: promptAction.BaseDialogOptions): Promise&lt;void&gt;</p>     <p>创建并弹出dialogContent对应的自定义弹窗，使用Promise异步回调。通过该接口弹出的弹窗内容样式完全按照dialogContent中设置的样式显示，即相当于customDialog设置customStyle为true时的显示效果。暂不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">isModal</a> = true与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">showInSubWindow</a> = true同时使用。如果同时设置为true时，则只生效showInSubWindow = true。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dialogContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">promptAction.BaseDialogOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">弹窗样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">Dialog content error. The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103302</td>         <td class="cellrowborder" width="50%">Dialog content already exist. The ComponentContent has already been opened.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过监听<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-configuration">系统环境信息</a>（系统语言、深浅色等）的变化，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a> 的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-buildernode#update">update</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-buildernode#updateconfiguration12">updateConfiguration</a>实现自定义弹窗的数据更新及节点的全量刷新。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">Configuration</span>, <span class="hljs-title class_">EnvironmentCallback</span>, <span class="hljs-title class_">ConfigurationConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-attr">colorMode</span>: resourceManager.<span class="hljs-property">ColorMode</span> = resourceManager.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">LIGHT</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span>, colorMode: resourceManager.ColorMode</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colorMode</span> = colorMode</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">BuilderDialog</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(params.<span class="hljs-property">colorMode</span> == resourceManager.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">LIGHT</span> ? <span class="hljs-string">"#D5D5D5"</span> : <span class="hljs-string">"#004AAF"</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>  <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Params</span>&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">callbackId</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">environmentCallback</span>: <span class="hljs-title class_">EnvironmentCallback</span> = {</li><li>      <span class="hljs-attr">onMemoryLevel</span>: (<span class="hljs-attr">level</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">MemoryLevel</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>      },</li><li>      <span class="hljs-attr">onConfigurationUpdated</span>: (<span class="hljs-attr">config</span>: <span class="hljs-title class_">Configuration</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onConfigurationUpdated <span class="hljs-subst">${config}</span>`</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getConfiguration</span>(<span class="hljs-function">(<span class="hljs-params">err,</span></span></li><li><span class="hljs-function">          config</span>) =&gt; {</li><li>          <span class="hljs-comment">// 调用ComponentContent的update更新colorMode信息</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>?.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>, config.<span class="hljs-property">colorMode</span>))</li><li>          <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 调用ComponentContent的updateConfiguration，触发节点的全量更新</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>?.<span class="hljs-title function_">updateConfiguration</span>()</li><li>          })</li><li>        })</li><li>      }</li><li>    }</li><li>    <span class="hljs-comment">// 注册监听系统环境变化监听器</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span> =</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'environment'</span>, environmentCallback)</li><li>    <span class="hljs-comment">// 设置应用深浅色跟随系统</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>      .<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-title function_">setColorMode</span>(<span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">COLOR_MODE_NOT_SET</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 解注册监听系统环境变化的回调</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-title function_">off</span>(<span class="hljs-string">'environment'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>?.<span class="hljs-title function_">dispose</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"click me"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> promptAction = uiContext.<span class="hljs-title function_">getPromptAction</span>();</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span> == <span class="hljs-literal">null</span> &amp;&amp; uiContext.<span class="hljs-title function_">getHostContext</span>() != <span class="hljs-literal">undefined</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(uiContext, <span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">BuilderDialog</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>,</li><li>                uiContext.<span class="hljs-title function_">getHostContext</span>()!!.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getConfigurationSync</span>().<span class="hljs-property">colorMode</span>))</li><li>            }</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span> == <span class="hljs-literal">null</span>) {</li><li>              <span class="hljs-keyword">return</span></li><li>            }</li><li>            promptAction.<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>)</li><li>            promptAction.<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"succeeded"</span>)</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`OpenCustomDialog args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>            })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="opencustomdialogwithcontroller18" device-type="phone,2in1,tablet,wearable,tv">openCustomDialogWithController<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opencustomdialogwithcontroller18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openCustomDialogWithController&lt;T extends Object&gt;(dialogContent: ComponentContent&lt;T&gt;, controller: promptAction.DialogController, options?: promptAction.BaseDialogOptions): Promise&lt;void&gt;</p>     <p>创建并弹出dialogContent对应的自定义弹窗，使用Promise异步回调。支持传入弹窗控制器与自定义弹窗绑定，后续可以通过控制器控制自定义弹窗。</p>     <p>通过该接口弹出的弹窗内容样式完全按照dialogContent中设置的样式显示，即相当于customDialog设置customStyle为true时的显示效果。</p>     <p>暂不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">isModal</a> = true与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">showInSubWindow</a> = true同时使用。如果同时设置为true时，则只生效showInSubWindow = true。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dialogContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#dialogcontroller18">promptAction.DialogController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">promptAction.BaseDialogOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">自定义弹窗的样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">Dialog content error. The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103302</td>         <td class="cellrowborder" width="50%">Dialog content already exist. The ComponentContent has already been opened.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用openCustomDialog接口，展示了支持传入弹窗控制器与自定义弹窗绑定的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-attr">dialogController</span>: promptAction.<span class="hljs-property">DialogController</span> = <span class="hljs-keyword">new</span> promptAction.<span class="hljs-title class_">DialogController</span>();</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span>, dialogController: promptAction.DialogController</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span> = dialogController;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'点我关闭弹窗：通过外部传递的DialogController'</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (params.<span class="hljs-property">dialogController</span> != <span class="hljs-literal">undefined</span>) {</li><li>          params.<span class="hljs-property">dialogController</span>.<span class="hljs-title function_">close</span>();</li><li>        }</li><li>      })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@ComponentV2</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@Local</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dialogController</span>: promptAction.<span class="hljs-property">DialogController</span> = <span class="hljs-keyword">new</span> promptAction.<span class="hljs-title class_">DialogController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"click me"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> promptAction = uiContext.<span class="hljs-title function_">getPromptAction</span>();</li><li>            <span class="hljs-keyword">let</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(uiContext, <span class="hljs-title function_">wrapBuilder</span>(buildText),</li><li>              <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>));</li><li>            promptAction.<span class="hljs-title function_">openCustomDialogWithController</span>(contentNode, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`OpenCustomDialogWithController args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="closecustomdialog12" device-type="phone,2in1,tablet,wearable,tv">closeCustomDialog<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closecustomdialog12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeCustomDialog&lt;T extends Object&gt;(dialogContent: ComponentContent&lt;T&gt;): Promise&lt;void&gt;</p>     <p>关闭已弹出的dialogContent对应的自定义弹窗，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dialogContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗中显示的组件内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">Dialog content error. The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">Dialog content not found. The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用closeCustomDialog接口，关闭已弹出的dialogContent对应的自定义弹窗。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"click me"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> promptAction = uiContext.<span class="hljs-title function_">getPromptAction</span>();</li><li>            <span class="hljs-keyword">let</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(uiContext, <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>            promptAction.<span class="hljs-title function_">openCustomDialog</span>(contentNode)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`OpenCustomDialog args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>              })</li><li>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              promptAction.<span class="hljs-title function_">closeCustomDialog</span>(contentNode)</li><li>                .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded'</span>);</li><li>                })</li><li>                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`OpenCustomDialog args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>                })</li><li>            }, <span class="hljs-number">2000</span>); <span class="hljs-comment">//2秒后自动关闭</span></li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="updatecustomdialog12" device-type="phone,2in1,tablet,wearable,tv">updateCustomDialog<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatecustomdialog12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateCustomDialog&lt;T extends Object&gt;(dialogContent: ComponentContent&lt;T&gt;, options: promptAction.BaseDialogOptions): Promise&lt;void&gt;</p>     <p>更新已弹出的dialogContent对应的自定义弹窗的样式，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dialogContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#basedialogoptions11">promptAction.BaseDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">弹窗样式，目前仅支持更新alignment、offset、autoCancel、maskColor。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">Dialog content error. The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">Dialog content not found. The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用updateCustomDialog接口，动态调整已弹出自定义弹窗的位置。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"click me"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> promptAction = uiContext.<span class="hljs-title function_">getPromptAction</span>();</li><li>            <span class="hljs-keyword">let</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(uiContext, <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>            promptAction.<span class="hljs-title function_">openCustomDialog</span>(contentNode)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`updateCustomDialog args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>              })</li><li>
</li><li>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              promptAction.<span class="hljs-title function_">updateCustomDialog</span>(contentNode, { <span class="hljs-attr">alignment</span>: <span class="hljs-title class_">DialogAlignment</span>.<span class="hljs-property">CenterEnd</span> })</li><li>                .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded'</span>);</li><li>                })</li><li>                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`updateCustomDialog args error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>                })</li><li>            }, <span class="hljs-number">2000</span>); <span class="hljs-comment">//2秒后自动更新弹窗位置</span></li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="opencustomdialog12-1" device-type="phone,2in1,tablet,wearable,tv">openCustomDialog<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opencustomdialog12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openCustomDialog(options: promptAction.CustomDialogOptions): Promise&lt;number&gt;</p>     <p>创建并弹出自定义弹窗。使用Promise异步回调返回对话框的id，可供closeCustomDialog使用。暂不支持isModal = true与showInSubWindow = true同时使用。如果同时设置为true时，则只生效showInSubWindow = true。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#customdialogoptions11">promptAction.CustomDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗的内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回对话框id，可供closeCustomDialog使用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">customDialogComponentId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">customDialogComponent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'打开了一个弹窗'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'取消'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span>)</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`closeCustomDialog error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          }</li><li>        }).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#d5d5d5'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-string">'#707070'</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'确定'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span>)</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`closeCustomDialog error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          }</li><li>        }).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      }</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Click Me'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>              .<span class="hljs-title function_">getPromptAction</span>()</li><li>              .<span class="hljs-title function_">openCustomDialog</span>({</li><li>                <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDialogComponent</span>()</li><li>                },</li><li>                <span class="hljs-attr">onWillDismiss</span>: <span class="hljs-function">(<span class="hljs-params">dismissDialogAction: DismissDialogAction</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'reason'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(dismissDialogAction.<span class="hljs-property">reason</span>));</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'dialog onWillDismiss'</span>);</li><li>                  <span class="hljs-keyword">if</span> (dismissDialogAction.<span class="hljs-property">reason</span> == <span class="hljs-title class_">DismissReason</span>.<span class="hljs-property">PRESS_BACK</span>) {</li><li>                    dismissDialogAction.<span class="hljs-title function_">dismiss</span>();</li><li>                  }</li><li>                  <span class="hljs-keyword">if</span> (dismissDialogAction.<span class="hljs-property">reason</span> == <span class="hljs-title class_">DismissReason</span>.<span class="hljs-property">TOUCH_OUTSIDE</span>) {</li><li>                    dismissDialogAction.<span class="hljs-title function_">dismiss</span>();</li><li>                  }</li><li>                }</li><li>              })</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">dialogId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span> = dialogId;</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`openCustomDialog error code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="presentcustomdialog18" device-type="phone,2in1,tablet,wearable,tv">presentCustomDialog<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="presentcustomdialog18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>presentCustomDialog(builder: CustomBuilder | CustomBuilderWithId, controller?: promptAction.DialogController, options?: promptAction.DialogOptions): Promise&lt;number&gt;</p>     <p>创建并弹出自定义弹窗。使用Promise异步回调返回对话框的id，可供closeCustomDialog使用。</p>     <p>支持在自定义弹窗内容中持有弹窗ID进行对应操作。支持传入弹窗控制器与自定义弹窗绑定，后续可以通过控制器控制自定义弹窗。</p>     <p>暂不支持isModal = true与showInSubWindow = true同时使用。如果同时设置为true时，则只生效showInSubWindow = true。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">builder</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-t#custombuilderwithid18">CustomBuilderWithId</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义弹窗的内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#dialogcontroller18">promptAction.DialogController</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">自定义弹窗的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#dialogoptions18">promptAction.DialogOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">自定义弹窗的样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回自定义弹窗ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span>, promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@ComponentV2</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@Local</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">ctx</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dialogController</span>: promptAction.<span class="hljs-property">DialogController</span> = <span class="hljs-keyword">new</span> promptAction.<span class="hljs-title class_">DialogController</span>();</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">customDialogComponentId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">customDialogComponent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"通过DialogId关闭"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span>);</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"通过DialogController关闭"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>.<span class="hljs-title function_">close</span>();</li><li>        })</li><li>      }</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">customDialogComponentWithId</span>(<span class="hljs-params">dialogId: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"通过DialogId关闭"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">closeCustomDialog</span>(dialogId);</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"通过DialogController关闭"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>.<span class="hljs-title function_">close</span>();</li><li>        })</li><li>      }</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'presentCustomDialog'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">presentCustomDialog</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDialogComponent</span>()</li><li>            }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">dialogId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span> = dialogId;</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"presentCustomDialog error: "</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'presentCustomDialog with id'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">presentCustomDialog</span>(<span class="hljs-function">(<span class="hljs-params">dialogId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDialogComponentWithId</span>(dialogId)</li><li>            }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>)</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"presentCustomDialog with id error: "</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="closecustomdialog12-1" device-type="phone,2in1,tablet,wearable,tv">closeCustomDialog<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closecustomdialog12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeCustomDialog(dialogId: number): void</p>     <p>关闭自定义弹窗。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dialogId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">openCustomDialog返回的对话框id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">customDialogComponentId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">customDialogComponent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'弹窗'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"确认"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span>);</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"取消"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">closeCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span>);</li><li>        })</li><li>      }</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"click me"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">openCustomDialog</span>({</li><li>              <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDialogComponent</span>()</li><li>              },</li><li>              <span class="hljs-attr">onWillDismiss</span>: <span class="hljs-function">(<span class="hljs-params">dismissDialogAction: DismissDialogAction</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason <span class="hljs-subst">${dismissDialogAction.reason}</span>`</span>);</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'dialog onWillDismiss'</span>);</li><li>                <span class="hljs-keyword">if</span> (dismissDialogAction.<span class="hljs-property">reason</span> == <span class="hljs-title class_">DismissReason</span>.<span class="hljs-property">PRESS_BACK</span>) {</li><li>                  dismissDialogAction.<span class="hljs-title function_">dismiss</span>();</li><li>                }</li><li>                <span class="hljs-keyword">if</span> (dismissDialogAction.<span class="hljs-property">reason</span> == <span class="hljs-title class_">DismissReason</span>.<span class="hljs-property">TOUCH_OUTSIDE</span>) {</li><li>                  dismissDialogAction.<span class="hljs-title function_">dismiss</span>();</li><li>                }</li><li>              }</li><li>            }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">dialogId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">customDialogComponentId</span> = dialogId;</li><li>            })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="gettoporder18" device-type="phone,2in1,tablet,wearable,tv">getTopOrder<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettoporder18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTopOrder(): LevelOrder</p>     <p>返回最顶层显示的弹窗的顺序。</p>     <p>获取最顶层显示的弹窗的顺序，可以在下一个弹窗时指定期望的顺序。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#levelorder18">LevelOrder</a></td>         <td class="cellrowborder" width="50%">返回弹窗层级信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用getTopOrder接口，展示了获取最顶层显示弹窗顺序的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">PromptAction</span>, <span class="hljs-title class_">LevelOrder</span>, promptAction, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'弹窗'</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">ctx</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Object</span>&gt; =</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">baseDialogOptions</span>: promptAction.<span class="hljs-property">BaseDialogOptions</span> = {</li><li>    <span class="hljs-attr">showInSubWindow</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">levelOrder</span>: <span class="hljs-title class_">LevelOrder</span>.<span class="hljs-title function_">clamp</span>(<span class="hljs-number">30.1</span>),</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'openCustomDialog弹窗'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">baseDialogOptions</span>)</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"openCustomDialog error: "</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">topOrder</span>: <span class="hljs-title class_">LevelOrder</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">getTopOrder</span>();</li><li>                <span class="hljs-keyword">if</span> (topOrder !== <span class="hljs-literal">undefined</span>) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'topOrder: '</span> + topOrder.<span class="hljs-title function_">getOrder</span>());</li><li>                }</li><li>              })</li><li>          })</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getbottomorder18" device-type="phone,2in1,tablet,wearable,tv">getBottomOrder<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getbottomorder18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBottomOrder(): LevelOrder</p>     <p>获取最底层显示的弹窗的顺序，可以在下一个弹窗时指定期望的顺序。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#levelorder18">LevelOrder</a></td>         <td class="cellrowborder" width="50%">返回弹窗层级信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用getBottomOrder接口，展示了获取最底层显示弹窗顺序的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">PromptAction</span>, <span class="hljs-title class_">LevelOrder</span>, promptAction, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'弹窗'</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">ctx</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Object</span>&gt; =</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">baseDialogOptions</span>: promptAction.<span class="hljs-property">BaseDialogOptions</span> = {</li><li>    <span class="hljs-attr">showInSubWindow</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">levelOrder</span>: <span class="hljs-title class_">LevelOrder</span>.<span class="hljs-title function_">clamp</span>(<span class="hljs-number">30.1</span>),</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'openCustomDialog弹窗'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentNode</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">baseDialogOptions</span>)</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"openCustomDialog error: "</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">bottomOrder</span>: <span class="hljs-title class_">LevelOrder</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">getBottomOrder</span>();</li><li>                <span class="hljs-keyword">if</span> (bottomOrder !== <span class="hljs-literal">undefined</span>) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'bottomOrder: '</span> + bottomOrder.<span class="hljs-title function_">getOrder</span>());</li><li>                }</li><li>              })</li><li>          })</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="openpopup18" device-type="phone,2in1,tablet,wearable,tv">openPopup<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="openpopup18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openPopup&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;, target: TargetInfo, options?: PopupCommonOptions): Promise&lt;void&gt;</p>     <p>创建并弹出以content作为内容的Popup弹窗，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>使用该接口时，若未传入有效的target，则无法弹出popup弹窗。</p></li>        <li>         <p>由于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#updatepopup18">updatePopup</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#closepopup18">closePopup</a>依赖content去更新或者关闭指定的popup弹窗，开发者需自行维护传入的content。</p></li>        <li>         <p>如果在wrapBuilder中包含其他组件（例如：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-arkui-advanced-popup">Popup</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-arkui-advanced-chip">Chip</a>组件），则<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent#componentcontent-1">ComponentContent</a>应采用带有四个参数的构造函数constructor，其中options参数应传递{ nestingBuilderSupported: true }。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">popup弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#targetinfo18">TargetInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要绑定组件的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-popup#popupcommonoptions18类型说明">PopupCommonOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">popup弹窗样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103302</td>         <td class="cellrowborder" width="50%">The ComponentContent already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103304</td>         <td class="cellrowborder" width="50%">The targetId does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103305</td>         <td class="cellrowborder" width="50%">The node of targetId is not in the component tree.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用openPopup、updatePopup和closePopup接口，展示了弹出、更新以及关闭Popup的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PopupParam</span> {</li><li>  updateFunc?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</li><li>  closeFunc?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showPopup</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;PopupParam&gt;,</span></li><li><span class="hljs-params">  popupParam: PopupParam</span>) {</li><li>  <span class="hljs-keyword">const</span> promptAction = context.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = context.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>  <span class="hljs-keyword">let</span> targetId = frameNode?.<span class="hljs-title function_">getFirstChild</span>()?.<span class="hljs-title function_">getUniqueId</span>();</li><li>  promptAction.<span class="hljs-title function_">openPopup</span>(contentNode, { <span class="hljs-attr">id</span>: targetId }, {</li><li>    <span class="hljs-attr">radius</span>: <span class="hljs-number">16</span>,</li><li>    <span class="hljs-attr">mask</span>: { <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span> },</li><li>    <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>  })</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openPopup success'</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'openPopup error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>    })</li><li>  popupParam.<span class="hljs-property">updateFunc</span> = <span class="hljs-function">() =&gt;</span> {</li><li>    promptAction.<span class="hljs-title function_">updatePopup</span>(contentNode, {</li><li>      <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">false</span></li><li>    }, <span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'updatePopup success'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'updatePopup error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>      })</li><li>  }</li><li>  popupParam.<span class="hljs-property">closeFunc</span> = <span class="hljs-function">() =&gt;</span> {</li><li>    promptAction.<span class="hljs-title function_">closePopup</span>(contentNode)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'closePopup success'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'closePopup error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>      })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">param?: PopupParam</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'popup'</span>)</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Update Popup'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        param?.<span class="hljs-property">updateFunc</span>?.();</li><li>      })</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close Popup'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        param?.<span class="hljs-property">closeFunc</span>?.();</li><li>      })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Open Popup'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">popupParam</span>: <span class="hljs-title class_">PopupParam</span> = {};</li><li>          <span class="hljs-keyword">const</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(context, <span class="hljs-title function_">wrapBuilder</span>(buildText), popupParam);</li><li>          <span class="hljs-title function_">showPopup</span>(context, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>(), contentNode, popupParam);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="updatepopup18" device-type="phone,2in1,tablet,wearable,tv">updatePopup<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatepopup18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updatePopup&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;, options: PopupCommonOptions, partialUpdate?: boolean ): Promise&lt;void&gt;</p>     <p>更新content对应的Popup弹窗的样式，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持更新showInSubWindow、focusable、onStateChange、onWillDismiss、transition。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">popup弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-popup#popupcommonoptions18类型说明">PopupCommonOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>popup弹窗样式。</p>          <p><strong>说明：</strong></p>          <p>不支持更新showInSubWindow、focusable、onStateChange、onWillDismiss、transition。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">partialUpdate</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>popup弹窗更新方式, 默认值为false。</p>          <p><strong>说明：</strong></p>          <p>1. true为增量更新，保留当前值，更新options中的指定属性。</p>          <p>2. false为全量更新，除options中的指定属性，其他属性恢复默认值。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#openpopup18">openPopup</a>示例。</p>    </div>    <div class="tiledSection">     <h2 id="closepopup18" device-type="phone,2in1,tablet,wearable,tv">closePopup<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closepopup18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closePopup&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;): Promise&lt;void&gt;</p>     <p>关闭content对应的Popup弹窗，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">popup弹窗中显示的组件内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#openpopup18">openPopup</a>示例。</p>    </div>    <div class="tiledSection">     <h2 id="openmenu18" device-type="phone,2in1,tablet,wearable,tv">openMenu<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="openmenu18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openMenu&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;, target: TargetInfo, options?: MenuOptions): Promise&lt;void&gt;</p>     <p>创建并弹出以content作为内容的Menu弹窗。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>使用该接口时，若未传入有效的target，则无法弹出menu弹窗。</p></li>        <li>         <p>由于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#updatemenu18">updateMenu</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#closemenu18">closeMenu</a>依赖content去更新或者关闭指定的menu弹窗，开发者需自行维护传入的content。</p></li>        <li>         <p>如果在wrapBuilder中包含其他组件（例如：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-arkui-advanced-popup">Popup</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-arkui-advanced-chip">Chip</a>组件），则<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent#componentcontent-1">ComponentContent</a>应采用带有四个参数的构造函数constructor，其中options参数应传递{ nestingBuilderSupported: true }。</p></li>        <li>         <p>子窗弹窗里不能再弹出子窗弹窗，例如<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#openmenu18">openMenu</a>设置了showInSubWindow为true时，则不能再弹出另一个设置了showInSubWindow为true的弹窗。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">menu弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#targetinfo18">TargetInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要绑定组件的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuoptions10">MenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>menu弹窗样式。</p>          <p><strong>说明：</strong></p>          <p>title属性不生效。</p>          <p>preview参数仅支持设置MenuPreviewMode类型。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103302</td>         <td class="cellrowborder" width="50%">The ComponentContent already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103304</td>         <td class="cellrowborder" width="50%">The targetId does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103305</td>         <td class="cellrowborder" width="50%">The node of targetId is not in the component tree.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用openMenu接口，展示了弹出Menu的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-title function_">showMenu</span>(context, uniqueId, contentNode);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyMenu</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项1"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项2"</span> })</li><li>    }</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>  .<span class="hljs-title function_">padding</span>(<span class="hljs-string">'20lpx'</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showMenu</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-keyword">const</span> promptAction = context.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = context.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>  <span class="hljs-keyword">let</span> frameNodeTarget = frameNode?.<span class="hljs-title function_">getFirstChild</span>();</li><li>  frameNodeTarget = frameNodeTarget?.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> targetId = frameNodeTarget?.<span class="hljs-title function_">getUniqueId</span>();</li><li>  promptAction.<span class="hljs-title function_">openMenu</span>(contentNode, { <span class="hljs-attr">id</span>: targetId }, {</li><li>    <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>  });</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'OpenMenu'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Normal</span>, <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span> })</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-string">'16lpx'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">const</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(context, <span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">MyMenu</span>));</li><li>          <span class="hljs-title function_">doSomething</span>(context, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>(), contentNode);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="updatemenu18" device-type="phone,2in1,tablet,wearable,tv">updateMenu<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatemenu18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateMenu&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;, options: MenuOptions, partialUpdate?: boolean ): Promise&lt;void&gt;</p>     <p>更新content对应的Menu弹窗的样式。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>不支持更新showInSubWindow、preview、previewAnimationOptions、transition、onAppear、aboutToAppear、onDisappear、aboutToDisappear、onWillAppear、onDidAppear、onWillDisappear和onDidDisappear。</p></li>        <li>         <p>支持mask通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menumasktype20类型说明">MenuMaskType</a>实现更新蒙层样式，不支持mask通过设置boolean实现蒙层从无到有或者从有到无的更新。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">menu弹窗中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuoptions10">MenuOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>menu弹窗样式。</p>          <p><strong>说明：</strong></p>          <p>1. 不支持更新showInSubWindow、preview、previewAnimationOptions、transition、onAppear、aboutToAppear、onDisappear、aboutToDisappear、onWillAppear、onDidAppear、onWillDisappear和onDidDisappear。</p>          <p>2. 支持mask通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menumasktype20类型说明">MenuMaskType</a>实现更新蒙层样式，不支持mask通过设置boolean实现蒙层从无到有或者从有到无的更新。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">partialUpdate</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>menu弹窗更新方式，默认值为false。</p>          <p><strong>说明：</strong></p>          <p>1. true为增量更新，保留当前值，更新options中的指定属性。</p>          <p>2. false为全量更新，除options中的指定属性，其他属性恢复默认值。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用updateMenu接口，展示了更新Menu箭头样式的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-title function_">showMenu</span>(context, uniqueId, contentNode);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyMenu</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项1"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项2"</span> })</li><li>    }</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>  .<span class="hljs-title function_">padding</span>(<span class="hljs-string">'20lpx'</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showMenu</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-keyword">const</span> promptAction = context.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = context.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>  <span class="hljs-keyword">let</span> frameNodeTarget = frameNode?.<span class="hljs-title function_">getFirstChild</span>();</li><li>  frameNodeTarget = frameNodeTarget?.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> targetId = frameNodeTarget?.<span class="hljs-title function_">getUniqueId</span>();</li><li>  promptAction.<span class="hljs-title function_">openMenu</span>(contentNode, { <span class="hljs-attr">id</span>: targetId }, {</li><li>    <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>  });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    promptAction.<span class="hljs-title function_">updateMenu</span>(contentNode, {</li><li>      <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">false</span>,</li><li>    });</li><li>  }, <span class="hljs-number">2000</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'OpenMenu'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Normal</span>, <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span> })</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-string">'16lpx'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">const</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(context, <span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">MyMenu</span>));</li><li>          <span class="hljs-title function_">doSomething</span>(context, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>(), contentNode);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="closemenu18" device-type="phone,2in1,tablet,wearable,tv">closeMenu<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closemenu18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeMenu&lt;T extends Object&gt;(content: ComponentContent&lt;T&gt;): Promise&lt;void&gt;</p>     <p>关闭content对应的Menu弹窗。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">menu弹窗中显示的组件内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-promptaction">弹窗错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103301</td>         <td class="cellrowborder" width="50%">The ComponentContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">103303</td>         <td class="cellrowborder" width="50%">The ComponentContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用closeMenu接口，展示了关闭Menu的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-title function_">showMenu</span>(context, uniqueId, contentNode);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyMenu</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项1"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">"app.media.startIcon"</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项2"</span> })</li><li>    }</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>  .<span class="hljs-title function_">padding</span>(<span class="hljs-string">'20lpx'</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showMenu</span>(<span class="hljs-params">context: UIContext, uniqueId: <span class="hljs-built_in">number</span>, contentNode: ComponentContent&lt;<span class="hljs-built_in">Object</span>&gt;</span>) {</li><li>  <span class="hljs-keyword">const</span> promptAction = context.<span class="hljs-title function_">getPromptAction</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = context.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>  <span class="hljs-keyword">let</span> frameNodeTarget = frameNode?.<span class="hljs-title function_">getFirstChild</span>();</li><li>  frameNodeTarget = frameNodeTarget?.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">let</span> targetId = frameNodeTarget?.<span class="hljs-title function_">getUniqueId</span>();</li><li>  promptAction.<span class="hljs-title function_">openMenu</span>(contentNode, { <span class="hljs-attr">id</span>: targetId }, {</li><li>    <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>  });</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    promptAction.<span class="hljs-title function_">closeMenu</span>(contentNode);</li><li>  }, <span class="hljs-number">2000</span>);</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'OpenMenu'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Normal</span>, <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span> })</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-string">'16lpx'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">const</span> contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(context, <span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">MyMenu</span>));</li><li>          <span class="hljs-title function_">doSomething</span>(context, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>(), contentNode);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="showactionmenudeprecated" device-type="phone,2in1,tablet,wearable,tv">showActionMenu<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showactionmenudeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showActionMenu(options: promptAction.ActionMenuOptions, callback: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenusuccessresponse">promptAction.ActionMenuSuccessResponse</a>): void</p>     <p>创建并显示操作菜单，菜单响应结果使用callback异步回调返回。</p>     <p>从API version11开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#showactionmenu11">showActionMenu</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenuoptions">promptAction.ActionMenuOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">操作菜单选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#actionmenusuccessresponse">promptAction.ActionMenuSuccessResponse</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回菜单的响应结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例通过调用showActionMenu接口，展示了弹出操作菜单以及返回菜单响应结果的功能。</p>     <div _ngcontent-kwt-c106="" class="highlight-div"><div _ngcontent-kwt-c106="" class="highlight-div-header"><div _ngcontent-kwt-c106="" class="highlight-div-header-left"><div _ngcontent-kwt-c106="" class="handle-button expand-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kwt-c106="" class="highlight-div-header-right"><div _ngcontent-kwt-c106="" class="handle-button ai-button"></div><div _ngcontent-kwt-c106="" class="handle-button line-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kwt-c106="" class="handle-button theme-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kwt-c106="" class="handle-button copy-button"><div _ngcontent-kwt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kwt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">promptAction</span>: <span class="hljs-title class_">PromptAction</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showActionMenu'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>.<span class="hljs-title function_">showActionMenu</span>({</li><li>              <span class="hljs-attr">title</span>: <span class="hljs-string">'Title Info'</span>,</li><li>              <span class="hljs-attr">buttons</span>: [</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'item1'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#666666'</span></li><li>                },</li><li>                {</li><li>                  <span class="hljs-attr">text</span>: <span class="hljs-string">'item2'</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#000000'</span></li><li>                }</li><li>              ]</li><li>            }, { <span class="hljs-attr">index</span>: <span class="hljs-number">0</span> });</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> message = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>            <span class="hljs-keyword">let</span> code = (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`showActionMenu args error code is <span class="hljs-subst">${code}</span>, message is <span class="hljs-subst">${message}</span>`</span>);</li><li>          }</li><li>          ;</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>