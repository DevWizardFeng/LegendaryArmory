<h1 _ngcontent-aci-c119="" class="doc-title ng-star-inserted" title="Class (UIContext)"> Class (UIContext) </h1>

<div _ngcontent-aci-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>UIContext实例对象。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p></li>       <li>        <p>示例效果请以真机运行为准，当前DevEco Studio预览器不支持。</p></li>       <li>        <p>以下API需先使用ohos.window中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getuicontext10">getUIContext()</a>方法获取UIContext实例，再通过此实例调用对应方法。或者可以通过自定义组件内置方法<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-api#getuicontext">getUIContext()</a>获取。本文中UIContext对象以uiContext表示。</p></li>      </ul>     </div></div></div>    <p><strong>示例：</strong></p>    <p>以下示例展示了两种获取UIContext实例的方法。</p>    <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//两种方法获取到的UIContext没有差异</span></li><li><span class="hljs-comment">//index.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Button"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-comment">//通过自定义组件内置方法获取</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>            <span class="hljs-comment">//其他运行逻辑</span></li><li>          })</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">//EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">ConfigurationConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOMAIN</span> = <span class="hljs-number">0x0000</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">//通过ohos.window获取</span></li><li>    windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>()</li><li>    <span class="hljs-comment">//其他运行逻辑</span></li><li>  }</li><li>}</li></ol></pre></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 2413px;">     <h2 id="isavailable20" device-type="phone,2in1,tablet,wearable,tv">isAvailable<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isavailable20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isAvailable(): boolean</p>     <p>判断UIContext对象对应的UI实例是否有效。使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getuicontext10">getUIContext</a>方法获取UIContext对象。后端UI实例存在时，该UI实例有效。通过new UIContext()创建的UIContext对象无对应的UI实例；多次<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent</a>后，旧的UI实例会失效。多窗口应用场景，当窗口关闭后，该窗口的UI实例失效。总而言之，当UIContext对象没有对应的后端UI实例时，该对象是无效的。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回UIContext对象对应的UI实例是否有效。true表示有效，false表示无效。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UIContextCompare</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">result1</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">result2</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"getUIContext() 结果: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">result1</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"new UIContext() 结果: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">result2</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUIContext()"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"70%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">ctx</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">available</span>: <span class="hljs-built_in">boolean</span> = ctx.<span class="hljs-title function_">isAvailable</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">result1</span> = <span class="hljs-string">`可用状态: <span class="hljs-subst">${available}</span> UI实例有效 `</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getUIContext测试:"</span>, available);</li><li>          } <span class="hljs-keyword">catch</span> (e) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">result1</span> = <span class="hljs-string">"错误: "</span> + (e <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span> ? e.<span class="hljs-property">message</span> : <span class="hljs-title class_">String</span>(e));</li><li>          }</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"new UIContext()"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"70%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">ctx</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UIContext</span>();</li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">available</span>: <span class="hljs-built_in">boolean</span> = ctx.<span class="hljs-title function_">isAvailable</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">result2</span> = <span class="hljs-string">`可用状态: <span class="hljs-subst">${available}</span> UI实例无效`</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"new UIContext测试:"</span>, available);</li><li>          } <span class="hljs-keyword">catch</span> (e) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">result2</span> = <span class="hljs-string">"错误: "</span> + (e <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span> ? e.<span class="hljs-property">message</span> : <span class="hljs-title class_">String</span>(e));</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="368" originwidth="508" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115853.37330886235784889138872926024993:50001231000000:2800:6DCDC7FA109EC6930BF7E87AB93ADE6B7D5B380F0D1C490B59281CCB1C393A76.gif" width="508" height="368"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getfont" device-type="phone,2in1,tablet,wearable,tv">getFont<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfont" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFont(): Font</p>     <p>获取Font对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-font">Font</a></td>         <td class="cellrowborder" width="50%">返回Font实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-font">Font</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getcomponentutils" device-type="phone,2in1,tablet,wearable,tv">getComponentUtils<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcomponentutils" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getComponentUtils(): ComponentUtils</p>     <p>获取ComponentUtils对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-componentutils">ComponentUtils</a></td>         <td class="cellrowborder" width="50%">返回ComponentUtils实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentutils">getComponentUtils</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getuiinspector" device-type="phone,2in1,tablet,wearable,tv">getUIInspector<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuiinspector" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUIInspector(): UIInspector</p>     <p>获取UIInspector对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uiinspector">UIInspector</a></td>         <td class="cellrowborder" width="50%">返回UIInspector实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uiinspector">UIInspector</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1666px;">     <h2 id="getuiobserver11" device-type="phone,2in1,tablet,wearable,tv">getUIObserver<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuiobserver11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUIObserver(): UIObserver</p>     <p>获取UIObserver对象。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uiobserver">UIObserver</a></td>         <td class="cellrowborder" width="50%">返回UIObserver实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"pageOne"</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"pageOne"</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">stack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">PageBuilder</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-title class_">PageOne</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getUIObserver</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationUpdate'</span>, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'NavDestination state update'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(info));</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getUIObserver</span>().<span class="hljs-title function_">off</span>(<span class="hljs-string">'navDestinationUpdate'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"push"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"pageOne"</span> });</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"Navigation"</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PageBuilder</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getmediaquery" device-type="phone,2in1,tablet,wearable,tv">getMediaQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmediaquery" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMediaQuery(): MediaQuery</p>     <p>获取MediaQuery对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-mediaquery">MediaQuery</a></td>         <td class="cellrowborder" width="50%">返回MediaQuery实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-mediaquery#示例">mediaquery示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getrouter" device-type="phone,2in1,tablet,wearable,tv">getRouter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrouter" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRouter(): Router</p>     <p>获取Router对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-router">Router</a></td>         <td class="cellrowborder" width="50%">返回Router实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-router#pushurl">pushUrl</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getpromptaction" device-type="phone,2in1,tablet,wearable,tv">getPromptAction<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpromptaction" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPromptAction(): PromptAction</p>     <p>获取PromptAction对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction">PromptAction</a></td>         <td class="cellrowborder" width="50%">返回PromptAction实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction">PromptAction</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getoverlaymanager12" device-type="phone,2in1,tablet,wearable,tv">getOverlayManager<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoverlaymanager12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOverlayManager(): OverlayManager</p>     <p>获取OverlayManager对象。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>: SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-overlaymanager">OverlayManager</a></td>         <td class="cellrowborder" width="50%">返回OverlayManager实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-overlaymanager">OverlayManager</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 792px;">     <h2 id="setoverlaymanageroptions15" device-type="phone,2in1,tablet,wearable,tv">setOverlayManagerOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setoverlaymanageroptions15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOverlayManagerOptions(options: OverlayManagerOptions): boolean</p>     <p>设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-overlaymanager">OverlayManager</a>参数。用于在使用OverlayManager能力之前先初始化overlayManager的参数，包括是否需要渲染overlay根节点等属性。该方法需要在执行getOverlayManager方法之前执行生效，且该方法只生效一次。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>: SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#overlaymanageroptions15">OverlayManagerOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">OverlayManager参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>是否设置成功。</p>          <p>返回true表示设置成功。返回false表示设置失败。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-overlaymanager">OverlayManager</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getoverlaymanageroptions15" device-type="phone,2in1,tablet,wearable,tv">getOverlayManagerOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoverlaymanageroptions15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOverlayManagerOptions(): OverlayManagerOptions</p>     <p>用于获取当前<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#overlaymanageroptions15">OverlayManagerOptions</a>参数。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>: SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#overlaymanageroptions15">OverlayManagerOptions</a></td>         <td class="cellrowborder" width="50%">返回当前OverlayManagerOptions。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-overlaymanager">OverlayManager</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2839px;">     <h2 id="animateto" device-type="phone,2in1,tablet,wearable,tv">animateTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="animateto" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>animateTo(value: AnimateParam, event: () =&gt; void): void</p>     <p>提供animateTo接口来指定由于闭包代码导致的状态变化插入过渡动效。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>不推荐在aboutToAppear、aboutToDisappear中调用动画。</li>        <li>如果在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-lifecycle#abouttoappear">aboutToAppear</a>中调用动画，自定义组件内的build还未执行，内部组件还未创建，动画时机过早，动画属性没有初值无法对组件产生动画。</li>        <li>执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-lifecycle#abouttodisappear">aboutToDisappear</a>时，组件即将销毁，不能在aboutToDisappear里面做动画。</li>        <li>在组件出现和消失时，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-component">组件内转场</a>添加动画效果。</li>        <li>组件内转场不支持的属性，可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-explicit-animation">显式动画</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-explicit-animation#示例2动画执行结束后组件消失">示例2</a>，使用animateTo实现动画执行结束后组件消失的效果。</li>        <li>某些场景下，在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-state-management-overview#状态管理v2" target="_blank">状态管理V2</a>中使用animateTo动画，会产生异常效果，具体可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-local#在状态管理v2中使用animateto动画效果异常" target="_blank">在状态管理V2中使用animateTo动画效果异常</a>。</li>       </ul>      </div></div></div>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-explicit-animation#animateparam对象说明">AnimateParam</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置动画效果相关参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定显示动效的闭包函数，在闭包函数中导致的状态变化系统会自动插入过渡动画。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AnimateToExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">widthSize</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">250</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">heightSize</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">rotateAngle</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"no uiContext"</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'change size'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">widthSize</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">heightSize</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">animateTo</span>({</li><li>              <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>,</li><li>              <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">EaseOut</span>,</li><li>              <span class="hljs-attr">iterations</span>: <span class="hljs-number">3</span>,</li><li>              <span class="hljs-attr">playMode</span>: <span class="hljs-title class_">PlayMode</span>.<span class="hljs-property">Normal</span>,</li><li>              <span class="hljs-attr">onFinish</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'play end'</span>);</li><li>              }</li><li>            }, <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">widthSize</span> = <span class="hljs-number">150</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">heightSize</span> = <span class="hljs-number">60</span>;</li><li>            });</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">animateTo</span>({}, <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">widthSize</span> = <span class="hljs-number">250</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">heightSize</span> = <span class="hljs-number">100</span>;</li><li>            });</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'stop rotating'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span> })</li><li>        .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 组件出现时开始做动画</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">animateTo</span>({</li><li>            <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span>,</li><li>            <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Friction</span>,</li><li>            <span class="hljs-attr">delay</span>: <span class="hljs-number">500</span>,</li><li>            <span class="hljs-attr">iterations</span>: -<span class="hljs-number">1</span>, <span class="hljs-comment">// 设置-1表示动画无限循环</span></li><li>            <span class="hljs-attr">playMode</span>: <span class="hljs-title class_">PlayMode</span>.<span class="hljs-property">Alternate</span>,</li><li>            <span class="hljs-attr">expectedFrameRateRange</span>: {</li><li>              <span class="hljs-attr">min</span>: <span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">max</span>: <span class="hljs-number">120</span>,</li><li>              <span class="hljs-attr">expected</span>: <span class="hljs-number">60</span>,</li><li>            }</li><li>          }, <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span> = <span class="hljs-number">90</span></li><li>          });</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// this.rotateAngle之前为90，在duration为0的动画中修改属性，可以停止该属性之前的动画，按新设置的属性显示</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span> = <span class="hljs-number">0</span>;</li><li>          });</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1630px;">     <h2 id="getsharedlocalstorage12" device-type="phone,2in1,tablet,wearable,tv">getSharedLocalStorage<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsharedlocalstorage12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSharedLocalStorage(): LocalStorage | undefined</p>     <p>获取当前stage共享的LocalStorage实例。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-state-management#localstorage9">LocalStorage</a> | undefined</td>         <td class="cellrowborder" width="50%">返回LocalStorage实例。共享的LocalStorage实例不存在时返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SharedLocalStorage</span> {</li><li>  <span class="hljs-variable language_">localStorage</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getSharedLocalStorage</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Change Local Storage to 47"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">localStorage</span>?.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">"propA"</span>, <span class="hljs-number">47</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Get Local Storage"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`localStorage: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.<span class="hljs-variable language_">localStorage</span>?.get(<span class="hljs-string">"propA"</span>)}</span>`</span>);</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1306px;">     <h2 id="gethostcontext12" device-type="phone,2in1,tablet,wearable,tv">getHostContext<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gethostcontext12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getHostContext(): Context | undefined</p>     <p>获得当前元能力的Context。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-t#context12">Context</a> | undefined</td>         <td class="cellrowborder" width="50%">返回当前组件所在Ability的Context，Context的具体类型为当前Ability关联的Context对象。例如：在UIAbility窗口中的页面调用该接口，返回类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#uiabilitycontext-1">UIAbilityContext</a>。在ExtensionAbility窗口中的页面调用该接口，返回类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-extensioncontext">ExtensionContext</a>。ability上下文不存在时返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"cacheDir='"</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">cacheDir</span>+<span class="hljs-string">"'"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">color</span>:<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">2</span> })</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">50</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"bundleCodeDir='"</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>?.<span class="hljs-title function_">getHostContext</span>()?.<span class="hljs-property">bundleCodeDir</span>+<span class="hljs-string">"'"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">color</span>:<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">2</span> })</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">50</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 836px;">     <h2 id="getframenodebyid12" device-type="phone,2in1,tablet,wearable,tv">getFrameNodeById<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getframenodebyid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFrameNodeById(id: string): FrameNode | null</p>     <p>通过组件的id获取组件树的实体节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">组件标识</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">返回的组件树的实体节点或者空节点。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getFrameNodeById通过遍历查询对应id的节点，性能较差。推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getattachedframenodebyid12">getAttachedFrameNodeById</a>。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#获取根节点示例">获取根节点示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1453px;">     <h2 id="getattachedframenodebyid12" device-type="phone,2in1,tablet,wearable,tv">getAttachedFrameNodeById<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattachedframenodebyid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttachedFrameNodeById(id: string): FrameNode | null</p>     <p>通过组件的id获取当前窗口上的实体节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">组件标识</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">返回的组件树的实体节点或者空节点。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getAttachedFrameNodeById仅能查询上屏节点。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">'HelloWorld'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>($r(<span class="hljs-string">'app.float.page_text_font_size'</span>))</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        .<span class="hljs-title function_">alignRules</span>({</li><li>          <span class="hljs-attr">center</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span> },</li><li>          <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span> }</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getAttachedFrameNodeById</span>(<span class="hljs-string">"HelloWorld"</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Find HelloWorld Tag:<span class="hljs-subst">${node!.getNodeType()}</span> id:<span class="hljs-subst">${node!.getUniqueId()}</span>`</span>);</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1329px;">     <h2 id="getframenodebyuniqueid12" device-type="phone,2in1,tablet,wearable,tv">getFrameNodeByUniqueId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getframenodebyuniqueid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFrameNodeByUniqueId(id: number): FrameNode | null</p>     <p>提供getFrameNodeByUniqueId接口通过组件的uniqueId获取组件树的实体节点。</p>     <ol>      <li>当uniqueId对应的是系统组件时，返回组件所对应的FrameNode；</li>      <li>当uniqueId对应的是自定义组件时，若其有渲染内容，则返回该自定义组件的根节点，类型为__Common__；若其无渲染内容，则返回其第一个子组件的FrameNode。</li>      <li>当uniqueId无对应的组件时，返回null。</li>     </ol>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的UniqueId</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">返回的组件树的实体节点或者空节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uniqueId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    <span class="hljs-keyword">if</span> (uiContext) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1961px;">     <h2 id="getpageinfobyuniqueid12" device-type="phone,2in1,tablet,wearable,tv">getPageInfoByUniqueId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpageinfobyuniqueid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPageInfoByUniqueId(id: number): PageInfo</p>     <p>提供getPageInfoByUniqueId接口通过组件的uniqueId获取该节点对应的Router和NavDestination页面信息。</p>     <ol>      <li>当uniqueId对应的节点在Page节点中，routerPageInfo属性为其对应的Router信息；</li>      <li>当uniqueId对应的节点在NavDestination节点中，navDestinationInfo属性为其对应的NavDestination信息；</li>      <li>当uniqueId对应的节点无对应的Router或NavDestination信息时，对应的属性为undefined；</li>      <li>模态弹窗并不在任何Page节点中。当uniqueId对应的节点在模态弹窗中，例如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-custom-dialog-box">CustomDialog</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#bindsheet">bindSheet</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-modal-transition#bindcontentcover">bindContentCover</a>构建的模态页面中，routerPageInfo属性为undefined。</li>     </ol>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的UniqueId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-i#pageinfo12">PageInfo</a></td>         <td class="cellrowborder" width="50%">返回节点对应的Router和NavDestination信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">PageInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageInfoExample</span> {</li><li>  <span class="hljs-meta">@Provide</span>(<span class="hljs-string">'pageInfos'</span>) <span class="hljs-attr">pageInfos</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageInfos</span>) {</li><li>        <span class="hljs-title class_">NavDestination</span>() {</li><li>          <span class="hljs-title class_">MyComponent</span>()</li><li>        }</li><li>      }.<span class="hljs-title function_">id</span>(<span class="hljs-string">'navigation'</span>)</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'PageInfoExample'</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">uniqueId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">pageInfo</span>: <span class="hljs-title class_">PageInfo</span> = uiContext.<span class="hljs-title function_">getPageInfoByUniqueId</span>(uniqueId);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pageInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(pageInfo));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'navigationInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(uiContext.<span class="hljs-title function_">getNavigationInfoByUniqueId</span>(uniqueId)));</li><li>      })</li><li>      <span class="hljs-title class_">TextArea</span>({</li><li>        <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span></li><li>      })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 824px;">     <h2 id="getnavigationinfobyuniqueid12" device-type="phone,2in1,tablet,wearable,tv">getNavigationInfoByUniqueId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnavigationinfobyuniqueid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNavigationInfoByUniqueId(id: number): observer.NavigationInfo | undefined</p>     <p>提供getNavigationInfoByUniqueId接口通过组件的uniqueId获取该节点对应的Navigation页面信息。</p>     <ol>      <li>当uniqueId对应的节点在Navigation节点中，返回其对应的Navigation信息；</li>      <li>当uniqueId对应的节点无对应的Navigation信息时，返回undefined。</li>     </ol>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的UniqueId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">observer.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navigationinfo12">NavigationInfo</a> | undefined</td>         <td class="cellrowborder" width="50%">返回节点对应的Navigation信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getpageinfobyuniqueid12">getPageInfoByUniqueId</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1642px;">     <h2 id="showalertdialog" device-type="phone,2in1,tablet,wearable,tv">showAlertDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showalertdialog" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showAlertDialog(options: AlertDialogParamWithConfirm | AlertDialogParamWithButtons | AlertDialogParamWithOptions): void</p>     <p>显示警告弹窗组件，可设置文本内容与响应回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持在输入法类型窗口中使用子窗（showInSubwindow为true）的showAlertDialog，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-alert-dialog-box#alertdialogparamwithconfirm对象说明">AlertDialogParamWithConfirm</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-alert-dialog-box#alertdialogparamwithbuttons对象说明">AlertDialogParamWithButtons</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-alert-dialog-box#alertdialogparamwithoptions10对象说明">AlertDialogParamWithOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义并显示AlertDialog组件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showAlertDialog'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">showAlertDialog</span>(</li><li>            {</li><li>              <span class="hljs-attr">title</span>: <span class="hljs-string">'title'</span>,</li><li>              <span class="hljs-attr">message</span>: <span class="hljs-string">'text'</span>,</li><li>              <span class="hljs-attr">autoCancel</span>: <span class="hljs-literal">true</span>,</li><li>              <span class="hljs-attr">alignment</span>: <span class="hljs-title class_">DialogAlignment</span>.<span class="hljs-property">Bottom</span>,</li><li>              <span class="hljs-attr">offset</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">20</span> },</li><li>              <span class="hljs-attr">gridCount</span>: <span class="hljs-number">3</span>,</li><li>              <span class="hljs-attr">confirm</span>: {</li><li>                <span class="hljs-attr">value</span>: <span class="hljs-string">'button'</span>,</li><li>                <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Button-clicking callback'</span>);</li><li>                }</li><li>              },</li><li>              <span class="hljs-attr">cancel</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Closed callbacks'</span>);</li><li>              }</li><li>            }</li><li>          );</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1790px;">     <h2 id="showactionsheet" device-type="phone,2in1,tablet,wearable,tv">showActionSheet<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showactionsheet" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showActionSheet(value: ActionSheetOptions): void</p>     <p>定义列表弹窗并弹出。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-action-sheet#actionsheetoptions对象说明">ActionSheetOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置列表弹窗的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showActionSheet'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">showActionSheet</span>({</li><li>            <span class="hljs-attr">title</span>: <span class="hljs-string">'ActionSheet title'</span>,</li><li>            <span class="hljs-attr">message</span>: <span class="hljs-string">'message'</span>,</li><li>            <span class="hljs-attr">autoCancel</span>: <span class="hljs-literal">true</span>,</li><li>            <span class="hljs-attr">confirm</span>: {</li><li>              <span class="hljs-attr">value</span>: <span class="hljs-string">'Confirm button'</span>,</li><li>              <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get ActionSheet handled'</span>);</li><li>              }</li><li>            },</li><li>            <span class="hljs-attr">cancel</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ActionSheet canceled'</span>);</li><li>            },</li><li>            <span class="hljs-attr">alignment</span>: <span class="hljs-title class_">DialogAlignment</span>.<span class="hljs-property">Bottom</span>,</li><li>            <span class="hljs-attr">offset</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">10</span> },</li><li>            <span class="hljs-attr">sheets</span>: [</li><li>              {</li><li>                <span class="hljs-attr">title</span>: <span class="hljs-string">'apples'</span>,</li><li>                <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'apples'</span>);</li><li>                }</li><li>              },</li><li>              {</li><li>                <span class="hljs-attr">title</span>: <span class="hljs-string">'bananas'</span>,</li><li>                <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bananas'</span>);</li><li>                }</li><li>              },</li><li>              {</li><li>                <span class="hljs-attr">title</span>: <span class="hljs-string">'pears'</span>,</li><li>                <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'pears'</span>);</li><li>                }</li><li>              }</li><li>            ]</li><li>          });</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1906px;">     <h2 id="showdatepickerdialog" device-type="phone,2in1,tablet,wearable,tv">showDatePickerDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showdatepickerdialog" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showDatePickerDialog(options: DatePickerDialogOptions): void</p>     <p>定义日期滑动选择器弹窗并弹出。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持在输入法类型窗口中使用子窗（showInSubwindow为true）的showDatePickerDialog，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>设备行为差异：</strong> 该接口在Wearable设备上使用时，应用程序运行异常，异常信息中提示接口未定义，在其他设备中可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-datepicker-dialog#datepickerdialogoptions对象说明">DatePickerDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置日期滑动选择器弹窗的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DatePickerDialogExample</span> {</li><li>  <span class="hljs-attr">selectedDate</span>: <span class="hljs-title class_">Date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2010-1-1"</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"DatePickerDialog"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">showDatePickerDialog</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2000-1-1"</span>),</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2100-12-31"</span>),</li><li>            <span class="hljs-attr">selected</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedDate</span>,</li><li>            <span class="hljs-attr">showTime</span>: <span class="hljs-literal">true</span>,</li><li>            <span class="hljs-attr">useMilitaryTime</span>: <span class="hljs-literal">false</span>,</li><li>            <span class="hljs-attr">dateTimeOptions</span>: { <span class="hljs-attr">hour</span>: <span class="hljs-string">"numeric"</span>, <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span> },</li><li>            <span class="hljs-attr">onDateAccept</span>: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">Date</span></span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 通过Date的setFullYear方法设置按下确定按钮时的日期，这样当弹窗再次弹出时显示选中的是上一次确定的日期</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedDate</span> = value;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onDateAccept()"</span> + value.<span class="hljs-title function_">toString</span>());</li><li>            },</li><li>            <span class="hljs-attr">onCancel</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onCancel()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onDateChange</span>: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">Date</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onDateChange()"</span> + value.<span class="hljs-title function_">toString</span>());</li><li>            },</li><li>            <span class="hljs-attr">onDidAppear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onDidAppear()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onDidDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onDidDisappear()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onWillAppear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onWillAppear()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onWillDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"DatePickerDialog:onWillDisappear()"</span>);</li><li>            }</li><li>          })</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1762px;">     <h2 id="showtimepickerdialog" device-type="phone,2in1,tablet,wearable,tv">showTimePickerDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtimepickerdialog" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTimePickerDialog(options: TimePickerDialogOptions): void</p>     <p>定义时间滑动选择器弹窗并弹出。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持在输入法类型窗口中使用子窗（showInSubwindow为true）的showTimePickerDialog，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>设备行为差异：</strong> 该接口在Wearable设备上使用时，应用程序运行异常，异常信息中提示接口未定义，在其他设备中可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-timepicker-dialog#timepickerdialogoptions对象说明">TimePickerDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置时间滑动选择器弹窗的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectTime</span>{</li><li>  <span class="hljs-attr">selectTime</span>: <span class="hljs-title class_">Date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2020-12-25T08:30:00'</span>);</li><li>  <span class="hljs-title function_">hours</span>(<span class="hljs-params">h:<span class="hljs-built_in">number</span>,m:<span class="hljs-built_in">number</span></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectTime</span>.<span class="hljs-title function_">setHours</span>(h, m);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TimePickerDialogExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectTime</span>: <span class="hljs-title class_">Date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2023-12-25T08:30:00'</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showTimePickerDialog'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">showTimePickerDialog</span>({</li><li>            <span class="hljs-attr">selected</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectTime</span>,</li><li>            <span class="hljs-attr">onAccept</span>: <span class="hljs-function">(<span class="hljs-params">value: TimePickerResult</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 设置selectTime为按下确定按钮时的时间，这样当弹窗再次弹出时显示选中的为上一次确定的时间</span></li><li>              <span class="hljs-keyword">let</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SelectTime</span>();</li><li>              <span class="hljs-keyword">if</span>(value.<span class="hljs-property">hour</span> &amp;&amp; value.<span class="hljs-property">minute</span>){</li><li>                time.<span class="hljs-title function_">hours</span>(value.<span class="hljs-property">hour</span>, value.<span class="hljs-property">minute</span>);</li><li>              }</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TimePickerDialog:onAccept()"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            },</li><li>            <span class="hljs-attr">onCancel</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TimePickerDialog:onCancel()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">value: TimePickerResult</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TimePickerDialog:onChange()"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            }</li><li>          });</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1954px;">     <h2 id="showtextpickerdialog" device-type="phone,2in1,tablet,wearable,tv">showTextPickerDialog<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtextpickerdialog" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTextPickerDialog(options: TextPickerDialogOptions): void</p>     <p>定义文本滑动选择器弹窗并弹出。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持在输入法类型窗口中使用子窗（showInSubwindow为true）的showTextPickerDialog，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>设备行为差异：</strong> 该接口在Wearable设备上使用时，应用程序运行异常，异常信息中提示接口未定义，在其他设备中可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-textpicker-dialog#textpickerdialogoptions对象说明">TextPickerDialogOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置文本滑动选择器弹窗的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectedValue</span>{</li><li>  <span class="hljs-attr">select</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;</li><li>  <span class="hljs-title function_">set</span>(<span class="hljs-params">val: <span class="hljs-built_in">number</span></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">select</span> = val;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectedArray</span>{</li><li>  <span class="hljs-attr">select</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>  <span class="hljs-title function_">set</span>(<span class="hljs-params">val: <span class="hljs-built_in">number</span>[]</span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">select</span> = val;</li><li>  }</li><li>}</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TextPickerDialogExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectTime</span>: <span class="hljs-title class_">Date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2023-12-25T08:30:00'</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fruits</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'apple1'</span>, <span class="hljs-string">'orange2'</span>, <span class="hljs-string">'peach3'</span>, <span class="hljs-string">'grape4'</span>, <span class="hljs-string">'banana5'</span>];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">select</span>: <span class="hljs-built_in">number</span>  = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'showTextPickerDialog'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">showTextPickerDialog</span>({</li><li>            <span class="hljs-attr">range</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fruits</span>,</li><li>            <span class="hljs-attr">selected</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">select</span>,</li><li>            <span class="hljs-attr">onAccept</span>: <span class="hljs-function">(<span class="hljs-params">value: TextPickerResult</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 设置select为按下确定按钮时候的选中项index，这样当弹窗再次弹出时显示选中的是上一次确定的选项</span></li><li>              <span class="hljs-keyword">let</span> selectedVal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SelectedValue</span>();</li><li>              <span class="hljs-keyword">let</span> selectedArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SelectedArray</span>();</li><li>              <span class="hljs-keyword">if</span> (value.<span class="hljs-property">index</span>){</li><li>                value.<span class="hljs-property">index</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>?selectedArr.<span class="hljs-title function_">set</span>(value.<span class="hljs-property">index</span>) : selectedVal.<span class="hljs-title function_">set</span>(value.<span class="hljs-property">index</span>);</li><li>              }</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TextPickerDialog:onAccept()"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            },</li><li>            <span class="hljs-attr">onCancel</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TextPickerDialog:onCancel()"</span>);</li><li>            },</li><li>            <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">value: TextPickerResult</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TextPickerDialog:onChange()"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            }</li><li>          });</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 665px;">     <h2 id="showtextpickerdialog20" device-type="phone,2in1,tablet,wearable,tv">showTextPickerDialog<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showtextpickerdialog20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showTextPickerDialog(style: TextPickerDialogOptions|TextPickerDialogOptionsExt): void</p>     <p>定义文本滑动选择器弹窗并弹出，相比API version 11，新增了TextPickerDialogOptionsExt参数支持。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持在输入法类型窗口中使用子窗（showInSubwindow为true）的showTextPickerDialog，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>设备行为差异：</strong> 该接口在Wearable设备上使用时，应用程序运行异常，异常信息中提示接口未定义，在其他设备中可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">style</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-textpicker-dialog#textpickerdialogoptions对象说明">TextPickerDialogOptions</a>| <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-textpicker-dialog#textpickerdialogoptionsext20对象说明">TextPickerDialogOptionsExt</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置文本滑动选择器弹窗的参数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1772px;">     <h2 id="createanimator" device-type="phone,2in1,tablet,wearable,tv">createAnimator<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createanimator" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createAnimator(options: AnimatorOptions): AnimatorResult</p>     <p>定义Animator类。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#animatoroptions">AnimatorOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义动画选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#animatorresult">AnimatorResult</a></td>         <td class="cellrowborder" width="50%">Animator结果接口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AnimatorOptions</span>, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// 创建主窗口，设置此功能的主页</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>      <span class="hljs-keyword">let</span> uiContext = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>:<span class="hljs-title class_">AnimatorOptions</span> = {</li><li>        <span class="hljs-attr">duration</span>: <span class="hljs-number">1500</span>,</li><li>        <span class="hljs-attr">easing</span>: <span class="hljs-string">"friction"</span>,</li><li>        <span class="hljs-attr">delay</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">fill</span>: <span class="hljs-string">"forwards"</span>,</li><li>        <span class="hljs-attr">direction</span>: <span class="hljs-string">"normal"</span>,</li><li>        <span class="hljs-attr">iterations</span>: <span class="hljs-number">3</span>,</li><li>        <span class="hljs-attr">begin</span>: <span class="hljs-number">200.0</span>,</li><li>        <span class="hljs-attr">end</span>: <span class="hljs-number">400.0</span></li><li>      };</li><li>      uiContext.<span class="hljs-title function_">createAnimator</span>(options);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1580px;">     <h2 id="createanimator18" device-type="phone,2in1,tablet,wearable,tv">createAnimator<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createanimator18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createAnimator(options: AnimatorOptions | SimpleAnimatorOptions): AnimatorResult</p>     <p>创建animator动画结果对象（AnimatorResult）。与<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#createanimator">createAnimator</a>相比，新增对<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#simpleanimatoroptions18">SimpleAnimatorOptions</a>类型入参的支持。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#animatoroptions">AnimatorOptions</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#simpleanimatoroptions18">SimpleAnimatorOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义动画选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#animatorresult">AnimatorResult</a></td>         <td class="cellrowborder" width="50%">Animator结果接口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SimpleAnimatorOptions</span>, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// 创建主窗口，设置此功能的主页</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>      <span class="hljs-keyword">let</span> uiContext = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">SimpleAnimatorOptions</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleAnimatorOptions</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>).<span class="hljs-title function_">duration</span>(<span class="hljs-number">2000</span>);</li><li>      uiContext.<span class="hljs-title function_">createAnimator</span>(options);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1070px;">     <h2 id="runscopedtask" device-type="phone,2in1,tablet,wearable,tv">runScopedTask<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="runscopedtask" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>runScopedTask(callback: () =&gt; void): void</p>     <p>在当前UI上下文执行传入的回调函数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"run task"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">runScopedTask</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-comment">// do something</span></li><li>          })</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1282px;">     <h2 id="setkeyboardavoidmode11" device-type="phone,2in1,tablet,wearable,tv">setKeyboardAvoidMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setkeyboardavoidmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setKeyboardAvoidMode(value: KeyboardAvoidMode): void</p>     <p>配置虚拟键盘弹出时，页面的避让模式。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-e#keyboardavoidmode11">KeyboardAvoidMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>键盘弹出时的页面避让模式。</p>          <p>默认值：KeyboardAvoidMode.OFFSET</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>KeyboardAvoidMode.RESIZE模式会压缩页面大小，页面中设置百分比宽高的组件会跟随页面压缩，而直接设置宽高的组件会按设置的固定大小布局。设置KeyboardAvoidMode的RESIZE模式时，expandSafeArea([SafeAreaType.KEYBOARD],[SafeAreaEdge.BOTTOM])不生效。</p>       <p>KeyboardAvoidMode.NONE模式配置页面不避让键盘，页面会被抬起的键盘遮盖。</p>       <p>setKeyboardAvoidMode针对页面生效，对于弹窗类组件不生效，比如Dialog、Popup、Menu、BindSheet、BindContentCover、Toast、OverlayManager。弹窗类组件的避让模式可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-custom-dialog-box#customdialogcontrolleroptions对象说明">CustomDialogControllerOptions对象说明</a>。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例4设置键盘避让模式为压缩">示例4（设置键盘避让模式为压缩）</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例5设置键盘避让模式为上抬">示例5（设置键盘避让模式为上抬）</a>以及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例6切换避让模式">示例6（切换避让模式）</a>。</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidMode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>
</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>        uiContext.<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">RESIZE</span>);</li><li>      });</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 994px;">     <h2 id="getkeyboardavoidmode11" device-type="phone,2in1,tablet,wearable,tv">getKeyboardAvoidMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getkeyboardavoidmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getKeyboardAvoidMode(): KeyboardAvoidMode</p>     <p>获取虚拟键盘弹出时，页面的避让模式。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-e#keyboardavoidmode11">KeyboardAvoidMode</a></td>         <td class="cellrowborder" width="50%">返回当前的页面避让模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例4设置键盘避让模式为压缩">示例4（设置键盘避让模式为压缩）</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例5设置键盘避让模式为上抬">示例5（设置键盘避让模式为上抬）</a>以及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例6切换避让模式">示例6（切换避让模式）</a>。</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidMode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>
</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-title class_">KeyboardAvoidMode</span> = uiContext.<span class="hljs-title function_">getKeyboardAvoidMode</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">"KeyboardAvoidMode:"</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>));</li><li>      });</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;">     <h2 id="getatomicservicebar11" device-type="phone,2in1,tablet,wearable,tv">getAtomicServiceBar<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getatomicservicebar11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAtomicServiceBar(): Nullable&lt;AtomicServiceBar&gt;</p>     <p>获取AtomicServiceBar对象，通过该对象设置元服务menuBar的属性。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Nullable&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-atomicservicebar">AtomicServiceBar</a>&gt;</td>         <td class="cellrowborder" width="50%">如果是元服务则返回AtomicServerBar类型，否则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">AtomicServiceBar</span>, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">atomicServiceBar</span>: <span class="hljs-title class_">Nullable</span>&lt;<span class="hljs-title class_">AtomicServiceBar</span>&gt; = uiContext.<span class="hljs-title function_">getAtomicServiceBar</span>();</li><li>      <span class="hljs-keyword">if</span> (atomicServiceBar != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get AtomServiceBar Successfully.'</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Get AtomicServiceBar failed.'</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getdragcontroller11" device-type="phone,2in1,tablet,wearable,tv">getDragController<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdragcontroller11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDragController(): DragController</p>     <p>获取DragController对象，可通过该对象创建并发起拖拽。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-dragcontroller">DragController</a></td>         <td class="cellrowborder" width="50%">获取DragController对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-dragcontroller">DragController</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2003px;">     <h2 id="keyframeanimateto11" device-type="phone,2in1,tablet,wearable,tv">keyframeAnimateTo<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyframeanimateto11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>keyframeAnimateTo(param: KeyframeAnimateParam, keyframes: Array&lt;KeyframeState&gt;): void</p>     <p>产生关键帧动画。该接口的使用说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-keyframeanimateto">keyframeAnimateTo</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">param</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-keyframeanimateto#keyframeanimateparam对象说明">KeyframeAnimateParam</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关键帧动画的整体动画参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">keyframes</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-keyframeanimateto#keyframestate对象说明">KeyframeState</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">所有的关键帧状态的列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">KeyframeDemo</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">myScale</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1.0</span>;</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Circle</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#46B1E3"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">myScale</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">myScale</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"no uiContext, keyframe failed"</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myScale</span> = <span class="hljs-number">1</span>;</li><li>          <span class="hljs-comment">// 设置关键帧动画整体播放3次</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">keyframeAnimateTo</span>({</li><li>              <span class="hljs-attr">iterations</span>: <span class="hljs-number">3</span>,</li><li>              <span class="hljs-attr">expectedFrameRateRange</span>: {</li><li>                <span class="hljs-attr">min</span>: <span class="hljs-number">10</span>,</li><li>                <span class="hljs-attr">max</span>: <span class="hljs-number">120</span>,</li><li>                <span class="hljs-attr">expected</span>: <span class="hljs-number">60</span>,</li><li>              }</li><li>            }, [</li><li>            {</li><li>              <span class="hljs-comment">// 第一段关键帧动画时长为800ms，scale属性做从1到1.5的动画</span></li><li>              <span class="hljs-attr">duration</span>: <span class="hljs-number">800</span>,</li><li>              <span class="hljs-attr">event</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">myScale</span> = <span class="hljs-number">1.5</span>;</li><li>              }</li><li>            },</li><li>            {</li><li>              <span class="hljs-comment">// 第二段关键帧动画时长为500ms，scale属性做从1.5到1的动画</span></li><li>              <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span>,</li><li>              <span class="hljs-attr">event</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">myScale</span> = <span class="hljs-number">1</span>;</li><li>              }</li><li>            }</li><li>          ]);</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getfocuscontroller12" device-type="phone,2in1,tablet,wearable,tv">getFocusController<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfocuscontroller12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFocusController(): FocusController</p>     <p>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-focuscontroller">FocusController</a>对象，可通过该对象控制焦点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-focuscontroller">FocusController</a></td>         <td class="cellrowborder" width="50%">获取FocusController对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-focuscontroller">FocusController</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3344px;">     <h2 id="getfilteredinspectortree12" device-type="phone,2in1,tablet,wearable,tv">getFilteredInspectorTree<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfilteredinspectortree12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFilteredInspectorTree(filters?: Array&lt;string&gt;): string</p>     <p>获取组件树及组件属性。此接口耗时较长，仅适用于测试场景。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filters</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要获取的组件属性的过滤列表。目前仅支持过滤字段：</p>          <p>"id"：组件唯一标识。</p>          <p>"src"：资源来源。</p>          <p>"content"：元素、组件或对象所包含的信息或数据。</p>          <p>"editable"：是否可编辑。</p>          <p>"scrollable"：是否可滚动。</p>          <p>"selectable"：是否可选择。</p>          <p>"focusable"：是否可聚焦。</p>          <p>"focused"：是否已聚焦。</p>          <p>如果在filters参数中包含以上一个或者多个字段，则未包含的字段会在组件属性查询结果中被过滤掉。如果用户未传入filters参数或者filters参数为空数组，则以上字段全部不会在组件属性查询结果中被过滤掉。</p>          <p>从API version 20开始，支持该过滤字段：</p>          <p>"isLayoutInspector"：返回组件树是否包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-create-custom-components" target="_blank">自定义组件</a>。如果用户未传入filters参数或者filters数组不包含isLayoutInspector，返回的组件树将缺少自定义组件的信息。</p>          <p>其余字段仅供测试场景使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">获取组件树及组件属性的JSON字符串。组件中每个字段的含义请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getinspectorinfo12">getInspectorInfo</a>的返回值说明。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>uiContext.<span class="hljs-title function_">getFilteredInspectorTree</span>([<span class="hljs-string">'id'</span>, <span class="hljs-string">'src'</span>, <span class="hljs-string">'content'</span>]);</li></ol></pre></div></div>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentPage</span> {</li><li>  <span class="hljs-title function_">loopConsole</span>(<span class="hljs-params">inspectorStr: <span class="hljs-built_in">string</span>, i: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`InsTree <span class="hljs-subst">${i}</span>| type: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.parse(inspectorStr).$type}</span>, ID: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.parse(inspectorStr).$ID}</span>`</span>);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr).<span class="hljs-property">$children</span>) {</li><li>      i += <span class="hljs-string">'-'</span>;</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr).<span class="hljs-property">$children</span>.<span class="hljs-property">length</span>; index++) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loopConsole</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr).<span class="hljs-property">$children</span>[index]), i);</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'content'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-keyword">let</span> inspectorStr = uiContext.<span class="hljs-title function_">getFilteredInspectorTree</span>([<span class="hljs-string">'content'</span>]);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`InsTree : <span class="hljs-subst">${inspectorStr}</span>`</span>);</li><li>        inspectorStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr));</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loopConsole</span>(inspectorStr, <span class="hljs-string">'-'</span>);</li><li>      })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'isLayoutInspector'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-keyword">let</span> inspectorStr = uiContext.<span class="hljs-title function_">getFilteredInspectorTree</span>([<span class="hljs-string">'isLayoutInspector'</span>]);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`InsTree : <span class="hljs-subst">${inspectorStr}</span>`</span>);</li><li>        inspectorStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr).<span class="hljs-property">content</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loopConsole</span>(inspectorStr, <span class="hljs-string">'-'</span>);</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>当传入"content"过滤字段时，返回的JSON字符串结构如下：</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">InsTree</span> : {<span class="hljs-string">"$type"</span>:<span class="hljs-string">"root"</span>,<span class="hljs-string">"width"</span>:<span class="hljs-string">"720.000000"</span>,<span class="hljs-string">"height"</span>:<span class="hljs-string">"1280.000000"</span>,<span class="hljs-string">"$resolution"</span>:<span class="hljs-string">"1.500000"</span>,<span class="hljs-string">"$children"</span>:[{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Column"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[0.00, 72.00],[720.00,1208.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{},<span class="hljs-string">"$children"</span>:[{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Button"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">16</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[293.00, 72.00],[427.00,132.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{}},{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Button"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">18</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[237.00, 132.00],[484.00,192.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{}}]}]}\</li><li><span class="hljs-title class_">InsTree</span> -| <span class="hljs-attr">type</span>: root, <span class="hljs-attr">ID</span>: <span class="hljs-literal">undefined</span></li><li><span class="hljs-title class_">InsTree</span> --| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Column</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">15</span></li><li><span class="hljs-title class_">InsTree</span> ---| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Button</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">16</span></li><li><span class="hljs-title class_">InsTree</span> ---| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Button</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">18</span></li></ol></pre></div></div>     <p>从API version 20开始，当传入"isLayoutInspector"过滤字段时，返回的JSON字符串结构新增外层结构"type"与"content"，其中"content"包含未增加该字段时的原有JSON字符串结构；同时，返回值结构中增添自定义组件。返回的JSON字符串结构如下：</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">InsTree</span> : {<span class="hljs-string">"type"</span>:<span class="hljs-string">"root"</span>,<span class="hljs-string">"content"</span>:{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"root"</span>,<span class="hljs-string">"width"</span>:<span class="hljs-string">"720.000000"</span>,<span class="hljs-string">"height"</span>:<span class="hljs-string">"1280.000000"</span>,<span class="hljs-string">"$resolution"</span>:<span class="hljs-string">"1.500000"</span>,<span class="hljs-string">"$children"</span>:[{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"JsView"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">13</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"custom"</span>,<span class="hljs-string">"state"</span>:{<span class="hljs-string">"observedPropertiesInfo"</span>:[],<span class="hljs-string">"viewInfo"</span>:{<span class="hljs-string">"componentName"</span>:<span class="hljs-string">"ComponentPage"</span>,<span class="hljs-string">"id"</span>:<span class="hljs-number">14</span>,<span class="hljs-string">"isV2"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isViewActive_"</span>:<span class="hljs-literal">true</span>}},<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[0.00, 72.00],[720.00,1208.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">"{\"$line\":\"(0:0)\"}"</span>,<span class="hljs-string">"viewTag"</span>:<span class="hljs-string">"ComponentPage"</span>,<span class="hljs-string">"$attrs"</span>:{<span class="hljs-string">"viewKey"</span>:<span class="hljs-string">"13"</span>},<span class="hljs-string">"$children"</span>:[{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Column"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">15</span>, <span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[0.00, 72.00],[720.00,1208.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{ ...</li><li><span class="hljs-title class_">InsTree</span> -| <span class="hljs-attr">type</span>: root, <span class="hljs-attr">ID</span>: <span class="hljs-literal">undefined</span></li><li><span class="hljs-title class_">InsTree</span> --| <span class="hljs-attr">type</span>: <span class="hljs-title class_">JsView</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">13</span></li><li><span class="hljs-title class_">InsTree</span> ---| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Column</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">15</span></li><li><span class="hljs-title class_">InsTree</span> ----| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Button</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">16</span></li><li><span class="hljs-title class_">InsTree</span> ----| <span class="hljs-attr">type</span>: <span class="hljs-title class_">Button</span>, <span class="hljs-attr">ID</span>: <span class="hljs-number">18</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2913px;">     <h2 id="getfilteredinspectortreebyid12" device-type="phone,2in1,tablet,wearable,tv">getFilteredInspectorTreeById<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfilteredinspectortreebyid12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFilteredInspectorTreeById(id: string, depth: number, filters?: Array&lt;string&gt;): string</p>     <p>获取指定的组件及其子组件的属性。此接口耗时较长，仅适用于测试场景。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">组件标识</a>id。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">depth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取子组件的层数。当取值0时，获取指定的组件及其所有的子孙组件的属性。当取值1时，仅获取指定的组件的属性。当取值2时，指定的组件及其1层子组件的属性。以此类推。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">filters</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要获取的组件属性的过滤列表。目前仅支持过滤字段：</p>          <p>"id"：组件唯一标识。</p>          <p>"src"：资源来源。</p>          <p>"content"：元素、组件或对象所包含的信息或数据。</p>          <p>"editable"：是否可编辑。</p>          <p>"scrollable"：是否可滚动。</p>          <p>"selectable"：是否可选择。</p>          <p>"focusable"：是否可聚焦。</p>          <p>"focused"：是否已聚焦。</p>          <p>如果在filters参数中包含以上一个或者多个字段，则未包含的字段会在组件属性查询结果中被过滤掉。如果用户未传入filters参数或者filters参数为空数组，则以上字段全部不会在组件属性查询结果中被过滤掉。</p>          <p>其余字段仅供测试场景使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">获取指定的组件及其子组件的属性的JSON字符串。组件中每个字段的含义请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getinspectorinfo12">getInspectorInfo</a>的返回值说明。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. Mandatory parameters are left unspecified.</p>          <p>2. Incorrect parameters types.</p>          <p>3. Parameter verification failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>uiContext.<span class="hljs-title function_">getFilteredInspectorTreeById</span>(<span class="hljs-string">'testId'</span>, <span class="hljs-number">0</span>, [<span class="hljs-string">'id'</span>, <span class="hljs-string">'src'</span>, <span class="hljs-string">'content'</span>]);</li></ol></pre></div></div>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentPage</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Hello World"</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">"TEXT"</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getFilteredInspectorTreeById'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-keyword">try</span> {</li><li>          <span class="hljs-keyword">let</span> inspectorStr = uiContext.<span class="hljs-title function_">getFilteredInspectorTreeById</span>(<span class="hljs-string">'TEXT'</span>, <span class="hljs-number">1</span>, [<span class="hljs-string">"id"</span>, <span class="hljs-string">"src"</span>]);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`result1: <span class="hljs-subst">${inspectorStr}</span>`</span>);</li><li>          inspectorStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr)[<span class="hljs-string">'$children'</span>][<span class="hljs-number">0</span>]);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`result2: <span class="hljs-subst">${inspectorStr}</span>`</span>);</li><li>          inspectorStr = uiContext.<span class="hljs-title function_">getFilteredInspectorTreeById</span>(<span class="hljs-string">'TEXT'</span>, <span class="hljs-number">1</span>, [<span class="hljs-string">"src"</span>]);</li><li>          inspectorStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(inspectorStr)[<span class="hljs-string">'$children'</span>][<span class="hljs-number">0</span>]);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`result3: <span class="hljs-subst">${inspectorStr}</span>`</span>);</li><li>        } <span class="hljs-keyword">catch</span>(e) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getFilteredInspectorTreeById error: <span class="hljs-subst">${e}</span>`</span>);</li><li>        }</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>返回的JSON字符串结构如下：</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">result1</span>: {<span class="hljs-string">"$type"</span>:<span class="hljs-string">"root"</span>,<span class="hljs-string">"width"</span>:<span class="hljs-string">"1260.000000"</span>,<span class="hljs-string">"height"</span>:<span class="hljs-string">"2720.000000"</span>,<span class="hljs-string">"$resolution"</span>:<span class="hljs-string">"3.250000"</span>,<span class="hljs-string">"$children"</span>:[{<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Text"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[457.00, 123.00],[804.00,199.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-string">"TEXT"</span>,<span class="hljs-string">"isLayoutDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isRenderDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isMeasureBoundary"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"hasPendingRequest"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isFirstBuilding"</span>:<span class="hljs-literal">false</span>}}]}</li><li><span class="hljs-attr">result2</span>: {<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Text"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[457.00, 123.00],[804.00,199.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-string">"TEXT"</span>,<span class="hljs-string">"isLayoutDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isRenderDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isMeasureBoundary"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"hasPendingRequest"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isFirstBuilding"</span>:<span class="hljs-literal">false</span>}}</li><li><span class="hljs-attr">result3</span>: {<span class="hljs-string">"$type"</span>:<span class="hljs-string">"Text"</span>,<span class="hljs-string">"$ID"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"build-in"</span>,<span class="hljs-string">"$rect"</span>:<span class="hljs-string">"[457.00, 123.00],[804.00,199.00]"</span>,<span class="hljs-string">"$debugLine"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"$attrs"</span>:{<span class="hljs-string">"isLayoutDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isRenderDirtyMarked"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isMeasureBoundary"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"hasPendingRequest"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"isFirstBuilding"</span>:<span class="hljs-literal">false</span>}}</li></ol></pre></div></div>     <p>若需获取getFilteredInspectorTreeById方法中首个参数id指定的组件，须参照示例代码将getFilteredInspectorTreeById方法结果先转换为json对象，随后提取$children数组的首项。通过result2和result3的结果对比可知，如果filters参数由["id", "src"]改为["src"]，获取到的$attrs属性将缺少"id"这一key。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getcursorcontroller12" device-type="phone,2in1,tablet,wearable,tv">getCursorController<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcursorcontroller12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCursorController(): CursorController</p>     <p>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-cursorcontroller">CursorController</a>对象，可通过该对象控制光标。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-cursorcontroller">CursorController</a></td>         <td class="cellrowborder" width="50%">获取CursorController对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-contextmenucontroller">CursorController</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 497px;">     <h2 id="getcontextmenucontroller12" device-type="phone,2in1,tablet,wearable,tv">getContextMenuController<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcontextmenucontroller12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getContextMenuController(): ContextMenuController</p>     <p>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-contextmenucontroller">ContextMenuController</a>对象，可通过该对象控制菜单。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-contextmenucontroller">ContextMenuController</a></td>         <td class="cellrowborder" width="50%">获取ContextMenuController对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="getmeasureutils12" device-type="phone,2in1,tablet,wearable,tv">getMeasureUtils<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmeasureutils12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMeasureUtils(): MeasureUtils</p>     <p>允许用户通过UIContext对象，获取MeasureUtils对象进行文本计算。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-measureutils">MeasureUtils</a></td>         <td class="cellrowborder" width="50%">提供文本宽度、高度等相关计算。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-measureutils">MeasureUtils</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 641px;">     <h2 id="getcomponentsnapshot12" device-type="phone,2in1,tablet,wearable,tv">getComponentSnapshot<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcomponentsnapshot12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getComponentSnapshot(): ComponentSnapshot</p>     <p>获取ComponentSnapshot对象，可通过该对象获取组件截图的能力。</p>     <p>典型使用场景（如长截图）及最佳实践请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-uicontext-component-snapshot" target="_blank">使用组件截图</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-componentsnapshot">ComponentSnapshot</a></td>         <td class="cellrowborder" width="50%">获取ComponentSnapshot对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-componentsnapshot">ComponentSnapshot</a>中的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1653px;">     <h2 id="vp2px12" device-type="phone,2in1,tablet,wearable,tv">vp2px<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vp2px12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>vp2px(value : number) : number</p>     <p>将vp单位的数值转换为以px为单位的数值。</p>     <p>转换公式为：px值 = vp值 × 像素密度</p>     <p>像素密度：当前窗口生效的像素密度值，即屏幕物理像素密度<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#virtualscreenconfig16">VirtualScreenConfig.density</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p></li>        <li>         <p>UI实例未创建时，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">像素单位</a>中的vp2px接口使用默认屏幕的虚拟像素比进行转换。在该场景下，开发者使用UIContext接口替换时，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-global-interface#像素单位转换接口替换为uicontext接口" target="_blank">像素单位转换接口替换为UIContext接口</a>。</p></li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将vp单位的数值转换为以px为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1653px;">     <h2 id="px2vp12" device-type="phone,2in1,tablet,wearable,tv">px2vp<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="px2vp12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>px2vp(value : number) : number</p>     <p>将px单位的数值转换为以vp为单位的数值。</p>     <p>转换公式为：vp值 = px值 ÷ 像素密度</p>     <p>像素密度：当前窗口生效的像素密度值，即屏幕物理像素密度<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#virtualscreenconfig16">VirtualScreenConfig.density</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p></li>        <li>         <p>UI实例未创建时，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">像素单位</a>中的px2vp接口使用默认屏幕的虚拟像素比进行转换。在该场景下，开发者使用UIContext接口替换时，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-global-interface#像素单位转换接口替换为uicontext接口" target="_blank">像素单位转换接口替换为UIContext接口</a>。</p></li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将px单位的数值转换为以vp为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2vp</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2vp</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h2 id="fp2px12" device-type="phone,2in1,tablet,wearable,tv">fp2px<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fp2px12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fp2px(value : number) : number</p>     <p>将fp单位的数值转换为以px为单位的数值。</p>     <p>转换公式为：px值 = fp值 × 像素密度 × 字体缩放比例</p>     <p>像素密度：当前窗口生效的像素密度值，即屏幕物理像素密度<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#virtualscreenconfig16">VirtualScreenConfig.density</a>。</p>     <p>字体缩放比例：系统设置的字体缩放系数，对应 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#configuration">Configuration.fontScale</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将fp单位的数值转换为以px为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">fp2px</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">fp2px</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1621px;">     <h2 id="px2fp12" device-type="phone,2in1,tablet,wearable,tv">px2fp<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="px2fp12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>px2fp(value : number) : number</p>     <p>将px单位的数值转换为以fp为单位的数值。</p>     <p>转换公式为：fp值 = px值 ÷ 像素密度 ÷ 字体缩放比例</p>     <p>像素密度：当前窗口生效的像素密度值，通常就是屏幕物理像素密度<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#virtualscreenconfig16">VirtualScreenConfig.density</a>。</p>     <p>字体缩放比例：系统设置的字体缩放系数，对应 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#configuration">Configuration.fontScale</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将px单位的数值转换为以fp为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2fp</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2fp</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;">     <h2 id="lpx2px12" device-type="phone,2in1,tablet,wearable,tv">lpx2px<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lpx2px12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lpx2px(value : number) : number</p>     <p>将lpx单位的数值转换为以px为单位的数值。</p>     <p>转换公式为：px值 = lpx值 × 实际屏幕宽度与逻辑宽度（通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#pages标签" target="_blank">designWidth</a>配置）的比值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将lpx单位的数值转换为以px为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">lpx2px</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">lpx2px</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;">     <h2 id="px2lpx12" device-type="phone,2in1,tablet,wearable,tv">px2lpx<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="px2lpx12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>px2lpx(value : number) : number</p>     <p>将px单位的数值转换为以lpx为单位的数值。</p>     <p>转换公式为：lpx值 = px值 ÷ 实际屏幕宽度与逻辑宽度（通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#pages标签" target="_blank">designWidth</a>配置）的比值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getUIContext需在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">windowStage.loadContent</a>之后调用，确保UIContext初始化完成后调用此接口，否则无法返回准确结果。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将px单位的数值转换为以lpx为单位的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>转换后的数值。</p>          <p>取值范围：(-∞, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MatrixExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">100</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello1'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">rotate</span>({</li><li>          <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>,</li><li>          <span class="hljs-attr">angle</span>: <span class="hljs-number">90</span>,</li><li>          <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2lpx</span>(<span class="hljs-number">50</span>),</li><li>          <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2lpx</span>(<span class="hljs-number">30</span>)</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1306px;">     <h2 id="getwindowname12" device-type="phone,2in1,tablet,wearable,tv">getWindowName<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowname12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowName(): string | undefined</p>     <p>获取当前实例所在窗口的名称。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string | undefined</td>         <td class="cellrowborder" width="50%">当前实例所在窗口的名称。若窗口不存在，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> windowName = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getWindowName</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'WindowName '</span> + windowName);</li><li>    <span class="hljs-keyword">const</span> currWindow = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(windowName);</li><li>    <span class="hljs-keyword">const</span> windowProperties = currWindow.<span class="hljs-title function_">getWindowProperties</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Window width <span class="hljs-subst">${windowProperties.windowRect.width}</span>, height <span class="hljs-subst">${windowProperties.windowRect.height}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1330px;">     <h2 id="getwindowwidthbreakpoint13" device-type="phone,2in1,tablet,wearable,tv">getWindowWidthBreakpoint<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowwidthbreakpoint13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowWidthBreakpoint(): WidthBreakpoint</p>     <p>获取当前实例所在窗口的宽度断点枚举值。具体枚举值根据窗口宽度vp值确定，详见 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#widthbreakpoint13">WidthBreakpoint</a>。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#widthbreakpoint13">WidthBreakpoint</a></td>         <td class="cellrowborder" width="50%">当前实例所在窗口的宽度断点枚举值。若窗口宽度为 0vp，则返回WIDTH_XS。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        <span class="hljs-title class_">Button</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'test'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">widthBp</span>: <span class="hljs-title class_">WidthBreakpoint</span> = uiContext.<span class="hljs-title function_">getWindowWidthBreakpoint</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Window widthBp: <span class="hljs-subst">${widthBp}</span>`</span>);</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1354px;">     <h2 id="getwindowheightbreakpoint13" device-type="phone,2in1,tablet,wearable,tv">getWindowHeightBreakpoint<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowheightbreakpoint13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowHeightBreakpoint(): HeightBreakpoint</p>     <p>获取当前实例所在窗口的高度断点。具体枚举值根据窗口高宽比确定，详见 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#heightbreakpoint13">HeightBreakpoint</a>。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#heightbreakpoint13">HeightBreakpoint</a></td>         <td class="cellrowborder" width="50%">当前实例所在窗口的宽高比对应的高度断点枚举值。若窗口高宽比为0，则返回HEIGHT_SM。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        <span class="hljs-title class_">Button</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'test'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">heightBp</span>: <span class="hljs-title class_">HeightBreakpoint</span> = uiContext.<span class="hljs-title function_">getWindowHeightBreakpoint</span>();</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">widthBp</span>: <span class="hljs-title class_">WidthBreakpoint</span> = uiContext.<span class="hljs-title function_">getWindowWidthBreakpoint</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Window heightBP: <span class="hljs-subst">${heightBp}</span>, widthBp: <span class="hljs-subst">${widthBp}</span>`</span>);</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1262px;">     <h2 id="postframecallback12" device-type="phone,2in1,tablet,wearable,tv">postFrameCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="postframecallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>postFrameCallback(frameCallback: FrameCallback): void</p>     <p>注册一个回调，仅在下一帧渲染时调用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">frameCallback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-framecallback">FrameCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">下一帧需要执行的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {<span class="hljs-title class_">FrameCallback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFrameCallback</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">FrameCallback</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">tag</span>: <span class="hljs-built_in">string</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">tag: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> = tag;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onFrame</span>(<span class="hljs-params">frameTimeNanos: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'MyFrameCallback '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> + <span class="hljs-string">' '</span> + frameTimeNanos.<span class="hljs-title function_">toString</span>());</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'点击触发postFrameCallback'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">postFrameCallback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFrameCallback</span>(<span class="hljs-string">"normTask"</span>));</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1355px;">     <h2 id="postdelayedframecallback12" device-type="phone,2in1,tablet,wearable,tv">postDelayedFrameCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="postdelayedframecallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>postDelayedFrameCallback(frameCallback: FrameCallback, delayTime: number): void</p>     <p>注册一个回调，在延迟一段时间后的下一帧进行渲染时执行。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">frameCallback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-framecallback">FrameCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">下一帧需要执行的回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">delayTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">延迟的时间，以毫秒为单位。传入null、undefined或小于0的值，会按0处理。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {<span class="hljs-title class_">FrameCallback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFrameCallback</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">FrameCallback</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">tag</span>: <span class="hljs-built_in">string</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">tag: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> = tag;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onFrame</span>(<span class="hljs-params">frameTimeNanos: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'MyFrameCallback '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> + <span class="hljs-string">' '</span> + frameTimeNanos.<span class="hljs-title function_">toString</span>());</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'点击触发postDelayedFrameCallback'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">postDelayedFrameCallback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFrameCallback</span>(<span class="hljs-string">"delayTask"</span>), <span class="hljs-number">5</span>);</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1865px;">     <h2 id="requiredynamicsyncscene12" device-type="phone,2in1,tablet,wearable,tv">requireDynamicSyncScene<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="requiredynamicsyncscene12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>requireDynamicSyncScene(id: string): Array&lt;DynamicSyncScene&gt;</p>     <p>请求组件的动态帧率场景，用于自定义场景相关帧率配置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">节点对应的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">组件标识</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;DynamicSyncScene&gt;</td>         <td class="cellrowborder" width="50%">获取DynamicSyncScene对象数组。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SwiperDynamicSyncSceneType</span>, <span class="hljs-title class_">SwiperDynamicSyncScene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Frame</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">ANIMATION</span>: <span class="hljs-title class_">ExpectedFrameRateRange</span> = { <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">expected</span>: <span class="hljs-number">90</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">GESTURE</span>: <span class="hljs-title class_">ExpectedFrameRateRange</span> = { <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">expected</span>: <span class="hljs-number">30</span>};</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scenes</span>: <span class="hljs-title class_">SwiperDynamicSyncScene</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"动画"</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ANIMATION</span>))</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"跟手"</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">GESTURE</span>))</li><li>      <span class="hljs-title class_">Row</span>(){</li><li>        <span class="hljs-title class_">Swiper</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"one"</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"two"</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"three"</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'300vp'</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">"dynamicSwiper"</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>)</li><li>        .<span class="hljs-title function_">autoPlay</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">scenes</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().requireDynamicSyncScene(<span class="hljs-string">"dynamicSwiper"</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">SwiperDynamicSyncScene</span>[];</li><li>        })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"set frame"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">scenes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">scenes: SwiperDynamicSyncScene</span>) =&gt;</span> {</li><li>
</li><li>            <span class="hljs-keyword">if</span> (scenes.<span class="hljs-property">type</span> == <span class="hljs-title class_">SwiperDynamicSyncSceneType</span>.<span class="hljs-property">ANIMATION</span>) {</li><li>              scenes.<span class="hljs-title function_">setFrameRateRange</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ANIMATION</span>);</li><li>            }</li><li>
</li><li>            <span class="hljs-keyword">if</span> (scenes.<span class="hljs-property">type</span> == <span class="hljs-title class_">SwiperDynamicSyncSceneType</span>.<span class="hljs-property">GESTURE</span>) {</li><li>              scenes.<span class="hljs-title function_">setFrameRateRange</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">GESTURE</span>);</li><li>            }</li><li>          });</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4261px;">     <h2 id="openbindsheet12" device-type="phone,2in1,tablet,wearable,tv">openBindSheet<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="openbindsheet12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>openBindSheet&lt;T extends Object&gt;(bindSheetContent: ComponentContent&lt;T&gt;, sheetOptions?: SheetOptions, targetId?: number): Promise&lt;void&gt;</p>     <p>创建并弹出以bindSheetContent作为内容的半模态页面，使用Promise异步回调。通过该接口弹出的半模态页面样式完全按照bindSheetContent中设置的样式显示。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>使用该接口时，若未传入有效的targetId，则不支持设置SheetOptions.preferType为POPUP模式、不支持设置SheetOptions.mode为EMBEDDED模式。</p></li>        <li>         <p>由于<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#updatebindsheet12">updateBindSheet</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#closebindsheet12">closeBindSheet</a>依赖bindSheetContent去更新或者关闭指定的半模态页面，开发者需自行维护传入的bindSheetContent。</p></li>        <li>         <p>不支持设置SheetOptions.UIContext。</p></li>       </ol>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bindSheetContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">半模态页面中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sheetOptions</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#sheetoptions">SheetOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>半模态页面样式。</p>          <p><strong>说明：</strong></p>          <p>1. 不支持设置SheetOptions.uiContext，该属性的值固定为当前实例的UIContext。</p>          <p>2. 若不传递targetId，则不支持设置SheetOptions.preferType为POPUP样式，若设置了POPUP样式则使用CENTER样式替代。</p>          <p>3. 若不传递targetId，则不支持设置SheetOptions.mode为EMBEDDED模式，默认为OVERLAY模式。</p>          <p>4. 其余属性的默认值参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#sheetoptions">SheetOptions</a>文档。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">targetId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要绑定组件的ID，若不指定则不绑定任何组件。id不存在时返回错误码120004。在传入undefined时返回错误码401。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bindsheet">半模态错误码</a>错误码。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120001</td>         <td class="cellrowborder" width="50%">The bindSheetContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120002</td>         <td class="cellrowborder" width="50%">The bindSheetContent already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120004</td>         <td class="cellrowborder" width="50%">The targetId does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120005</td>         <td class="cellrowborder" width="50%">The node of targetId is not in the component tree.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120006</td>         <td class="cellrowborder" width="50%">The node of targetId is not a child of the page node or NavDestination node.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ArkUI"</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Params</span>&gt;;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">gUIContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Update BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">updateBindSheet</span>(contentNode, {</li><li>          <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>,</li><li>        }, <span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'updateBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'updateBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>
</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">closeBindSheet</span>(contentNode)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'closeBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'closeBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UIContextBindSheet</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'BindSheet'</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    gUIContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Open BindSheet'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> uniqueId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>            <span class="hljs-keyword">let</span> targetId = frameNode?.<span class="hljs-title function_">getFirstChild</span>()?.<span class="hljs-title function_">getUniqueId</span>();</li><li>            uiContext.<span class="hljs-title function_">openBindSheet</span>(contentNode, {</li><li>              <span class="hljs-attr">height</span>: <span class="hljs-title class_">SheetSize</span>.<span class="hljs-property">MEDIUM</span>,</li><li>              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>              <span class="hljs-attr">title</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"Title"</span>, <span class="hljs-attr">subtitle</span>: <span class="hljs-string">"subtitle"</span> }</li><li>            }, targetId)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openBindSheet success'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'openBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3720px;">     <h2 id="updatebindsheet12" device-type="phone,2in1,tablet,wearable,tv">updateBindSheet<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatebindsheet12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateBindSheet&lt;T extends Object&gt;(bindSheetContent: ComponentContent&lt;T&gt;, sheetOptions: SheetOptions, partialUpdate?: boolean ): Promise&lt;void&gt;</p>     <p>更新bindSheetContent对应的半模态页面的样式，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不支持更新SheetOptions.UIContext、SheetOptions.mode、回调函数。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bindSheetContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">半模态页面中显示的组件内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sheetOptions</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#sheetoptions">SheetOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>半模态页面样式。</p>          <p><strong>说明：</strong></p>          <p>不支持更新SheetOptions.uiContext、SheetOptions.mode、回调函数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">partialUpdate</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>半模态页面更新方式, 默认值为false。</p>          <p><strong>说明：</strong></p>          <p>1. true为增量更新，保留当前值，更新SheetOptions中的指定属性。</p>          <p>2. false为全量更新，除SheetOptions中的指定属性，其他属性恢复默认值。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bindsheet">半模态错误码</a>错误码。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120001</td>         <td class="cellrowborder" width="50%">The bindSheetContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120003</td>         <td class="cellrowborder" width="50%">The bindSheetContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ArkUI"</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Params</span>&gt;;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">gUIContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Update BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">updateBindSheet</span>(contentNode, {</li><li>          <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>,</li><li>        }, <span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'updateBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'updateBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>
</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">closeBindSheet</span>(contentNode)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'closeBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'closeBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UIContextBindSheet</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'BindSheet'</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    gUIContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Open BindSheet'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> uniqueId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>            <span class="hljs-keyword">let</span> targetId = frameNode?.<span class="hljs-title function_">getFirstChild</span>()?.<span class="hljs-title function_">getUniqueId</span>();</li><li>            uiContext.<span class="hljs-title function_">openBindSheet</span>(contentNode, {</li><li>              <span class="hljs-attr">height</span>: <span class="hljs-title class_">SheetSize</span>.<span class="hljs-property">MEDIUM</span>,</li><li>              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>              <span class="hljs-attr">title</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"Title"</span>, <span class="hljs-attr">subtitle</span>: <span class="hljs-string">"subtitle"</span> }</li><li>            }, targetId)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openBindSheet success'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'openBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3294px;">     <h2 id="closebindsheet12" device-type="phone,2in1,tablet,wearable,tv">closeBindSheet<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closebindsheet12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeBindSheet&lt;T extends Object&gt;(bindSheetContent: ComponentContent&lt;T&gt;): Promise&lt;void&gt;</p>     <p>关闭bindSheetContent对应的半模态页面，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用此接口关闭半模态页面时，不会触发shouldDismiss回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">bindSheetContent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent&lt;T&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">半模态页面中显示的组件内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-bindsheet">半模态错误码</a>错误码。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2.Incorrect parameters types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120001</td>         <td class="cellrowborder" width="50%">The bindSheetContent is incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">120003</td>         <td class="cellrowborder" width="50%">The bindSheetContent cannot be found.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ArkUI"</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">contentNode</span>: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Params</span>&gt;;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">gUIContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Update BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">updateBindSheet</span>(contentNode, {</li><li>          <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>,</li><li>        }, <span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'updateBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'updateBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>
</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close BindSheet'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        gUIContext.<span class="hljs-title function_">closeBindSheet</span>(contentNode)</li><li>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'closeBindSheet success'</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'closeBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>      })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">UIContextBindSheet</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'BindSheet'</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    gUIContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    contentNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Open BindSheet'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> uniqueId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uniqueId);</li><li>            <span class="hljs-keyword">let</span> targetId = frameNode?.<span class="hljs-title function_">getFirstChild</span>()?.<span class="hljs-title function_">getUniqueId</span>();</li><li>            uiContext.<span class="hljs-title function_">openBindSheet</span>(contentNode, {</li><li>              <span class="hljs-attr">height</span>: <span class="hljs-title class_">SheetSize</span>.<span class="hljs-property">MEDIUM</span>,</li><li>              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>              <span class="hljs-attr">title</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"Title"</span>, <span class="hljs-attr">subtitle</span>: <span class="hljs-string">"subtitle"</span> }</li><li>            }, targetId)</li><li>              .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'openBindSheet success'</span>);</li><li>              })</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'openBindSheet error: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' '</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 994px;">     <h2 id="isfollowingsystemfontscale13" device-type="phone,2in1,tablet,wearable,tv">isFollowingSystemFontScale<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isfollowingsystemfontscale13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isFollowingSystemFontScale(): boolean</p>     <p>获取当前UI上下文是否跟随系统字体倍率。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>当前UI上下文是否跟随系统字体倍率。</p>          <p>true表示UI上下文跟随系统倍率，false表示UI上下文不跟随系统倍率。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#configuration标签" target="_blank">configuration标签</a>，配置fontSizeScale的值为“followSystem”。</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'isFollowingSystemFontScale'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'isFollowingSystemFontScale'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">isFollowingSystemFontScale</span>());</li><li>      });</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 946px;">     <h2 id="getmaxfontscale13" device-type="phone,2in1,tablet,wearable,tv">getMaxFontScale<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxfontscale13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMaxFontScale(): number</p>     <p>获取当前UI上下文最大字体倍率。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前UI上下文最大字体倍率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#configuration标签" target="_blank">configuration标签</a>，配置fontSizeMaxScale的值为“1.75”。</p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getMaxFontScale'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getMaxFontScale'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getMaxFontScale</span>().<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));</li><li>      });</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3866px;">     <h2 id="bindtabstoscrollable13" device-type="phone,2in1,tablet,wearable,tv">bindTabsToScrollable<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindtabstoscrollable13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindTabsToScrollable(tabsController: TabsController, scroller: Scroller): void</p>     <p>绑定Tabs组件和可滚动容器组件（支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>），当滑动可滚动容器组件时，会触发所有与其绑定的Tabs组件的TabBar的显示和隐藏动效，上滑隐藏，下滑显示。一个TabsController可与多个Scroller绑定，一个Scroller也可与多个TabsController绑定。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当多个可滚动容器组件绑定了同一个Tabs组件时，只要滑动任意一个可滚动容器组件，就会触发TabBar的显示或隐藏。且当任意一个可滚动容器组件滑动到底部时，会立即触发TabBar的显示动效。因此不建议同时触发多个可滚动容器组件的滑动。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tabsController</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscontroller">TabsController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Tabs组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">scroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TabsExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">parentTabsController</span>: <span class="hljs-title class_">TabsController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TabsController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">childTabsController</span>: <span class="hljs-title class_">TabsController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TabsController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listScroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">parentScroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">childScroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(i.<span class="hljs-title function_">toString</span>());</li><li>    }</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    context.<span class="hljs-title function_">bindTabsToScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">parentTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>);</li><li>    context.<span class="hljs-title function_">bindTabsToScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">childTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>);</li><li>    context.<span class="hljs-title function_">bindTabsToNestedScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">parentTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentScroller</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">childScroller</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    context.<span class="hljs-title function_">unbindTabsFromScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">parentTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>);</li><li>    context.<span class="hljs-title function_">unbindTabsFromScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">childTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>);</li><li>    context.<span class="hljs-title function_">unbindTabsFromNestedScrollable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">parentTabsController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentScroller</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">childScroller</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentTabsController</span> }) {</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">childTabsController</span> }) {</li><li>          <span class="hljs-title class_">TabContent</span>() {</li><li>            <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">scroller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span> }) {</li><li>              <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>                <span class="hljs-title class_">ListItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(item)</li><li>                    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                    .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>                    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>                }</li><li>              }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>            }</li><li>            .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">contentStartOffset</span>(<span class="hljs-number">56</span>)</li><li>            .<span class="hljs-title function_">contentEndOffset</span>(<span class="hljs-number">52</span>)</li><li>          }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'顶部页签'</span>))</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">barOverlap</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 使TabBar叠加在TabContent上，当TabBar向上或向下隐藏后，原位置处不为空白</span></li><li>        .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 对超出Tabs组件范围的子组件进行裁剪，防止TabBar向上或向下隐藏后误触TabBar</span></li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">BottomTabBarStyle</span>.<span class="hljs-title function_">of</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), <span class="hljs-string">'scroller联动多个TabsController'</span>))</li><li>
</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">parentScroller</span>) {</li><li>            <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">scroller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">childScroller</span> }) {</li><li>              <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>                <span class="hljs-title class_">ListItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(item)</li><li>                    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                    .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>                    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>                }</li><li>              }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>            }</li><li>            .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">contentEndOffset</span>(<span class="hljs-number">52</span>)</li><li>            .<span class="hljs-title function_">nestedScroll</span>({ <span class="hljs-attr">scrollForward</span>: <span class="hljs-title class_">NestedScrollMode</span>.<span class="hljs-property">SELF_FIRST</span>, <span class="hljs-attr">scrollBackward</span>: <span class="hljs-title class_">NestedScrollMode</span>.<span class="hljs-property">SELF_FIRST</span> })</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>        .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>)</li><li>        .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">BottomTabBarStyle</span>.<span class="hljs-title function_">of</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), <span class="hljs-string">'嵌套的scroller联动TabsController'</span>))</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">barOverlap</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 使TabBar叠加在TabContent上，当TabBar向上或向下隐藏后，原位置处不为空白</span></li><li>    .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 对超出Tabs组件范围的子组件进行裁剪，防止TabBar向上或向下隐藏后误触TabBar</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="816" originwidth="401" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115854.27457357522832455172550662352140:50001231000000:2800:2FFE44CC41E16528672E352D526FDE41427CE554AACD4E4D059206D050474EF2.gif" width="401" height="816"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 618px;">     <h2 id="unbindtabsfromscrollable13" device-type="phone,2in1,tablet,wearable,tv">unbindTabsFromScrollable<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unbindtabsfromscrollable13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unbindTabsFromScrollable(tabsController: TabsController, scroller: Scroller): void</p>     <p>解除Tabs组件和可滚动容器组件的绑定。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tabsController</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscontroller">TabsController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Tabs组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">scroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#bindtabstoscrollable13">bindTabsToScrollable</a>接口示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 783px;">     <h2 id="bindtabstonestedscrollable13" device-type="phone,2in1,tablet,wearable,tv">bindTabsToNestedScrollable<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindtabstonestedscrollable13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindTabsToNestedScrollable(tabsController: TabsController, parentScroller: Scroller, childScroller: Scroller): void</p>     <p>绑定Tabs组件和嵌套的可滚动容器组件（支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>），当滑动父组件或子组件时，会触发所有与其绑定的Tabs组件的TabBar的显示和隐藏动效，上滑隐藏，下滑显示。一个TabsController可与多个嵌套的Scroller绑定，嵌套的Scroller也可与多个TabsController绑定。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tabsController</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscontroller">TabsController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Tabs组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">parentScroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">childScroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。其对应组件为parentScroller对应组件的子组件，且组件间存在嵌套滚动关系。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#bindtabstoscrollable13">bindTabsToScrollable</a>接口示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 735px;">     <h2 id="unbindtabsfromnestedscrollable13" device-type="phone,2in1,tablet,wearable,tv">unbindTabsFromNestedScrollable<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unbindtabsfromnestedscrollable13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unbindTabsFromNestedScrollable(tabsController: TabsController, parentScroller: Scroller, childScroller: Scroller): void</p>     <p>解除Tabs组件和嵌套的可滚动容器组件的绑定。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tabsController</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscontroller">TabsController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Tabs组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">parentScroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">childScroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可滚动容器组件的控制器。其对应组件为parentScroller对应组件的子组件，且组件间存在嵌套滚动关系。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#bindtabstoscrollable13">bindTabsToScrollable</a>接口示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="enableswipeback18" device-type="wearable">enableSwipeBack<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enableswipeback18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Wearable</span></div><p>enableSwipeBack(enabled: Optional&lt;boolean&gt;): void</p>     <p>设置是否支持应用内横向滑动返回上一级。</p>     <p><strong>元服务API:</strong> 从API version 18 开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Circle</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">Optional&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否支持应用内横向滑动返回，默认值为true。</p>          <p>当值为true时，支持应用内横向滑动返回。</p>          <p>当值为false时，不支持应用内横向滑动返回。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title class_">Entry</span></li><li>@<span class="hljs-title class_">Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  @<span class="hljs-title class_">State</span> <span class="hljs-attr">isEnable</span>: boolean = <span class="hljs-literal">true</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">`enable swipe back: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.isEnable}</span>`</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">enableSwipeBack</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span>);</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 593px;">     <h2 id="gettextmenucontroller16" device-type="phone,2in1,tablet,wearable,tv">getTextMenuController<sup>16+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettextmenucontroller16" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTextMenuController(): TextMenuController</p>     <p>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-textmenucontroller">TextMenuController</a>对象，可通过该对象控制文本选择菜单。</p>     <p><strong>元服务API:</strong> 从API version 16 开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-textmenucontroller">TextMenuController</a></td>         <td class="cellrowborder" width="50%">获取TextMenuController对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-textmenucontroller">TextMenuController</a>接口示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1559px;">     <h2 id="createuicontextwithoutwindow17" device-type="phone,2in1,tablet,wearable,tv">createUIContextWithoutWindow<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createuicontextwithoutwindow17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static createUIContextWithoutWindow(context: common.UIAbilityContext | common.ExtensionContext) : UIContext | undefined</p>     <p>创建一个不依赖窗口的UI实例，并返回其UI上下文。该接口所创建的UI实例是单例。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>返回的UI上下文只可用于创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-node" target="_blank">自定义节点</a>，不能执行其他UI操作。</p>      </div></div></div>     <p><strong>元服务API:</strong> 从API version 17 开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext">UIAbilityContext</a> | common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-extensioncontext">ExtensionContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability">UIAbility</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-extensionability">ExtensionAbility</a>所对应的上下文环境。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">UIContext | undefined</td>         <td class="cellrowborder" width="50%">创建的UI实例的上下文，创建失败时返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-internal">接口调用异常错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">          <p>Parameter error. Possible causes:</p>          <p>1. The number of parameters is incorrect.</p>          <p>2. Invalid parameter type of context.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100001</td>         <td class="cellrowborder" width="50%">Internal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> uiContext : <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-title class_">UIContext</span>.<span class="hljs-title function_">createUIContextWithoutWindow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// ......</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 799px;">     <h2 id="destroyuicontextwithoutwindow17" device-type="phone,2in1,tablet,wearable,tv">destroyUIContextWithoutWindow<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroyuicontextwithoutwindow17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static destroyUIContextWithoutWindow(): void</p>     <p>销毁<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#createuicontextwithoutwindow17">createUIContextWithoutWindow</a>创建的UI实例。</p>     <p><strong>元服务API:</strong> 从API version 17 开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> uiContext : <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-title class_">UIContext</span>.<span class="hljs-title function_">createUIContextWithoutWindow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);</li><li>    <span class="hljs-title class_">UIContext</span>.<span class="hljs-title function_">destroyUIContextWithoutWindow</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// ......</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1766px;">     <h2 id="dispatchkeyevent15" device-type="phone,2in1,tablet,wearable,tv">dispatchKeyEvent<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispatchkeyevent15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispatchKeyEvent(node: number | string, event: KeyEvent): boolean</p>     <p>按键事件应分发给指定的组件。为了确保行为的可预测性，目标组件必须位于分发组件的子树中。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%">number | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件的id或者节点UniqueID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-key#keyevent对象说明">KeyEvent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">KeyEvent对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>按键事件是否成功分发给指定的组件。</p>          <p>true表示分发成功，false表示分发失败。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button1'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'Button1'</span>).<span class="hljs-title function_">onKeyEvent</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Button1"</span>);</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button2'</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">'Button2'</span>).<span class="hljs-title function_">onKeyEvent</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Button2"</span>);</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">'Row1'</span>)</li><li>      .<span class="hljs-title function_">onKeyEventDispatch</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        context.<span class="hljs-title function_">getFocusController</span>().<span class="hljs-title function_">requestFocus</span>(<span class="hljs-string">'Button1'</span>);</li><li>        <span class="hljs-keyword">return</span> context.<span class="hljs-title function_">dispatchKeyEvent</span>(<span class="hljs-string">'Button1'</span>, event);</li><li>      })</li><li>
</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">onKeyEventDispatch</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> == <span class="hljs-title class_">KeyType</span>.<span class="hljs-property">Down</span>) {</li><li>        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>        context.<span class="hljs-title function_">getFocusController</span>().<span class="hljs-title function_">requestFocus</span>(<span class="hljs-string">'Row1'</span>);</li><li>        <span class="hljs-keyword">return</span> context.<span class="hljs-title function_">dispatchKeyEvent</span>(<span class="hljs-string">'Row1'</span>, event);</li><li>      }</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 974px;">     <h2 id="setpixelroundmode18" device-type="phone,2in1,tablet,wearable,tv">setPixelRoundMode<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpixelroundmode18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPixelRoundMode(mode: PixelRoundMode): void</p>     <p>配置当前页面的像素取整模式。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#pixelroundmode18">PixelRoundMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>像素取整模式。</p>          <p>默认值：PixelRoundMode.PIXEL_ROUND_ON_LAYOUT_FINISH</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>
</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> uiContext :<span class="hljs-title class_">UIContext</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>        uiContext.<span class="hljs-title function_">setPixelRoundMode</span>(<span class="hljs-title class_">PixelRoundMode</span>.<span class="hljs-property">PIXEL_ROUND_ON_LAYOUT_FINISH</span>);</li><li>      });</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 922px;">     <h2 id="getpixelroundmode18" device-type="phone,2in1,tablet,wearable,tv">getPixelRoundMode<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpixelroundmode18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPixelRoundMode(): PixelRoundMode</p>     <p>获取当前页面的像素取整模式。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#pixelroundmode18">PixelRoundMode</a></td>         <td class="cellrowborder" width="50%">当前页面的像素取整模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>
</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"pixelRoundMode : "</span> + uiContext.<span class="hljs-title function_">getPixelRoundMode</span>().<span class="hljs-title function_">valueOf</span>());</li><li>      });</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1539px;">     <h2 id="setresourcemanagercachemaxcountforhsp21" device-type="phone,2in1,tablet,wearable,tv">setResourceManagerCacheMaxCountForHSP<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setresourcemanagercachemaxcountforhsp21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static setResourceManagerCacheMaxCountForHSP(count: number): void</p>     <p>设置HSP资源管理对象缓存个数上限。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>如果缓存上限设置的太大，有内存开销过大的风险，建议合理配置。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置的资源缓存数量，取值范围为非负整数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-uicontext">UI上下文错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100101</td>         <td class="cellrowborder" width="50%">The parameter value cannot be less than 0.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100102</td>         <td class="cellrowborder" width="50%">The parameter value cannot be a floating-point number.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100103</td>         <td class="cellrowborder" width="50%">The function cannot be called from a non-main thread.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-aci-c106="" class="highlight-div"><div _ngcontent-aci-c106="" class="highlight-div-header"><div _ngcontent-aci-c106="" class="highlight-div-header-left"><div _ngcontent-aci-c106="" class="handle-button expand-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aci-c106="" class="highlight-div-header-right"><div _ngcontent-aci-c106="" class="handle-button ai-button"></div><div _ngcontent-aci-c106="" class="handle-button line-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aci-c106="" class="handle-button theme-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aci-c106="" class="handle-button copy-button"><div _ngcontent-aci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>
</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-title class_">UIContext</span>.<span class="hljs-title function_">setResourceManagerCacheMaxCountForHSP</span>(<span class="hljs-number">5</span>);</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>