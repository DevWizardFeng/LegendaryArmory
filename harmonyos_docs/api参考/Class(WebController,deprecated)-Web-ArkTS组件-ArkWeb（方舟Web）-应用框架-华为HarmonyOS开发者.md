<h1 _ngcontent-fkw-c119="" class="doc-title ng-star-inserted" title="Class (WebController, deprecated)"> Class (WebController, deprecated) </h1>

<div _ngcontent-fkw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>通过WebController可以控制Web组件各种行为。一个WebController对象只能控制一个Web组件，且必须在Web组件和WebController绑定后，才能调用WebController上的方法。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller">WebviewController<sup>9+</sup></a>代替。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>该组件首批接口从API version 8开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </li><li><p>本Class首批接口从API version 8开始支持。</p>  </li><li><p>示例效果请以真机运行为准，当前DevEco Studio预览器不支持。</p>  </li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="创建对象" device-type="phone,2in1,tablet,wearable,tv">创建对象<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="创建对象" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">webController</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="constructordeprecated" device-type="phone,2in1,tablet,wearable,tv">constructor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructordeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor()</p> <p>WebController的构造函数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 8开始支持，从API version 9开始废弃。并且不再提供新的接口作为替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> </div>  <div class="tiledSection"><h2 id="getcookiemanagerdeprecated" device-type="phone,2in1,tablet,wearable,tv">getCookieManager<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcookiemanagerdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCookieManager(): WebCookie</p> <p>获取Web组件cookie管理对象。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webcookiemanager#getcookiedeprecated">getCookie</a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">WebCookie</td> <td class="cellrowborder" width="50%">Web组件cookie管理对象，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-webcookie">WebCookie</a>定义。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getCookieManager'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> cookieManager = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCookieManager</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="requestfocusdeprecated" device-type="phone,2in1,tablet,wearable,tv">requestFocus<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="requestfocusdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>requestFocus()</p> <p>使当前web页面获取焦点。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#requestfocus">requestFocus<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'requestFocus'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">requestFocus</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="accessbackwarddeprecated" device-type="phone,2in1,tablet,wearable,tv">accessBackward<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accessbackwarddeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>accessBackward(): boolean</p> <p>当前页面是否可后退，即当前页面是否有返回历史记录。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#accessbackward">accessBackward<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">可以后退返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'accessBackward'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">accessBackward</span>()</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'result:'</span> + result)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="accessforwarddeprecated" device-type="phone,2in1,tablet,wearable,tv">accessForward<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accessforwarddeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>accessForward(): boolean</p> <p>当前页面是否可前进，即当前页面是否有前进历史记录。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#accessforward">accessForward<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">返回true表示当前页面可以前进，返回false表示当前页面不可以前进。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'accessForward'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">accessForward</span>()</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'result:'</span> + result)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="accessstepdeprecated" device-type="phone,2in1,tablet,wearable,tv">accessStep<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="accessstepdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>accessStep(step: number): boolean</p> <p>当前页面是否可前进或者后退给定的step步。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#accessstep">accessStep<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">step</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要跳转的步数，正数代表前进，负数代表后退。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">页面是否前进或后退</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">steps</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'accessStep'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">accessStep</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">steps</span>)</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'result:'</span> + result)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="backwarddeprecated" device-type="phone,2in1,tablet,wearable,tv">backward<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="backwarddeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>backward()</p> <p>按照历史栈，后退一个页面。一般结合accessBackward一起使用。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#backward">backward<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'backward'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">backward</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="forwarddeprecated" device-type="phone,2in1,tablet,wearable,tv">forward<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="forwarddeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>forward()</p> <p>按照历史栈，前进一个页面。一般结合accessForward一起使用。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#forward">forward<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'forward'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">forward</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="deletejavascriptregisterdeprecated" device-type="phone,2in1,tablet,wearable,tv">deleteJavaScriptRegister<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deletejavascriptregisterdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteJavaScriptRegister(name: string)</p> <p>删除通过registerJavaScriptProxy注册到window上的指定name的应用侧JavaScript对象。删除后立即生效，无须调用<a href="/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-webcontroller#refreshdeprecated">refresh</a>接口。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#deletejavascriptregister">deleteJavaScriptRegister<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">注册对象的名称，可在网页侧JavaScript中通过此名称调用应用侧JavaScript对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Object'</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'deleteJavaScriptRegister'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteJavaScriptRegister</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="gethittestdeprecated" device-type="phone,2in1,tablet,wearable,tv">getHitTest<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gethittestdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getHitTest(): HitTestType</p> <p>获取当前被点击区域的元素类型。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#gethittestdeprecated">getHitTest<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-e#hittesttypedeprecated">HitTestType</a></td> <td class="cellrowborder" width="50%">被点击区域的元素类型。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getHitTest'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> hitType = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getHitTest</span>()</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"hitType: "</span> + hitType)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="loaddatadeprecated" device-type="phone,2in1,tablet,wearable,tv">loadData<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loaddatadeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadData(options: { data: string, mimeType: string, encoding: string, baseUrl?: string, historyUrl?: string })</p> <p>baseUrl为空时，通过”data“协议加载指定的一段字符串。</p> <p>当baseUrl为”data“协议时，编码后的data字符串将被Web组件作为”data"协议加载。</p> <p>当baseUrl为“http/https"协议时，编码后的data字符串将被Web组件以类似loadUrl的方式以非编码字符串处理。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#loaddata">loadData<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">data</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">按照”Base64“或者”URL"编码后的一段字符串。</td> </tr> <tr><td class="cellrowborder" width="25%">mimeType</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">媒体类型（MIME）。</td> </tr> <tr><td class="cellrowborder" width="25%">encoding</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">编码类型，具体为“Base64"或者”URL编码。</td> </tr> <tr><td class="cellrowborder" width="25%">baseUrl</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">指定的一个URL路径（“http”/“https”/"data"协议），并由Web组件赋值给window.origin。</td> </tr> <tr><td class="cellrowborder" width="25%">historyUrl</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">历史记录URL。非空时，可被历史记录管理，实现前后后退功能。当baseUrl为空时，此属性无效。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'loadData'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">loadData</span>({</li><li>            <span class="hljs-attr">data</span>: <span class="hljs-string">"&lt;html&gt;&lt;body bgcolor=\"white\"&gt;Source:&lt;pre&gt;source&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;"</span>,</li><li>            <span class="hljs-attr">mimeType</span>: <span class="hljs-string">"text/html"</span>,</li><li>            <span class="hljs-attr">encoding</span>: <span class="hljs-string">"UTF-8"</span></li><li>          })</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="loadurldeprecated" device-type="phone,2in1,tablet,wearable,tv">loadUrl<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadurldeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadUrl(options: { url: string | Resource, headers?: Array&lt;Header&gt; })</p> <p>使用指定的http头加载指定的URL。</p> <p>通过loadUrl注入的对象只在当前document有效，即通过loadUrl导航到新的页面会无效。</p> <p>而通过registerJavaScriptProxy注入的对象，在loadUrl导航到新的页面也会有效。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#loadurl">loadUrl<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">url</td> <td class="cellrowborder" width="25%">string | Resource</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要加载的 URL。</td> </tr> <tr><td class="cellrowborder" width="25%">headers</td> <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-i#header">Header</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>URL的附加HTTP请求头。</p> <p>默认值：[]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'loadUrl'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">loadUrl</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'www.example.com'</span> })</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="onactivedeprecated" device-type="phone,2in1,tablet,wearable,tv">onActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onactivedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onActive(): void</p> <p>调用此接口通知Web组件进入前台激活状态。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#onactive">onActive<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'onActive'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">onActive</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="oninactivedeprecated" device-type="phone,2in1,tablet,wearable,tv">onInactive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oninactivedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onInactive(): void</p> <p>调用此接口通知Web组件进入未激活状态。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#oninactive">onInactive<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'onInactive'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">onInactive</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="zoomdeprecated" device-type="phone,2in1,tablet,wearable,tv">zoom<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zoomdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>zoom(factor: number): void</p> <p>调整当前网页的缩放比例。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#zoom">zoom<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">factor</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">基于当前网页所需调整的相对缩放比例，正值为放大，负值为缩小。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">factor</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'zoom'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">zoom</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">factor</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="refreshdeprecated" device-type="phone,2in1,tablet,wearable,tv">refresh<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="refreshdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>refresh()</p> <p>调用此接口通知Web组件刷新网页。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#refresh">refresh<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'refresh'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">refresh</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="registerjavascriptproxydeprecated" device-type="phone,2in1,tablet,wearable,tv">registerJavaScriptProxy<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="registerjavascriptproxydeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>registerJavaScriptProxy(options: { object: object, name: string, methodList: Array&lt;string&gt; })</p> <p>注入JavaScript对象到window对象中，并在window对象中调用该对象的方法。注册后，须调用<a href="/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-webcontroller#refreshdeprecated">refresh</a>接口生效。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#registerjavascriptproxy">registerJavaScriptProxy<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">object</td> <td class="cellrowborder" width="25%">object</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">参与注册的应用侧JavaScript对象。可以声明方法，也可以声明属性，但是不支持h5直接调用。其中方法的参数和返回类型只能为string，number，boolean</td> </tr> <tr><td class="cellrowborder" width="25%">name</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">注册对象的名称，与window中调用的对象名一致。注册后window对象可以通过此名字访问应用侧JavaScript对象。</td> </tr> <tr><td class="cellrowborder" width="25%">methodList</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">参与注册的应用侧JavaScript对象的方法。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestObj</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">test</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">"ArkUI Web Component"</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">toString</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Web Component toString'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>  testObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestObj</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Register JavaScript To Window'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">registerJavaScriptProxy</span>({</li><li>            <span class="hljs-attr">object</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">testObj</span>,</li><li>            <span class="hljs-attr">name</span>: <span class="hljs-string">"objName"</span>,</li><li>            <span class="hljs-attr">methodList</span>: [<span class="hljs-string">"test"</span>, <span class="hljs-string">"toString"</span>],</li><li>          })</li><li>        })</li><li>      }</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'index.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">javaScriptAccess</span>(<span class="hljs-literal">true</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p> 加载的html文件。</p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- index.html --&gt;</span></li><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>        Hello world!</li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></li><li><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">htmlTest</span>(<span class="hljs-params"></span>) {</span></li><li><span class="language-javascript">                str = objName.<span class="hljs-title function_">test</span>(<span class="hljs-string">"test function"</span>)</span></li><li><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'objName.test result:'</span>+ str)</span></li><li><span class="language-javascript">            }</span></li><li><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="runjavascriptdeprecated" device-type="phone,2in1,tablet,wearable,tv">runJavaScript<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="runjavascriptdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>runJavaScript(options: { script: string, callback?: (result: string) =&gt; void })</p> <p>异步执行JavaScript脚本，并通过回调方式返回脚本执行的结果。runJavaScript需要在loadUrl完成后，比如onPageEnd中调用。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#runjavascript">runJavaScript<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">script</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">JavaScript脚本。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">(result: string) =&gt; void</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调执行JavaScript脚本结果。JavaScript脚本若执行失败或无返回值时，返回null。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">webResult</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webResult</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'index.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>      .<span class="hljs-title function_">javaScriptAccess</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">onPageEnd</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">runJavaScript</span>({</li><li>          <span class="hljs-attr">script</span>: <span class="hljs-string">'test()'</span>,</li><li>          <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">string</span></span>)=&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">webResult</span> = result</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The test() return value is: <span class="hljs-subst">${result}</span>`</span>)</li><li>          }})</li><li>        <span class="hljs-keyword">if</span> (event) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'url: '</span>, event.<span class="hljs-property">url</span>)</li><li>        }</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p> 加载的html文件。</p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- index.html --&gt;</span></li><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>      Hello world!</li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></li><li><span class="language-javascript">          <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) {</span></li><li><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Ark WebComponent'</span>)</span></li><li><span class="language-javascript">              <span class="hljs-keyword">return</span> <span class="hljs-string">"This value is from index.html"</span></span></li><li><span class="language-javascript">          }</span></li><li><span class="language-javascript">      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="stopdeprecated" device-type="phone,2in1,tablet,wearable,tv">stop<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stop()</p> <p>停止页面加载。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#stop">stop<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'stop'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">stop</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="clearhistorydeprecated" device-type="phone,2in1,tablet,wearable,tv">clearHistory<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearhistorydeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearHistory(): void</p> <p>删除所有前进后退记录。</p> <p>从API version 9开始不再维护，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#clearhistory">clearHistory<sup>9+</sup></a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>示例：</strong></p> <div _ngcontent-fkw-c106="" class="highlight-div"><div _ngcontent-fkw-c106="" class="highlight-div-header"><div _ngcontent-fkw-c106="" class="highlight-div-header-left"><div _ngcontent-fkw-c106="" class="handle-button expand-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fkw-c106="" class="highlight-div-header-right"><div _ngcontent-fkw-c106="" class="handle-button ai-button"></div><div _ngcontent-fkw-c106="" class="handle-button line-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fkw-c106="" class="handle-button theme-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fkw-c106="" class="handle-button copy-button"><div _ngcontent-fkw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fkw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">WebController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'clearHistory'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">clearHistory</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>