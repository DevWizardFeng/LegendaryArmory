<h1 _ngcontent-lkh-c119="" class="doc-title ng-star-inserted" title="Component3D"> Component3D </h1>

<div _ngcontent-lkh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>3D渲染组件，可以加载3D模型资源并做自定义渲染，通常用于3D动效场景。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API Version 12开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>无</p>    </div>    <div class="tiledSection">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Component3D(sceneOptions?: SceneOptions)</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sceneOptions</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-component3d#sceneoptions对象说明">SceneOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>3D场景配置选项。</p>          <p><strong>说明：</strong></p>          <p>3D场景配置选项在控件创建后不支持动态修改。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="sceneoptions对象说明" device-type="phone,2in1,tablet,wearable,tv">SceneOptions对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sceneoptions对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Component3D组件配置选项。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scene</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-component3d#scene12">Scene</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>3D模型资源文件或场景对象，默认值为undefined。</p>          <p><strong>说明：</strong></p>          <p>目前仅支持GLTF格式资源。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">modelType</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-component3d#modeltype枚举说明">ModelType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>3D场景显示合成方式。</p>          <p>默认值：ModelType.SURFACE</p>          <p><strong>说明：</strong></p>          <p>设置为ModelType.TEXTURE时通过GPU合成显示。</p>          <p>设置为ModelType.SURFACE时通过专有硬件合成显示。</p>          <p>一般开发者可以使用默认值而无需关心此项设置。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="modeltype枚举说明" device-type="phone,2in1,tablet,wearable,tv">ModelType枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="modeltype枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>渲染合成模式类型枚举，用于指定3D场景的渲染输出方式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TEXTURE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">使用GPU合成显示3D场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SURFACE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">使用专有硬件显示3D场景。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="scene12" device-type="phone,2in1,tablet,wearable,tv">Scene<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scene12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Scene = Scene</p>     <p>设置3D场景。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1">Scene</a></td>         <td class="cellrowborder" width="50%">用于设置场景。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>外，还支持以下属性：</p>    </div>    <div class="tiledSection">     <h3 id="environment" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">environment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="environment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>environment(uri: ResourceStr)</p>     <p>设置3D环境资源。目前仅支持GLTF格式资源，模型资源在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">3D环境资源。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="customrender" device-type="phone,2in1,tablet,wearable,tv">customRender<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="customrender" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>customRender(uri: ResourceStr, selfRenderUpdate: boolean)</p>     <p>设置三维场景渲染的渲染管道。管线配置及自渲染属性在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义渲染管线的配置文件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">selfRenderUpdate</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>当设置为true时外部UI没有更新时也能触发动效渲染。</p>          <p>当设置为false时只有外部UI更新才能触发渲染。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="shader" device-type="phone,2in1,tablet,wearable,tv">shader<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shader" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>shader(uri: ResourceStr)</p>     <p>设置自定义渲染的shader文件资源。自定义渲染的shader文件资源在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义渲染的shader文件资源。详细.shader文件格式请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkgraphics3d-shader-resource" target="_blank">.shader资源文件格式要求</a>。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="shaderimagetexture" device-type="phone,2in1,tablet,wearable,tv">shaderImageTexture<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shaderimagetexture" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>shaderImageTexture(uri: ResourceStr)</p>     <p>设置自定义渲染用到的纹理资源。若自定义渲染用到多个纹理资源则调用多次，绑定点与调用顺序一致，不支持纹理更换。纹理资源在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义渲染用到的纹理资源。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="shaderinputbuffer" device-type="phone,2in1,tablet,wearable,tv">shaderInputBuffer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shaderinputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>shaderInputBuffer(buffer: Array&lt;number&gt;)</p>     <p>设置自定义渲染用到的动效参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">buffer</td>         <td class="cellrowborder" width="25%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义渲染用到的动效参数，数组长度范围为[0, 1048576]。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="renderwidth" device-type="phone,2in1,tablet,wearable,tv">renderWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderwidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>renderWidth(value: Dimension)</p>     <p>设置3D渲染分辨率的宽度。渲染分辨率的长宽可以不同于控件的长宽，若渲染分辨率与控件分辨率长宽不一致时会上采样或下采样到控件长宽。</p>     <p>不调用此属性时默认渲染分辨率。</p>     <p>渲染分辨率在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">3D渲染分辨率的宽度，当前仅支持设置Dimension.Percentage，取值范围是[0, 100%]。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="renderheight" device-type="phone,2in1,tablet,wearable,tv">renderHeight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderheight" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>renderHeight(value: Dimension)</p>     <p>设置3D渲染分辨率的长度。渲染分辨率的长宽可以不同于控件的长宽，若渲染分辨率与控件分辨率长宽不一致时会上采样或下采样到控件长宽。</p>     <p>不调用此属性时默认渲染分辨率。</p>     <p>渲染分辨率在控件创建后不支持动态修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">3D渲染分辨率的长度，当前仅支持设置Dimension.Percentage，取值范围是[0, 100%]。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="事件" device-type="phone,2in1,tablet,wearable,tv">事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-events">通用事件</a>。</p>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>示例效果请以真机运行为准，当前DevEco Studio预览器不支持。</p>     <p>GLTF模型加载示例。</p>     <div _ngcontent-lkh-c106="" class="highlight-div"><div _ngcontent-lkh-c106="" class="highlight-div-header"><div _ngcontent-lkh-c106="" class="highlight-div-header-left"><div _ngcontent-lkh-c106="" class="handle-button expand-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lkh-c106="" class="highlight-div-header-right"><div _ngcontent-lkh-c106="" class="handle-button ai-button"></div><div _ngcontent-lkh-c106="" class="handle-button line-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lkh-c106="" class="handle-button theme-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lkh-c106="" class="handle-button copy-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lkh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-attr">scene</span>: <span class="hljs-title class_">SceneOptions</span> = { <span class="hljs-attr">scene</span>: $rawfile(<span class="hljs-string">'gltf/DamagedHelmet/glTF/DamagedHelmet.gltf'</span>), <span class="hljs-attr">modelType</span>: <span class="hljs-title class_">ModelType</span>.<span class="hljs-property">SURFACE</span>};</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GLTF Example'</span>)</li><li>        <span class="hljs-title class_">Component3D</span>( <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> )</li><li>        <span class="hljs-comment">// 绑定环境资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>          .<span class="hljs-title function_">environment</span>($rawfile(<span class="hljs-string">'gltf/Environment/glTF/Environment.gltf'</span>))</li><li>          .<span class="hljs-title function_">renderWidth</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">renderHeight</span>(<span class="hljs-string">'90%'</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>自定义渲染示例。</p>     <div _ngcontent-lkh-c106="" class="highlight-div"><div _ngcontent-lkh-c106="" class="highlight-div-header"><div _ngcontent-lkh-c106="" class="highlight-div-header-left"><div _ngcontent-lkh-c106="" class="handle-button expand-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lkh-c106="" class="highlight-div-header-right"><div _ngcontent-lkh-c106="" class="handle-button ai-button"></div><div _ngcontent-lkh-c106="" class="handle-button line-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lkh-c106="" class="handle-button theme-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lkh-c106="" class="handle-button copy-button"><div _ngcontent-lkh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lkh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AnimatorResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EngineTime</span> {</li><li>  totalTimeUs = <span class="hljs-number">0</span>;</li><li>  deltaTimeUs = <span class="hljs-number">0</span>;</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> engineTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EngineTime</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">frameCount</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">TickFrame</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">if</span> (frameCount == <span class="hljs-number">10</span>) {</li><li>    engineTime.<span class="hljs-property">totalTimeUs</span> += <span class="hljs-number">1.0</span>;</li><li>    engineTime.<span class="hljs-property">deltaTimeUs</span> += <span class="hljs-number">1.0</span>;</li><li>    frameCount = <span class="hljs-number">0</span>;</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    frameCount++;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-attr">scene</span>: <span class="hljs-title class_">SceneOptions</span> = { <span class="hljs-attr">scene</span>: $rawfile(<span class="hljs-string">'gltf/DamagedHelmet/glTF/DamagedHelmet.gltf'</span>), <span class="hljs-attr">modelType</span>: <span class="hljs-title class_">ModelType</span>.<span class="hljs-property">SURFACE</span>};</li><li>  <span class="hljs-attr">backAnimator</span>: <span class="hljs-title class_">AnimatorResult</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">createAnimator</span>({</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>,</li><li>    <span class="hljs-attr">easing</span>: <span class="hljs-string">"ease"</span>,</li><li>    <span class="hljs-attr">delay</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">fill</span>: <span class="hljs-string">"none"</span>,</li><li>    <span class="hljs-attr">direction</span>: <span class="hljs-string">"normal"</span>,</li><li>    <span class="hljs-attr">iterations</span>: -<span class="hljs-number">1</span>,</li><li>    <span class="hljs-attr">begin</span>: <span class="hljs-number">100</span>,</li><li>    <span class="hljs-attr">end</span>: <span class="hljs-number">200</span>,</li><li>  });</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">timeDelta</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>];</li><li>  <span class="hljs-title function_">create</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">backAnimator</span>.<span class="hljs-property">onFinish</span> = <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'backAnimator onfinish'</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">backAnimator</span>.<span class="hljs-property">onFrame</span> = <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-title class_">TickFrame</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timeDelta</span>[<span class="hljs-number">0</span>] = engineTime.<span class="hljs-property">deltaTimeUs</span>;</li><li>    }</li><li>
</li><li>  }</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'custom rendering'</span>)</li><li>        <span class="hljs-title class_">Component3D</span>()</li><li>          <span class="hljs-comment">// 绑定自定义shader脚本，路径和文件名可根据项目实际资源自定义</span></li><li>          .<span class="hljs-title function_">shader</span>($rawfile(<span class="hljs-string">'assets/app/shaders/shader/London.shader'</span>))</li><li>          <span class="hljs-comment">// 绑定贴图资源作为shader输入纹理，路径和文件名可根据项目实际资源自定义</span></li><li>          .<span class="hljs-title function_">shaderImageTexture</span>($rawfile(<span class="hljs-string">'assets/London.jpg'</span>))</li><li>          .<span class="hljs-title function_">shaderInputBuffer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timeDelta</span>)</li><li>          <span class="hljs-comment">// 绑定自定义渲染流程文件（如.rng），路径和文件名可根据项目实际资源自定义</span></li><li>          .<span class="hljs-title function_">customRender</span>($rawfile(<span class="hljs-string">'assets/app/rendernodegraphs/London.rng'</span>), <span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">renderWidth</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">renderHeight</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">create</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">backAnimator</span>.<span class="hljs-title function_">play</span>();</li><li>          }).<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>