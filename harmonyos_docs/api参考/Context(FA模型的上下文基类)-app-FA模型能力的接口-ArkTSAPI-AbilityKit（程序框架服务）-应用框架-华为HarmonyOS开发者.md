<h1 _ngcontent-vxn-c119="" class="doc-title ng-star-inserted" title="Context (FA模型的上下文基类)"> Context (FA模型的上下文基类) </h1>

<div _ngcontent-vxn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>Context模块提供了Ability或Application的上下文的基础能力，包括允许访问特定于应用程序的资源、请求和验证权限等。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  <p>本模块接口仅可在FA模型下使用。</p>  </div></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 439px;"><h2 id="使用说明" device-type="phone,2in1,tablet,wearable,tv">使用说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="使用说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Context对象是在featureAbility中创建实例，并通过featureAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-ability-featureability#featureabilitygetcontext">getContext</a>接口返回，因此在使用Context时，必须导入@ohos.ability.featureAbility库。示例如下：</p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getOrCreateLocalDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getOrCreateLocalDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 878px;"><h2 id="contextgetorcreatelocaldir7" device-type="phone,2in1,tablet,wearable,tv">Context.getOrCreateLocalDir<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetorcreatelocaldir7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrCreateLocalDir(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取应用程序的本地根目录。使用callback异步回调。</p> <p>如果是第一次调用，将创建目录。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回应用程序的本地根目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getOrCreateLocalDir</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>)=&gt;</span>{</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getOrCreateLocalDir fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getOrCreateLocalDir success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 778px;"><h2 id="contextgetorcreatelocaldir7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getOrCreateLocalDir<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetorcreatelocaldir7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrCreateLocalDir(): Promise&lt;string&gt;</p> <p>获取应用程序的本地根目录。使用Promise异步回调。</p> <p>如果是第一次调用，将创建目录。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回应用程序的本地根目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getOrCreateLocalDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getOrCreateLocalDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1059px;"><h2 id="contextverifypermission7" device-type="phone,2in1,tablet,wearable,tv">Context.verifyPermission<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextverifypermission7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verifyPermission(permission: string, options: PermissionOptions, callback: AsyncCallback&lt;number&gt;): void</p> <p>验证系统中运行的特定pid和uid是否允许指定的权限。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">permission</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定权限的名称。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionoptions7">PermissionOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">权限选项。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回权限验证结果，0有权限，-1无权限。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> bundle <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.bundle.bundleManager'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>bundle.<span class="hljs-title function_">getBundleInfo</span>(<span class="hljs-string">'com.context.test'</span>, <span class="hljs-number">1</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, datainfo: bundle.BundleInfo</span>) =&gt;</span>{</li><li>    context.<span class="hljs-title function_">verifyPermission</span>(<span class="hljs-string">'com.example.permission'</span>, {<span class="hljs-attr">uid</span>:datainfo.<span class="hljs-property">appInfo</span>.<span class="hljs-property">uid</span>}, <span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span>{</li><li>        <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`verifyPermission fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`verifyPermission success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>        }</li><li>    });</li><li>});</li></ol></pre></div></div> <p>示例代码中出现的getBundleInfo相关描述可参考对应<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager">文档</a>。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 875px;"><h2 id="contextverifypermission7-1" device-type="phone,2in1,tablet,wearable,tv">Context.verifyPermission<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextverifypermission7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verifyPermission(permission: string, callback: AsyncCallback&lt;number&gt;): void</p> <p>验证系统中运行的当前pid和uid是否具有指定的权限。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">permission</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定权限的名称。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回权限验证结果，0有权限，-1无权限。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">verifyPermission</span>(<span class="hljs-string">'com.example.permission'</span>, <span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span>{</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`verifyPermission fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`verifyPermission success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 950px;"><h2 id="contextverifypermission7-2" device-type="phone,2in1,tablet,wearable,tv">Context.verifyPermission<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextverifypermission7-2" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verifyPermission(permission: string, options?: PermissionOptions): Promise&lt;number&gt;</p> <p>验证系统中运行的特定pid和uid是否具有指定的权限。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">permission</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定权限的名称。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionoptions7">PermissionOptions</a></td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">权限选项。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，如果pid和uid具有权限，则使用0进行异步回调；否则使用-1回调。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">verifyPermission</span>(<span class="hljs-string">'com.context.permission'</span>, {<span class="hljs-attr">pid</span>:<span class="hljs-number">1</span>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`verifyPermission data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1208px;"><h2 id="contextrequestpermissionsfromuser7" device-type="phone,2in1,tablet,wearable,tv">Context.requestPermissionsFromUser<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextrequestpermissionsfromuser7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>requestPermissionsFromUser(permissions: Array&lt;string&gt;, requestCode: number, resultCallback: AsyncCallback&lt;PermissionRequestResult&gt;): void</p> <p>从系统请求某些权限。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">permissions</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指示要请求的权限列表。此参数不能为null。</td> </tr> <tr><td class="cellrowborder" width="25%">requestCode</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指示要传递给<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionrequestresult7">PermissionRequestResult</a>的请求代码。</td> </tr> <tr><td class="cellrowborder" width="25%">resultCallback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionrequestresult7">PermissionRequestResult</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回授权结果信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">requestPermissionsFromUser</span>(</li><li>    [<span class="hljs-string">'com.example.permission1'</span>,</li><li>     <span class="hljs-string">'com.example.permission2'</span>,</li><li>     <span class="hljs-string">'com.example.permission3'</span>,</li><li>     <span class="hljs-string">'com.example.permission4'</span>,</li><li>     <span class="hljs-string">'com.example.permission5'</span>],</li><li>    <span class="hljs-number">1</span>,</li><li>    <span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`requestPermissionsFromUser fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>        } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`requestPermissionsFromUser success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>        }</li><li>    }</li><li>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;"><h2 id="contextrequestpermissionsfromuser7-1" device-type="phone,2in1,tablet,wearable,tv">Context.requestPermissionsFromUser<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextrequestpermissionsfromuser7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>requestPermissionsFromUser(permissions: Array&lt;string&gt;, requestCode: number): Promise&lt;PermissionRequestResult&gt;</p> <p>从系统请求某些权限。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">permissions</td> <td class="cellrowborder" width="25%">Array&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指示要请求的权限列表。此参数不能为null。</td> </tr> <tr><td class="cellrowborder" width="25%">requestCode</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指示要传递给<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionrequestresult7">PermissionRequestResult</a>的请求代码。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context#permissionrequestresult7">PermissionRequestResult</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回授权结果信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">requestPermissionsFromUser</span>(</li><li>    [<span class="hljs-string">'com.example.permission1'</span>,</li><li>     <span class="hljs-string">'com.example.permission2'</span>,</li><li>     <span class="hljs-string">'com.example.permission3'</span>,</li><li>     <span class="hljs-string">'com.example.permission4'</span>,</li><li>     <span class="hljs-string">'com.example.permission5'</span>],</li><li>    <span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`requestPermissionsFromUser data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetapplicationinfo7" device-type="phone,2in1,tablet,wearable,tv">Context.getApplicationInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetapplicationinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getApplicationInfo(callback: AsyncCallback&lt;ApplicationInfo&gt;): void</p> <p>获取有关当前应用程序的信息。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-applicationinfo">ApplicationInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前应用程序的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getApplicationInfo</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getApplicationInfo fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getApplicationInfo success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetapplicationinfo7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getApplicationInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetapplicationinfo7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getApplicationInfo(): Promise&lt;ApplicationInfo&gt;</p> <p>获取有关当前应用程序的信息。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundle-applicationinfo">ApplicationInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前应用程序的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getApplicationInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getApplicationInfo data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetbundlename7" device-type="phone,2in1,tablet,wearable,tv">Context.getBundleName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetbundlename7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBundleName(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取当前ability的Bundle名称。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前ability的Bundle名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getBundleName</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getBundleName fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getBundleName success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetbundlename7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getBundleName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetbundlename7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBundleName(): Promise&lt;string&gt;</p> <p>获取当前ability的Bundle名称。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前ability的Bundle名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getBundleName</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getBundleName data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetdisplayorientation7" device-type="phone,2in1,tablet,wearable,tv">Context.getDisplayOrientation<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetdisplayorientation7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDisplayOrientation(callback: AsyncCallback&lt;bundle.DisplayOrientation&gt;): void</p> <p>获取当前ability的显示方向。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#displayorientation">bundle.DisplayOrientation</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回屏幕显示方向。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getDisplayOrientation</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getDisplayOrientation fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getDisplayOrientation success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetdisplayorientation7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getDisplayOrientation<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetdisplayorientation7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDisplayOrientation(): Promise&lt;bundle.DisplayOrientation&gt;</p> <p>获取此能力的当前显示方向。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#displayorientation">bundle.DisplayOrientation</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回屏幕显示方向。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getDisplayOrientation</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getDisplayOrientation data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 922px;"><h2 id="contextgetexternalcachedirdeprecated" device-type="phone,2in1,tablet,wearable,tv">Context.getExternalCacheDir<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetexternalcachedirdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getExternalCacheDir(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取应用程序的外部缓存目录。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始不再支持。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回应用程序的缓存目录的绝对路径。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getExternalCacheDir</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getExternalCacheDir fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getExternalCacheDir success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 822px;"><h2 id="contextgetexternalcachedirdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">Context.getExternalCacheDir<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetexternalcachedirdeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getExternalCacheDir(): Promise&lt;string&gt;</p> <p>获取应用程序的外部缓存目录。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始不再支持。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回应用程序的缓存目录的绝对路径。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getExternalCacheDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getExternalCacheDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 875px;"><h2 id="contextsetdisplayorientation7" device-type="phone,2in1,tablet,wearable,tv">Context.setDisplayOrientation<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetdisplayorientation7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDisplayOrientation(orientation: bundle.DisplayOrientation, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置当前Ability的显示方向。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">orientation</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#displayorientation">bundle.DisplayOrientation</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指示当前能力的新方向。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置当前Ability的显示方向成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> bundleManager <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.bundle'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> orientation = bundleManager.<span class="hljs-property">DisplayOrientation</span>.<span class="hljs-property">LANDSCAPE</span>;</li><li>context.<span class="hljs-title function_">setDisplayOrientation</span>(orientation, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setDisplayOrientation fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 929px;"><h2 id="contextsetdisplayorientation7-1" device-type="phone,2in1,tablet,wearable,tv">Context.setDisplayOrientation<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetdisplayorientation7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDisplayOrientation(orientation: bundle.DisplayOrientation): Promise&lt;void&gt;</p> <p>设置当前Ability的显示方向。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">orientation</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#displayorientation">bundle.DisplayOrientation</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">表示屏幕显示方向。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> bundleManager <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.bundle'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> orientation = bundleManager.<span class="hljs-property">DisplayOrientation</span>.<span class="hljs-property">UNSPECIFIED</span>;</li><li>context.<span class="hljs-title function_">setDisplayOrientation</span>(orientation).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setDisplayOrientation data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="contextsetshowonlockscreendeprecated" device-type="phone,2in1,tablet,wearable,tv">Context.setShowOnLockScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetshowonlockscreendeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setShowOnLockScreen(show: boolean, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置每当显示锁屏时是否在锁屏顶部显示此功能，使该功能保持激活状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用window.setShowOnLockScreen替代，新接口为系统接口。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">show</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定是否在锁屏顶部显示此功能。值true表示在锁屏上显示，值false表示不显示。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置每当显示锁屏时是否在锁屏顶部显示此功能并使该功能保持激活状态的操作成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> show = <span class="hljs-literal">true</span>;</li><li>context.<span class="hljs-title function_">setShowOnLockScreen</span>(show, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setShowOnLockScreen fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;"><h2 id="contextsetshowonlockscreendeprecated-1" device-type="phone,2in1,tablet,wearable,tv">Context.setShowOnLockScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetshowonlockscreendeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setShowOnLockScreen(show: boolean): Promise&lt;void&gt;</p> <p>设置每当显示锁屏时是否在锁屏顶部显示此功能，使该功能保持激活状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。建议使用window.setShowOnLockScreen替代，新接口为系统接口。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">show</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定是否在锁屏顶部显示此功能。值true表示在锁屏上显示，值false表示不显示。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> show = <span class="hljs-literal">true</span>;</li><li>context.<span class="hljs-title function_">setShowOnLockScreen</span>(show).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setShowOnLockScreen data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 991px;"><h2 id="contextsetwakeupscreendeprecated" device-type="phone,2in1,tablet,wearable,tv">Context.setWakeUpScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetwakeupscreendeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWakeUpScreen(wakeUp: boolean, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置恢复此功能时是否唤醒屏幕。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 12开始废弃，替代接口window.setWakeUpScreen仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">wakeUp</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定是否唤醒屏幕。值true表示唤醒它，值false表示不唤醒它。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置恢复此功能时是否唤醒屏幕成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> wakeUp = <span class="hljs-literal">true</span>;</li><li>context.<span class="hljs-title function_">setWakeUpScreen</span>(wakeUp, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setWakeUpScreen fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;"><h2 id="contextsetwakeupscreendeprecated-1" device-type="phone,2in1,tablet,wearable,tv">Context.setWakeUpScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextsetwakeupscreendeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWakeUpScreen(wakeUp: boolean): Promise&lt;void&gt;</p> <p>设置恢复此功能时是否唤醒屏幕。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 12开始废弃，替代接口window.setWakeUpScreen仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">wakeUp</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">指定是否唤醒屏幕。值true表示唤醒它，值false表示不唤醒它。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li><span class="hljs-keyword">let</span> wakeUp = <span class="hljs-literal">true</span>;</li><li>context.<span class="hljs-title function_">setWakeUpScreen</span>(wakeUp).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`setWakeUpScreen data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetprocessinfo7" device-type="phone,2in1,tablet,wearable,tv">Context.getProcessInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetprocessinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProcessInfo(callback: AsyncCallback&lt;ProcessInfo&gt;): void</p> <p>获取有关当前进程的信息，包括进程ID和名称。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-processinfo">ProcessInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前进程的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getProcessInfo</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getProcessInfo fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getProcessInfo success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetprocessinfo7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getProcessInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetprocessinfo7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProcessInfo(): Promise&lt;ProcessInfo&gt;</p> <p>获取有关当前进程的信息，包括进程id和名称。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-processinfo">ProcessInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前进程的信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getProcessInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getProcessInfo data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h2 id="contextgetelementname7" device-type="phone,2in1,tablet,wearable,tv">Context.getElementName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetelementname7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getElementName(callback: AsyncCallback&lt;ElementName&gt;): void</p> <p>获取当前ability的ohos.bundleManager.ElementName对象。使用callback异步回调。</p> <p>此方法仅适用于页面功能。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前ability的ohos.bundleManager.ElementName对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getElementName</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getElementName fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getElementName success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="contextgetelementname7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getElementName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetelementname7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getElementName(): Promise&lt;ElementName&gt;</p> <p>获取当前能力的ohos.bundleManager.ElementName对象。使用Promise异步回调。</p> <p>此方法仅适用于页面功能。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-elementname">ElementName</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前ability的ohos.bundleManager.ElementName对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getElementName</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getElementName data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetprocessname7" device-type="phone,2in1,tablet,wearable,tv">Context.getProcessName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetprocessname7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProcessName(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取当前进程的名称。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.30.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前进程的名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getProcessName</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getProcessName fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getProcessName success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetprocessname7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getProcessName<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetprocessname7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProcessName(): Promise&lt;string&gt;</p> <p>获取当前进程的名称。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前进程的名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getProcessName</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getProcessName data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetcallingbundle7" device-type="phone,2in1,tablet,wearable,tv">Context.getCallingBundle<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetcallingbundle7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCallingBundle(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取ability调用方的Bundle名称。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.32.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回ability调用方的Bundle名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getCallingBundle</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCallingBundle fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getCallingBundle success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetcallingbundle7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getCallingBundle<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetcallingbundle7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCallingBundle(): Promise&lt;string&gt;</p> <p>获取ability调用方的Bundle名称。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回ability调用方的Bundle名称。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getCallingBundle</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getCallingBundle data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetcachedir" device-type="phone,2in1,tablet,wearable,tv">Context.getCacheDir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetcachedir" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCacheDir(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取该应用程序的内部存储目录。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回该应用程序的内部存储目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getCacheDir</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCacheDir fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getCacheDir success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetcachedir-1" device-type="phone,2in1,tablet,wearable,tv">Context.getCacheDir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetcachedir-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCacheDir(): Promise&lt;string&gt;</p> <p>获取该应用程序的内部存储目录。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回该应用程序的内部存储目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getCacheDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getCacheDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetfilesdir" device-type="phone,2in1,tablet,wearable,tv">Context.getFilesDir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetfilesdir" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFilesDir(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取内部存储器上此应用程序的文件目录。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.36.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回内部存储器上此应用程序的文件目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getFilesDir fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getFilesDir success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetfilesdir-1" device-type="phone,2in1,tablet,wearable,tv">Context.getFilesDir<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetfilesdir-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFilesDir(): Promise&lt;string&gt;</p> <p>获取内部存储器上此应用程序的文件目录。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回内部存储器上此应用程序的文件目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getFilesDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getFilesDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 950px;"><h2 id="contextgetorcreatedistributeddir7" device-type="phone,2in1,tablet,wearable,tv">Context.getOrCreateDistributedDir<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetorcreatedistributeddir7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrCreateDistributedDir(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取Ability或应用的分布式文件路径。使用callback异步回调。</p> <p>如果分布式文件路径不存在，系统将创建一个路径并返回创建的路径。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>回调函数，返回Ability或应用的分布式文件路径。</p> <p>若路径不存在，系统将创建一个路径并返回创建的路径。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getOrCreateDistributedDir</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getOrCreateDistributedDir fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getOrCreateDistributedDir success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 802px;"><h2 id="contextgetorcreatedistributeddir7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getOrCreateDistributedDir<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetorcreatedistributeddir7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOrCreateDistributedDir(): Promise&lt;string&gt;</p> <p>获取Ability或应用的分布式文件路径。使用Promise异步回调。</p> <p>如果分布式文件路径不存在，系统将创建一个路径并返回创建的路径。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回Ability或应用的分布式文件路径。若为首次调用，则将创建目录。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getOrCreateDistributedDir</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getOrCreateDistributedDir data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetapptype7" device-type="phone,2in1,tablet,wearable,tv">Context.getAppType<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetapptype7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppType(callback: AsyncCallback&lt;string&gt;): void</p> <p>获取此应用的类型。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回此应用程序的类型。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAppType</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAppType fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getAppType success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetapptype7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getAppType<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetapptype7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppType(): Promise&lt;string&gt;</p> <p>获取此应用的类型。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回此应用的类型。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAppType</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getAppType data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgethapmoduleinfo7" device-type="phone,2in1,tablet,wearable,tv">Context.getHapModuleInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgethapmoduleinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getHapModuleInfo(callback: AsyncCallback&lt;HapModuleInfo&gt;): void</p> <p>获取应用的ModuleInfo对象。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-hapmoduleinfo">HapModuleInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回应用的ModuleInfo对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getHapModuleInfo</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getHapModuleInfo fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getHapModuleInfo success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgethapmoduleinfo7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getHapModuleInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgethapmoduleinfo7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getHapModuleInfo(): Promise&lt;HapModuleInfo&gt;</p> <p>获取应用的ModuleInfo对象。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-hapmoduleinfo">HapModuleInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回应用的ModuleInfo对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getHapModuleInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getHapModuleInfo data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetappversioninfo7" device-type="phone,2in1,tablet,wearable,tv">Context.getAppVersionInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetappversioninfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppVersionInfo(callback: AsyncCallback&lt;AppVersionInfo&gt;): void</p> <p>获取应用的版本信息。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.44.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-appversioninfo">AppVersionInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回应用版本信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAppVersionInfo</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAppVersionInfo fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getAppVersionInfo success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetappversioninfo7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getAppVersionInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetappversioninfo7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppVersionInfo(): Promise&lt;AppVersionInfo&gt;</p> <p>获取应用的版本信息。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-appversioninfo">AppVersionInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回应用版本信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAppVersionInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getAppVersionInfo data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 830px;"><h2 id="contextgetabilityinfo7" device-type="phone,2in1,tablet,wearable,tv">Context.getAbilityInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetabilityinfo7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAbilityInfo(callback: AsyncCallback&lt;AbilityInfo&gt;): void</p> <p>查询当前归属Ability详细信息。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.46.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-abilityinfo">AbilityInfo</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前归属Ability详细信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAbilityInfo</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAbilityInfo fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`getAbilityInfo success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextgetabilityinfo7-1" device-type="phone,2in1,tablet,wearable,tv">Context.getAbilityInfo<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetabilityinfo7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAbilityInfo(): Promise&lt;AbilityInfo&gt;</p> <p>查询当前归属Ability详细信息。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-abilityinfo">AbilityInfo</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回当前归属Ability详细信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">getAbilityInfo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getAbilityInfo data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 658px;"><h2 id="contextgetapplicationcontext7" device-type="phone,2in1,tablet,wearable,tv">Context.getApplicationContext<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextgetapplicationcontext7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getApplicationContext(): Context</p> <p>获取应用上下文信息。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.48.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Context</td> <td class="cellrowborder" width="50%">返回应用上下文信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>().<span class="hljs-title function_">getApplicationContext</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 854px;"><h2 id="contextisupdatingconfigurations7" device-type="phone,2in1,tablet,wearable,tv">Context.isUpdatingConfigurations<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextisupdatingconfigurations7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isUpdatingConfigurations(callback: AsyncCallback&lt;boolean&gt;): void</p> <p>检查此能力的配置是否正在更改。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.49.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回true表示该Ability的配置正在更改，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">isUpdatingConfigurations</span>(<span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`isUpdatingConfigurations fail, error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`isUpdatingConfigurations success, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 754px;"><h2 id="contextisupdatingconfigurations7-1" device-type="phone,2in1,tablet,wearable,tv">Context.isUpdatingConfigurations<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextisupdatingconfigurations7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isUpdatingConfigurations(): Promise&lt;boolean&gt;</p> <p>检查此能力的配置是否正在更改。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回true表示该Ability的配置正在更改，否则返回false。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">isUpdatingConfigurations</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isUpdatingConfigurations data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 782px;"><h2 id="contextprintdrawncompleted7" device-type="phone,2in1,tablet,wearable,tv">Context.printDrawnCompleted<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextprintdrawncompleted7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>printDrawnCompleted(callback: AsyncCallback&lt;void&gt;): void</p> <p>通知系统绘制此页面功能所需的时间。使用callback异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.51.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当通知系统绘制此页面功能所需的时间成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">printDrawnCompleted</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`printDrawnCompleted err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 730px;"><h2 id="contextprintdrawncompleted7-1" device-type="phone,2in1,tablet,wearable,tv">Context.printDrawnCompleted<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextprintdrawncompleted7-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>printDrawnCompleted(): Promise&lt;void&gt;</p> <p>通知系统绘制此页面功能所需的时间。使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.52.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-vxn-c106="" class="highlight-div"><div _ngcontent-vxn-c106="" class="highlight-div-header"><div _ngcontent-vxn-c106="" class="highlight-div-header-left"><div _ngcontent-vxn-c106="" class="handle-button expand-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vxn-c106="" class="highlight-div-header-right"><div _ngcontent-vxn-c106="" class="handle-button ai-button"></div><div _ngcontent-vxn-c106="" class="handle-button line-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vxn-c106="" class="handle-button theme-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vxn-c106="" class="handle-button copy-button"><div _ngcontent-vxn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vxn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: featureAbility.<span class="hljs-property">Context</span> = featureAbility.<span class="hljs-title function_">getContext</span>();</li><li>context.<span class="hljs-title function_">printDrawnCompleted</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`printDrawnCompleted data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 330px;"><h2 id="permissionoptions7" device-type="phone,2in1,tablet,wearable,tv">PermissionOptions<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="permissionoptions7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.53.3.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.53.3.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.3.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.53.3.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.53.3.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">pid</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">进程id。</td> </tr> <tr><td class="cellrowborder" width="20%">uid</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">用户id。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 399px;"><h2 id="permissionrequestresult7" device-type="phone,2in1,tablet,wearable,tv">PermissionRequestResult<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="permissionrequestresult7" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力</strong>：SystemCapability.Ability.AbilityRuntime.Core</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.54.3.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.54.3.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.54.3.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.54.3.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.54.3.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">requestCode</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">用户传入的请求代码。</td> </tr> <tr><td class="cellrowborder" width="20%">permissions</td> <td class="cellrowborder" width="20%">Array&lt;string&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">用户传入的权限。</td> </tr> <tr><td class="cellrowborder" width="20%">authResults</td> <td class="cellrowborder" width="20%">Array&lt;number&gt;</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">请求权限的结果。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>