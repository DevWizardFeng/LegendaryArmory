<h1 _ngcontent-puh-c119="" class="doc-title ng-star-inserted" title="FIDO"> FIDO </h1>

<div _ngcontent-puh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section829294810525" device-type="phone,2in1,tablet">401 入参错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section829294810525" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>Parameter error.</p>     <p><strong>错误描述</strong></p>     <p>输入参数不符合规范时，系统会返回此错误码。</p>     <p><strong>可能原因</strong></p>     <p>输入参数不符合规范。</p>     <p><strong>处理步骤</strong></p>     <p>根据API定义排查入参。</p>    </div>    <div class="tiledSection">     <h2 id="section17675724164118" device-type="phone,2in1,tablet">801 设备类型错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17675724164118" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>Device type error.</p>     <p><strong>错误描述</strong></p>     <p>设备类型不支持在线认证服务时，系统会返回此错误码。</p>     <p><strong>可能原因</strong></p>     <p>设备类型为模拟器。</p>     <p><strong>处理步骤</strong></p>     <p>请使用支持的设备类型。</p>    </div>    <div class="tiledSection">     <h2 id="section16205152494111" device-type="phone,2in1,tablet">1005900003 用户取消操作<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16205152494111" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>User cancels.</p>     <p><strong>错误描述</strong></p>     <p>用户取消时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>用户验证生物特征时点击关闭按钮。</p>     <p><strong>处理步骤</strong></p>     <p>重新发起认证。</p>    </div>    <div class="tiledSection">     <h2 id="section16928155112220" device-type="phone,2in1,tablet">1005900005 没有可用认证器<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16928155112220" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>No authenticator matching the authenticator policy specified is available.</p>     <p><strong>错误描述</strong></p>     <p>无可用的认证器时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>1. checkPolicy：服务端有用户数据，客户端没有，比如开启FIDO认证后清除用户数据等操作。</p>     <p>2. processUAFOperation:</p>     <p>开启: 已经开启FIDO认证的用户再次开启。</p>     <p>认证: 未开启FIDO认证的用户做认证。</p>     <p><strong>处理步骤</strong></p>     <p>1. checkPolicy：重新开启FIDO认证。</p>     <p>2. processUAFOperation：</p>     <p>开启：已经开启，无需重复开启，直接做认证</p>     <p>认证：用户在未开启状态，先开启再做认证，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/onlineauthentication-fido#section2960852143012" target="_blank">FIDO免密身份认证</a></p>    </div>    <div class="tiledSection">     <h2 id="section376892217217" device-type="phone,2in1,tablet">1005900006 协议错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section376892217217" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>A violation of the UAF protocol occurred.</p>     <p><strong>错误描述</strong></p>     <p>UAF协议发生错误时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>报文格式或数据有误。</p>     <p><strong>处理步骤</strong></p>     <p>检查传入报文是否有误，传入正确的报文。</p>    </div>    <div class="tiledSection">     <h2 id="section614673342317" device-type="phone,2in1,tablet">1005900007 facet id不匹配<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section614673342317" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>No Facet_ID is registered.</p>     <p><strong>错误描述</strong></p>     <p>facet id不匹配，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>客户端计算的facet id与FIDO服务端配置的不一致（facet id为应用打包时签名证书的签名值，提前获取后配置在FIDO服务端）。</p>     <p><strong>处理步骤</strong></p>     <p>检查服务端配置的facet id是否正确。HarmonyOS的facet id格式为：ohos:app-id:&lt;应用签名值&gt;。</p>     <p>应用签名值通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself" target="_blank">getBundleInfoForSelf</a> 接口获取，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundleflag" target="_blank">BundleFlag</a>设置为GET_BUNDLE_INFO_WITH_SIGNATURE_INFO，获取其中的signatureInfo的appId字段，并且将appId去除前面的包名前缀以及末尾全部“=”。</p>     <p>例：</p>     <p>1.通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself" target="_blank">getBundleInfoForSelf</a>接口获取的appId：</p>     <p>“com.huawei.hmos.test_6ea5b1b7d51b857cb46d570eb79f7b1c8936a18c5f9bd6b9592ccc75e3406863==”</p>     <p>2.去除前面的包名前缀以及末尾全部“=”得到签名值：</p>     <p>“6ea5b1b7d51b857cb4d50e79f7b1c8936a18c5f9bd6b9592ccc75e3406863”</p>     <p>3.拼接“ohos:app-id:”前缀后得到facet id：</p>     <p>“ohos:app-id:6ea5b1b7d51b857cb46d570eb79f7b1c8936a18c5f9bd6b9592ccc75e3406863”</p>    </div>    <div class="tiledSection">     <h2 id="section1911010358259" device-type="phone,2in1,tablet">1005900009 拒绝本次请求<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1911010358259" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>The authenticator denies access to the generated request.</p>     <p><strong>错误描述</strong></p>     <p>认证器拒绝请求时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>认证时数据库中读取的KeyHandle解密后得到的KHAccessToken与动态计算的KHAccessToken不匹配。</p>     <p><strong>处理步骤</strong></p>     <p>关闭当前FIDO指纹/人脸认证，重新开启。</p>    </div>    <div class="tiledSection">     <h2 id="section7348172872814" device-type="phone,2in1,tablet">1005900014 用户未录入生物特征信息<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7348172872814" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>The user does not record biometric features or the authentication module is abnormal.</p>     <p><strong>错误描述</strong></p>     <p>用户未注册生物特征或认证模块异常时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>用户未注册生物特征。</p>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查移动端设备是否注册生物特征信息。</li>      <li>在设置里录入生物特征信息。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section20817144153019" device-type="phone,2in1,tablet">1005900015 系统中断<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20817144153019" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>System Interruption.</p>     <p><strong>错误描述</strong></p>     <p>系统发生中断时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>运行环境异常。</p>     <p><strong>处理步骤</strong></p>     <p>重启移动端设备。</p>    </div>    <div class="tiledSection">     <h2 id="section9616125203210" device-type="phone,2in1,tablet">1005900016 未知错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9616125203210" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>Unknown error.</p>     <p><strong>错误描述</strong></p>     <p>发生未知错误时，系统会产生此错误码。</p>     <p><strong>可能原因</strong></p>     <p>FIDO服务未知异常。</p>     <p><strong>处理步骤</strong></p>     <ol>      <li>重试。</li>      <li>重启设备，重试。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1918115419316" device-type="phone,2in1,tablet">1005900017 切换到自定义认证方式<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1918115419316" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p><strong>错误信息</strong></p>     <p>Switched to the custom authentication process.</p>     <p><strong>错误描述</strong></p>     <p>在调用时传入了其他认证方式按钮文本，用户认证失败后取消认证，系统会返回此错误码。</p>     <p><strong>可能原因</strong></p>     <p>用户认证失败后取消认证。</p>     <p><strong>处理步骤</strong></p>     <ol>      <li>重新发起UAF认证或者拉起自定义认证方式。</li>     </ol>    </div>   </div>   <div></div></div>