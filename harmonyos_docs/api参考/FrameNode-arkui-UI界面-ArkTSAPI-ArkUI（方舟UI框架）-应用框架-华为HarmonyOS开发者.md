<h1 _ngcontent-xyc-c119="" class="doc-title ng-star-inserted" title="FrameNode"> FrameNode </h1>

<div _ngcontent-xyc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>FrameNode表示组件树的实体节点。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-nodecontroller">NodeController</a>可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-buildernode">BuilderNode</a>持有的FrameNode将其挂载到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-nodecontainer">NodeContainer</a>上，也可通过FrameNode获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode">RenderNode</a>，挂载到其他FrameNode上。最佳实践请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-ui-dynamic-operations#section153921947151012" target="_blank">组件动态创建-组件动态添加、更新和删除</a>。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>当前不支持在预览器中使用FrameNode节点。</p>      <p>FrameNode节点暂不支持拖拽。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">LayoutConstraint</span>, <span class="hljs-title class_">ExpandMode</span>, typeNode, <span class="hljs-title class_">NodeAdapter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ArkUI"</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 495px;">     <h2 id="layoutconstraint12" device-type="phone,2in1,tablet,wearable,tv">LayoutConstraint<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutconstraint12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>描述组件的布局约束。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">maxSize</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最大尺寸。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">minSize</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">最小尺寸。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">percentReference</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子节点计算百分比时的尺寸基准。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 597px;">     <h2 id="crosslanguageoptions15" device-type="phone,2in1,tablet,wearable,tv">CrossLanguageOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="crosslanguageoptions15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该接口用于配置或查询FrameNode的跨语言访问权限。例如，针对ArkTS语言创建的节点，可通过该接口控制是否允许通过非ArkTS语言进行属性访问或修改。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">attributeSetting</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>FrameNode是否支持跨ArkTS语言进行属性设置。</p>          <p>true表示支持跨ArkTS语言进行属性设置，false表示不支持跨ArkTS语言进行属性设置。</p>          <p>默认为false。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 807px;">     <h2 id="expandmode15" device-type="phone,2in1,tablet,wearable,tv">ExpandMode<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="expandmode15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子节点展开模式枚举。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NOT_EXPAND</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">表示不展开当前FrameNode的子节点。如果FrameNode包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach">LazyForEach</a>子节点，获取在主节点树上的子节点时，不展开当前FrameNode的子节点。子节点序列号按在主节点树上的子节点计算。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">EXPAND</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">表示展开当前FrameNode的子节点。如果FrameNode包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach">LazyForEach</a>子节点，获取所有子节点时，展开当前FrameNode的子节点。子节点序列号按所有子节点计算。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LAZY_EXPAND</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">表示按需展开当前FrameNode的子节点。如果FrameNode包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach">LazyForEach</a>子节点，获取在主树上的子节点时，不展开当前FrameNode的子节点；获取不在主树上的子节点时，展开当前FrameNode的子节点。子节点序列号按所有子节点计算。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1140px;">     <h2 id="interactioneventbindinginfo19" device-type="phone,2in1,tablet,wearable,tv">InteractionEventBindingInfo<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="interactioneventbindinginfo19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>组件的交互事件绑定状态信息。如果当前节点上绑定了所要查询的交互事件，调用查询接口时返回一个InteractionEventBindingInfo对象，指示事件绑定详细信息。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">baseEventRegistered</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>是否以声明方式绑定事件。</p>          <p>true表示以声明方式绑定事件，false表示没有以声明方式绑定事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">nodeEventRegistered</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>是否以自定义组件节点的方式绑定事件，请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#基础事件示例">基础事件示例</a></p>          <p>true表示以自定义组件节点的方式绑定事件，false表示没有以自定义组件节点的方式绑定事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">nativeEventRegistered</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>是否以注册节点事件（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-nativenodeapi-1#registernodeevent">registerNodeEvent</a>）的方式绑定事件。</p>          <p>true表示以注册节点事件的方式绑定事件，false表示没有以注册节点事件的方式绑定事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">builtInEventRegistered</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>组件是否绑定内置事件(组件内部定义的事件, 无需开发者手动绑定)。</p>          <p>true表示组件绑定内置事件，false表示组件没有绑定内置事件。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h2 id="uistate20" device-type="phone,2in1,tablet,wearable,tv">UIState<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uistate20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>多态样式状态枚举，用于处理多态样式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NORMAL</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">正常状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">PRESSED</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 0</td>         <td class="cellrowborder" width="33.33333333333333%">按下状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">FOCUSED</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 1</td>         <td class="cellrowborder" width="33.33333333333333%">获焦状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLED</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 2</td>         <td class="cellrowborder" width="33.33333333333333%">禁用状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SELECTED</td>         <td class="cellrowborder" width="33.33333333333333%">1 &lt;&lt; 3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>选中状态。</p>          <p>仅特定的组件支持此状态：Checkbox、Radio、Toggle、List、Grid、MenuItem。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 738px;">     <h2 id="uistateschangehandler20" device-type="phone,2in1,tablet,wearable,tv">UIStatesChangeHandler<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uistateschangehandler20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UIStatesChangeHandler = (node: FrameNode, currentUIStates: number) =&gt; void</p>     <p>当UI状态发生变化时触发的回调。接收回调触发时的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#uistate20">UIState</a>状态，该参数的取值为UIState状态枚举值或其运算结果。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">触发UI状态变化的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">currentUIStates</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调触发时当前的UI状态。</p>          <p>可以通过位与运算判断当前包含哪些<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#uistate20">UIState</a>状态。</p>          <p>位与运算方法：if (currentState &amp; UIState.PRESSED == UIState.PRESSED)。</p>          <p>一般的UIState状态检查可以直接判断：if (currentState == UIState.PRESSED)。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="framenode-1" device-type="phone,2in1,tablet,wearable,tv">FrameNode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="framenode-1" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(uiContext: UIContext)</p>     <p>FrameNode的构造函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uiContext</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1418px;">     <h3 id="getrendernode" device-type="phone,2in1,tablet,wearable,tv">getRenderNode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrendernode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRenderNode(): RenderNode | null</p>     <p>获取FrameNode中持有的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode">RenderNode</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode">RenderNode</a> | null</td>         <td class="cellrowborder" width="50%">一个RenderNode对象。若该FrameNode不包含RenderNode，则返回空对象null。如果当前FrameNode为声明式组件创建的节点，则返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-comment">// 获取rootNode持有的RenderNode</span></li><li>    <span class="hljs-keyword">const</span> renderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (renderNode !== <span class="hljs-literal">null</span>) {</li><li>      renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>      renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFFFF0000</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 729px;">     <h3 id="ismodifiable12" device-type="phone,2in1,tablet,wearable,tv">isModifiable<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismodifiable12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isModifiable(): boolean</p>     <p>判断当前节点是否可修改。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>判断当前节点是否可修改。</p>          <p>true表示当前节点可修改，false表示当前节点不可修改。</p>          <p>当节点为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-node#自定义组件节点-framenode" target="_blank">自定义组件节点</a>中的系统组件代理节点或节点已经<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#dispose12">dispose</a>时返回false。</p>          <p>当返回false时，当前FrameNode不支持<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#appendchild12">appendChild</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#insertchildafter12">insertChildAfter</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#removechild12">removeChild</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#clearchildren12">clearChildren</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createanimation20">createAnimation</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#cancelanimations20">cancelAnimations</a>的操作。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 976px;">     <h3 id="appendchild12" device-type="phone,2in1,tablet,wearable,tv">appendChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="appendchild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>appendChild(node: FrameNode): void</p>     <p>在FrameNode最后一个子节点后添加新的子节点。当前FrameNode如果不可修改，抛出异常信息。<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typenode12">typeNode</a>在appendChild时会校验子组件类型或个数，不满足时抛出异常信息，限制情况请查看<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typenode12">typeNode</a>描述。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要添加的FrameNode。</p>          <p>node节点不可以为声明式创建的节点，即不可修改的FrameNode。仅有从BuilderNode中获取的声明式节点可以作为子节点。若子节点不符合规格，则抛出异常信息。</p>          <p>node节点不可以拥有父节点，否则抛出异常信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1069px;">     <h3 id="insertchildafter12" device-type="phone,2in1,tablet,wearable,tv">insertChildAfter<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insertchildafter12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insertChildAfter(child: FrameNode, sibling: FrameNode | null): void</p>     <p>在FrameNode指定子节点之后添加新的子节点。当前FrameNode如果不可修改，抛出异常信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">child</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要添加的子节点。</p>          <p>child节点不可以为声明式创建的节点，即不可修改的FrameNode。仅有从BuilderNode中获取的声明式节点可以作为子节点。若子节点不符合规格，则抛出异常信息。</p>          <p>child节点不可以拥有父节点，否则抛出异常信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sibling</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">新节点将插入到该节点之后。若该参数设置为空，则新节点将插入到首个子节点之前。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 736px;">     <h3 id="removechild12" device-type="phone,2in1,tablet,wearable,tv">removeChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removechild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeChild(node: FrameNode): void</p>     <p>从FrameNode中删除指定的子节点。当前FrameNode如果不可修改，抛出异常信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要删除的子节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="clearchildren12" device-type="phone,2in1,tablet,wearable,tv">clearChildren<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearchildren12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearChildren(): void</p>     <p>清除当前FrameNode的所有子节点。当前FrameNode如果不可修改，抛出异常信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 832px;">     <h3 id="getchild12" device-type="phone,2in1,tablet,wearable,tv">getChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getchild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getChild(index: number): FrameNode | null</p>     <p>获取当前节点指定位置的子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要查询的子节点的序列号。</p>          <p>若当前节点有n个子节点，index取值范围为[0, n-1]。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">子节点。若该FrameNode不包含所查询的子节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 925px;">     <h3 id="getchild15" device-type="phone,2in1,tablet,wearable,tv">getChild<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getchild15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getChild(index: number, expandMode?: ExpandMode): FrameNode | null</p>     <p>获取当前节点指定位置的子节点，支持指定子节点展开模式。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要查询的子节点的序列号。</p>          <p>若当前节点有n个子节点，index取值范围为[0, n-1]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">expandMode</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#expandmode15">ExpandMode</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定子节点展开模式。</p>          <p>默认值：ExpandMode.EXPAND</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">子节点。若该FrameNode不包含所查询的子节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#lazyforeach场景节点操作示例">LazyForEach场景节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getfirstchildindexwithoutexpand15" device-type="phone,2in1,tablet,wearable,tv">getFirstChildIndexWithoutExpand<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfirstchildindexwithoutexpand15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFirstChildIndexWithoutExpand(): number</p>     <p>获取当前节点第一个在主节点树上的子节点的序列号。子节点序列号按所有子节点计算。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前节点第一个在主节点树上的子节点的序列号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#lazyforeach场景节点操作示例">LazyForEach场景节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getlastchildindexwithoutexpand15" device-type="phone,2in1,tablet,wearable,tv">getLastChildIndexWithoutExpand<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlastchildindexwithoutexpand15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLastChildIndexWithoutExpand(): number</p>     <p>获取当前节点最后一个在主节点树上的子节点的序列号。子节点序列号按所有子节点计算。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前节点最后一个在主节点树上的子节点的序列号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#lazyforeach场景节点操作示例">LazyForEach场景节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getfirstchild12" device-type="phone,2in1,tablet,wearable,tv">getFirstChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfirstchild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFirstChild(): FrameNode | null</p>     <p>获取当前FrameNode的第一个子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">首个子节点。若该FrameNode不包含子节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getnextsibling12" device-type="phone,2in1,tablet,wearable,tv">getNextSibling<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnextsibling12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNextSibling(): FrameNode | null</p>     <p>获取当前FrameNode的下一个同级节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">当前FrameNode的下一个同级节点。若该FrameNode不包含下一个同级节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getprevioussibling12" device-type="phone,2in1,tablet,wearable,tv">getPreviousSibling<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getprevioussibling12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPreviousSibling(): FrameNode | null</p>     <p>获取当前FrameNode的上一个同级节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">当前FrameNode的上一个同级节点。若该FrameNode不包含上一个同级节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getparent12" device-type="phone,2in1,tablet,wearable,tv">getParent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getparent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getParent(): FrameNode | null</p>     <p>获取当前FrameNode的父节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a> | null</td>         <td class="cellrowborder" width="50%">当前FrameNode的父节点。若该FrameNode不包含父节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>和<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#获取根节点示例">获取根节点示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getchildrencount12" device-type="phone,2in1,tablet,wearable,tv">getChildrenCount<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getchildrencount12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getChildrenCount(): number</p>     <p>获取当前FrameNode的子节点数量。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取当前FrameNode的子节点数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h3 id="moveto18" device-type="phone,2in1,tablet,wearable,tv">moveTo<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="moveto18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveTo(targetParent: FrameNode, index?: number): void</p>     <p>将当前FrameNode移动到目标FrameNode的指定位置。当前FrameNode如果不可修改，抛出异常信息。targetParent为<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typenode12">typeNode</a>时会校验子组件类型或个数，不满足时抛出异常信息，限制情况请查看<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typenode12">typeNode</a>描述。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前仅支持以下类型的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>进行移动操作：<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#stack12">Stack</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">XComponent</a>。对于其他类型的节点，移动操作不会生效。</p>       <p>当前仅支持根节点为以下类型组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-buildernode#buildernode-1">BuilderNode</a>进行移动操作：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-stack">Stack</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-embedded-component">EmbeddedComponent</a>。对于其他类型的组件，移动操作不会生效。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">targetParent</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>目标父节点。</p>          <p>targetParent节点不可以为声明式创建的节点，即不可修改的FrameNode。若目标父节点不符合规格，则抛出异常信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>子节点序列号。当前FrameNode将被添加到目标FrameNode对应序列号的子节点之前，若目标FrameNode有n个节点，index取值范围为[0, n-1]。</p>          <p>若参数无效或不指定，则添加到目标FrameNode的最后。</p>          <p>默认值：-1</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2085px;">     <h3 id="getpositiontowindow12" device-type="phone,2in1,tablet,wearable,tv">getPositionToWindow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontowindow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToWindow(): Position</p>     <p>获取FrameNode相对于窗口的位置偏移，单位为VP。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于窗口的位置偏移，单位为VP。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToWindow</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于窗口的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToWindow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToWindow</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${TEST_TAG}</span><span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(positionToWindow)}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToWindow"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToWindow</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2109px;">     <h3 id="getpositiontoparent12" device-type="phone,2in1,tablet,wearable,tv">getPositionToParent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontoparent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToParent(): Position</p>     <p>获取FrameNode相对于父组件的位置偏移，单位为VP。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于父组件的位置偏移，单位为VP。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToParent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于父组件的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToParent = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToParent</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToParent));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToParent"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToParent</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2109px;">     <h3 id="getpositiontoscreen12" device-type="phone,2in1,tablet,wearable,tv">getPositionToScreen<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontoscreen12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToScreen(): Position</p>     <p>获取FrameNode相对于屏幕的位置偏移，单位为VP。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于屏幕的位置偏移，单位为VP。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToScreen</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于屏幕的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToScreen = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToScreen</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToScreen));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToScreen"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToScreen</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getglobalpositionondisplay20" device-type="phone,2in1,tablet,wearable,tv">getGlobalPositionOnDisplay<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglobalpositionondisplay20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGlobalPositionOnDisplay(): Position</p>     <p>获取FrameNode相对于全局屏幕的位置偏移，单位为VP。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于全局屏幕的位置偏移，单位为VP。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2181px;">     <h3 id="getpositiontoparentwithtransform12" device-type="phone,2in1,tablet,wearable,tv">getPositionToParentWithTransform<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontoparentwithtransform12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToParentWithTransform(): Position</p>     <p>获取FrameNode相对于父组件带有绘制属性的位置偏移，单位为VP，绘制属性比如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#transform">transform</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#translate">translate</a>等，返回的坐标是组件布局时左上角变换后的坐标。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于父组件的位置偏移，单位为VP。 当设置了其他（比如：transform, translate等）绘制属性，由于浮点数精度的影响，返回值会有微小偏差。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToParentWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于父组件带有绘制属性的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToParentWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToParentWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToParentWithTransform));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToParentWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToParentWithTransform</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2157px;">     <h3 id="getpositiontowindowwithtransform12" device-type="phone,2in1,tablet,wearable,tv">getPositionToWindowWithTransform<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontowindowwithtransform12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToWindowWithTransform(): Position</p>     <p>获取FrameNode相对于窗口带有绘制属性的位置偏移，单位为VP，绘制属性比如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#transform">transform</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#translate">translate</a>等，返回的坐标是组件布局时左上角变换后的坐标。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于窗口的位置偏移，单位为VP。 当设置了其他（比如：transform, translate等）绘制属性，由于浮点数精度的影响，返回值会有微小偏差。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToWindowWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于窗口带有绘制属性的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToWindowWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToWindowWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToWindowWithTransform));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToWindowWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToWindowWithTransform</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2181px;">     <h3 id="getpositiontoscreenwithtransform12" device-type="phone,2in1,tablet,wearable,tv">getPositionToScreenWithTransform<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpositiontoscreenwithtransform12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPositionToScreenWithTransform(): Position</p>     <p>获取FrameNode相对于屏幕带有绘制属性的位置偏移，单位为VP，绘制属性比如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#transform">transform</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#translate">translate</a>等，返回的坐标是组件布局时左上角变换后的坐标。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点相对于屏幕的位置偏移，单位为VP。 当设置了其他（比如：transform, translate等）绘制属性，由于浮点数精度的影响，返回值会有微小偏差。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToScreenWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 获取FrameNode相对于屏幕带有绘制属性的位置偏移</span></li><li>    <span class="hljs-keyword">let</span> positionToScreenWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToScreenWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToScreenWithTransform));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToScreenWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToScreenWithTransform</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getmeasuredsize12" device-type="phone,2in1,tablet,wearable,tv">getMeasuredSize<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmeasuredsize12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMeasuredSize(): Size</p>     <p>获取FrameNode测量后的大小，单位为PX。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="50%">节点测量后的大小，单位为PX。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getlayoutposition12" device-type="phone,2in1,tablet,wearable,tv">getLayoutPosition<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlayoutposition12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLayoutPosition(): Position</p>     <p>获取FrameNode布局后相对于父组件的位置偏移，单位为PX。该偏移是父容器对该节点进行布局之后的结果，因此布局之后生效的offset属性和不参与布局的position属性不影响该偏移值。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">节点布局后相对于父组件的位置偏移，单位为PX。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getuserconfigborderwidth12" device-type="phone,2in1,tablet,wearable,tv">getUserConfigBorderWidth<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuserconfigborderwidth12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUserConfigBorderWidth(): Edges&lt;LengthMetrics&gt;</p>     <p>获取用户设置的边框宽度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a>&gt;</td>         <td class="cellrowborder" width="50%">用户设置的边框宽度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getuserconfigpadding12" device-type="phone,2in1,tablet,wearable,tv">getUserConfigPadding<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuserconfigpadding12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUserConfigPadding(): Edges&lt;LengthMetrics&gt;</p>     <p>获取用户设置的内边距。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a>&gt;</td>         <td class="cellrowborder" width="50%">用户设置的内边距。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getuserconfigmargin12" device-type="phone,2in1,tablet,wearable,tv">getUserConfigMargin<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuserconfigmargin12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUserConfigMargin(): Edges&lt;LengthMetrics&gt;</p>     <p>获取用户设置的外边距。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a>&gt;</td>         <td class="cellrowborder" width="50%">用户设置的外边距。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getuserconfigsize12" device-type="phone,2in1,tablet,wearable,tv">getUserConfigSize<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuserconfigsize12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUserConfigSize(): SizeT&lt;LengthMetrics&gt;</p>     <p>获取用户设置的宽高。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#sizett12">SizeT</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a>&gt;</td>         <td class="cellrowborder" width="50%">用户设置的宽高。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getid12" device-type="phone,2in1,tablet,wearable,tv">getId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getid12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getId(): string</p>     <p>获取用户设置的节点ID（通用属性设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">ID</a>）。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">用户设置的节点ID（通用属性设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id">ID</a>）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getuniqueid12" device-type="phone,2in1,tablet,wearable,tv">getUniqueId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuniqueid12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUniqueId(): number</p>     <p>获取系统分配的唯一标识的节点UniqueID。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">系统分配的唯一标识的节点UniqueID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="getnodetype12" device-type="phone,2in1,tablet,wearable,tv">getNodeType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnodetype12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNodeType(): string</p>     <p>获取节点的类型。系统组件类型为组件名称，例如，按钮组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-button">Button</a>的类型为Button。而对于自定义组件，若其有渲染内容，则其类型为__Common__。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">节点的类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getopacity12" device-type="phone,2in1,tablet,wearable,tv">getOpacity<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getopacity12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOpacity(): number</p>     <p>获取节点的不透明度，最小值为0，最大值为1。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">节点的不透明度。范围是[0, 1]，值越大透明度越低。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 701px;">     <h3 id="isvisible12" device-type="phone,2in1,tablet,wearable,tv">isVisible<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isvisible12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isVisible(): boolean</p>     <p>获取节点是否可见。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>根据组件设置的visibility属性值判断该节点是否可见。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>节点是否可见。</p>          <p>true表示节点可见，false表示节点不可见。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h3 id="iscliptoframe12" device-type="phone,2in1,tablet,wearable,tv">isClipToFrame<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iscliptoframe12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isClipToFrame(): boolean</p>     <p>获取节点是否是剪裁到组件区域。当调用<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#dispose12">dispose</a>解除对实体FrameNode节点的引用关系之后，返回值为true。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>节点是否是剪裁到组件区域。</p>          <p>true表示节点剪裁到组件区域，false表示节点不是剪裁到组件区域。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h3 id="isattached12" device-type="phone,2in1,tablet,wearable,tv">isAttached<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isattached12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isAttached(): boolean</p>     <p>获取节点是否被挂载到主节点树上。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>节点是否被挂载到主节点树上。</p>          <p>true表示节点被挂载到主节点树上，false表示节点不是被挂载到主节点树上。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 657px;">     <h3 id="isdisposed20" device-type="phone,2in1,tablet,wearable,tv">isDisposed<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdisposed20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDisposed(): boolean</p>     <p>查询当前FrameNode对象是否已解除与后端实体节点的引用关系。前端节点均绑定有相应的后端实体节点，当节点调用dispose接口解除绑定后，再次调用接口可能会出现crash、返回默认值的情况。由于业务需求，可能存在节点在dispose后仍被调用接口的情况。为此，提供此接口以供开发者在操作节点前检查其有效性，避免潜在风险。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">后端实体节点是否解除引用。true为节点已与后端实体节点解除引用，false为节点未与后端实体节点解除引用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#检验framenode是否有效示例">检验FrameNode是否有效示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1361px;">     <h3 id="getinspectorinfo12" device-type="phone,2in1,tablet,wearable,tv">getInspectorInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinspectorinfo12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInspectorInfo(): Object</p>     <p>获取节点的结构信息，该信息和DevEco Studio内置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-arkui-inspector" target="_blank">ArkUI Inspector</a>工具里面的一致。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>getInspectorInfo接口用于获取所有节点的信息，作为调试接口使用，频繁调用会导致性能下降。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Object</td>         <td class="cellrowborder" width="50%">节点的结构信息。</td>        </tr>             </tbody></table></div>     </div>     <p>以查询<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-button">Button</a>组件节点为例获取到的Object结果部分值如下所示</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"$type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Button"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 组件类型</span></li><li>    <span class="hljs-attr">"$ID"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">44</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 组件id</span></li><li>    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"build-in"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// build-in为系统组件，custom为自定义组件</span></li><li>    <span class="hljs-attr">"$rect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"[498.00, 468.00],[718.00,598.00]"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 组件框左上角坐标和右下角坐标</span></li><li>    <span class="hljs-attr">"$debugLine"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 组件对应源码的调试信息，包括源码路径和组件所在的行号</span></li><li>    <span class="hljs-attr">"$attrs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"borderStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"BorderStyle.Solid"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"borderColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#FF000000"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"borderWidth"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.00vp"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"borderRadius"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"topLeft"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"65.00px"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"topRight"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"65.00px"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"bottomLeft"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"65.00px"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"bottomRight"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"65.00px"</span></li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"border"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{\"style\":\"BorderStyle.Solid\",\"color\":\"#FF000000\",\"width\":\"0.00vp\",\"radius\":{\"topLeft\":\"65.00px\",\"topRight\":\"65.00px\",\"bottomLeft\":\"65.00px\",\"bottomRight\":\"65.00px\"},\"dashGap\":\"0.00vp\",\"dashWidth\":\"0.00vp\"}"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"outlineStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"OutlineStyle.SOLID"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"outlineColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#FF000000"</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>     <p>以上返回结果的$attrs字段会根据不同的组件类型具有不同的属性，具体可以参考<a href="https://gitcode.com/openharmony/docs/blob/master/zh-cn/application-dev/reference/apis-arkui/figures/getInspectorInfo返回结果$attrs映射表.xlsx" target="_blank">getInspectorInfo返回结果$attrs映射表.xlsx</a>。</p>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 736px;">     <h3 id="getcustomproperty12" device-type="phone,2in1,tablet,wearable,tv">getCustomProperty<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcustomproperty12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCustomProperty(name: string): Object | undefined</p>     <p>通过名称获取组件的自定义属性。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义属性的名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Object | undefined</td>         <td class="cellrowborder" width="50%">自定义属性的值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2611px;">     <h3 id="dispose12" device-type="phone,2in1,tablet,wearable,tv">dispose<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispose12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispose(): void</p>     <p>立即解除当前FrameNode对象对实体FrameNode节点的引用关系。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>FrameNode对象调用dispose后，由于不对应任何实体FrameNode节点，在调用部分查询接口(<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getmeasuredsize12">getMeasuredSize</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getlayoutposition12">getLayoutPosition</a>)的时候会导致应用出现jscrash。</p>       <p>通过<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getuniqueid12">getUniqueId</a>可以判断当前FrameNode是否对应一个实体FrameNode节点。当UniqueId大于0时表示该对象对应一个实体FrameNode节点。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">BuilderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent</span>()</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">builderNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[]&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(uiContext, { <span class="hljs-attr">selfIdealSize</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> } });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">build</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WrappedBuilder</span>(buildComponent));</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">200</span> };</li><li>      rootRenderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>!.<span class="hljs-title function_">getFrameNode</span>()!.<span class="hljs-title function_">getRenderNode</span>());</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">disposeFrameNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 解除rootNode对实体FrameNode节点的引用关系前，移除rootNode的所有子节点</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>());</li><li>      <span class="hljs-comment">// 解除builderNode对实体FrameNode节点的引用关系</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">dispose</span>();</li><li>      <span class="hljs-comment">// 解除rootNode对实体FrameNode节点的引用关系</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">dispose</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeBuilderNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>() !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>!.<span class="hljs-title function_">getFrameNode</span>()!.<span class="hljs-title function_">getRenderNode</span>());</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">4</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'FrameNode dispose'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">disposeFrameNode</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 773px;">     <h3 id="commonattribute12" device-type="phone,2in1,tablet,wearable,tv">commonAttribute<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commonattribute12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get commonAttribute(): CommonAttribute</p>     <p>获取FrameNode中持有的CommonAttribute接口，用于设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-events">通用事件</a>。</p>     <p>仅可以修改自定义节点的属性。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>FrameNode的效果参考对齐方式为顶部起始端的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-stack">Stack</a>容器组件。</p>       <p>FrameNode的属性支持范围，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-extension-attributemodifier#属性或事件对attributemodifier的支持情况" target="_blank">属性或事件对attributeModifier的支持情况</a>中组件通用信息为CommonAttribute的内容。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">CommonAttribute</td>         <td class="cellrowborder" width="50%">获取FrameNode中持有的CommonAttribute接口，用于设置通用属性和通用事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#基础事件示例">基础事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 657px;">     <h3 id="commonevent12" device-type="phone,2in1,tablet,wearable,tv">commonEvent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commonevent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get commonEvent(): UICommonEvent</p>     <p>获取FrameNode中持有的UICommonEvent对象，用于设置基础事件。设置的基础事件与声明式定义的事件平行，参与事件竞争；设置的基础事件不覆盖原有的声明式事件。同时设置两个事件回调的时候，优先回调声明式事件。</p>     <p>LazyForEach场景下，由于存在节点的销毁重建，对于重建的节点需要重新设置事件回调才能保证监听事件正常响应。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-uicommonevent#uicommonevent">UICommonEvent</a></td>         <td class="cellrowborder" width="50%">UICommonEvent对象，用于设置基础事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#基础事件示例">基础事件示例</a>和<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#lazyforeach场景基础事件使用示例">LazyForEach场景基础事件使用示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="gestureevent14" device-type="phone,2in1,tablet,wearable,tv">gestureEvent<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gestureevent14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get gestureEvent(): UIGestureEvent</p>     <p>获取FrameNode中持有的UIGestureEvent对象，用于设置组件绑定的手势事件。通过gestureEvent接口设置的手势不会覆盖通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-settings">声明式手势接口</a>绑定的手势，两者同时设置了手势时，优先回调声明式接口设置的手势事件。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-uigestureevent#uigestureevent">UIGestureEvent</a></td>         <td class="cellrowborder" width="50%">UIGestureEvent对象，用于设置组件绑定的手势。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#手势事件示例">手势事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 661px;">     <h3 id="ondraw12" device-type="phone,2in1,tablet,wearable,tv">onDraw<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondraw12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDraw?(context: DrawContext): void</p>     <p>FrameNode的自绘制方法，该方法会重写默认绘制方法，在FrameNode进行内容绘制时被调用。</p>     <p>该接口的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#drawcontext">DrawContext</a>中的Canvas是用于记录指令的临时Canvas，并非节点的真实Canvas。使用请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-arktsnode-framenode#调整自定义绘制canvas的变换矩阵" target="_blank">调整自定义绘制Canvas的变换矩阵</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#drawcontext">DrawContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图形绘制上下文。自绘制区域无法超出组件自身大小。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="onmeasure12" device-type="phone,2in1,tablet,wearable,tv">onMeasure<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmeasure12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onMeasure(constraint: LayoutConstraint): void</p>     <p>FrameNode的自定义测量方法，该方法会重写默认测量方法，在FrameNode进行测量时被调用，测量FrameNode及其内容的大小。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#layoutconstraint12">LayoutConstraint</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件进行测量时使用的布局约束。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="onlayout12" device-type="phone,2in1,tablet,wearable,tv">onLayout<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onlayout12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onLayout(position: Position): void</p>     <p>FrameNode的自定义布局方法，该方法会重写默认布局方法，在FrameNode进行布局时被调用，为FrameNode及其子节点指定位置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件进行布局时使用的位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 589px;">     <h3 id="setmeasuredsize12" device-type="phone,2in1,tablet,wearable,tv">setMeasuredSize<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmeasuredsize12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setMeasuredSize(size: Size): void</p>     <p>设置FrameNode的测量后的尺寸，默认单位PX。若设置的宽高为负数，自动取零。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">FrameNode的测量后的尺寸。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 589px;">     <h3 id="setlayoutposition12" device-type="phone,2in1,tablet,wearable,tv">setLayoutPosition<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlayoutposition12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLayoutPosition(position: Position): void</p>     <p>设置FrameNode的布局后的位置，默认单位PX。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">FrameNode的布局后的位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="measure12" device-type="phone,2in1,tablet,wearable,tv">measure<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measure12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>measure(constraint: LayoutConstraint): void</p>     <p>调用FrameNode的测量方法，根据父容器的布局约束，对FrameNode进行测量，计算出尺寸，如果测量方法被重写，则调用重写的方法。建议在<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#onmeasure12">onMeasure</a>方法中调用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#layoutconstraint12">LayoutConstraint</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件进行测量时使用的父容器布局约束。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="layout12" device-type="phone,2in1,tablet,wearable,tv">layout<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layout12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>layout(position: Position): void</p>     <p>调用FrameNode的布局方法，为FrameNode及其子节点指定布局位置，如果布局方法被重写，则调用重写的方法。建议在<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#onlayout12">onLayout</a>方法中调用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件进行布局时使用的位置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 414px;">     <h3 id="setneedslayout12" device-type="phone,2in1,tablet,wearable,tv">setNeedsLayout<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setneedslayout12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setNeedsLayout(): void</p>     <p>该方法会将FrameNode标记为需要布局的状态，下一帧将会进行重新布局。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="invalidate12" device-type="phone,2in1,tablet,wearable,tv">invalidate<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="invalidate12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>invalidate(): void</p>     <p>该方法会触发FrameNode自绘制内容的重新渲染。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1929px;">     <h3 id="addcomponentcontent12" device-type="phone,2in1,tablet,wearable,tv">addComponentContent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addcomponentcontent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addComponentContent&lt;T&gt;(content: ComponentContent&lt;T&gt;): void</p>     <p>支持添加ComponentContent类型的组件内容。要求当前节点是一个可修改的节点，即<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#ismodifiable12">isModifiable</a>的返回值为true，否则抛出异常信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent</a>&lt;T&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">FrameNode节点中显示的组件内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">ComponentContent</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'hello'</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Yellow</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Column"</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> })</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-keyword">let</span> row4 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Row"</span>)</li><li>    row4.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>    <span class="hljs-comment">// 创建组件内容</span></li><li>    <span class="hljs-keyword">let</span> component = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">Object</span>&gt;(uiContext, <span class="hljs-title function_">wrapBuilder</span>(buildText))</li><li>    <span class="hljs-keyword">if</span> (row4.<span class="hljs-title function_">isModifiable</span>()) {</li><li>      <span class="hljs-comment">// 添加新创建的builderText至row4中</span></li><li>      row4.<span class="hljs-title function_">addComponentContent</span>(component)</li><li>      col.<span class="hljs-title function_">appendChild</span>(row4)</li><li>    }</li><li>    <span class="hljs-keyword">return</span> node</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4674px;">     <h3 id="disposetree12" device-type="phone,2in1,tablet,wearable,tv">disposeTree<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="disposetree12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disposeTree(): void</p>     <p>下树并递归释放当前节点为根的子树。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">BuilderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，作为自定义组件树的入口</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>(<span class="hljs-title function_">wrapBuilder</span>(buildComponent2));</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，作为TestComponent1的子组件与TestComponent3、TestComponent4的父组件</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent2</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>(<span class="hljs-title function_">wrapBuilder</span>(buildComponent3));</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController2</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>(<span class="hljs-title function_">wrapBuilder</span>(buildComponent4));</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode 2.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController2</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 2 aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 2 aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，作为buildComponent2的子组件</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent3</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode 3.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>
</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 3 aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 3 aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，作为buildComponent2的子组件</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent4</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode 4.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>
</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 4 aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'BuilderNode 4 aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent</span>()</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent2</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent2</span>()</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent3</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent3</span>()</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent4</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent4</span>()</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">builderNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[]&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">wrappedBuilder</span>: <span class="hljs-title class_">WrappedBuilder</span>&lt;[]&gt;;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">builder: WrappedBuilder&lt;[]&gt;</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrappedBuilder</span> = builder;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(uiContext, { <span class="hljs-attr">selfIdealSize</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> } });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">build</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">wrappedBuilder</span>);</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">dispose</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 下树并递归释放当前节点为根的子树</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>()?.<span class="hljs-title function_">disposeTree</span>()</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeBuilderNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>() !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>!.<span class="hljs-title function_">getFrameNode</span>()!.<span class="hljs-title function_">getRenderNode</span>());</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>(<span class="hljs-title function_">wrapBuilder</span>(buildComponent));</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">4</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'BuilderNode dispose'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">dispose</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'BuilderNode rebuild'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">rebuild</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点自定义示例">节点自定义示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 924px;">     <h3 id="setcrosslanguageoptions15" device-type="phone,2in1,tablet,wearable,tv">setCrossLanguageOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcrosslanguageoptions15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCrossLanguageOptions(options: CrossLanguageOptions): void</p>     <p>设置当前FrameNode的跨ArkTS语言访问选项。例如ArkTS语言创建的节点，设置该节点是否可通过非ArkTS语言进行属性设置。当前FrameNode如果不可修改或不可设置跨ArkTS语言访问选项，抛出异常信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前仅支持<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#scroll12">Scroll</a>, <a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#swiper12">Swiper</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#list12">List</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitem12">ListItem</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitemgroup12">ListImteGroup</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#waterflow12">WatterFlow</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#flowitem12">FlowItem</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#grid14">Grid</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#griditem14">GridTime</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textinput12">TextInput</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textarea14">TextArea</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#column12">Column</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#row12">Row</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#stack12">Stack</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#flex12">Flex</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#relativecontainer12">RelativeContainer</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#progress12">Progress</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#loadingprogress12">LoadingProgress</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#image12">Image</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#button12">Button</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#checkbox18">CheckBox</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#radio18">Radio</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#slider18">Slider</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#toggle18">Toggle</a>，<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">XComponent</a>类型的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>设置跨ArkTS语言访问选项。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#crosslanguageoptions15">CrossLanguageOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">跨ArkTS语言访问选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100022</td>         <td class="cellrowborder" width="50%">The FrameNode cannot be set whether to support cross-language common attribute setting.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="getcrosslanguageoptions15" device-type="phone,2in1,tablet,wearable,tv">getCrossLanguageOptions<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcrosslanguageoptions15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCrossLanguageOptions(): CrossLanguageOptions</p>     <p>获取当前FrameNode的跨ArkTS语言访问选项。例如ArkTS语言创建的节点，返回该节点是否可通过非ArkTS语言进行属性设置。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#crosslanguageoptions15">CrossLanguageOptions</a></td>         <td class="cellrowborder" width="50%">跨ArkTS语言访问选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 784px;">     <h3 id="getinteractioneventbindinginfo19" device-type="phone,2in1,tablet,wearable,tv">getInteractionEventBindingInfo<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getinteractioneventbindinginfo19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getInteractionEventBindingInfo(eventType: EventQueryType): InteractionEventBindingInfo | undefined</p>     <p>获取目标节点的事件绑定信息，如果该组件节点上没有绑定要查询的交互事件类型时，返回 undefined。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">eventType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#eventquerytype19">EventQueryType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要查询的交互事件类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#interactioneventbindinginfo19">InteractionEventBindingInfo</a> | undefined</td>         <td class="cellrowborder" width="50%">如果当前节点上绑定了任意交互事件，则返回一个InteractionEventBindingInfo对象，指示事件绑定详细信息，如果没有绑定任何交互事件则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点操作示例">节点操作示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 438px;">     <h3 id="recycle18" device-type="phone,2in1,tablet,wearable,tv">recycle<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="recycle18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>recycle(): void</p>     <p>全局复用场景下，触发子组件回收，彻底释放FrameNode后端资源，以便于资源的重新复用，确保后端资源能够被有效回收并再次使用。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点复用回收使用示例">节点复用回收使用示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 438px;">     <h3 id="reuse18" device-type="phone,2in1,tablet,wearable,tv">reuse<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reuse18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reuse(): void</p>     <p>全局复用场景下，触发子组件复用，实现FrameNode后端资源的复用，提升资源利用效率。为保证资源充足，可以在recycle之后使用。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#节点复用回收使用示例">节点复用回收使用示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 895px;">     <h3 id="addsupporteduistates20" device-type="phone,2in1,tablet,wearable,tv">addSupportedUIStates<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addsupporteduistates20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addSupportedUIStates(uiStates: number, statesChangeHandler: UIStatesChangeHandler, excludeInner?: boolean): void</p>     <p>设置组件支持的多态样式状态。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uiStates</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要处理目标节点的UI状态。</p>          <p>可以通过位或计算同时指定设置多个状态，如：targetUIStates = UIState.PRESSED | UIState.FOCUSED。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">statesChangeHandler</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#uistateschangehandler20">UIStatesChangeHandler</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态变化时的回调函数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">excludeInner</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>禁止内部默认状态样式处理的标志，默认值为false。</p>          <p>true表示禁止内部默认状态样式处理，false不禁止内部默认状态样式处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#组件设置和删除多态样式状态示例">组件设置和删除多态样式状态示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 685px;">     <h3 id="removesupporteduistates20" device-type="phone,2in1,tablet,wearable,tv">removeSupportedUIStates<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removesupporteduistates20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeSupportedUIStates(uiStates: number): void</p>     <p>删除组件当前注册的状态处理。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uiStates</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要删除的UI状态。</p>          <p>可以通过位或计算同时指定删除多个状态，如：removeUIStates = UIState.PRESSED | UIState.FOCUSED。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#组件设置和删除多态样式状态示例">组件设置和删除多态样式状态示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2815px;">     <h3 id="createanimation20" device-type="phone,2in1,tablet,wearable,tv">createAnimation<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createanimation20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createAnimation(property: AnimationPropertyType, startValue: Optional&lt;number[]&gt;, endValue: number[], param: AnimateParam): boolean</p>     <p>创建FrameNode上属性的动画。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">property</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#animationpropertytype20">AnimationPropertyType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">动画属性枚举。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startValue</td>         <td class="cellrowborder" width="25%">Optional&lt;number[]&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>动画属性的起始值。取值为undefined或数组，取值为数组时数组长度需要和属性枚举匹配。如果为undefined则表示不显式指定动画初值，节点上一次设置的属性终值为此次动画的起点值。如果取值为数组，</p>          <p>- 对于AnimationPropertyType.ROTATION，取值格式为[rotationX, rotationY, rotationZ]，单位为度（°），表示绕x、y、z轴的旋转角。</p>          <p>- 对于AnimationPropertyType.TRANSLATION，取值格式为[translateX, translateY]，单位为px，表示沿x、y轴的平移量。</p>          <p>- 对于AnimationPropertyType.SCALE，取值格式为[scaleX, scaleY]，表示x、y方向的缩放比例。</p>          <p>- 对于AnimationPropertyType.OPACITY，取值格式为[opacity]，表示不透明度。opacity的取值范围为[0, 1]。</p>          <p>当节点上从未设置过该属性时，需要显式指定startValue才能正常创建动画。当节点上已经设置过属性（如第二次及之后创建动画），则推荐不显式指定startValue或者显式指定startValue为上一次的终值，表示使用上一次的终值作为新的动画起点，避免起始值跳变。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">endValue</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>动画属性的终止值。取值为数组，数组长度需要和属性枚举匹配。</p>          <p>- 对于AnimationPropertyType.ROTATION，取值格式为[rotationX, rotationY, rotationZ]，单位为度（°），表示绕x、y、z轴的旋转角。</p>          <p>- 对于AnimationPropertyType.TRANSLATION，取值格式为[translateX, translateY]，单位为px，表示沿x、y轴的平移量。</p>          <p>- 对于AnimationPropertyType.SCALE，取值格式为[scaleX, scaleY]，表示x、y方向的缩放比例。</p>          <p>- 对于AnimationPropertyType.OPACITY，取值格式为[opacity]，表示不透明度。opacity的取值范围为[0, 1]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">param</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-explicit-animation#animateparam对象说明">AnimateParam</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">动画参数。包含时长、动画曲线、结束回调等参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>表示动画是否创建成功。</p>          <p>返回值为true：动画创建成功，如果动画参数中设置结束回调，动画结束后会调用结束回调。</p>          <p>返回值为false：动画创建失败，即使动画参数中设置结束回调，结束回调也不会被调用。</p>          <p>可能导致动画创建失败的原因：</p>          <p>1. 节点已经释放，调用过<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#dispose12">dispose</a>方法。</p>          <p>2. 对于系统组件的代理节点，即对于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#ismodifiable12">isModifiable</a>为false的节点，调用该接口会失败。</p>          <p>3. 属性枚举非法，或属性枚举需要的长度与startValue或endValue的长度不匹配。</p>          <p>4. 该属性在第一次创建动画时没有显式指定startValue导致没有动画起点值，或设置的动画终值和动画起始值（当startValue为undefined时动画起始值为上一次的终值）相同，此时无动画产生。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#动画创建与取消示例">动画创建与取消示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1144px;">     <h3 id="cancelanimations20" device-type="phone,2in1,tablet,wearable,tv">cancelAnimations<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cancelanimations20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cancelAnimations(properties: AnimationPropertyType[]): boolean</p>     <p>请求取消FrameNode上指定属性上的所有动画，该方法需在节点所处线程中调用，会阻塞当前线程以等待取消结果。如果动画成功取消，节点上的属性值会被恢复为取消时的显示值（即当前状态）。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">properties</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#animationpropertytype20">AnimationPropertyType</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">待取消的动画属性枚举数组。可以一次取消一个节点上的多个属性的动画。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>表示动画是否取消成功。</p>          <p>返回值为true：动画取消成功。</p>          <p>返回值为false：动画取消失败。</p>          <p>可能导致动画取消失败的原因：</p>          <p>1. 节点已经释放，调用过<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#dispose12">dispose</a>方法。</p>          <p>2. 对于系统组件的代理节点，即对于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#ismodifiable12">isModifiable</a>为false的节点，调用该接口会失败。</p>          <p>3. 属性枚举数组存在非法枚举值。</p>          <p>4. 系统异常。如发生ipc异常导致动画取消失败。</p>          <p>1. 即使属性上没有动画，尝试取消该属性的动画，在无系统异常情况下调用取消接口也会返回true。</p>          <p>2. 如果开发者保证传入参数合法且节点正常，返回false时表明发生了系统异常。此时开发者可隔一段时间后再次尝试取消，或通过调用duration为0的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createanimation20">createAnimation</a>接口停止属性上的动画。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#动画创建与取消示例">动画创建与取消示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h3 id="getnodepropertyvalue20" device-type="phone,2in1,tablet,wearable,tv">getNodePropertyValue<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnodepropertyvalue20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNodePropertyValue(property: AnimationPropertyType): number[]</p>     <p>获取FrameNode上的属性值。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">property</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#animationpropertytype20">AnimationPropertyType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">动画属性枚举。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">          <p>表示渲染节点上的属性值，返回的数组长度与属性枚举相关，异常时返回空数组。</p>          <p>对不同属性枚举的返回值格式：</p>          <p>- 当节点已经释放，调用过<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#dispose12">dispose</a>方法，或者属性枚举非法时，返回长度为0的空数组。</p>          <p>- 对于AnimationPropertyType.ROTATION，返回值为[rotationX, rotationY, rotationZ]，单位为度（°），表示绕x、y、z轴的旋转角。</p>          <p>- 对于AnimationPropertyType.TRANSLATION，返回值为[translateX, translateY]，单位为px，表示沿x、y轴的平移量。</p>          <p>- 对于AnimationPropertyType.SCALE，返回值为[scaleX, scaleY]，表示x、y方向的缩放比例。</p>          <p>- 对于AnimationPropertyType.OPACITY，返回值为[opacity]，表示不透明度。</p>          <p>1. 动画正常取消后，节点上的属性值被恢复为取消时的值，通过该接口可以获取取消后的显示值。</p>          <p>2. 动画期间该接口的返回值为该属性的终值，而不是动画过程的实时值。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#动画创建与取消示例">动画创建与取消示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2687px;">     <h3 id="invalidateattributes21" device-type="phone,2in1,tablet,wearable,tv">invalidateAttributes<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="invalidateattributes21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>invalidateAttributes(): void</p>     <p>在当前帧触发节点属性更新。</p>     <p>当前节点的属性在构建阶段后被修改，这些改动不会立即生效，而是延迟到下一帧统一处理。</p>     <p>此功能强制当前帧内即时节点更新，确保同步应用渲染效果。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <p>从API version 21开始，通过if else动态切换两个节点，并且在节点创建时调用invalidateAttributes即时触发节点属性更新，避免组件切换过程中出现闪烁。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode, <span class="hljs-title class_">NodeContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义NodeAdapter控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeAdapterController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li> <span class="hljs-attr">imageUrl</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">imageUrl:<span class="hljs-built_in">string</span></span>) {</li><li>   <span class="hljs-variable language_">super</span>();</li><li>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageUrl</span> = imageUrl;</li><li> }</li><li> <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>   <span class="hljs-keyword">let</span> imageNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Image"</span>);</li><li>   imageNode.<span class="hljs-title function_">initialize</span>($r(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageUrl</span>))</li><li>   imageNode.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>);</li><li>   <span class="hljs-comment">// 强制当前帧内即时节点更新，避免出现切换闪烁</span></li><li>   imageNode.<span class="hljs-title function_">invalidateAttributes</span>();</li><li>   <span class="hljs-keyword">return</span> imageNode;</li><li> }</li><li>}</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，挂载前加载样例图片</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NodeComponent3</span> {</li><li> <span class="hljs-keyword">private</span> <span class="hljs-attr">rootSlot</span>: <span class="hljs-title class_">NodeContent</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeContent</span>();</li><li> <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>   <span class="hljs-keyword">const</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>   <span class="hljs-keyword">let</span> imageNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Image"</span>);</li><li>   imageNode.<span class="hljs-title function_">initialize</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))</li><li>   imageNode.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>);</li><li>   imageNode.<span class="hljs-title function_">invalidateAttributes</span>();</li><li>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootSlot</span>.<span class="hljs-title function_">addFrameNode</span>(imageNode);</li><li> }</li><li> <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>   <span class="hljs-title class_">ContentSlot</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootSlot</span>)</li><li> }</li><li>}</li><li><span class="hljs-comment">// 自定义挂载事件的自定义组件，挂载前加载样例图片</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NodeComponent4</span> {</li><li> <span class="hljs-keyword">private</span> <span class="hljs-attr">rootSlot</span>: <span class="hljs-title class_">NodeContent</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeContent</span>();</li><li> <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>   <span class="hljs-keyword">const</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>   <span class="hljs-keyword">let</span> imageNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Image"</span>);</li><li>   imageNode.<span class="hljs-title function_">initialize</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))</li><li>   imageNode.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>);</li><li>   imageNode.<span class="hljs-title function_">invalidateAttributes</span>();</li><li>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootSlot</span>.<span class="hljs-title function_">addFrameNode</span>(imageNode);</li><li> }</li><li> <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>   <span class="hljs-title class_">ContentSlot</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootSlot</span>)</li><li> }</li><li>}</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListNodeTest</span> {</li><li> <span class="hljs-meta">@State</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li> <span class="hljs-attr">adapterController</span>: <span class="hljs-title class_">MyNodeAdapterController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeAdapterController</span>(<span class="hljs-string">'app.media.startIcon'</span>);</li><li> <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>   <span class="hljs-title class_">Column</span>() {</li><li>     <span class="hljs-title class_">Text</span>(<span class="hljs-string">"ListNode Adapter"</span>);</li><li>     <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>       <span class="hljs-title class_">NodeComponent3</span>()</li><li>     } <span class="hljs-keyword">else</span> {</li><li>       <span class="hljs-title class_">NodeComponent4</span>()</li><li>     }</li><li>     <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>       <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>         .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>     } <span class="hljs-keyword">else</span> {</li><li>       <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>         .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>     }</li><li>     <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>       <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>)</li><li>     } <span class="hljs-keyword">else</span> {</li><li>       <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>)</li><li>     }</li><li>     <span class="hljs-title class_">Button</span>(<span class="hljs-string">'change'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>       <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</li><li>     })</li><li>   }.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>   .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li> }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="typedframenode12" device-type="phone,2in1,tablet,wearable,tv">TypedFrameNode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="typedframenode12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TypedFrameNode继承自<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#framenode-1">FrameNode</a>，用于声明具体类型的FrameNode。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 638px;">     <h3 id="属性" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">initialize</td>         <td class="cellrowborder" width="20%">C</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">该接口用于创建对应组件的构造参数，用于设置/更新组件的初始值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">attribute</td>         <td class="cellrowborder" width="20%">T</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">该接口用于获取对应组件的属性设置对象，用于设置/更新组件的通用、私有属性。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#commonattribute12">commonAttribute</a>仅在CustomFrameNode上生效，TypedFrameNode上commonAttribute行为未定义。建议使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口而非<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#commonattribute12">commonAttribute</a>接口进行通用属性设置，如node.attribute.backgroundColor(Color.Pink)。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 350px;">     <h2 id="typenode12" device-type="phone,2in1,tablet,wearable,tv">typeNode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="typenode12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>typeNode提供创建具体类型的FrameNode能力，可通过FrameNode的基础接口进行自定义的挂载，使用占位容器进行显示。</p>     <p>使用typeNode创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text">Text</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image">Image</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-select">Select</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle">Toggle</a>节点时，当传入的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a>对应的UI实例销毁后，调用该接口会返回一个无效的FrameNode节点，无法正常挂载和显示。</p>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#自定义具体类型节点示例">自定义具体类型节点示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 521px;">     <h3 id="text12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">Text<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="text12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Text = TypedFrameNode&lt;TextInterface, TextAttribute&gt;</p>     <p>Text类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text#接口">TextInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text#属性">TextAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Text类型FrameNode节点。</p>          <p>TextInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Text组件的构造函数类型。</p>          <p>TextAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Text组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h3 id="createnodetext12" device-type="phone,2in1,tablet,wearable,tv">createNode('Text')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetext12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Text'): Text</p>     <p>创建Text类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Text'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Text类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#text12">Text</a></td>         <td class="cellrowborder" width="50%">Text类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Text</span></li><li>    <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"Hello"</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>);</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(text, <span class="hljs-string">'Text'</span>)?.<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(text);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Text sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="getattributetext20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Text')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributetext20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Text'): TextAttribute | undefined</p>     <p>获取Text节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Text'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Text节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TextAttribute | undefined</td>         <td class="cellrowborder" width="50%">Text节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Text</span></li><li>    <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"Hello"</span>);</li><li>    <span class="hljs-comment">// 获取Text的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(text, <span class="hljs-string">'Text'</span>)?.<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(text);</li><li>    <span class="hljs-comment">// 创建另一个Text用于对比</span></li><li>    <span class="hljs-keyword">let</span> text2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text2.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"world"</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(text2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Text sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2098px;">     <h3 id="bindcontrollertext20" device-type="phone,2in1,tablet,wearable,tv">bindController('Text')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollertext20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: TextController, nodeType: 'Text'): void</p>     <p>将文本控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text#textcontroller11">TextController</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#text12">Text</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定文本控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text#textcontroller11">TextController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Text'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入框控制器的目标节点的节点类型为Text。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-comment">// 设置TextController，可以在外部获取</span></li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextController</span>()</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Text</span></li><li>    <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"Hello"</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>);</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(text, <span class="hljs-string">'Text'</span>)?.<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    <span class="hljs-comment">// 绑定TextController</span></li><li>    typeNode.<span class="hljs-title function_">bindController</span>(text, <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>, <span class="hljs-string">'Text'</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(text);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">line</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Text bindController Sample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Text的行数, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.line}</span>`</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">`点击获取行数`</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">line</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getLayoutManager</span>().<span class="hljs-title function_">getLineCount</span>()</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="column12" device-type="phone,2in1,tablet,wearable,tv">Column<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="column12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Column = TypedFrameNode&lt;ColumnInterface, ColumnAttribute&gt;</p>     <p>Column类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column#接口">ColumnInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column#属性">ColumnAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Column类型FrameNode节点。</p>          <p>ColumnInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Column组件的构造函数类型。</p>          <p>ColumnAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Column组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnodecolumn12" device-type="phone,2in1,tablet,wearable,tv">createNode('Column')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodecolumn12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Column'): Column</p>     <p>创建Column类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Column'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Column类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#column12">Column</a></td>         <td class="cellrowborder" width="50%">Column类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Column控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyColumnController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建Column</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myColumnController</span>: <span class="hljs-title class_">MyColumnController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyColumnController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ColumnSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myColumnController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="getattributecolumn20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Column')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributecolumn20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Column'): ColumnAttribute | undefined</p>     <p>获取Column节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Column'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Column节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ColumnAttribute | undefined</td>         <td class="cellrowborder" width="50%">Column节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Column</span></li><li>    <span class="hljs-keyword">let</span> col1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col1.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-comment">// 获取Column的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(col1, <span class="hljs-string">'Column'</span>)?.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(col1);</li><li>    <span class="hljs-comment">// 创建另一个Column用于对比</span></li><li>    <span class="hljs-keyword">let</span> col2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col2.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(col2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Column sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="row12" device-type="phone,2in1,tablet,wearable,tv">Row<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="row12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Row = TypedFrameNode&lt;RowInterface, RowAttribute&gt;</p>     <p>Row类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row#接口">RowInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row#属性">RowAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Row类型FrameNode节点。</p>          <p>RowInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Row组件的构造函数类型。</p>          <p>RowAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Row组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnoderow12" device-type="phone,2in1,tablet,wearable,tv">createNode('Row')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnoderow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Row'): Row</p>     <p>创建Row类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Row'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Row类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#row12">Row</a></td>         <td class="cellrowborder" width="50%">Row类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Row控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRowController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建row</span></li><li>    <span class="hljs-keyword">let</span> row = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Row'</span>)</li><li>    row.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(row)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myRowController</span>: <span class="hljs-title class_">MyRowController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRowController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RowSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRowController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getattributerow20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Row')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributerow20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Row'): RowAttribute | undefined</p>     <p>获取Row节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Row'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Row节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">RowAttribute | undefined</td>         <td class="cellrowborder" width="50%">Row节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Row</span></li><li>    <span class="hljs-keyword">let</span> row1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Row'</span>);</li><li>    row1.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-comment">// 获取Row的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(row1, <span class="hljs-string">'Row'</span>)?.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(row1);</li><li>    <span class="hljs-comment">// 创建另一个Row用于对比</span></li><li>    <span class="hljs-keyword">let</span> row2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Row'</span>);</li><li>    row2.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(row2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Row sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="stack12" device-type="phone,2in1,tablet,wearable,tv">Stack<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stack12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Stack = TypedFrameNode&lt;StackInterface, StackAttribute&gt;</p>     <p>Stack类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-stack#接口">StackInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-stack#属性">StackAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Stack类型FrameNode节点。</p>          <p>StackInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Stack组件的构造函数类型。</p>          <p>StackAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Stack组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1686px;">     <h3 id="createnodestack12" device-type="phone,2in1,tablet,wearable,tv">createNode('Stack')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodestack12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Stack'): Stack</p>     <p>创建Stack类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Stack'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Stack类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#stack12">Stack</a></td>         <td class="cellrowborder" width="50%">Stack类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Stack控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyStackController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建Stack</span></li><li>    <span class="hljs-keyword">let</span> stack = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Stack'</span>)</li><li>    stack.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">alignContent</span>: <span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Top</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(stack)</li><li>    <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>)</li><li>    text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"This is Text"</span>)</li><li>    <span class="hljs-comment">// 向stack添加text</span></li><li>    stack.<span class="hljs-title function_">appendChild</span>(text)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myStackController</span>: <span class="hljs-title class_">MyStackController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyStackController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'StackSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myStackController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getattributestack20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Stack')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributestack20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Stack'): StackAttribute | undefined</p>     <p>获取Stack节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Stack'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Stack节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">StackAttribute | undefined</td>         <td class="cellrowborder" width="50%">Stack节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Stack</span></li><li>    <span class="hljs-keyword">let</span> stack1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Stack'</span>);</li><li>    stack1.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-comment">// 获取Stack的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(stack1, <span class="hljs-string">'Stack'</span>)?.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(stack1);</li><li>    <span class="hljs-comment">// 创建另一个Stack用于对比</span></li><li>    <span class="hljs-keyword">let</span> stack2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Stack'</span>);</li><li>    stack2.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(stack2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Row sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="gridrow12" device-type="phone,2in1,tablet,wearable,tv">GridRow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gridrow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type GridRow = TypedFrameNode&lt;GridRowInterface, GridRowAttribute&gt;</p>     <p>GridRow类型的FrameNode节点类型。只允许添加GridCol类型子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow#接口">GridRowInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow#属性">GridRowAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供GridRow类型FrameNode节点。</p>          <p>GridRowInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为GridRow组件的构造函数类型。</p>          <p>GridRowAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回GridRow组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1758px;">     <h3 id="createnodegridrow12" device-type="phone,2in1,tablet,wearable,tv">createNode('GridRow')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodegridrow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'GridRow'): GridRow</p>     <p>创建GridRow类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'GridRow'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建GridRow类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#gridrow12">GridRow</a></td>         <td class="cellrowborder" width="50%">GridRow类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义GridRow控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyGridRowController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建GridRow</span></li><li>    <span class="hljs-keyword">let</span> gridRow = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'GridRow'</span>)</li><li>    gridRow.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">columns</span>: <span class="hljs-number">12</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(gridRow)</li><li>    <span class="hljs-comment">// 创建GridCol</span></li><li>    <span class="hljs-keyword">let</span> gridCol = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'GridCol'</span>)</li><li>    gridCol.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">4</span> })</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    <span class="hljs-comment">// 向gridRow添加gridCol</span></li><li>    gridRow.<span class="hljs-title function_">appendChild</span>(gridCol)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myGridRowController</span>: <span class="hljs-title class_">MyGridRowController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGridRowController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GridRowSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myGridRowController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="gridcol12" device-type="phone,2in1,tablet,wearable,tv">GridCol<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gridcol12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type GridCol = TypedFrameNode&lt;GridColInterface, GridColAttribute&gt;</p>     <p>GridCol类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol#接口">GridColInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol#属性">GridColAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供GridCol类型FrameNode节点。</p>          <p>GridColInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为GridCol组件的构造函数类型。</p>          <p>GridColAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回GridCol组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1758px;">     <h3 id="createnodegridcol12" device-type="phone,2in1,tablet,wearable,tv">createNode('GridCol')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodegridcol12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'GridCol'): GridCol</p>     <p>创建GridCol类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'GridCol'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建GridCol类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#gridcol12">GridCol</a></td>         <td class="cellrowborder" width="50%">GridCol类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义GridRow控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyGridRowController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建GridRow</span></li><li>    <span class="hljs-keyword">let</span> gridRow = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'GridRow'</span>)</li><li>    gridRow.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">columns</span>: <span class="hljs-number">12</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(gridRow)</li><li>    <span class="hljs-comment">// 创建GridCol</span></li><li>    <span class="hljs-keyword">let</span> gridCol = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'GridCol'</span>)</li><li>    gridCol.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">4</span> })</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    <span class="hljs-comment">// 向gridRow添加gridCol</span></li><li>    gridRow.<span class="hljs-title function_">appendChild</span>(gridCol)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myGridRowController</span>: <span class="hljs-title class_">MyGridRowController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGridRowController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GridColSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myGridRowController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="flex12" device-type="phone,2in1,tablet,wearable,tv">Flex<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flex12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Flex = TypedFrameNode&lt;FlexInterface, FlexAttribute&gt;</p>     <p>Flex类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-flex#接口">FlexInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-flex#属性">FlexAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Flex类型FrameNode节点。</p>          <p>FlexInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Flex组件的构造函数类型。</p>          <p>FlexAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Flex组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnodeflex12" device-type="phone,2in1,tablet,wearable,tv">createNode('Flex')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeflex12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Flex'): Flex</p>     <p>创建Flex类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Flex'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Flex类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#flex12">Flex</a></td>         <td class="cellrowborder" width="50%">Flex类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Flex控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFlexController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建Flex</span></li><li>    <span class="hljs-keyword">let</span> flex = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Flex'</span>)</li><li>    flex.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(flex)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myFlexController</span>: <span class="hljs-title class_">MyFlexController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFlexController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'FlexSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myFlexController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getattributeflex20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Flex')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeflex20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Flex'): FlexAttribute | undefined</p>     <p>获取Flex节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Flex'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Flex节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">FlexAttribute | undefined</td>         <td class="cellrowborder" width="50%">Flex节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Flex</span></li><li>    <span class="hljs-keyword">let</span> flex1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Flex'</span>);</li><li>    flex1.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-comment">// 获取Flex的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(flex1, <span class="hljs-string">'Flex'</span>)?.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(flex1);</li><li>    <span class="hljs-comment">// 创建另一个Flex用于对比</span></li><li>    <span class="hljs-keyword">let</span> flex2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Flex'</span>);</li><li>    flex2.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(flex2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Flex sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="swiper12" device-type="phone,2in1,tablet,wearable,tv">Swiper<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="swiper12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Swiper = TypedFrameNode&lt;SwiperInterface, SwiperAttribute&gt;</p>     <p>Swiper类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper#接口">SwiperInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper#属性">SwiperAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Swiper类型FrameNode节点。</p>          <p>SwiperInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Swiper组件的构造函数类型。</p>          <p>SwiperAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Swiper组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2046px;">     <h3 id="createnodeswiper12" device-type="phone,2in1,tablet,wearable,tv">createNode('Swiper')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeswiper12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Swiper'): Swiper</p>     <p>创建Swiper类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Swiper'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Swiper类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#swiper12">Swiper</a></td>         <td class="cellrowborder" width="50%">Swiper类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Swiper控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySwiperController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-attr">swiperController</span>: <span class="hljs-title class_">SwiperController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SwiperController</span>()</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-comment">// 创建Swiper</span></li><li>    <span class="hljs-keyword">let</span> swiperNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Swiper'</span>)</li><li>
</li><li>    <span class="hljs-comment">// 创建Text</span></li><li>    <span class="hljs-keyword">let</span> text0 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>)</li><li>    text0.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"0"</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    <span class="hljs-comment">// 向swiper添加text0</span></li><li>    swiperNode.<span class="hljs-title function_">appendChild</span>(text0)</li><li>    <span class="hljs-comment">// 创建另一个Text用于切换</span></li><li>    <span class="hljs-keyword">let</span> text1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>)</li><li>    text1.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"1"</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    <span class="hljs-comment">// 向swiper添加text1</span></li><li>    swiperNode.<span class="hljs-title function_">appendChild</span>(text1)</li><li>    swiperNode.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'20%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>    <span class="hljs-comment">// 向swiper绑定控制器</span></li><li>    typeNode.<span class="hljs-title function_">bindController</span>(swiperNode, <span class="hljs-variable language_">this</span>.<span class="hljs-property">swiperController</span>, <span class="hljs-string">'Swiper'</span>)</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(swiperNode, <span class="hljs-string">'Swiper'</span>)?.<span class="hljs-title function_">loop</span>(<span class="hljs-literal">false</span>)</li><li>    <span class="hljs-keyword">return</span> swiperNode;</li><li>
</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">mySwiperController</span>: <span class="hljs-title class_">MySwiperController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySwiperController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'SwiperSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mySwiperController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="getattributeswiper20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Swiper')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeswiper20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Swiper'): SwiperAttribute | undefined</p>     <p>获取Swiper节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Swiper'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Swiper节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">SwiperAttribute | undefined</td>         <td class="cellrowborder" width="50%">Swiper节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodeswiper12">createNode('Swiper')<sup>12+</sup>示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1025px;">     <h3 id="bindcontrollerswiper20" device-type="phone,2in1,tablet,wearable,tv">bindController('Swiper')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollerswiper20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: SwiperController, nodeType: 'Swiper'): void</p>     <p>将控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper#swipercontroller">SwiperController</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#swiper12">Swiper</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper#swipercontroller">SwiperController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">Swiper容器组件的控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Swiper'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定控制器的目标节点的节点类型为Swiper。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodeswiper12">createNode('Swiper')<sup>12+</sup>示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="progress12" device-type="phone,2in1,tablet,wearable,tv">Progress<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="progress12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Progress = TypedFrameNode&lt;ProgressInterface, ProgressAttribute&gt;</p>     <p>Progress类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-progress#接口">ProgressInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-progress#属性">ProgressAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Progress类型FrameNode节点。</p>          <p>ProgressInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Progress组件的构造函数类型。</p>          <p>ProgressAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Progress组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1662px;">     <h3 id="createnodeprogress12" device-type="phone,2in1,tablet,wearable,tv">createNode('Progress')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeprogress12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Progress'): Progress</p>     <p>创建Progress类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Progress'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Progress类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#progress12">Progress</a></td>         <td class="cellrowborder" width="50%">Progress类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Progress控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProgressNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-comment">// 创建Progress</span></li><li>    <span class="hljs-keyword">let</span> node = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Progress'</span>);</li><li>    node.<span class="hljs-title function_">initialize</span>({</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-number">15</span>,</li><li>      <span class="hljs-attr">total</span>: <span class="hljs-number">200</span>,</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">ProgressType</span>.<span class="hljs-property">ScaleRing</span></li><li>    }).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(node);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyProgressNodeController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getattributeprogress20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Progress')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeprogress20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Progress'): ProgressAttribute | undefined</p>     <p>获取Progress节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Progress'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Progress节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ProgressAttribute | undefined</td>         <td class="cellrowborder" width="50%">Progress节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Progress控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProgressNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> node = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Progress'</span>);</li><li>    node.<span class="hljs-title function_">initialize</span>({</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-number">15</span>,</li><li>      <span class="hljs-attr">total</span>: <span class="hljs-number">200</span>,</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">ProgressType</span>.<span class="hljs-property">ScaleRing</span></li><li>    }).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>    <span class="hljs-comment">// 获取Progress的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(node, <span class="hljs-string">'Progress'</span>);</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(node);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyProgressNodeController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="scroll12" device-type="phone,2in1,tablet,wearable,tv">Scroll<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scroll12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Scroll = TypedFrameNode&lt;ScrollInterface, ScrollAttribute&gt;</p>     <p>Scroll类型的FrameNode节点类型。允许添加一个子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#接口">ScrollInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">ScrollAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Scroll类型FrameNode节点。</p>          <p>ScrollInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Scroll组件的构造函数类型。</p>          <p>ScrollAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Scroll组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1998px;">     <h3 id="createnodescroll12" device-type="phone,2in1,tablet,wearable,tv">createNode('Scroll')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodescroll12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Scroll'): Scroll</p>     <p>创建Scroll类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Scroll'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Scroll类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#scroll12">Scroll</a></td>         <td class="cellrowborder" width="50%">Scroll类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Scroll控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyScrollController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-comment">// 创建Scroll</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>    <span class="hljs-comment">//创建Scroll并设置属性</span></li><li>    <span class="hljs-keyword">let</span> scrollNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Scroll'</span>);</li><li>    scrollNode.<span class="hljs-title function_">initialize</span>(scroller).<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">500</span> });</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(scrollNode, <span class="hljs-string">"Scroll"</span>)?.<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>);</li><li>
</li><li>    <span class="hljs-keyword">let</span> colNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    <span class="hljs-comment">// 向scroll添加column</span></li><li>    scrollNode.<span class="hljs-title function_">appendChild</span>(colNode);</li><li>
</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>      text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">'item'</span> + i)</li><li>        .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'90%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> })</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>);</li><li>      colNode.<span class="hljs-title function_">appendChild</span>(text);</li><li>    }</li><li>
</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(scrollNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myScrollController</span>: <span class="hljs-title class_">MyScrollController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyScrollController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ScrollSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myScrollController</span>)</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 829px;">     <h3 id="getattributescroll15" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Scroll')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributescroll15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Scroll'): ScrollAttribute | undefined</p>     <p>获取Scroll节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Scroll'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Scroll节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ScrollAttribute | undefined</td>         <td class="cellrowborder" width="50%">Scroll节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodescroll12">createNode('Scroll')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 877px;">     <h3 id="geteventscroll19" device-type="phone,2in1,tablet,wearable,tv">getEvent('Scroll')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geteventscroll19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEvent(node: FrameNode, nodeType: 'Scroll'): UIScrollEvent | undefined</p>     <p>获取Scroll节点中持有的UIScrollEvent对象，用于设置滚动事件。设置的滚动事件与声明式定义的事件平行；设置的滚动事件不覆盖原有的声明式事件。同时设置两个事件回调的时候，优先回调声明式事件。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取事件时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Scroll'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Scroll节点类型的滚动事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#uiscrollevent19">UIScrollEvent</a> | undefined</td>         <td class="cellrowborder" width="50%">Scroll节点类型的滚动事件，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#滚动事件示例">滚动事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1042px;">     <h3 id="bindcontrollerscroll15" device-type="phone,2in1,tablet,wearable,tv">bindController('Scroll')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollerscroll15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: Scroller, nodeType: 'Scroll'): void</p>     <p>将滚动控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#scroll12">Scroll</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">滚动控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Scroll'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点的节点类型为Scroll。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. the type of the node is error. 2. the node is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">bindController</span>(node, scroller, <span class="hljs-string">'Scroll'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="relativecontainer12" device-type="phone,2in1,tablet,wearable,tv">RelativeContainer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="relativecontainer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RelativeContainer = TypedFrameNode&lt;RelativeContainerInterface, RelativeContainerAttribute&gt;</p>     <p>RelativeContainer类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-relativecontainer#接口">RelativeContainerInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-relativecontainer#属性">RelativeContainerAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供RelativeContainer类型FrameNode节点。</p>          <p>RelativeContainerInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为RelativeContainer组件的构造函数类型。</p>          <p>RelativeContainerAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回RelativeContainer组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnoderelativecontainer12" device-type="phone,2in1,tablet,wearable,tv">createNode('RelativeContainer')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnoderelativecontainer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'RelativeContainer'): RelativeContainer</p>     <p>创建RelativeContainer类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'RelativeContainer'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建RelativeContainer类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#relativecontainer12">RelativeContainer</a></td>         <td class="cellrowborder" width="50%">RelativeContainer类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Relative控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRelativeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-comment">// 创建RelativeContainer</span></li><li>    <span class="hljs-keyword">let</span> relative = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'RelativeContainer'</span>)</li><li>    relative.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(relative)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myRelativeController</span>: <span class="hljs-title class_">MyRelativeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRelativeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RelativeContainerSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRelativeController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1758px;">     <h3 id="getattributerelativecontainer20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('RelativeContainer')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributerelativecontainer20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'RelativeContainer'): RelativeContainerAttribute | undefined</p>     <p>获取RelativeContainer节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'RelativeContainer'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取RelativeContainer节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">RelativeContainerAttribute | undefined</td>         <td class="cellrowborder" width="50%">RelativeContainer节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建RelativeContainer</span></li><li>    <span class="hljs-keyword">let</span> relative1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'RelativeContainer'</span>);</li><li>    relative1.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-comment">// 获取RelativeContainer的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(relative1, <span class="hljs-string">'RelativeContainer'</span>)?.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(relative1);</li><li>    <span class="hljs-comment">// 创建另一个RelativeContainer用于对比</span></li><li>    <span class="hljs-keyword">let</span> relative2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'RelativeContainer'</span>);</li><li>    relative2.<span class="hljs-title function_">initialize</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"50%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(relative2);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RelativeContainer sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="divider12" device-type="phone,2in1,tablet,wearable,tv">Divider<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="divider12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Divider = TypedFrameNode&lt;DividerInterface, DividerAttribute&gt;</p>     <p>Divider类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-divider#接口">DividerInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-divider#属性">DividerAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Divider类型FrameNode节点。</p>          <p>DividerInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为RelativeContainer组件的构造函数类型。</p>          <p>DividerAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Divider组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="createnodedivider12" device-type="phone,2in1,tablet,wearable,tv">createNode('Divider')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodedivider12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Divider'): Divider</p>     <p>创建Divider类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Divider'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Divider类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#divider12">Divider</a></td>         <td class="cellrowborder" width="50%">Divider类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Divider控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDividerController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建divider</span></li><li>    <span class="hljs-keyword">let</span> divider = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Divider'</span>)</li><li>    divider.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">1</span>)</li><li>    <span class="hljs-comment">// 向col添加divider</span></li><li>    col.<span class="hljs-title function_">appendChild</span>(divider)</li><li>
</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myDividerController</span>: <span class="hljs-title class_">MyDividerController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDividerController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'DividerSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myDividerController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 561px;">     <h3 id="loadingprogress12" device-type="phone,2in1,tablet,wearable,tv">LoadingProgress<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadingprogress12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type LoadingProgress = TypedFrameNode&lt;LoadingProgressInterface, LoadingProgressAttribute&gt;</p>     <p>LoadingProgress类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-loadingprogress#接口">LoadingProgressInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-loadingprogress#属性">LoadingProgressAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供LoadingProgress类型FrameNode节点。</p>          <p>LoadingProgressInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为LoadingProgress组件的构造函数类型。</p>          <p>LoadingProgressAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回LoadingProgress组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h3 id="createnodeloadingprogress12" device-type="phone,2in1,tablet,wearable,tv">createNode('LoadingProgress')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeloadingprogress12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'LoadingProgress'): LoadingProgress</p>     <p>创建LoadingProgress类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'LoadingProgress'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建LoadingProgress类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#loadingprogress12">LoadingProgress</a></td>         <td class="cellrowborder" width="50%">LoadingProgress类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义LoadingProgress控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLoadingProgressNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-comment">// 创建LoadingProgress</span></li><li>    <span class="hljs-keyword">let</span> node = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'LoadingProgress'</span>);</li><li>    node.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">enableLoading</span>(<span class="hljs-literal">true</span>)</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(node);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyLoadingProgressNodeController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1686px;">     <h3 id="getattributeloadingprogress20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('LoadingProgress')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeloadingprogress20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'LoadingProgress'): LoadingProgressAttribute | undefined</p>     <p>获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-loadingprogress">LoadingProgress</a>节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'LoadingProgress'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取LoadingProgress节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">LoadingProgressAttribute | undefined</td>         <td class="cellrowborder" width="50%">LoadingProgress节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义LoadingProgress控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLoadingProgressNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> node = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'LoadingProgress'</span>);</li><li>    node.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">enableLoading</span>(<span class="hljs-literal">true</span>)</li><li>    <span class="hljs-comment">// 获取LoadingProgress的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(node, <span class="hljs-string">'LoadingProgress'</span>);</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(node);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyLoadingProgressNodeController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="search12" device-type="phone,2in1,tablet,wearable,tv">Search<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="search12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Search = TypedFrameNode&lt;SearchInterface, SearchAttribute&gt;</p>     <p>Search类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-search#接口">SearchInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-search#属性">SearchAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Search类型FrameNode节点。</p>          <p>SearchInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Search组件的构造函数类型。</p>          <p>SearchAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Search组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1638px;">     <h3 id="createnodesearch12" device-type="phone,2in1,tablet,wearable,tv">createNode('Search')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodesearch12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Search'): Search</p>     <p>创建Search类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Search'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Search类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#search12">Search</a></td>         <td class="cellrowborder" width="50%">Search类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建Search</span></li><li>    <span class="hljs-keyword">let</span> search = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Search'</span>);</li><li>    search.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">"Search"</span> })</li><li>      .<span class="hljs-title function_">searchButton</span>(<span class="hljs-string">'SEARCH'</span>)</li><li>      .<span class="hljs-title function_">textFont</span>({ <span class="hljs-attr">size</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">weight</span>: <span class="hljs-number">400</span> })</li><li>    col.<span class="hljs-title function_">appendChild</span>(search);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Search sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="blank12" device-type="phone,2in1,tablet,wearable,tv">Blank<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="blank12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Blank = TypedFrameNode&lt;BlankInterface, BlankAttribute&gt;</p>     <p>Blank类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-blank#接口">BlankInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-blank#属性">BlankAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Blank类型FrameNode节点。</p>          <p>BlankInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Blank组件的构造函数类型。</p>          <p>BlankAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Blank组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1758px;">     <h3 id="createnodeblank12" device-type="phone,2in1,tablet,wearable,tv">createNode('Blank')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeblank12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Blank'): Blank</p>     <p>创建Blank类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Blank'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Blank类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#blank12">Blank</a></td>         <td class="cellrowborder" width="50%">Blank类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Blank控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBlankController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Blank</span></li><li>    <span class="hljs-keyword">let</span> blank = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Blank'</span>)</li><li>    blank.<span class="hljs-title function_">initialize</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(blank)</li><li>
</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myBlankController</span>: <span class="hljs-title class_">MyBlankController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyBlankController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'BlankSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myBlankController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="image12" device-type="phone,2in1,tablet,wearable,tv">Image<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="image12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Image = TypedFrameNode&lt;ImageInterface, ImageAttribute&gt;</p>     <p>Image类型的FrameNode节点类型。不允许添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.124.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image#接口">ImageInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image#属性">ImageAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Image类型FrameNode节点。</p>          <p>ImageInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Image组件的构造函数类型。</p>          <p>ImageAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Image组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1830px;">     <h3 id="createnodeimage12" device-type="phone,2in1,tablet,wearable,tv">createNode('Image')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeimage12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Image'): Image</p>     <p>创建Image类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Image'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Image类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.125.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#image12">Image</a></td>         <td class="cellrowborder" width="50%">Image类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Image控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyImageController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-comment">// 创建Image</span></li><li>    <span class="hljs-keyword">let</span> imageNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Image'</span>);</li><li>    imageNode</li><li>      <span class="hljs-comment">// $r('app.media.img')需要替换为开发者所需的图像资源文件</span></li><li>      .<span class="hljs-title function_">initialize</span>($r(<span class="hljs-string">'app.media.img'</span>))</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">fillColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Contain</span>)</li><li>      .<span class="hljs-title function_">renderMode</span>(<span class="hljs-title class_">ImageRenderMode</span>.<span class="hljs-property">Template</span>)</li><li>      .<span class="hljs-title function_">fitOriginalSize</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">matchTextDirection</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">objectRepeat</span>(<span class="hljs-title class_">ImageRepeat</span>.<span class="hljs-property">X</span>)</li><li>      .<span class="hljs-title function_">autoResize</span>(<span class="hljs-literal">true</span>)</li><li>
</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(imageNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>
</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyImageController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1878px;">     <h3 id="getattributeimage20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Image')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeimage20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Image'): ImageAttribute | undefined</p>     <p>获取Image节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Image'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Image节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ImageAttribute | undefined</td>         <td class="cellrowborder" width="50%">Image节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Image控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyImageController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> imageNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Image'</span>);</li><li>    imageNode</li><li>      <span class="hljs-comment">// $r('app.media.img')需要替换为开发者所需的图像资源文件</span></li><li>      .<span class="hljs-title function_">initialize</span>($r(<span class="hljs-string">'app.media.img'</span>))</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">fillColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Contain</span>)</li><li>      .<span class="hljs-title function_">renderMode</span>(<span class="hljs-title class_">ImageRenderMode</span>.<span class="hljs-property">Template</span>)</li><li>      .<span class="hljs-title function_">fitOriginalSize</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">matchTextDirection</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">objectRepeat</span>(<span class="hljs-title class_">ImageRepeat</span>.<span class="hljs-property">X</span>)</li><li>      .<span class="hljs-title function_">autoResize</span>(<span class="hljs-literal">true</span>)</li><li>    <span class="hljs-comment">// 获取Image的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(imageNode, <span class="hljs-string">'Image'</span>);</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(imageNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>
</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Sample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyImageController</span>()).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="list12" device-type="phone,2in1,tablet,wearable,tv">List<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="list12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type List = TypedFrameNode&lt;ListInterface, ListAttribute&gt;</p>     <p>List类型的FrameNode节点类型。只允许添加<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitem12">ListItem</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitemgroup12">ListItemGroup</a>类型子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#接口">ListInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#属性">ListAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供List类型FrameNode节点。</p>          <p>ListInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为List组件的构造函数类型。</p>          <p>ListAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回List组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2142px;">     <h3 id="createnodelist12" device-type="phone,2in1,tablet,wearable,tv">createNode('List')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodelist12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'List'): List</p>     <p>创建List类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'List'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建List类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.128.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#list12">List</a></td>         <td class="cellrowborder" width="50%">List类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义List控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyListController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-comment">//创建list节点</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-comment">// 创建List</span></li><li>    <span class="hljs-keyword">let</span> listNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'List'</span>);</li><li>    listNode.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">3</span> }).<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> });</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(listNode, <span class="hljs-string">"List"</span>)?.<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>);</li><li>
</li><li>    <span class="hljs-comment">//在list下创建ListItemGroup节点</span></li><li>    <span class="hljs-keyword">let</span> listItemGroupNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'ListItemGroup'</span>);</li><li>    listItemGroupNode.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">3</span> });</li><li>    listNode.<span class="hljs-title function_">appendChild</span>(listItemGroupNode);</li><li>
</li><li>    <span class="hljs-comment">//在ListItemGroup中放入ListItem节点</span></li><li>    <span class="hljs-keyword">let</span> listItemNode1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'ListItem'</span>);</li><li>    listItemNode1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">NONE</span> }).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FF00FF'</span>);</li><li>    <span class="hljs-keyword">let</span> text1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text1.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">'ListItem1'</span>);</li><li>    listItemNode1.<span class="hljs-title function_">appendChild</span>(text1);</li><li>    listItemGroupNode.<span class="hljs-title function_">appendChild</span>(listItemNode1);</li><li>
</li><li>    <span class="hljs-comment">// 创建ListItem，添加Text至ListItem，添加至listItemGroup</span></li><li>    <span class="hljs-keyword">let</span> listItemNode2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'ListItem'</span>);</li><li>    listItemNode2.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span> }).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FF00FF'</span>);</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(listItemNode2, <span class="hljs-string">"ListItem"</span>)?.<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>);</li><li>    <span class="hljs-keyword">let</span> text2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text2.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">'ListItem2'</span>);</li><li>    listItemNode2.<span class="hljs-title function_">appendChild</span>(text2);</li><li>    listItemGroupNode.<span class="hljs-title function_">appendChild</span>(listItemNode2);</li><li>
</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(listNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myListController</span>: <span class="hljs-title class_">MyListController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyListController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ListSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myListController</span>)</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="geteventlist19" device-type="phone,2in1,tablet,wearable,tv">getEvent('List')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geteventlist19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEvent(node: FrameNode, nodeType: 'List'): UIListEvent | undefined</p>     <p>获取List节点中持有的UIListEvent对象，用于设置滚动事件。设置的滚动事件与声明式定义的事件平行；设置的滚动事件不覆盖原有的声明式事件。同时设置两个事件回调的时候，优先回调声明式事件。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取事件时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'List'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取List节点类型的滚动事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.129.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#uilistevent19">UIListEvent</a> | undefined</td>         <td class="cellrowborder" width="50%">List节点类型的滚动事件，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#滚动事件示例">滚动事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 829px;">     <h3 id="getattributelist20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('List')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributelist20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'List'): ListAttribute | undefined</p>     <p>获取List节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'List'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取List节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ListAttribute | undefined</td>         <td class="cellrowborder" width="50%">List节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodelist12">createNode('List')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;">     <h3 id="bindcontrollerlist20" device-type="phone,2in1,tablet,wearable,tv">bindController('List')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollerlist20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: Scroller, nodeType: 'List'): void</p>     <p>将滚动控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#list12">List</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">滚动控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'List'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点的节点类型为List。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">bindController</span>(node, scroller, <span class="hljs-string">'List'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="listitem12" device-type="phone,2in1,tablet,wearable,tv">ListItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ListItem = TypedFrameNode&lt;ListItemInterface, ListItemAttribute&gt;</p>     <p>ListItem类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.132.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#接口">ListItemInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#属性">ListItemAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供ListItem类型FrameNode节点。</p>          <p>ListItemInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为ListItem组件的构造函数类型。</p>          <p>ListItemAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回ListItem组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 805px;">     <h3 id="createnodelistitem12" device-type="phone,2in1,tablet,wearable,tv">createNode('ListItem')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodelistitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'ListItem'): ListItem</p>     <p>创建ListItem类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'ListItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建ListItem类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitem12">ListItem</a></td>         <td class="cellrowborder" width="50%">ListItem类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodelist12">createNode('List')</a>示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="getattributelistitem20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('ListItem')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributelistitem20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'ListItem'): ListItemAttribute | undefined</p>     <p>获取ListItem节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'ListItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取ListItem节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ListItemAttribute | undefined</td>         <td class="cellrowborder" width="50%">ListItem节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodelist12">createNode('List')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="textinput12" device-type="phone,2in1,tablet,wearable,tv">TextInput<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textinput12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TextInput = TypedFrameNode&lt;TextInputInterface, TextInputAttribute&gt;</p>     <p>TextInput类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#接口">TextInputInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#属性">TextInputAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供TextInput类型FrameNode节点。</p>          <p>TextInputInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为TextInput组件的构造函数类型。</p>          <p>TextInputAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回TextInput组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1566px;">     <h3 id="createnodetextinput12" device-type="phone,2in1,tablet,wearable,tv">createNode('TextInput')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetextinput12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'TextInput'): TextInput</p>     <p>创建TextInput类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextInput'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建TextInput类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textinput12">TextInput</a></td>         <td class="cellrowborder" width="50%">TextInput类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建TextInput</span></li><li>    <span class="hljs-keyword">let</span> textInput = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextInput'</span>);</li><li>    textInput.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"TextInput"</span> });</li><li>    col.<span class="hljs-title function_">appendChild</span>(textInput);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextInput sample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1686px;">     <h3 id="getattributetextinput20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('TextInput')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributetextinput20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'TextInput'): TextInputAttribute | undefined</p>     <p>获取TextInput节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextInput'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取TextInput节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TextInputAttribute | undefined</td>         <td class="cellrowborder" width="50%">TextInput节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建TextInput</span></li><li>    <span class="hljs-keyword">let</span> textInput = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextInput'</span>);</li><li>    textInput.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'TextInput placeholderColor'</span> });</li><li>    <span class="hljs-comment">// 获取TextInput的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(textInput, <span class="hljs-string">'TextInput'</span>)?.<span class="hljs-title function_">placeholderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(textInput);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextInput getAttribute sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1930px;">     <h3 id="bindcontrollertextinput20" device-type="phone,2in1,tablet,wearable,tv">bindController('TextInput')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollertextinput20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: TextInputController, nodeType: 'TextInput'): void</p>     <p>将输入框控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#textinputcontroller8">TextInputController</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textinput12">TextInput</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入框控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#textinputcontroller8">TextInputController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">输入框控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextInput'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入框控制器的目标节点的节点类型为TextInput。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.138.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建、初始化TextInput，默认获焦</span></li><li>    <span class="hljs-keyword">let</span> textInput = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextInput'</span>);</li><li>    textInput.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"TextInput"</span> })</li><li>      .<span class="hljs-title function_">defaultFocus</span>(<span class="hljs-literal">true</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(textInput);</li><li>    <span class="hljs-comment">// 绑定TextInputController，设置光标位置</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextInputController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInputController</span>();</li><li>    typeNode.<span class="hljs-title function_">bindController</span>(textInput, controller, <span class="hljs-string">'TextInput'</span>);</li><li>    controller.<span class="hljs-title function_">caretPosition</span>(<span class="hljs-number">3</span>);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextInput bindController sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 705px;">     <h3 id="button12" device-type="phone,2in1,tablet,wearable,tv">Button<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="button12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Button = TypedFrameNode&lt;ButtonInterface, ButtonAttribute&gt;</p>     <p>Button类型的FrameNode节点类型。以子组件模式创建允许添加一个子组件。以label模式创建不可以添加子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.139.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-button#接口">ButtonInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-button#属性">ButtonAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Button类型FrameNode节点。</p>          <p>ButtonInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Button组件的构造函数类型。</p>          <p>ButtonAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Button组件的属性设置对象。</p>          <p>接口入参label不为空时，以label模式创建Button组件，以此模式创建无法包含子组件,并且不允许再设置子组件，否则会抛出异常。且label模式和子组件模式在第一次initialize创建之后无法在后续的initialize进行动态修改，如需要包含子组件，第一次initialize时不要设置label参数。</p>          <p>以子组件模式创建时，只能包含一个子组件，不能设置多个子组件，否则会抛出异常。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1734px;">     <h3 id="createnodebutton12" device-type="phone,2in1,tablet,wearable,tv">createNode('Button')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodebutton12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Button'): Button</p>     <p>创建Button类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Button'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Button类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#button12">Button</a></td>         <td class="cellrowborder" width="50%">Button类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Button控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyButtonController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Button</span></li><li>    <span class="hljs-keyword">let</span> button = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Button'</span>)</li><li>    button.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"This is Button"</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        uiContext.<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">"Button clicked"</span> })</li><li>      })</li><li>    col.<span class="hljs-title function_">appendChild</span>(button)</li><li>
</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myButtonController</span>: <span class="hljs-title class_">MyButtonController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyButtonController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ButtonSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myButtonController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1806px;">     <h3 id="getattributebutton20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Button')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributebutton20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Button'): ButtonAttribute | undefined</p>     <p>获取Button节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Button'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Button节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ButtonAttribute | undefined</td>         <td class="cellrowborder" width="50%">Button节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Button控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyButtonController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-keyword">let</span> button = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Button'</span>)</li><li>    button.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"This is Button"</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        uiContext.<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">"Button clicked"</span> })</li><li>      })</li><li>    <span class="hljs-comment">// 获取Button属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(button,<span class="hljs-string">'Button'</span>)?.<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">TEXTUAL</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(button)</li><li>
</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myButtonController</span>: <span class="hljs-title class_">MyButtonController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyButtonController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ButtonSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myButtonController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="listitemgroup12" device-type="phone,2in1,tablet,wearable,tv">ListItemGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listitemgroup12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ListItemGroup = TypedFrameNode&lt;ListItemGroupInterface, ListItemGroupAttribute&gt;</p>     <p>ListItemGroup类型的FrameNode节点类型。只允许添加<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem">ListItem</a>类型子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#接口">ListItemGroupInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#属性">ListItemGroupAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供ListItemGroup类型FrameNode节点。</p>          <p>ListItemGroupInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为ListItemGroup组件的构造函数类型。</p>          <p>ListItemGroupAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回ListItemGroup组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 829px;">     <h3 id="createnodelistitemgroup12" device-type="phone,2in1,tablet,wearable,tv">createNode('ListItemGroup')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodelistitemgroup12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'ListItemGroup'): ListItemGroup</p>     <p>创建ListItemGroup类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'ListItemGroup'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建ListItemGroup类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#listitemgroup12">ListItemGroup</a></td>         <td class="cellrowborder" width="50%">ListItemGroup类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodelist12">createNode('List')</a>示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 942px;">     <h3 id="getattributelistitemgroup20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('ListItemGroup')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributelistitemgroup20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'ListItemGroup'): ListItemGroupAttribute | undefined</p>     <p>获取ListItemGroup节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'ListItemGroup'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取ListItemGroup节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.144.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ListItemGroupAttribute | undefined</td>         <td class="cellrowborder" width="50%">ListItemGroup节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">getAttribute</span>(node, <span class="hljs-string">'ListItemGroup'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="waterflow12" device-type="phone,2in1,tablet,wearable,tv">WaterFlow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="waterflow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type WaterFlow = TypedFrameNode&lt;WaterFlowInterface, WaterFlowAttribute&gt;</p>     <p>WaterFlow类型的FrameNode节点类型。只允许添加<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-flowitem">FlowItem</a>类型子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow#接口">WaterFlowInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow#属性">WaterFlowAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#waterflow12">WaterFlow</a>类型FrameNode节点。</p>          <p>WaterFlowInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为WaterFlow组件的构造函数类型。</p>          <p>WaterFlowAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回WaterFlow组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2262px;">     <h3 id="createnodewaterflow12" device-type="phone,2in1,tablet,wearable,tv">createNode('WaterFlow')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodewaterflow12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'WaterFlow'): WaterFlow</p>     <p>创建WaterFlow类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'WaterFlow'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建WaterFlow类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.146.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#waterflow12">WaterFlow</a></td>         <td class="cellrowborder" width="50%">WaterFlow类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义WaterFlow控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyWaterFlowController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">minHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">80</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">maxHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">180</span>;</li><li>
</li><li>  <span class="hljs-comment">// 计算FlowItem高</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getHeight</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxHeight</span>);</li><li>    <span class="hljs-keyword">return</span> (ret &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">minHeight</span> ? ret : <span class="hljs-variable language_">this</span>.<span class="hljs-property">minHeight</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-comment">//创建WaterFlow并设置属性</span></li><li>    <span class="hljs-keyword">let</span> waterFlowNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'WaterFlow'</span>);</li><li>    waterFlowNode.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">5</span>);</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(waterFlowNode, <span class="hljs-string">"WaterFlow"</span>)?.<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>);</li><li>
</li><li>    <span class="hljs-comment">//创建FlowItem并设置属性</span></li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> flowItemNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'FlowItem'</span>);</li><li>      flowItemNode.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">height</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getHeight</span>() });</li><li>      typeNode.<span class="hljs-title function_">getAttribute</span>(flowItemNode, <span class="hljs-string">"FlowItem"</span>)?.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>);</li><li>      waterFlowNode.<span class="hljs-title function_">appendChild</span>(flowItemNode);</li><li>
</li><li>      <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>      text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">'N'</span> + i)</li><li>        .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>);</li><li>      flowItemNode.<span class="hljs-title function_">appendChild</span>(text);</li><li>    }</li><li>
</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(waterFlowNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myWaterFlowController</span>: <span class="hljs-title class_">MyWaterFlowController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyWaterFlowController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'WaterFlowSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myWaterFlowController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 877px;">     <h3 id="geteventwaterflow19" device-type="phone,2in1,tablet,wearable,tv">getEvent('WaterFlow')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geteventwaterflow19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEvent(node: FrameNode, nodeType: 'WaterFlow'): UIWaterFlowEvent | undefined</p>     <p>获取<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#waterflow12">WaterFlow</a>节点中持有的UIWaterFlowEvent对象，用于设置滚动事件。设置的滚动事件与声明式定义的事件平行；设置的滚动事件不覆盖原有的声明式事件。同时设置两个事件回调的时候，优先回调声明式事件。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取事件时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'WaterFlow'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取WaterFlow节点类型的滚动事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow#uiwaterflowevent19">UIWaterFlowEvent</a> | undefined</td>         <td class="cellrowborder" width="50%">WaterFlow节点类型的滚动事件，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#滚动事件示例">滚动事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 877px;">     <h3 id="getattributewaterflow20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('WaterFlow')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributewaterflow20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'WaterFlow'): WaterFlowAttribute | undefined</p>     <p>获取WaterFlow节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'WaterFlow'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取WaterFlow节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">WaterFlowAttribute | undefined</td>         <td class="cellrowborder" width="50%">WaterFlow节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodewaterflow12">createNode('WaterFlow')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;">     <h3 id="bindcontrollerwaterflow20" device-type="phone,2in1,tablet,wearable,tv">bindController('WaterFlow')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollerwaterflow20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: Scroller, nodeType: 'WaterFlow'): void</p>     <p>将滚动控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#waterflow12">WaterFlow</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">滚动控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'WaterFlow'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点的节点类型为WaterFlow。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">bindController</span>(node, scroller, <span class="hljs-string">'WaterFlow'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="flowitem12" device-type="phone,2in1,tablet,wearable,tv">FlowItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="flowitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FlowItem = TypedFrameNode&lt;FlowItemInterface, FlowItemAttribute&gt;</p>     <p>FlowItem类型的FrameNode节点类型。允许添加一个子组件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-flowitem#接口">FlowItemInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-flowitem#属性">FlowItemAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供FlowItem类型FrameNode节点。</p>          <p>FlowItemInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为FlowItem组件的构造函数类型。</p>          <p>FlowItemAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回FlowItem组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 805px;">     <h3 id="createnodeflowitem12" device-type="phone,2in1,tablet,wearable,tv">createNode('FlowItem')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeflowitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'FlowItem'): FlowItem</p>     <p>创建FlowItem类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'FlowItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建FlowItem类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.151.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#flowitem12">FlowItem</a></td>         <td class="cellrowborder" width="50%">FlowItem类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodewaterflow12">createNode('WaterFlow')</a>示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="getattributeflowitem20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('FlowItem')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeflowitem20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'FlowItem'): FlowItemAttribute | undefined</p>     <p>获取FlowItem节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'FlowItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取FlowItem节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">FlowItemAttribute | undefined</td>         <td class="cellrowborder" width="50%">FlowItem节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodewaterflow12">createNode('WaterFlow')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="xcomponent12" device-type="phone,2in1,tablet,wearable,tv">XComponent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="xcomponent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type XComponent = TypedFrameNode&lt;XComponentInterface, XComponentAttribute&gt;</p>     <p>XComponent类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent#接口">XComponentInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent#属性">XComponentAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供XComponent类型FrameNode节点。</p>          <p>XComponentInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为XComponent组件的构造函数类型。</p>          <p>XComponentAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回XComponent组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h3 id="createnodexcomponent12" device-type="phone,2in1,tablet,wearable,tv">createNode('XComponent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodexcomponent12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'XComponent'): XComponent</p>     <p>创建XComponent类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'XComponent'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建XComponent类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.154.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">XComponent</a></td>         <td class="cellrowborder" width="50%">XComponent类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建XComponent</span></li><li>    <span class="hljs-keyword">let</span> xcomponent = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'XComponent'</span>);</li><li>    xcomponent.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(xcomponent);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'XComponentSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1827px;">     <h3 id="createnodexcomponent12-1" device-type="phone,2in1,tablet,wearable,tv">createNode('XComponent')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodexcomponent12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'XComponent', options: XComponentOptions): XComponent</p>     <p>按照options中的配置参数创建XComponent类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'XComponent'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建XComponent类型的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent#xcomponentoptions12">XComponentOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义XComponent的具体配置参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.155.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">XComponent</a></td>         <td class="cellrowborder" width="50%">XComponent类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">XComponentController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XComponentController</span>();</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 设置XComponent参数对象</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">XComponentOptions</span> = {</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">XComponentType</span>.<span class="hljs-property">SURFACE</span>,</li><li>      <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span></li><li>    };</li><li>    <span class="hljs-comment">// 创建XComponent</span></li><li>    <span class="hljs-keyword">let</span> xcomponent = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'XComponent'</span>, options);</li><li>    xcomponent.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(xcomponent);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'XComponentSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1779px;">     <h3 id="createnodexcomponent19" device-type="phone,2in1,tablet,wearable,tv">createNode('XComponent')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodexcomponent19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'XComponent', parameters: NativeXComponentParameters): XComponent</p>     <p>按照parameters中的配置参数创建XComponent类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'XComponent'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建XComponent类型的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">parameters</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent#nativexcomponentparameters19">NativeXComponentParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义XComponent的具体配置参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.156.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#xcomponent12">XComponent</a></td>         <td class="cellrowborder" width="50%">XComponent类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">XComponentController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XComponentController</span>();</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">parameters</span>: <span class="hljs-title class_">NativeXComponentParameters</span> = {</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">XComponentType</span>.<span class="hljs-property">SURFACE</span></li><li>    };</li><li>    <span class="hljs-comment">// 创建XComponent</span></li><li>    <span class="hljs-keyword">let</span> xcomponent = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'XComponent'</span>, parameters);</li><li>    xcomponent.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(xcomponent);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'XComponentSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 942px;">     <h3 id="getattributexcomponent20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('XComponent')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributexcomponent20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'XComponent'): XComponentAttribute | undefined</p>     <p>获取XComponent节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'XComponent'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取XComponent节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">XComponentAttribute | undefined</td>         <td class="cellrowborder" width="50%">XComponent节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">getAttribute</span>(node, <span class="hljs-string">'XComponent'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="qrcode14" device-type="phone,2in1,tablet,wearable,tv">QRCode<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="qrcode14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type QRCode = TypedFrameNode&lt;QRCodeInterface, QRCodeAttribute&gt;</p>     <p>QRCode类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-qrcode#接口">QRCodeInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-qrcode#属性">QRCodeAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供QRCode类型FrameNode节点。</p>          <p>QRCodeInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为QRCode组件的构造函数类型。</p>          <p>QRCodeAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回QRCode组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h3 id="createnodeqrcode14" device-type="phone,2in1,tablet,wearable,tv">createNode('QRCode')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeqrcode14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'QRCode'): QRCode</p>     <p>创建QRCode类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'QRCode'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建QRCode类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#qrcode14">QRCode</a></td>         <td class="cellrowborder" width="50%">QRCode类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'QRCode'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="badge14" device-type="phone,2in1,tablet,wearable,tv">Badge<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="badge14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Badge = TypedFrameNode&lt;BadgeInterface, BadgeAttribute&gt;</p>     <p>Badge类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.160.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-badge#接口">BadgeInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-badge#属性">BadgeAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Badge类型FrameNode节点。</p>          <p>BadgeInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Badge组件的构造函数类型。</p>          <p>BadgeAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Badge组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h3 id="createnodebadge14" device-type="phone,2in1,tablet,wearable,tv">createNode('Badge')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodebadge14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Badge'): Badge</p>     <p>创建Badge类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Badge'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Badge类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.161.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#badge14">Badge</a></td>         <td class="cellrowborder" width="50%">Badge类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Badge'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="grid14" device-type="phone,2in1,tablet,wearable,tv">Grid<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="grid14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Grid = TypedFrameNode&lt;GridInterface, GridAttribute&gt;</p>     <p>Grid类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid#接口">GridInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid#属性">GridAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Grid类型FrameNode节点。</p>          <p>GridInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Grid组件的构造函数类型。</p>          <p>GridAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Grid组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2118px;">     <h3 id="createnodegrid14" device-type="phone,2in1,tablet,wearable,tv">createNode('Grid')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodegrid14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Grid'): Grid</p>     <p>创建Grid类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Grid'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Grid类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#grid14">Grid</a></td>         <td class="cellrowborder" width="50%">Grid类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Grid控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyGridController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-comment">//创建Grid设置属性</span></li><li>    <span class="hljs-keyword">let</span> gridNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Grid'</span>);</li><li>    gridNode.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>, { <span class="hljs-attr">regularSize</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>] })</li><li>      .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'90%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> })</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">rowsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>);</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(gridNode, <span class="hljs-string">"Grid"</span>)?.<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>);</li><li>
</li><li>    <span class="hljs-comment">//创建GridItem并设置属性</span></li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> gridItemNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'GridItem'</span>);</li><li>      gridItemNode.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">style</span>: <span class="hljs-title class_">GridItemStyle</span>.<span class="hljs-property">NONE</span> }).<span class="hljs-title function_">size</span>({ <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> });</li><li>      typeNode.<span class="hljs-title function_">getAttribute</span>(gridItemNode, <span class="hljs-string">"GridItem"</span>)?.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>);</li><li>
</li><li>      <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>      text.<span class="hljs-title function_">initialize</span>((i % <span class="hljs-number">5</span>).<span class="hljs-title function_">toString</span>())</li><li>        .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>);</li><li>      gridItemNode.<span class="hljs-title function_">appendChild</span>(text);</li><li>      gridNode.<span class="hljs-title function_">appendChild</span>(gridItemNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-variable language_">this</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(gridNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myGridController</span>: <span class="hljs-title class_">MyGridController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGridController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GridSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myGridController</span>)</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="geteventgrid19" device-type="phone,2in1,tablet,wearable,tv">getEvent('Grid')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geteventgrid19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getEvent(node: FrameNode, nodeType: 'Grid'): UIGridEvent | undefined</p>     <p>获取Grid节点中持有的UIGridEvent对象，用于设置滚动事件。设置的滚动事件与声明式定义的事件平行；设置的滚动事件不覆盖原有的声明式事件。同时设置两个事件回调的时候，优先回调声明式事件。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取事件时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Grid'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Grid节点类型的滚动事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.164.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid#uigridevent19">UIGridEvent</a> | undefined</td>         <td class="cellrowborder" width="50%">Grid节点类型的滚动事件，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#滚动事件示例">滚动事件示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 829px;">     <h3 id="getattributegrid20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Grid')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributegrid20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Grid'): GridAttribute | undefined</p>     <p>获取Grid节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Grid'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Grid节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">GridAttribute | undefined</td>         <td class="cellrowborder" width="50%">Grid节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodegrid14">createNode('Grid')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;">     <h3 id="bindcontrollergrid20" device-type="phone,2in1,tablet,wearable,tv">bindController('Grid')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollergrid20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: Scroller, nodeType: 'Grid'): void</p>     <p>将滚动控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#grid14">Grid</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">滚动控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Grid'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定滚动控制器的目标节点的节点类型为Grid。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">bindController</span>(node, scroller, <span class="hljs-string">'Grid'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="griditem14" device-type="phone,2in1,tablet,wearable,tv">GridItem<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="griditem14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type GridItem = TypedFrameNode&lt;GridItemInterface, GridItemAttribute&gt;</p>     <p>GridItem类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-griditem#接口">GridItemInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-griditem#属性">GridItemAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供GridItem类型FrameNode节点。</p>          <p>GridItemInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为GridItem组件的构造函数类型。</p>          <p>GridItemAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回GridItem组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 805px;">     <h3 id="createnodegriditem14" device-type="phone,2in1,tablet,wearable,tv">createNode('GridItem')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodegriditem14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'GridItem'): GridItem</p>     <p>创建GridItem类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'GridItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建GridItem类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#griditem14">GridItem</a></td>         <td class="cellrowborder" width="50%">GridItem类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodegrid14">createNode('Grid')</a>示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 853px;">     <h3 id="getattributegriditem20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('GridItem')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributegriditem20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'GridItem'): GridItemAttribute | undefined</p>     <p>获取GridItem节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'GridItem'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取GridItem节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">GridItemAttribute | undefined</td>         <td class="cellrowborder" width="50%">GridItem节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>完整示例请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createnodegrid14">createNode('Grid')</a>的示例。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="textclock14" device-type="phone,2in1,tablet,wearable,tv">TextClock<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textclock14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TextClock = TypedFrameNode&lt;TextClockInterface, TextClockAttribute&gt;</p>     <p>TextClock类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textclock#接口">TextClockInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textclock#属性">TextClockAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供TextClock类型FrameNode节点。</p>          <p>TextClockInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为TextClock组件的构造函数类型。</p>          <p>TextClockAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回TextClock组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h3 id="createnodetextclock14" device-type="phone,2in1,tablet,wearable,tv">createNode('TextClock')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetextclock14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'TextClock'): TextClock</p>     <p>创建TextClock类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextClock'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建TextClock类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.171.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textclock14">TextClock</a></td>         <td class="cellrowborder" width="50%">TextClock类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextClock'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="texttimer14" device-type="phone,2in1,tablet,wearable,tv">TextTimer<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="texttimer14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TextTimer = TypedFrameNode&lt;TextTimerInterface, TextTimerAttribute&gt;</p>     <p>TextTimer类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-texttimer#接口">TextTimerInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-texttimer#属性">TextTimerAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供TextTimer类型FrameNode节点。</p>          <p>TextTimerInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为TextTimer组件的构造函数类型。</p>          <p>TextTimerAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回TextTimer组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h3 id="createnodetexttimer14" device-type="phone,2in1,tablet,wearable,tv">createNode('TextTimer')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetexttimer14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'TextTimer'): TextTimer</p>     <p>创建TextTimer类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextTimer'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建TextTimer类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#texttimer14">TextTimer</a></td>         <td class="cellrowborder" width="50%">TextTimer类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextTimer'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="marquee14" device-type="phone,2in1,tablet,wearable,tv">Marquee<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="marquee14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Marquee = TypedFrameNode&lt;MarqueeInterface, MarqueeAttribute&gt;</p>     <p>Marquee类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-marquee#接口">MarqueeInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-marquee#属性">MarqueeAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Marquee类型FrameNode节点。</p>          <p>MarqueeInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Marquee组件的构造函数类型。</p>          <p>MarqueeAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Marquee组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnodemarquee14" device-type="phone,2in1,tablet,wearable,tv">createNode('Marquee')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodemarquee14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Marquee'): Marquee</p>     <p>创建Marquee类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Marquee'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Marquee类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.175.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#marquee14">Marquee</a></td>         <td class="cellrowborder" width="50%">Marquee类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建marquee</span></li><li>    <span class="hljs-keyword">let</span> marquee = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Marquee'</span>);</li><li>    marquee.<span class="hljs-title function_">initialize</span>({<span class="hljs-attr">start</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">src</span>:<span class="hljs-string">'Marquee, if need display, src shall be long'</span>})</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(marquee);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Marquee createNode sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="textarea14" device-type="phone,2in1,tablet,wearable,tv">TextArea<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="textarea14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TextArea = TypedFrameNode&lt;TextAreaInterface, TextAreaAttribute&gt;</p>     <p>TextArea类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.176.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textarea#接口">TextAreaInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textarea#属性">TextAreaAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供TextArea类型FrameNode节点。</p>          <p>TextAreaInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为TextArea组件的构造函数类型。</p>          <p>TextAreaAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回TextArea组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1566px;">     <h3 id="createnodetextarea14" device-type="phone,2in1,tablet,wearable,tv">createNode('TextArea')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetextarea14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'TextArea'): TextArea</p>     <p>创建TextArea类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextArea'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建TextArea类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textarea14">TextArea</a></td>         <td class="cellrowborder" width="50%">TextArea类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建textArea</span></li><li>    <span class="hljs-keyword">let</span> textArea = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextArea'</span>);</li><li>    textArea.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"TextArea"</span> });</li><li>    col.<span class="hljs-title function_">appendChild</span>(textArea);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextArea create sample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1662px;">     <h3 id="getattributetextarea20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('TextArea')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributetextarea20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'TextArea'): TextAreaAttribute | undefined</p>     <p>获取TextArea节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextArea'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取TextArea节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.178.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TextAreaAttribute | undefined</td>         <td class="cellrowborder" width="50%">TextArea节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建TextArea</span></li><li>    <span class="hljs-keyword">let</span> textArea = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextArea'</span>);</li><li>    textArea.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'TextArea placeholderColor'</span> });</li><li>    col.<span class="hljs-title function_">appendChild</span>(textArea);</li><li>    <span class="hljs-comment">// 获取TextArea节点的属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(textArea, <span class="hljs-string">'TextArea'</span>)?.<span class="hljs-title function_">placeholderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextArea getAttribute sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1930px;">     <h3 id="bindcontrollertextarea20" device-type="phone,2in1,tablet,wearable,tv">bindController('TextArea')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontrollertextarea20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindController(node: FrameNode, controller: TextAreaController, nodeType: 'TextArea'): void</p>     <p>将输入框控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textarea#textareacontroller8">TextAreaController</a>绑定到<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#textarea14">TextArea</a>节点。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则抛出异常。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.179.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入框控制器的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">controller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textarea#textareacontroller8">TextAreaController</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">输入框控制器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'TextArea'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定输入框控制器的目标节点的节点类型为TextArea。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-node">自定义节点错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">100023</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. The component type of the node is incorrect. 2. The node is null or undefined. 3. The controller is null or undefined.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">100021</td>         <td class="cellrowborder" width="50%">The FrameNode is not modifiable.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建、初始化TextArea，默认获焦</span></li><li>    <span class="hljs-keyword">let</span> textArea = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'TextArea'</span>);</li><li>    textArea.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"TextArea"</span> })</li><li>      .<span class="hljs-title function_">defaultFocus</span>(<span class="hljs-literal">true</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(textArea);</li><li>    <span class="hljs-comment">// 绑定TextAreaController，设置光标位置</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextAreaController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextAreaController</span>()</li><li>    typeNode.<span class="hljs-title function_">bindController</span>(textArea, controller, <span class="hljs-string">'TextArea'</span>);</li><li>    controller.<span class="hljs-title function_">caretPosition</span>(<span class="hljs-number">3</span>);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'TextArea bindController sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="symbolglyph14" device-type="phone,2in1,tablet,wearable,tv">SymbolGlyph<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="symbolglyph14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type SymbolGlyph = TypedFrameNode&lt;SymbolGlyphInterface, SymbolGlyphAttribute&gt;</p>     <p>SymbolGlyph类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.180.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#接口">SymbolGlyphInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#属性">SymbolGlyphAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供SymbolGlyph类型FrameNode节点。</p>          <p>SymbolGlyphInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为SymbolGlyph组件的构造函数类型。</p>          <p>SymbolGlyphAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回SymbolGlyph组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="createnodesymbolglyph14" device-type="phone,2in1,tablet,wearable,tv">createNode('SymbolGlyph')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodesymbolglyph14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'SymbolGlyph'): SymbolGlyph</p>     <p>创建SymbolGlyph类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'SymbolGlyph'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建SymbolGlyph类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.181.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#symbolglyph14">SymbolGlyph</a></td>         <td class="cellrowborder" width="50%">SymbolGlyph类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>;</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-comment">// 创建SymbolGlyph</span></li><li>    <span class="hljs-keyword">let</span> symbolGlyph = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'SymbolGlyph'</span>);</li><li>    symbolGlyph.<span class="hljs-title function_">initialize</span>($r(<span class="hljs-string">'sys.symbol.ohos_trash'</span>));</li><li>    col.<span class="hljs-title function_">appendChild</span>(symbolGlyph);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'SymbolGlyph sample'</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="checkbox18" device-type="phone,2in1,tablet,wearable,tv">Checkbox<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="checkbox18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Checkbox = TypedFrameNode&lt;CheckboxInterface, CheckboxAttribute&gt;</p>     <p>Checkbox类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.182.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkbox#接口">CheckboxInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkbox#属性">CheckboxAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Checkbox类型FrameNode节点。</p>          <p>CheckboxInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Checkbox组件的构造函数类型。</p>          <p>CheckboxAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Checkbox组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1782px;">     <h3 id="createnodecheckbox18" device-type="phone,2in1,tablet,wearable,tv">createNode('Checkbox')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodecheckbox18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Checkbox'): Checkbox</p>     <p>创建Checkbox类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.183.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Checkbox'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Checkbox类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.183.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#checkbox18">Checkbox</a></td>         <td class="cellrowborder" width="50%">Checkbox类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Checkbox控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCheckboxController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Checkbox</span></li><li>    <span class="hljs-keyword">let</span> checkbox = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    <span class="hljs-comment">// 创建另一个Checkbox</span></li><li>    <span class="hljs-keyword">let</span> checkbox1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox2'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    <span class="hljs-comment">// 将两个checkbox添加至col进行比较</span></li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox)</li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox1)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myCheckboxController</span>: <span class="hljs-title class_">MyCheckboxController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCheckboxController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'CheckboxSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myCheckboxController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1878px;">     <h3 id="getattributecheckbox20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Checkbox')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributecheckbox20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Checkbox'): CheckboxAttribute | undefined</p>     <p>获取Checkbox节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Checkbox'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Checkbox节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.184.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">CheckboxAttribute | undefined</td>         <td class="cellrowborder" width="50%">Checkbox节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Checkbox控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCheckboxController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Checkbox</span></li><li>    <span class="hljs-keyword">let</span> checkbox = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    <span class="hljs-comment">// 创建另一个Checkbox</span></li><li>    <span class="hljs-keyword">let</span> checkbox1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox2'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>    <span class="hljs-comment">// 给首个Checkbox设置形状属性</span></li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(checkbox1,<span class="hljs-string">'Checkbox'</span>)?.<span class="hljs-title function_">shape</span>(<span class="hljs-title class_">CheckBoxShape</span>.<span class="hljs-property">ROUNDED_SQUARE</span>)</li><li>    <span class="hljs-comment">// 将两个checkbox添加至col进行比较</span></li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox)</li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox1)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myCheckboxController</span>: <span class="hljs-title class_">MyCheckboxController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCheckboxController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'CheckboxSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myCheckboxController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="checkboxgroup18" device-type="phone,2in1,tablet,wearable,tv">CheckboxGroup<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="checkboxgroup18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CheckboxGroup = TypedFrameNode&lt;CheckboxGroupInterface, CheckboxGroupAttribute&gt;</p>     <p>CheckboxGroup类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkboxgroup#接口">CheckboxGroupInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkboxgroup#属性">CheckboxGroupAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供CheckboxGroup类型FrameNode节点。</p>          <p>CheckboxGroupInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为CheckboxGroup组件的构造函数类型。</p>          <p>CheckboxGroupAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回CheckboxGroup组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1854px;">     <h3 id="createnodecheckboxgroup18" device-type="phone,2in1,tablet,wearable,tv">createNode('CheckboxGroup')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodecheckboxgroup18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'CheckboxGroup'): CheckboxGroup</p>     <p>创建CheckboxGroup类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'CheckboxGroup'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建CheckboxGroup类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#checkboxgroup18">CheckboxGroup</a></td>         <td class="cellrowborder" width="50%">CheckboxGroup类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义CheckboxGroup控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCheckboxGroupController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-keyword">let</span> checkbox = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    <span class="hljs-keyword">let</span> checkbox1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Checkbox'</span>)</li><li>    checkbox1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'checkbox2'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    <span class="hljs-comment">// 创建checkboxGroup</span></li><li>    <span class="hljs-keyword">let</span> checkboxGroup = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'CheckboxGroup'</span>)</li><li>    checkboxGroup.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup1'</span> })</li><li>
</li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox)</li><li>    col.<span class="hljs-title function_">appendChild</span>(checkbox1)</li><li>    col.<span class="hljs-title function_">appendChild</span>(checkboxGroup)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myCheckboxGroupController</span>: <span class="hljs-title class_">MyCheckboxGroupController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCheckboxGroupController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'CheckboxGroupSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myCheckboxGroupController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="rating18" device-type="phone,2in1,tablet,wearable,tv">Rating<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rating18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Rating = TypedFrameNode&lt;RatingInterface, RatingAttribute&gt;</p>     <p>Rating类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.187.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-rating#接口">RatingInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-rating#属性">RatingAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Rating类型FrameNode节点。</p>          <p>RatingInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Rating组件的构造函数类型。</p>          <p>RatingAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Rating组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1662px;">     <h3 id="createnoderating18" device-type="phone,2in1,tablet,wearable,tv">createNode('Rating')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnoderating18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Rating'): Rating</p>     <p>创建Rating类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Rating'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Rating类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#rating18">Rating</a></td>         <td class="cellrowborder" width="50%">Rating类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Rating控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRatingController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建rating</span></li><li>    <span class="hljs-keyword">let</span> rating = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Rating'</span>)</li><li>    rating.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">rating</span>: <span class="hljs-number">0</span> })</li><li>    col.<span class="hljs-title function_">appendChild</span>(rating)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myRatingController</span>: <span class="hljs-title class_">MyRatingController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRatingController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RatingSample'</span>)</li><li>
</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRatingController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="radio18" device-type="phone,2in1,tablet,wearable,tv">Radio<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="radio18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Radio = TypedFrameNode&lt;RadioInterface, RadioAttribute&gt;</p>     <p>Radio类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.189.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-radio#接口">RadioInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-radio#属性">RadioAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Radio类型FrameNode节点。</p>          <p>RadioInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Radio组件的构造函数类型。</p>          <p>RadioAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Radio组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1758px;">     <h3 id="createnoderadio18" device-type="phone,2in1,tablet,wearable,tv">createNode('Radio')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnoderadio18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Radio'): Radio</p>     <p>创建Radio类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Radio'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Radio类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.190.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#radio18">Radio</a></td>         <td class="cellrowborder" width="50%">Radio类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Radio控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRadioController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Radio</span></li><li>    <span class="hljs-keyword">let</span> radio1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Radio'</span>)</li><li>    radio1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'radio1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })</li><li>
</li><li>    <span class="hljs-comment">// 创建另一个Radio用于对比</span></li><li>    <span class="hljs-keyword">let</span> radio2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Radio'</span>)</li><li>    radio2.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'radio2'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })</li><li>
</li><li>    col.<span class="hljs-title function_">appendChild</span>(radio1)</li><li>    col.<span class="hljs-title function_">appendChild</span>(radio2)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myRadioController</span>: <span class="hljs-title class_">MyRadioController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRadioController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RadioSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRadioController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1806px;">     <h3 id="getattributeradio20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Radio')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeradio20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Radio'): RadioAttribute | undefined</p>     <p>获取Radio节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Radio'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Radio节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">RadioAttribute | undefined</td>         <td class="cellrowborder" width="50%">Radio节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Radio控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRadioController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建radio</span></li><li>    <span class="hljs-keyword">let</span> radio1 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Radio'</span>)</li><li>    radio1.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'radio1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(radio1,<span class="hljs-string">'Radio'</span>)?.<span class="hljs-title function_">checked</span>(<span class="hljs-literal">true</span>)</li><li>    <span class="hljs-comment">// 创建另一个radio用于对比</span></li><li>    <span class="hljs-keyword">let</span> radio2 = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Radio'</span>)</li><li>    radio2.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'radio2'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })</li><li>
</li><li>
</li><li>    col.<span class="hljs-title function_">appendChild</span>(radio1)</li><li>    col.<span class="hljs-title function_">appendChild</span>(radio2)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myRadioController</span>: <span class="hljs-title class_">MyRadioController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRadioController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RadioSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRadioController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="slider18" device-type="phone,2in1,tablet,wearable,tv">Slider<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="slider18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Slider = TypedFrameNode&lt;SliderInterface, SliderAttribute&gt;</p>     <p>Slider类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-slider#接口">SliderInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-slider#属性">SliderAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Slider类型FrameNode节点。</p>          <p>SliderInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Slider组件的构造函数类型。</p>          <p>SliderAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Slider组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1638px;">     <h3 id="createnodeslider18" device-type="phone,2in1,tablet,wearable,tv">createNode('Slider')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeslider18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Slider'): Slider</p>     <p>创建Slider类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Slider'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Slider类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.193.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#slider18">Slider</a></td>         <td class="cellrowborder" width="50%">Slider类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Slider控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySliderController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Slider</span></li><li>    <span class="hljs-keyword">let</span> slider = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Slider'</span>)</li><li>    slider.<span class="hljs-title function_">initialize</span>({<span class="hljs-attr">value</span>:<span class="hljs-number">50</span>})</li><li>    col.<span class="hljs-title function_">appendChild</span>(slider)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">mySliderController</span>: <span class="hljs-title class_">MySliderController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySliderController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'SliderSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mySliderController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1686px;">     <h3 id="getattributeslider20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Slider')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributeslider20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Slider'): SliderAttribute | undefined</p>     <p>获取Slider节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Slider'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Slider节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">SliderAttribute | undefined</td>         <td class="cellrowborder" width="50%">Slider节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Slider控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySliderController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Slider</span></li><li>    <span class="hljs-keyword">let</span> slider = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Slider'</span>)</li><li>    slider.<span class="hljs-title function_">initialize</span>({<span class="hljs-attr">value</span>:<span class="hljs-number">50</span>})</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(slider,<span class="hljs-string">'Slider'</span>)?.<span class="hljs-title function_">selectedColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(slider)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">mySliderController</span>: <span class="hljs-title class_">MySliderController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySliderController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'SliderSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mySliderController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="select18" device-type="phone,2in1,tablet,wearable,tv">Select<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="select18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Select = TypedFrameNode&lt;SelectInterface, SelectAttribute&gt;</p>     <p>Select类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-select#接口">SelectInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-select#属性">SelectAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Select类型FrameNode节点。</p>          <p>SelectInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Select组件的构造函数类型。</p>          <p>SelectAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Select组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1614px;">     <h3 id="createnodeselect18" device-type="phone,2in1,tablet,wearable,tv">createNode('Select')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodeselect18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Select'): Select</p>     <p>创建Select类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Select'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Select类型的节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#select18">Select</a></td>         <td class="cellrowborder" width="50%">Select类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Select控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySelectController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Select并设置选项</span></li><li>    <span class="hljs-keyword">let</span> select = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Select'</span>)</li><li>    select.<span class="hljs-title function_">initialize</span>([{ <span class="hljs-attr">value</span>: <span class="hljs-string">"option one"</span> }, { <span class="hljs-attr">value</span>: <span class="hljs-string">"option two"</span> }, { <span class="hljs-attr">value</span>: <span class="hljs-string">"option three"</span> }])</li><li>    col.<span class="hljs-title function_">appendChild</span>(select)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">mySelectController</span>: <span class="hljs-title class_">MySelectController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySelectController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'SelectSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mySelectController</span>);</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 537px;">     <h3 id="toggle18" device-type="phone,2in1,tablet,wearable,tv">Toggle<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="toggle18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Toggle = TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle#接口">ToggleInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle#属性">ToggleAttribute</a>&gt;</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle">Toggle</a>类型的FrameNode节点类型。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.197.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">TypedFrameNode&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle#接口">ToggleInterface</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle#属性">ToggleAttribute</a>&gt;</td>         <td class="cellrowborder" width="50%">          <p>提供Toggle类型FrameNode节点。</p>          <p>ToggleInterface用于<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#typedframenode12">TypedFrameNode</a>的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">initialize</a>接口的入参，入参为Toggle组件的构造函数类型。</p>          <p>ToggleAttribute用于TypedFrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#属性">attribute</a>接口的返回值，返回Toggle组件的属性设置对象。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1779px;">     <h3 id="createnodetoggle18" device-type="phone,2in1,tablet,wearable,tv">createNode('Toggle')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnodetoggle18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(context: UIContext, nodeType: 'Toggle', options?: ToggleOptions): Toggle</p>     <p>创建Toggle类型的FrameNode节点。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建对应节点时所需的UI上下文。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Toggle'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建Toggle类型的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle#toggleoptions18对象说明">ToggleOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">创建Toggle节点的接口参数，仅可通过ToggleOptions中的type属性设置开关样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.198.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#toggle18">Toggle</a></td>         <td class="cellrowborder" width="50%">Toggle类型的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Toggle控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyToggleController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Toggle</span></li><li>    <span class="hljs-keyword">let</span> toggleSwitch = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Toggle'</span>)</li><li>    toggleSwitch.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">ToggleType</span>.<span class="hljs-property">Switch</span> })</li><li>    col.<span class="hljs-title function_">appendChild</span>(toggleSwitch)</li><li>
</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myToggleController</span>: <span class="hljs-title class_">MyToggleController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyToggleController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ToggleSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myToggleController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1710px;">     <h3 id="getattributetoggle20" device-type="phone,2in1,tablet,wearable,tv">getAttribute('Toggle')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getattributetoggle20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAttribute(node: FrameNode, nodeType: 'Toggle'): ToggleAttribute | undefined</p>     <p>获取Toggle节点的属性。若该节点非ArkTS语言创建，则需要设置是否支持跨语言访问，如果不支持跨语言访问，则返回undefined。该接口不支持声明式方式创建的节点。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取属性时所需的目标节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">nodeType</td>         <td class="cellrowborder" width="25%">'Toggle'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取Toggle节点类型的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">ToggleAttribute | undefined</td>         <td class="cellrowborder" width="50%">Toggle节点类型的属性，若获取失败，则返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义Toggle控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyToggleController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    node.<span class="hljs-property">commonAttribute</span></li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>)</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(col)</li><li>    <span class="hljs-comment">// 创建Toggle</span></li><li>    <span class="hljs-keyword">let</span> toggleSwitch = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Toggle'</span>)</li><li>    toggleSwitch.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">ToggleType</span>.<span class="hljs-property">Switch</span> })</li><li>    typeNode.<span class="hljs-title function_">getAttribute</span>(toggleSwitch,<span class="hljs-string">'Toggle'</span>)?.<span class="hljs-title function_">selectedColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>    col.<span class="hljs-title function_">appendChild</span>(toggleSwitch)</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myToggleController</span>: <span class="hljs-title class_">MyToggleController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyToggleController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ToggleSample'</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myToggleController</span>);</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 370px;">     <h2 id="nodeadapter12" device-type="phone,2in1,tablet,wearable,tv">NodeAdapter<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nodeadapter12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>NodeAdapter提供FrameNode的数据懒加载能力，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach">LazyForEach</a>实现接口功能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>入参不能为负数，入参为负数时不做处理。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#nodeadapter使用示例">NodeAdapter使用示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 302px;">     <h3 id="constructor12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor()</p>     <p>NodeAdapter的构造函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="dispose12-1" device-type="phone,2in1,tablet,wearable,tv">dispose<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispose12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispose(): void</p>     <p>立即释放当前的NodeAdapter。如果是已绑定的状态，会先进行解绑操作，再释放当前的NodeAdapter。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 880px;">     <h3 id="totalnodecount12" device-type="phone,2in1,tablet,wearable,tv">totalNodeCount<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="totalnodecount12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set totalNodeCount(count: number)</p>     <p>设置数据节点总数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>数据节点总数。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p>get totalNodeCount(): number</p>     <p>获取数据节点总数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.203.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>数据节点总数。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="reloadallitems12" device-type="phone,2in1,tablet,wearable,tv">reloadAllItems<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reloadallitems12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reloadAllItems(): void</p>     <p>重新加载全部数据操作。实际调用了LazyForEach中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach#ondatareloaded">OnDataReloaded</a>接口通知组件重新加载所有数据。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 586px;">     <h3 id="reloaditem12" device-type="phone,2in1,tablet,wearable,tv">reloadItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reloaditem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reloadItem(start: number, count: number): void</p>     <p>从索引值开始重新加载指定数量的节点数据。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>重新加载的节点开始索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>重新加载数据节点的数量。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 562px;">     <h3 id="removeitem12" device-type="phone,2in1,tablet,wearable,tv">removeItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeItem(start: number, count: number): void</p>     <p>从索引值开始删除指定数量的节点数据。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.206.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>删除的节点开始索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>删除数据节点的数量。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 562px;">     <h3 id="insertitem12" device-type="phone,2in1,tablet,wearable,tv">insertItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insertitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insertItem(start: number, count: number): void</p>     <p>从索引值开始新增指定数量的节点数据。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>新增的节点开始索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>新增数据节点的数量。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 562px;">     <h3 id="moveitem12" device-type="phone,2in1,tablet,wearable,tv">moveItem<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="moveitem12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveItem(from: number, to: number): void</p>     <p>将数据从原始索引移动到目的索引。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.208.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">from</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>数据移动的原始索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">to</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>数据移动的目的索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 513px;">     <h3 id="getallavailableitems12" device-type="phone,2in1,tablet,wearable,tv">getAllAvailableItems<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getallavailableitems12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAllAvailableItems(): Array&lt;FrameNode&gt;</p>     <p>获取所有有效数据。有效节点数据包括显示在屏幕上的节点以及预加载的节点。其中预加载节点的数量可依照LazyForEach的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach#使用限制" target="_blank">使用限制</a>，调整父容器的cachedCount属性进行设置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;FrameNode&gt;</td>         <td class="cellrowborder" width="50%">FrameNode数据节点集合。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="onattachtonode12" device-type="phone,2in1,tablet,wearable,tv">onAttachToNode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onattachtonode12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onAttachToNode?(target: FrameNode): void</p>     <p>FrameNode绑定NodeAdapter时回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">target</td>         <td class="cellrowborder" width="25%">FrameNode</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定NodeAdapter的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="ondetachfromnode12" device-type="phone,2in1,tablet,wearable,tv">onDetachFromNode<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondetachfromnode12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDetachFromNode?(): void</p>     <p>解除绑定时回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 688px;">     <h3 id="ongetchildid12" device-type="phone,2in1,tablet,wearable,tv">onGetChildId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ongetchildid12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onGetChildId?(index: number): number</p>     <p>节点首次加载或新节点滑入时回调。传入的index参数用于自定义生成Id，需要开发者自行保证根据不同index生成Id的唯一性。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>加载节点索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.212.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回开发者自定义生成的Id，需要开发者自行保证Id的唯一性。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 688px;">     <h3 id="oncreatechild12" device-type="phone,2in1,tablet,wearable,tv">onCreateChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncreatechild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onCreateChild?(index: number): FrameNode</p>     <p>节点首次加载或新节点滑入时回调。建议开发者在添加子组件时，遵循声明式组件中子组件的约束。例如，WaterFlow支持添加FlowItem子节点。父节点根据子节点的索引与key值判断是否触发了节点首次加载或新节点滑入。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>加载节点索引值。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.213.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">FrameNode</td>         <td class="cellrowborder" width="50%">返回开发者创建的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 538px;">     <h3 id="ondisposechild12" device-type="phone,2in1,tablet,wearable,tv">onDisposeChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondisposechild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDisposeChild?(id: number, node: FrameNode): void</p>     <p>子节点即将销毁时回调。既不显示在屏幕上，也不处于预加载范围内的节点都属于即将销毁的节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">即将销毁的子节点id。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%">FrameNode</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">即将销毁的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 514px;">     <h3 id="onupdatechild12" device-type="phone,2in1,tablet,wearable,tv">onUpdateChild<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onupdatechild12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onUpdateChild?(id: number, node: FrameNode): void</p>     <p>重新加载的数据节点被复用时回调。已缓存节点的key值与被复用节点一致时进行节点复用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">id</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">复用节点的id。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%">FrameNode</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被复用的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 849px;">     <h3 id="attachnodeadapter12" device-type="phone,2in1,tablet,wearable,tv">attachNodeAdapter<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attachnodeadapter12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static attachNodeAdapter(adapter: NodeAdapter, node: FrameNode): boolean</p>     <p>给FrameNode绑定一个NodeAdapter。一个节点只能绑定一个NodeAdapter。已经绑定NodeAdapter的再次绑定会失败并返回false。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>支持绑定的组件：Column、Row、Stack、GridRow、Flex、Swiper、RelativeContainer、List、ListItemGroup、WaterFlow、Grid。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.216.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">adapter</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#nodeadapter12">NodeAdapter</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义懒加载的NodeAdapter类。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%">FrameNode</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绑定的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.216.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">绑定结果，返回true绑定成功，false绑定失败。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="detachnodeadapter12" device-type="phone,2in1,tablet,wearable,tv">detachNodeAdapter<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detachnodeadapter12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static detachNodeAdapter(node: FrameNode): void</p>     <p>解除绑定操作，解除FrameNode节点绑定的NodeAdapter。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%">FrameNode</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要解除绑定的FrameNode节点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 657px;">     <h3 id="isdisposed20-1" device-type="phone,2in1,tablet,wearable,tv">isDisposed<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdisposed20-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDisposed(): boolean</p>     <p>查询当前NodeAdapter对象是否已解除与后端实体节点的引用关系。前端节点均绑定有相应的后端实体节点，当节点调用dispose接口解除绑定后，再次调用接口可能会出现crash、返回默认值的情况。由于业务需求，可能存在节点在dispose后仍被调用接口的情况。为此，提供此接口以供开发者在操作节点前检查其有效性，避免潜在风险。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">后端实体节点是否解除引用。true为节点已与后端实体节点解除引用，false为节点未与后端实体节点解除引用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>请参考<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#检验nodeadapter是否有效示例">检验NodeAdapter是否有效示例</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1176px;">     <h2 id="自定义具体类型节点示例" device-type="phone,2in1,tablet,wearable,tv">自定义具体类型节点示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="自定义具体类型节点示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>以Text节点为例，创建Text类型节点。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">10</span> });</li><li>    <span class="hljs-keyword">let</span> col = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    col.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> });</li><li>    node.<span class="hljs-title function_">appendChild</span>(col);</li><li>    <span class="hljs-keyword">let</span> text = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    text.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"Hello"</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>);</li><li>    col.<span class="hljs-title function_">appendChild</span>(text);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="94" originwidth="166" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115801.81286073175327215203541172098293:50001231000000:2800:45FE4F68AD3ECA0D90849B5D8A69DF42539AD81B29E60CC62B25D37E7BE5A66E.png" class="notEnlarge" width="166" height="94"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 12415px;">     <h2 id="节点操作示例" device-type="phone,2in1,tablet,wearable,tv">节点操作示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="节点操作示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span></li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frameNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">childList</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">FrameNode</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">FrameNode</span>&gt;();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">childrenCount</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> + <span class="hljs-number">1</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> childNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">childList</span>.<span class="hljs-title function_">push</span>(childNode);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-title function_">appendChild</span>(childNode);</li><li>    }</li><li>    <span class="hljs-keyword">let</span> stackNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"Stack"</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>.<span class="hljs-title function_">appendChild</span>(stackNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-params">frameNode: FrameNode</span>) {</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Click FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">createFrameNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> frameNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!);</li><li>    frameNode.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    frameNode.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> });</li><li>    frameNode.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> * <span class="hljs-number">120</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> });</li><li>
</li><li>    <span class="hljs-keyword">return</span> frameNode;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">appendChild</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFrameNode</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">appendChild</span>(childNode);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">insertChildAfter</span>(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">let</span> insertNode = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFrameNode</span>();</li><li>    <span class="hljs-keyword">let</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(index);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">insertChildAfter</span>(insertNode, childNode);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> + <span class="hljs-number">1</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeChild</span>(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">let</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(index);</li><li>    <span class="hljs-keyword">if</span> (childNode == <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${TEST_TAG}</span> getchild at index {<span class="hljs-subst">${index}</span>} : fail`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">removeChild</span>(childNode);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span> - <span class="hljs-number">1</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getChildNumber</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChildNumber "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChildrenCount</span>())</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" children count is "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenCount</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">clearChildren</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">clearChildren</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">searchFrameNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getFirstChild</span>() === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" the rootNode does not have child node."</span>)</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getFirstChild</span>() === <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> +</li><li>        <span class="hljs-string">" getFirstChild  result: success. The first child of the rootNode is equals to frameNode."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> +</li><li>        <span class="hljs-string">" getFirstChild  result: fail. The first child of the rootNode is not equals to frameNode."</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">5</span>) === <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">4</span>)!.<span class="hljs-title function_">getNextSibling</span>()) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getNextSibling  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getNextSibling  result: fail."</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">3</span>) === <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">4</span>)!.<span class="hljs-title function_">getPreviousSibling</span>()) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getPreviousSibling  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getPreviousSibling  result: fail."</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getFirstChild</span>() !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getFirstChild</span>()!.<span class="hljs-title function_">getParent</span>() === <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getParent  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getParent  result: fail."</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>() !== <span class="hljs-literal">undefined</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>() !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" get ArkTsNode success."</span>)</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" check rootNode whether is modifiable "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">isModifiable</span>())</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" check getParent whether is modifiable "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">isModifiable</span>())</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" get ArkTsNode fail."</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">moveFrameNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> currentNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">10</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      currentNode!.<span class="hljs-title function_">moveTo</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>, <span class="hljs-number">0</span>);</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>) === currentNode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" moveTo  result: success."</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" moveTo  result: fail."</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">" : "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" moveTo  result: fail."</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToWindow</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToWindow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToWindow</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToWindow));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToParent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToParent = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToParent</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToParent));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToScreen</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToScreen = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToScreen</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToScreen));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getGlobalPositionOnDisplay</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionOnGlobalDisplay = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getGlobalPositionOnDisplay</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionOnGlobalDisplay));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToWindowWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToWindowWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToWindowWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToWindowWithTransform));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToParentWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToParentWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToParentWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToParentWithTransform));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getPositionToScreenWithTransform</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> positionToScreenWithTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">getPositionToScreenWithTransform</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(positionToScreenWithTransform));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getMeasuredSize</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> measuredSize = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getMeasuredSize</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(measuredSize));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getLayoutPosition</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> layoutPosition = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getLayoutPosition</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(layoutPosition));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getUserConfigBorderWidth</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> userConfigBorderWidth = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getUserConfigBorderWidth</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(userConfigBorderWidth));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getUserConfigPadding</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> userConfigPadding = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getUserConfigPadding</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(userConfigPadding));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getUserConfigMargin</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> userConfigMargin = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getUserConfigMargin</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(userConfigMargin));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getUserConfigSize</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> userConfigSize = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getUserConfigSize</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(userConfigSize));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getId</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> id = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getId</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + id);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getUniqueId</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> uniqueId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getUniqueId</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + uniqueId);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getNodeType</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> nodeType = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getNodeType</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + nodeType);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getOpacity</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> opacity = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getOpacity</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(opacity));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isVisible</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> visible = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">isVisible</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(visible));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isClipToFrame</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> clipToFrame = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">isClipToFrame</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(clipToFrame));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isAttached</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> attached = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">isAttached</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(attached));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getInspectorInfo</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> inspectorInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getInspectorInfo</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(inspectorInfo));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">setCrossLanguageOptions</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getCrossLanguageOptions "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getCrossLanguageOptions</span>()));</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">setCrossLanguageOptions</span>({</li><li>        <span class="hljs-attr">attributeSetting</span>: <span class="hljs-literal">true</span></li><li>      });</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" setCrossLanguageOptions success."</span>);</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">" : "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" setCrossLanguageOptions fail."</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getCrossLanguageOptions "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getCrossLanguageOptions</span>()));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getInteractionEventBindingInfo</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> bindingInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameNode</span>?.<span class="hljs-title function_">getInteractionEventBindingInfo</span>(<span class="hljs-title class_">EventQueryType</span>.<span class="hljs-property">ON_CLICK</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + bindingInfo?.<span class="hljs-property">baseEventRegistered</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + bindingInfo?.<span class="hljs-property">nodeEventRegistered</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + bindingInfo?.<span class="hljs-property">nativeEventRegistered</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + bindingInfo?.<span class="hljs-property">builtInEventRegistered</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(bindingInfo));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">throwError</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">clearChildren</span>();</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">" : "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">appendChild</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>));</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">" : "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>));</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">" : "</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"ADD"</span>)</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>++;</li><li>              })</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"DEC"</span>)</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>--;</li><li>              })</li><li>          }</li><li>
</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Current index is "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"appendChild"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">appendChild</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"insertChildAfter"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">insertChildAfter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"removeChild"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"clearChildren"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">clearChildren</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getChildNumber"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getChildNumber</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"searchFrameNode"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">searchFrameNode</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"moveFrameNode"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">moveFrameNode</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToWindow"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToWindow</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToParent"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToParent</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToScreen"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToScreen</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getGlobalPositionOnDisplay"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getGlobalPositionOnDisplay</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToParentWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToParentWithTransform</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToWindowWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToWindowWithTransform</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getPositionToScreenWithTransform"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getPositionToScreenWithTransform</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getMeasuredSize"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getMeasuredSize</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getLayoutPosition"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getLayoutPosition</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUserConfigBorderWidth"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getUserConfigBorderWidth</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUserConfigPadding"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getUserConfigPadding</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUserConfigMargin"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getUserConfigMargin</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUserConfigSize"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getUserConfigSize</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getId"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getId</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getUniqueId"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getNodeType"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getNodeType</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getOpacity"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getOpacity</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"isVisible"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">isVisible</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"isClipToFrame"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">isClipToFrame</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"isAttached"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">isAttached</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getInspectorInfo"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getInspectorInfo</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getCustomProperty"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">if</span> (uiContext) {</li><li>              <span class="hljs-keyword">const</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeById</span>(<span class="hljs-string">"Test_Button"</span>) || <span class="hljs-literal">null</span>;</li><li>              <span class="hljs-keyword">if</span> (node) {</li><li>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">4</span>; i++) {</li><li>                  <span class="hljs-keyword">const</span> key = <span class="hljs-string">'customProperty'</span> + i;</li><li>                  <span class="hljs-keyword">const</span> property = node.<span class="hljs-title function_">getCustomProperty</span>(key);</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(property));</li><li>                }</li><li>              }</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">id</span>(<span class="hljs-string">'Test_Button'</span>)</li><li>          .<span class="hljs-title function_">customProperty</span>(<span class="hljs-string">'customProperty1'</span>, {</li><li>            <span class="hljs-string">'number'</span>: <span class="hljs-number">10</span>,</li><li>            <span class="hljs-string">'string'</span>: <span class="hljs-string">'this is a string'</span>,</li><li>            <span class="hljs-string">'bool'</span>: <span class="hljs-literal">true</span>,</li><li>            <span class="hljs-string">'object'</span>: {</li><li>              <span class="hljs-string">'name'</span>: <span class="hljs-string">'name'</span>,</li><li>              <span class="hljs-string">'value'</span>: <span class="hljs-number">100</span></li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">customProperty</span>(<span class="hljs-string">'customProperty2'</span>, {})</li><li>          .<span class="hljs-title function_">customProperty</span>(<span class="hljs-string">'customProperty2'</span>, <span class="hljs-literal">undefined</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setCrossLanguageOptions"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">setCrossLanguageOptions</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getInteractionEventBindingInfo"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getInteractionEventBindingInfo</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"throwError"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">throwError</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 6391px;">     <h2 id="lazyforeach场景节点操作示例" device-type="phone,2in1,tablet,wearable,tv">LazyForEach场景节点操作示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lazyforeach场景节点操作示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">BuilderNode</span>, <span class="hljs-title class_">ExpandMode</span>, <span class="hljs-title class_">LengthUnit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TEST_TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"FrameNode "</span></li><li>
</li><li><span class="hljs-comment">// BasicDataSource实现了IDataSource接口，用于管理listener监听，以及通知LazyForEach数据更新</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: <span class="hljs-title class_">DataChangeListener</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">originDataArray</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">originDataArray</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 该方法为框架侧调用，为LazyForEach组件向其数据源处添加listener监听</span></li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener) &lt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'add listener'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(listener);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 该方法为框架侧调用，为对应的LazyForEach组件在数据源处去除listener监听</span></li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> pos = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener);</li><li>    <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'remove listener'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(pos, <span class="hljs-number">1</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要重载所有子组件</span></li><li>  <span class="hljs-title function_">notifyDataReload</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataReloaded</span>();</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要在index对应索引处添加子组件</span></li><li>  <span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataAdd</span>(index);</li><li>      <span class="hljs-comment">// 写法2：listener.onDatasetChange([{type: DataOperationType.ADD, index: index}]);</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件在index对应索引处数据有变化，需要重建该子组件</span></li><li>  <span class="hljs-title function_">notifyDataChange</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataChange</span>(index);</li><li>      <span class="hljs-comment">// 写法2：listener.onDatasetChange([{type: DataOperationType.CHANGE, index: index}]);</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要在index对应索引处删除该子组件</span></li><li>  <span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataDelete</span>(index);</li><li>      <span class="hljs-comment">// 写法2：listener.onDatasetChange([{type: DataOperationType.DELETE, index: index}]);</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件将from索引和to索引处的子组件进行交换</span></li><li>  <span class="hljs-title function_">notifyDataMove</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataMove</span>(<span class="hljs-keyword">from</span>, to);</li><li>      <span class="hljs-comment">// 写法2：listener.onDatasetChange(</span></li><li>      <span class="hljs-comment">//         [{type: DataOperationType.EXCHANGE, index: {start: from, end: to}}]);</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">notifyDatasetChange</span>(<span class="hljs-attr">operations</span>: <span class="hljs-title class_">DataOperation</span>[]): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDatasetChange</span>(operations);</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义数据管理类管理string数组</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDataSource</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BasicDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dataArray</span>: <span class="hljs-built_in">string</span>[] = []</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">0</span>, data);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(index);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">pushData</span>(<span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">push</span>(data);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-title class_">MyDataSource</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data: MyDataSource, scroller: Scroller</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span> = scroller;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildData</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">List</span>({ <span class="hljs-attr">scroller</span>: params.<span class="hljs-property">scroller</span> }) {</li><li>    <span class="hljs-title class_">LazyForEach</span>(params.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>      <span class="hljs-title class_">ListItem</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(item)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>            .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" node appear: "</span> + item)</li><li>            })</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>            .<span class="hljs-title function_">margin</span>({</li><li>              <span class="hljs-attr">top</span>: <span class="hljs-number">30</span>,</li><li>              <span class="hljs-attr">bottom</span>: <span class="hljs-number">30</span>,</li><li>              <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">right</span>: <span class="hljs-number">10</span></li><li>            })</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">id</span>(item)</li><li>    }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>  }</li><li>  .<span class="hljs-title function_">cachedCount</span>(<span class="hljs-number">5</span>)</li><li>  .<span class="hljs-title function_">listDirection</span>(<span class="hljs-title class_">Axis</span>.<span class="hljs-property">Horizontal</span>)</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">MyDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDataSource</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">20</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">pushData</span>(<span class="hljs-string">`N<span class="hljs-subst">${i}</span>`</span>);</li><li>    }</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">params</span>: <span class="hljs-title class_">Params</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">dataNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[<span class="hljs-title class_">Params</span>]&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(uiContext);</li><li>    dataNode.<span class="hljs-title function_">build</span>(wrapBuilder&lt;[<span class="hljs-title class_">Params</span>]&gt;(buildData), params);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = dataNode.<span class="hljs-title function_">getFrameNode</span>();</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">scrollToIndexOptions</span>: <span class="hljs-title class_">ScrollToIndexOptions</span> = {</li><li>      <span class="hljs-attr">extraOffset</span>: {</li><li>        <span class="hljs-attr">value</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">unit</span>: <span class="hljs-title class_">LengthUnit</span>.<span class="hljs-property">VP</span></li><li>      }</li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollToIndex</span>(<span class="hljs-number">6</span>, <span class="hljs-literal">true</span>, <span class="hljs-title class_">ScrollAlign</span>.<span class="hljs-property">START</span>, scrollToIndexOptions);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getFirstChildIndexWithoutExpand</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${TEST_TAG}</span> getFirstChildIndexWithoutExpand: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.rootNode!.getFirstChildIndexWithoutExpand()}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getLastChildIndexWithoutExpand</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`<span class="hljs-subst">${TEST_TAG}</span> getLastChildIndexWithoutExpand: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.rootNode!.getLastChildIndexWithoutExpand()}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getChildWithNotExpand</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">3</span>, <span class="hljs-title class_">ExpandMode</span>.<span class="hljs-property">NOT_EXPAND</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.NOT_EXPAND): "</span> + childNode!.<span class="hljs-title function_">getId</span>());</li><li>    <span class="hljs-keyword">if</span> (childNode!.<span class="hljs-title function_">getId</span>() === <span class="hljs-string">"N9"</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.NOT_EXPAND)  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.NOT_EXPAND)  result: fail."</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getChildWithExpand</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">3</span>, <span class="hljs-title class_">ExpandMode</span>.<span class="hljs-property">EXPAND</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.EXPAND): "</span> + childNode!.<span class="hljs-title function_">getId</span>());</li><li>    <span class="hljs-keyword">if</span> (childNode!.<span class="hljs-title function_">getId</span>() === <span class="hljs-string">"N3"</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.EXPAND)  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.EXPAND)  result: fail."</span>);</li><li>    }</li><li>  }</li><li>  </li><li>  <span class="hljs-title function_">getChildWithLazyExpand</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> childNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">3</span>, <span class="hljs-title class_">ExpandMode</span>.<span class="hljs-property">LAZY_EXPAND</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.LAZY_EXPAND): "</span> + childNode!.<span class="hljs-title function_">getId</span>());</li><li>    <span class="hljs-keyword">if</span> (childNode!.<span class="hljs-title function_">getId</span>() === <span class="hljs-string">"N3"</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.LAZY_EXPAND)  result: success."</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TEST_TAG</span> + <span class="hljs-string">" getChild(3, ExpandMode.LAZY_EXPAND)  result: fail."</span>);</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">8</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"This is a NodeContainer."</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getFirstChildIndexWithoutExpand"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getFirstChildIndexWithoutExpand</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getLastChildIndexWithoutExpand"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getLastChildIndexWithoutExpand</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getChildWithNotExpand"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getChildWithNotExpand</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getChildWithExpand"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getChildWithExpand</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getChildWithLazyExpand"</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">getChildWithLazyExpand</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) <span class="hljs-comment">// 滚动方向纵向</span></li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2743px;">     <h2 id="基础事件示例" device-type="phone,2in1,tablet,wearable,tv">基础事件示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="基础事件示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-params">frameNode: FrameNode</span>) {</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnHover</span>(((<span class="hljs-attr">isHover</span>: <span class="hljs-built_in">boolean</span>, <span class="hljs-attr">event</span>: <span class="hljs-title class_">HoverEvent</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isHover FrameNode: <span class="hljs-subst">${isHover}</span>`</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isHover FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>      event.<span class="hljs-title function_">stopPropagation</span>();</li><li>    }))</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Click FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`touch FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on Appear FrameNode`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnDisappear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onDisAppear FrameNode`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnFocus</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onFocus FrameNode`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnBlur</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onBlur FrameNode`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnKeyEvent</span>(<span class="hljs-function">(<span class="hljs-params">event: KeyEvent</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Key FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnMouse</span>(<span class="hljs-function">(<span class="hljs-params">event: MouseEvent</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Mouse FrameNode: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>    })</li><li>    frameNode.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnSizeChange</span>(<span class="hljs-function">(<span class="hljs-params">oldValue: SizeOptions, newValue: SizeOptions</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onSizeChange FrameNode: oldValue is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(oldValue)}</span> value is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(newValue)}</span>`</span>)</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"add CommonEvent to Text"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">getPreviousSibling</span>() !)</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"this is a Text"</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">onHover</span>(((<span class="hljs-attr">isHover</span>: <span class="hljs-built_in">boolean</span>, <span class="hljs-attr">event</span>: <span class="hljs-title class_">HoverEvent</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isHover Text: <span class="hljs-subst">${isHover}</span>`</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`isHover Text: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>          event.<span class="hljs-title function_">stopPropagation</span>();</li><li>        }))</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Click Text    : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`touch Text    : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on Appear Text`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onDisAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onDisAppear Text`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onFocus</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onFocus Text`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onBlur</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onBlur Text`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onKeyEvent</span>(<span class="hljs-function">(<span class="hljs-params">event: KeyEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Key Text    : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onMouse</span>(<span class="hljs-function">(<span class="hljs-params">event: MouseEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Mouse Text : <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onSizeChange</span>(<span class="hljs-function">(<span class="hljs-params">oldValue: SizeOptions, newValue: SizeOptions</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onSizeChange Text: oldValue is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(oldValue)}</span> value is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(newValue)}</span>`</span>)</li><li>        })</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 7843px;">     <h2 id="lazyforeach场景基础事件使用示例" device-type="phone,2in1,tablet,wearable,tv">LazyForEach场景基础事件使用示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lazyforeach场景基础事件使用示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.ets</span></li><li><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Track</span>, <span class="hljs-title class_">TrackManager</span>, <span class="hljs-title class_">TrackNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"./track"</span></li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">page1</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Page1"</span>)</li><li>    <span class="hljs-title class_">PageList</span>().<span class="hljs-title function_">height</span>(<span class="hljs-string">"90%"</span>)</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">"DumpMessage"</span>)</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">dump</span>()</li><li>      })</li><li>
</li><li>  }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: <span class="hljs-title class_">DataChangeListener</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">originDataArray</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">originDataArray</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 该方法为框架侧调用，为LazyForEach组件向其数据源处添加listener监听</span></li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener) &lt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'add listener'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(listener);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 该方法为框架侧调用，为对应的LazyForEach组件在数据源处去除listener监听</span></li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> pos = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener);</li><li>    <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'remove listener'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(pos, <span class="hljs-number">1</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要重载所有子组件</span></li><li>  <span class="hljs-title function_">notifyDataReload</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataReloaded</span>();</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要在index对应索引处添加子组件</span></li><li>  <span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataAdd</span>(index);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件在index对应索引处数据有变化，需要重建该子组件</span></li><li>  <span class="hljs-title function_">notifyDataChange</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataChange</span>(index);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件需要在index对应索引处删除该子组件</span></li><li>  <span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataDelete</span>(index);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知LazyForEach组件将from索引和to索引处的子组件进行交换</span></li><li>  <span class="hljs-title function_">notifyDataMove</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataMove</span>(<span class="hljs-keyword">from</span>, to);</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义数据管理类管理string数组</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDataSource</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BasicDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dataArray</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">0</span>, data);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(index);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">pushData</span>(<span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">push</span>(data);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageList</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">MyDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDataSource</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">100</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">pushData</span>(<span class="hljs-string">`Hello <span class="hljs-subst">${i}</span>`</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">3</span> }) {</li><li>      <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-comment">// 通过TrackNode对组件进行封装埋点</span></li><li>          <span class="hljs-title class_">TrackNode</span>({<span class="hljs-attr">track</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Track</span>().<span class="hljs-title function_">tag</span>(<span class="hljs-string">"xxx"</span>+ item).<span class="hljs-title function_">id</span>(index + <span class="hljs-number">30000</span>)}) {</li><li>            <span class="hljs-title class_">Row</span>() {</li><li>              <span class="hljs-title class_">Text</span>(item).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                })</li><li>            }.<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">10</span> })</li><li>          }</li><li>        }</li><li>      }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>    }.<span class="hljs-title function_">cachedCount</span>(<span class="hljs-number">5</span>)</li><li>  }</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TrackTest</span> {</li><li>  <span class="hljs-attr">pageInfos</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>()</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">TrackNode</span>({ <span class="hljs-attr">track</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Track</span>().<span class="hljs-title function_">tag</span>(<span class="hljs-string">"root"</span>).<span class="hljs-title function_">id</span>(<span class="hljs-number">10000</span>)}) {</li><li>        <span class="hljs-title function_">page1</span>()</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">startListenClick</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>())</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ./track.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">Rect</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">TrackNode</span> {</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">closer</span>: <span class="hljs-title class_">VoidCallback</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultBuilder</span></li><li>  <span class="hljs-attr">track</span>: <span class="hljs-title class_">Track</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span></li><li>  <span class="hljs-attr">trackShadow</span>: <span class="hljs-title class_">TrackShadow</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrackShadow</span>()</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">defaultBuilder</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">closer</span>()</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 稍后使用onDidBuild</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">removeTrack</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span>)</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track disappear:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDidBuild</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 构建埋点的虚拟树，获取的node为当前页面的根节点（用例中为Row）</span></li><li>    <span class="hljs-keyword">let</span> uid = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>()</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getFrameNodeByUniqueId</span>(uid);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track onDidBuild node:"</span> + node?.<span class="hljs-title function_">getNodeType</span>())</li><li>    <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">return</span></li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">node</span> = node</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span> = node?.<span class="hljs-title function_">getUniqueId</span>()</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">track</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">track</span>;</li><li>    <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">addTrack</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>)</li><li>    <span class="hljs-comment">// 通过setOnVisibleAreaApproximateChange监听记录埋点组件的可视区域</span></li><li>    node?.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnVisibleAreaApproximateChange</span>(</li><li>      { <span class="hljs-attr">ratios</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>], <span class="hljs-attr">expectedUpdateInterval</span>: <span class="hljs-number">500</span> },</li><li>      <span class="hljs-function">(<span class="hljs-params">ratioInc: <span class="hljs-built_in">boolean</span>, ratio: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Node <span class="hljs-subst">${node?.getUniqueId()}</span>:<span class="hljs-subst">${node?.getNodeType()}</span> is visibleRatio is <span class="hljs-subst">${ratio}</span>`</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">visibleRatio</span> = ratio</li><li>      })</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">parent</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = node?.<span class="hljs-title function_">getParent</span>()</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">attachTrackToParent</span>: <span class="hljs-function">(<span class="hljs-params">parent: FrameNode | <span class="hljs-literal">null</span></span>) =&gt;</span> <span class="hljs-built_in">boolean</span> =</li><li>      <span class="hljs-function">(<span class="hljs-params">parent: FrameNode | <span class="hljs-literal">null</span></span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">while</span> (parent !== <span class="hljs-literal">null</span>) {</li><li>          <span class="hljs-keyword">let</span> parentTrack = <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">getTrackById</span>(parent.<span class="hljs-title function_">getUniqueId</span>())</li><li>          <span class="hljs-keyword">if</span> (parentTrack !== <span class="hljs-literal">undefined</span>) {</li><li>            parentTrack.<span class="hljs-property">childIds</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">parentId</span> = parentTrack.<span class="hljs-property">id</span></li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          }</li><li>          parent = parent.<span class="hljs-title function_">getParent</span>()</li><li>        }</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>      }</li><li>    <span class="hljs-keyword">let</span> attached = <span class="hljs-title function_">attachTrackToParent</span>(parent);</li><li>
</li><li>    <span class="hljs-keyword">if</span> (!attached) {</li><li>      node?.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> attached = <span class="hljs-title function_">attachTrackToParent</span>(parent);</li><li>        <span class="hljs-keyword">if</span> (attached) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track lazy attached:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackShadow</span>.<span class="hljs-property">id</span>)</li><li>        }</li><li>      })</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Track</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">areaPercent</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">trackTag</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">trackId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">tag</span>(<span class="hljs-attr">newTag</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Track</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackTag</span> = newTag;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">id</span>(<span class="hljs-attr">newId</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Track</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackId</span> = newId;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TrackShadow</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">track</span>: <span class="hljs-title class_">Track</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">childIds</span>: <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">parentId</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">visibleRect</span>: <span class="hljs-title class_">Rect</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span> }</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">area</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">visibleRatio</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-comment">// 通过全局dump输出埋点树的信息</span></li><li>  <span class="hljs-title function_">dump</span>(<span class="hljs-attr">depth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track DP:"</span> + depth + <span class="hljs-string">" id:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> + <span class="hljs-string">" areaPer:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">track</span>?.<span class="hljs-property">areaPercent</span> + <span class="hljs-string">" visibleRatio:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleRatio</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">childIds</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-title class_">TrackManager</span>.<span class="hljs-title function_">get</span>().<span class="hljs-title function_">getTrackById</span>(value)?.<span class="hljs-title function_">dump</span>(depth + <span class="hljs-number">1</span>)</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TrackManager</span> {</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">TrackManager</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">trackMap</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-title class_">TrackShadow</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootTrack</span>: <span class="hljs-title class_">TrackShadow</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span></li><li>
</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-title function_">get</span>(): <span class="hljs-title class_">TrackManager</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">TrackManager</span>.<span class="hljs-property">instance</span> !== <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">TrackManager</span>.<span class="hljs-property">instance</span></li><li>    }</li><li>    <span class="hljs-title class_">TrackManager</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrackManager</span>()</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">TrackManager</span>.<span class="hljs-property">instance</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addTrack</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, track: TrackShadow</span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">trackMap</span>.<span class="hljs-property">size</span> == <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootTrack</span> = track</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track add id:"</span> + id)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackMap</span>.<span class="hljs-title function_">set</span>(id, track)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeTrack</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">let</span> current = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getTrackById</span>(id)</li><li>    <span class="hljs-keyword">if</span> (current !== <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackMap</span>.<span class="hljs-title function_">delete</span>(id)</li><li>      <span class="hljs-keyword">let</span> parent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getTrackById</span>(current?.<span class="hljs-property">parentId</span>)</li><li>      parent?.<span class="hljs-property">childIds</span>.<span class="hljs-title function_">delete</span>(id)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getTrackById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">TrackShadow</span> | <span class="hljs-literal">undefined</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trackMap</span>.<span class="hljs-title function_">get</span>(id)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">startListenClick</span>(<span class="hljs-params">context: UIContext</span>) {</li><li>    <span class="hljs-comment">// 通过无感监听获取FrameNode查找埋点信息</span></li><li>    context.<span class="hljs-title function_">getUIObserver</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">"willClick"</span>, <span class="hljs-function">(<span class="hljs-params">event: ClickEvent, node?: FrameNode</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Track clicked:"</span> + node)</li><li>      <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">return</span></li><li>      }</li><li>      <span class="hljs-keyword">let</span> track = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getTrackById</span>(node.<span class="hljs-title function_">getUniqueId</span>())</li><li>      track?.<span class="hljs-title function_">dump</span>(<span class="hljs-number">0</span>);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">updateVisibleInfo</span>(<span class="hljs-attr">track</span>: <span class="hljs-title class_">TrackShadow</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 更新埋点信息</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">dump</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootTrack</span>?.<span class="hljs-title function_">dump</span>(<span class="hljs-number">0</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1783px;">     <h2 id="手势事件示例" device-type="phone,2in1,tablet,wearable,tv">手势事件示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="手势事件示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">overlay</span>(<span class="hljs-string">'This is a FrameNode'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addGestureEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addGestureEvent</span>(<span class="hljs-params">frameNode: FrameNode</span>) {</li><li>    frameNode.<span class="hljs-property">gestureEvent</span>.<span class="hljs-title function_">addGesture</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PanGestureHandler</span>()</li><li>        .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Pan start: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Pan update: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Pan end: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onActionCancel</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Pan cancel'</span>);</li><li>        })</li><li>    )</li><li>    frameNode.<span class="hljs-property">gestureEvent</span>.<span class="hljs-title function_">addGesture</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LongPressGestureHandler</span>()</li><li>        .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Long press action: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Long press action end: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onActionCancel</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Long press cancel'</span>);</li><li>        })</li><li>    )</li><li>    frameNode.<span class="hljs-property">gestureEvent</span>.<span class="hljs-title function_">addGesture</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TapGestureHandler</span>()</li><li>        .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Tap action: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(event)}</span>`</span>);</li><li>        })</li><li>    )</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2911px;">     <h2 id="节点自定义示例" device-type="phone,2in1,tablet,wearable,tv">节点自定义示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="节点自定义示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">DrawContext</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">LayoutConstraint</span>, <span class="hljs-title class_">Size</span>, <span class="hljs-title class_">Position</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">GetChildLayoutConstraint</span>(<span class="hljs-params">constraint: LayoutConstraint, child: FrameNode</span>): <span class="hljs-title class_">LayoutConstraint</span> {</li><li>  <span class="hljs-keyword">const</span> size = child.<span class="hljs-title function_">getUserConfigSize</span>();</li><li>  <span class="hljs-keyword">const</span> width = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(</li><li>    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(constraint.<span class="hljs-property">maxSize</span>.<span class="hljs-property">width</span>, size.<span class="hljs-property">width</span>.<span class="hljs-property">value</span>),</li><li>    constraint.<span class="hljs-property">minSize</span>.<span class="hljs-property">width</span></li><li>    );</li><li>  <span class="hljs-keyword">const</span> height = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(</li><li>    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(constraint.<span class="hljs-property">maxSize</span>.<span class="hljs-property">height</span>, size.<span class="hljs-property">height</span>.<span class="hljs-property">value</span>),</li><li>    constraint.<span class="hljs-property">minSize</span>.<span class="hljs-property">height</span></li><li>    );</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">finalSize</span>: <span class="hljs-title class_">Size</span> = { width, height };</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">res</span>: <span class="hljs-title class_">LayoutConstraint</span> = {</li><li>    <span class="hljs-attr">maxSize</span>: finalSize,</li><li>    <span class="hljs-attr">minSize</span>: finalSize,</li><li>    <span class="hljs-attr">percentReference</span>: finalSize</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">return</span> res;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 自定义FrameNode实现自定义布局函数</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFrameNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">FrameNode</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">10</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">space</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>
</li><li>  <span class="hljs-title function_">onMeasure</span>(<span class="hljs-attr">constraint</span>: <span class="hljs-title class_">LayoutConstraint</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">sizeRes</span>: <span class="hljs-title class_">Size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChildrenCount</span>();i++) {</li><li>      <span class="hljs-keyword">let</span> child = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChild</span>(i);</li><li>      <span class="hljs-keyword">if</span> (child) {</li><li>        <span class="hljs-keyword">let</span> childConstraint = <span class="hljs-title class_">GetChildLayoutConstraint</span>(constraint, child);</li><li>        child.<span class="hljs-title function_">measure</span>(childConstraint);</li><li>        <span class="hljs-keyword">let</span> size = child.<span class="hljs-title function_">getMeasuredSize</span>();</li><li>        sizeRes.<span class="hljs-property">height</span> += size.<span class="hljs-property">height</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">space</span>;</li><li>        sizeRes.<span class="hljs-property">width</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(sizeRes.<span class="hljs-property">width</span>, size.<span class="hljs-property">width</span>);</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setMeasuredSize</span>(sizeRes);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onLayout</span>(<span class="hljs-attr">position</span>: <span class="hljs-title class_">Position</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChildrenCount</span>();i++) {</li><li>      <span class="hljs-keyword">let</span> child = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChild</span>(i);</li><li>      <span class="hljs-keyword">if</span> (child) {</li><li>        child.<span class="hljs-title function_">layout</span>({</li><li>          <span class="hljs-attr">x</span>: <span class="hljs-number">20</span>,</li><li>          <span class="hljs-attr">y</span>: y</li><li>        });</li><li>        y += child.<span class="hljs-title function_">getMeasuredSize</span>().<span class="hljs-property">height</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">space</span>;</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setLayoutPosition</span>(position);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDraw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>    pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>    pen.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>    canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> });</li><li>    canvas.<span class="hljs-title function_">detachPen</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addWidth</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> += <span class="hljs-number">10</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">MyFrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFrameNode</span>(context);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-property">commonAttribute</span>?.<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">nodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeController</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Invalidate'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeController</span>?.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">addWidth</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeController</span>?.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">invalidate</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'UpdateLayout'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeController</span>?.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">setNeedsLayout</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4831px;">     <h2 id="nodeadapter使用示例" device-type="phone,2in1,tablet,wearable,tv">NodeAdapter使用示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nodeadapter使用示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">NodeAdapter</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 自定义NodeAdapter管理数据</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeAdapter</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span></li><li>  <span class="hljs-attr">cachePool</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">FrameNode</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</li><li>  <span class="hljs-attr">changed</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-attr">reloadTimes</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</li><li>  hostNode?: <span class="hljs-title class_">FrameNode</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext, count: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span> = count;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadData</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">reloadData</span>(<span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reloadTimes</span>++;</li><li>    <span class="hljs-title class_">NodeAdapter</span>.<span class="hljs-title function_">attachNodeAdapter</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">hostNode</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span> = count;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadData</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reloadAllItems</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">refreshData</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> items = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAllAvailableItems</span>()</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter get All items:"</span> + items.<span class="hljs-property">length</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reloadAllItems</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">detachData</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-title class_">NodeAdapter</span>.<span class="hljs-title function_">detachNodeAdapter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">hostNode</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reloadTimes</span> = <span class="hljs-number">0</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">loadData</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[i] = <span class="hljs-string">"Adapter ListItem "</span> + i + <span class="hljs-string">" r:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">reloadTimes</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">changeData</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">changed</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">changed</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {</li><li>      <span class="hljs-keyword">let</span> index = i + <span class="hljs-keyword">from</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index] = <span class="hljs-string">"Adapter ListItem "</span> + (<span class="hljs-variable language_">this</span>.<span class="hljs-property">changed</span> ? <span class="hljs-string">"changed:"</span> : <span class="hljs-string">""</span>) + index + <span class="hljs-string">" r:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">reloadTimes</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reloadItem</span>(<span class="hljs-keyword">from</span>, count);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">insertData</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {</li><li>      <span class="hljs-keyword">let</span> index = i + <span class="hljs-keyword">from</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">0</span>, <span class="hljs-string">"Adapter ListItem "</span> + <span class="hljs-keyword">from</span> + <span class="hljs-string">"-"</span> + i);</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">insertItem</span>(<span class="hljs-keyword">from</span>, count);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span> += count;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter after insert count:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeData</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> arr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-keyword">from</span>, count);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-keyword">from</span>, count);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span> -= arr.<span class="hljs-property">length</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter after remove count:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">moveData</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> tmp = <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-keyword">from</span>, <span class="hljs-number">1</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">splice</span>(to, <span class="hljs-number">0</span>, tmp[<span class="hljs-number">0</span>]);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">moveItem</span>(<span class="hljs-keyword">from</span>, to);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onAttachToNode</span>(<span class="hljs-attr">target</span>: <span class="hljs-title class_">FrameNode</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onAttachToNode id:"</span> + target.<span class="hljs-title function_">getUniqueId</span>());</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hostNode</span> = target;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDetachFromNode</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onDetachFromNode"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onGetChildId</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onGetChildId:"</span> + index);</li><li>    <span class="hljs-keyword">return</span> index;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onCreateChild</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">FrameNode</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild:"</span> + index);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">let</span> cacheNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-title function_">pop</span>();</li><li>      <span class="hljs-keyword">if</span> (cacheNode !== <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild reused id:"</span> + cacheNode.<span class="hljs-title function_">getUniqueId</span>());</li><li>        <span class="hljs-keyword">let</span> text = cacheNode?.<span class="hljs-title function_">getFirstChild</span>();</li><li>        <span class="hljs-keyword">let</span> textNode = text <span class="hljs-keyword">as</span> typeNode.<span class="hljs-property">Text</span>;</li><li>        textNode?.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index]).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>);</li><li>        <span class="hljs-keyword">return</span> cacheNode;</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild createNew"</span>);</li><li>    <span class="hljs-keyword">let</span> itemNode = typeNode.<span class="hljs-title function_">createNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, <span class="hljs-string">"ListItem"</span>);</li><li>    <span class="hljs-keyword">let</span> textNode = typeNode.<span class="hljs-title function_">createNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, <span class="hljs-string">"Text"</span>);</li><li>    textNode.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index]).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>);</li><li>    itemNode.<span class="hljs-title function_">appendChild</span>(textNode);</li><li>    <span class="hljs-keyword">return</span> itemNode;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDisposeChild</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onDisposeChild:"</span> + id);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-number">10</span>) {</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-title function_">includes</span>(node)) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter caching node id:"</span> + node.<span class="hljs-title function_">getUniqueId</span>());</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-title function_">push</span>(node);</li><li>      }</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      node.<span class="hljs-title function_">dispose</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onUpdateChild</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> index = id;</li><li>    <span class="hljs-keyword">let</span> text = node.<span class="hljs-title function_">getFirstChild</span>();</li><li>    <span class="hljs-keyword">let</span> textNode = text <span class="hljs-keyword">as</span> typeNode.<span class="hljs-property">Text</span>;</li><li>    textNode?.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index]).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>);</li><li>  }</li><li>}</li><li><span class="hljs-comment">// 继承NodeController实现自定义NodeAdapter控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeAdapterController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">nodeAdapter</span>: <span class="hljs-title class_">MyNodeAdapter</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> listNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"List"</span>);</li><li>    listNode.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">3</span> }).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(listNode);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeAdapter</span>(uiContext, <span class="hljs-number">100</span>);</li><li>    <span class="hljs-title class_">NodeAdapter</span>.<span class="hljs-title function_">attachNodeAdapter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span>, listNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListNodeTest</span> {</li><li>  <span class="hljs-attr">adapterController</span>: <span class="hljs-title class_">MyNodeAdapterController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeAdapterController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"ListNode Adapter"</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>);</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Reload"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">reloadData</span>(<span class="hljs-number">50</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Change"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">changeData</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>)</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Insert"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">insertData</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>          })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Remove"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">removeData</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Move"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">moveData</span>(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Refresh"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">refreshData</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Detach"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-property">nodeAdapter</span>?.<span class="hljs-title function_">detachData</span>();</li><li>          })</li><li>      }</li><li>    }.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2479px;">     <h2 id="节点复用回收使用示例" device-type="phone,2in1,tablet,wearable,tv">节点复用回收使用示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="节点复用回收使用示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">BuilderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"this is a text"</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buttonBuilder</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Button</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">8</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">buttonNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[<span class="hljs-title class_">Params</span>]&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">wrapBuilder</span>: <span class="hljs-title class_">WrappedBuilder</span>&lt;[<span class="hljs-title class_">Params</span>]&gt; = <span class="hljs-title function_">wrapBuilder</span>(buttonBuilder);</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> == <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(uiContext);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonNode</span>.<span class="hljs-title function_">build</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapBuilder</span>, { <span class="hljs-attr">text</span>: <span class="hljs-string">"This is a Button"</span> });</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonNode</span>.<span class="hljs-title function_">getFrameNode</span>());</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onAttach</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"myButton on attach"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDetach</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"myButton on detach"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//  onBind时，子节点已经重新上树，此时调用reuse，保证子组件的能重新被复用</span></li><li>  <span class="hljs-title function_">onBind</span>(<span class="hljs-attr">containerId</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 该方法触发子组件复用，全局复用场景下，复用FrameNode后端资源</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">reuse</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"myButton reuse"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//  onUnbind时，子节点已经完全下树，此时调用recycle，保证子组件的能完全被回收</span></li><li>  <span class="hljs-title function_">onUnbind</span>(<span class="hljs-attr">containerId</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 该方法触发子组件的回收，全局复用场景下，回收FrameNode后端资源用于重新利用</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>?.<span class="hljs-title function_">recycle</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"myButton recycle"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getButtonNode</span>(): <span class="hljs-title class_">BuilderNode</span>&lt;[<span class="hljs-title class_">Params</span>]&gt; | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getFrameNode</span>(): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">buttonShow</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">buttonIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">buttonController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">buttonNull</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">buttonControllerArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">MyNodeController</span> | <span class="hljs-literal">null</span>&gt; = [<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonController</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonNull</span>]</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Bind/Unbind"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonIndex</span>++;</li><li>          }).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"onAttach/onDetach"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonShow</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonShow</span></li><li>          }).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonShow</span>) {</li><li>        <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonControllerArray</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonIndex</span> % <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonControllerArray</span>.<span class="hljs-property">length</span>])</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">35</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">35</span> })</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2839px;">     <h2 id="组件设置和删除多态样式状态示例" device-type="phone,2in1,tablet,wearable,tv">组件设置和删除多态样式状态示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="组件设置和删除多态样式状态示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode, <span class="hljs-title class_">UIState</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">isEnable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-keyword">private</span> theStatesToBeSupported = <span class="hljs-title class_">UIState</span>.<span class="hljs-property">NORMAL</span> | <span class="hljs-title class_">UIState</span>.<span class="hljs-property">PRESSED</span> | <span class="hljs-title class_">UIState</span>.<span class="hljs-property">FOCUSED</span> | <span class="hljs-title class_">UIState</span>.<span class="hljs-property">DISABLED</span> | <span class="hljs-title class_">UIState</span>.<span class="hljs-property">SELECTED</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-comment">//创建并组织节点关系</span></li><li>    <span class="hljs-keyword">let</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">10</span> })</li><li>
</li><li>    <span class="hljs-keyword">let</span> column = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Column'</span>);</li><li>    column.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    node.<span class="hljs-title function_">appendChild</span>(column);</li><li>
</li><li>    <span class="hljs-keyword">let</span> styleText = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Text'</span>);</li><li>    styleText.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"StyleTarget"</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>      .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>
</li><li>    <span class="hljs-comment">//为Text组件添加多态样式处理能力</span></li><li>    styleText.<span class="hljs-title function_">addSupportedUIStates</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theStatesToBeSupported</span>, <span class="hljs-function">(<span class="hljs-params">node: FrameNode, currentState: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (currentState == <span class="hljs-title class_">UIState</span>.<span class="hljs-property">NORMAL</span>) { <span class="hljs-comment">//判断是否normal要使用等于</span></li><li>        <span class="hljs-comment">//normal状态，刷normal的UI效果</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback UIState.NORMAL'</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      }</li><li>      <span class="hljs-keyword">if</span> ((currentState &amp; <span class="hljs-title class_">UIState</span>.<span class="hljs-property">PRESSED</span>) == <span class="hljs-title class_">UIState</span>.<span class="hljs-property">PRESSED</span>) {</li><li>        <span class="hljs-comment">//press状态，刷press的UI效果</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback UIState.PRESSED'</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Brown</span>)</li><li>      }</li><li>      <span class="hljs-keyword">if</span> ((currentState &amp; <span class="hljs-title class_">UIState</span>.<span class="hljs-property">FOCUSED</span>) == <span class="hljs-title class_">UIState</span>.<span class="hljs-property">FOCUSED</span>) {</li><li>        <span class="hljs-comment">//focused状态，刷focused的UI效果</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback UIState.FOCUSED'</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">5</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Yellow</span>)</li><li>      }</li><li>      <span class="hljs-keyword">if</span> ((currentState &amp; <span class="hljs-title class_">UIState</span>.<span class="hljs-property">DISABLED</span>) == <span class="hljs-title class_">UIState</span>.<span class="hljs-property">DISABLED</span>) {</li><li>        <span class="hljs-comment">//disabled状态，刷disabled的UI效果</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback UIState.DISABLED'</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">0</span>)</li><li>      }</li><li>      <span class="hljs-keyword">if</span> ((currentState &amp; <span class="hljs-title class_">UIState</span>.<span class="hljs-property">SELECTED</span>) == <span class="hljs-title class_">UIState</span>.<span class="hljs-property">SELECTED</span>) {</li><li>        <span class="hljs-comment">//selected状态，刷selected的UI效果</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback UIState.SELECTED'</span>)</li><li>        node.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>      }</li><li>    }, <span class="hljs-literal">false</span>)</li><li>
</li><li>    column.<span class="hljs-title function_">appendChild</span>(styleText);</li><li>
</li><li>    <span class="hljs-comment">//为Text组件删除多态样式处理能力</span></li><li>    <span class="hljs-keyword">let</span> buttonRemove = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Button'</span>);</li><li>    buttonRemove.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"RemoveUIStatus"</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        styleText.<span class="hljs-title function_">removeSupportedUIStates</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theStatesToBeSupported</span>);</li><li>      });</li><li>    column.<span class="hljs-title function_">appendChild</span>(buttonRemove);</li><li>
</li><li>    <span class="hljs-comment">//改变多态样式目标节点的使能状态</span></li><li>    <span class="hljs-keyword">let</span> buttonEnable = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">'Button'</span>);</li><li>    buttonEnable.<span class="hljs-title function_">initialize</span>(<span class="hljs-string">"DisableText"</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span>;</li><li>        buttonEnable.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span> ? <span class="hljs-string">'DisableText'</span> : <span class="hljs-string">'EnableText'</span>);</li><li>        styleText.<span class="hljs-property">attribute</span>.<span class="hljs-title function_">enabled</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isEnable</span>)</li><li>      });</li><li>    column.<span class="hljs-title function_">appendChild</span>(buttonEnable);</li><li>    <span class="hljs-keyword">return</span> node;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FrameNodeTypeTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2878px;">     <h2 id="动画创建与取消示例" device-type="phone,2in1,tablet,wearable,tv">动画创建与取消示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="动画创建与取消示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该示例说明在FrameNode上<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#createanimation20">createAnimation</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#cancelanimations20">cancelAnimations</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getnodepropertyvalue20">getNodePropertyValue</a>接口的用法。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">isRunning</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 表示节点上动画是否在运行</span></li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">startInitAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">createAnimation</span>(<span class="hljs-title class_">AnimationPropertyType</span>.<span class="hljs-property">ROTATION</span>, [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>],</li><li>        { <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>, <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Linear</span>, <span class="hljs-attr">iterations</span>: -<span class="hljs-number">1</span> }); <span class="hljs-comment">// 创建动画，第一次创建时显式指定初值，旋转角从[0,0,0]变成[0,0,360]，无限循环</span></li><li>      <span class="hljs-keyword">if</span> (result) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">true</span>;</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'create rotation animation failed'</span>);</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">cancelAnimation</span>(<span class="hljs-params">cnt: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">cancelAnimations</span>([<span class="hljs-title class_">AnimationPropertyType</span>.<span class="hljs-property">ROTATION</span>]);</li><li>      <span class="hljs-keyword">if</span> (result) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">false</span>;</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'cancel rotation animation failed'</span>);</li><li>        <span class="hljs-keyword">if</span> (cnt &lt; <span class="hljs-number">2</span>) { <span class="hljs-comment">// cnt为尝试取消的次数</span></li><li>          <span class="hljs-comment">// 如果取消失败，500ms后再次尝试取消</span></li><li>          <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cancelAnimation</span>(cnt + <span class="hljs-number">1</span>);</li><li>          }, <span class="hljs-number">500</span>);</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">continueAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">currentProperty</span>: <span class="hljs-built_in">number</span>[] =</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getNodePropertyValue</span>(<span class="hljs-title class_">AnimationPropertyType</span>.<span class="hljs-property">ROTATION</span>); <span class="hljs-comment">// 获取当前节点上的旋转属性终值</span></li><li>      <span class="hljs-keyword">if</span> (currentProperty.<span class="hljs-property">length</span> == <span class="hljs-number">3</span>) { <span class="hljs-comment">// 获取属性正常，旋转属性对应的数组长度为3，分别是x、y、z方向的旋转角</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">endValue</span>: <span class="hljs-built_in">number</span>[];</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">startValue</span>: <span class="hljs-built_in">number</span>[] | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-keyword">if</span> (currentProperty[<span class="hljs-number">2</span>] &gt;= <span class="hljs-number">360</span>) {</li><li>          startValue = [currentProperty[<span class="hljs-number">0</span>], currentProperty[<span class="hljs-number">1</span>],</li><li>            currentProperty[<span class="hljs-number">2</span>] - <span class="hljs-number">360</span>]; <span class="hljs-comment">// 当旋转属性过大时使z方向少转360度，避免z方向角度由于多次启停动画一直增加</span></li><li>          endValue = [currentProperty[<span class="hljs-number">0</span>], currentProperty[<span class="hljs-number">1</span>], currentProperty[<span class="hljs-number">2</span>]];</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          endValue = [currentProperty[<span class="hljs-number">0</span>], currentProperty[<span class="hljs-number">1</span>], currentProperty[<span class="hljs-number">2</span>] + <span class="hljs-number">360</span>]; <span class="hljs-comment">// 此时旋转属性小于360度，可以从上次旋转角再多旋转一圈</span></li><li>        }</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">createAnimation</span>(<span class="hljs-title class_">AnimationPropertyType</span>.<span class="hljs-property">ROTATION</span>, startValue, endValue,</li><li>          { <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>, <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Linear</span>, <span class="hljs-attr">iterations</span>: -<span class="hljs-number">1</span> });</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`create rotation animation from <span class="hljs-subst">${startValue ? <span class="hljs-built_in">String</span>(startValue[<span class="hljs-number">2</span>]) :</span></span></li><li><span class="hljs-string">          <span class="hljs-string">"undefined"</span>}</span> to <span class="hljs-subst">${endValue[<span class="hljs-number">2</span>]}</span>`);</li><li>        <span class="hljs-keyword">if</span> (result) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">true</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'create rotation animation failed when continue'</span>);</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>  </li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>); <span class="hljs-comment">// 设置节点属性</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startInitAnimation</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonEvent</span>.<span class="hljs-title function_">setOnClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cancelAnimation</span>(<span class="hljs-number">1</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">continueAnimation</span>();</li><li>      }</li><li>    });</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreateAnimationExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="332" originwidth="413" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115801.98626941010944489805410332306434:50001231000000:2800:05E751ACF7E34EAC1811B584B80181C14B99560A82E3B6C0DDBFA26AA11A968A.gif" width="413" height="332"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2287px;">     <h2 id="滚动事件示例" device-type="phone,2in1,tablet,wearable,tv">滚动事件示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="滚动事件示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-params">frameNode: FrameNode</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">gridEvent</span>: <span class="hljs-title class_">UIGridEvent</span> | <span class="hljs-literal">undefined</span> = typeNode.<span class="hljs-title function_">getEvent</span>(frameNode, <span class="hljs-string">"Grid"</span>);</li><li>    gridEvent?.<span class="hljs-title function_">setOnWillScroll</span>(<span class="hljs-function">(<span class="hljs-params">scrollOffset: <span class="hljs-built_in">number</span>, scrollState: ScrollState, scrollSource: ScrollSource</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onWillScroll scrollOffset = <span class="hljs-subst">${scrollOffset}</span>, scrollState = <span class="hljs-subst">${scrollState}</span>, scrollSource = <span class="hljs-subst">${scrollSource}</span>`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnDidScroll</span>(<span class="hljs-function">(<span class="hljs-params">scrollOffset: <span class="hljs-built_in">number</span>, scrollState: ScrollState</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onDidScroll scrollOffset = <span class="hljs-subst">${scrollOffset}</span>, scrollState = <span class="hljs-subst">${scrollState}</span>`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnReachStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onReachStart`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnReachEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onReachEnd`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollStart`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollStop</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollStop`</span>)</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollFrameBegin</span>(<span class="hljs-function">(<span class="hljs-params">offset: <span class="hljs-built_in">number</span>, state: ScrollState</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollFrameBegin offset = <span class="hljs-subst">${offset}</span>, state = <span class="hljs-subst">${state}</span>`</span>)</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;</li><li>    })</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollIndex</span>(<span class="hljs-function">(<span class="hljs-params">first: <span class="hljs-built_in">number</span>, last: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollIndex start = <span class="hljs-subst">${first}</span>, end = <span class="hljs-subst">${last}</span>`</span>)</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">string</span>[] = []</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"add CommonEvent to Grid"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">getPreviousSibling</span>()!)</li><li>        })</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>() + day)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">enableScrollInteraction</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3461px;">     <h2 id="检验framenode是否有效示例" device-type="phone,2in1,tablet,wearable,tv">检验FrameNode是否有效示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="检验framenode是否有效示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该示例演示了FrameNode释放节点前后分别使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#isdisposed20">isDisposed</a>接口验证节点的状态，释放节点前节点调用isDisposed接口返回true，释放节点后节点调用isDisposed接口返回false。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">BuilderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TestComponent</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'This is a BuilderNode.'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'aboutToAppear'</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'aboutToDisappear'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildComponent</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">TestComponent</span>()</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">builderNode</span>: <span class="hljs-title class_">BuilderNode</span>&lt;[]&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderNode</span>(uiContext, { <span class="hljs-attr">selfIdealSize</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> } });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">build</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WrappedBuilder</span>(buildComponent));</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> };</li><li>      rootRenderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffd5d5d5</span>;</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>!.<span class="hljs-title function_">getFrameNode</span>()!.<span class="hljs-title function_">getRenderNode</span>());</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">disposeFrameNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>());</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">dispose</span>();</li><li>
</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">dispose</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isDisposed</span>() : <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">isDisposed</span>()) {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'frameNode isDisposed is true'</span>;</li><li>      }</li><li>      <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'frameNode isDisposed is false'</span>;</li><li>      }</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'frameNode is null'</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">removeBuilderNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>.<span class="hljs-title function_">getFrameNode</span>() !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderNode</span>!.<span class="hljs-title function_">getFrameNode</span>()!.<span class="hljs-title function_">getRenderNode</span>());</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">4</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'FrameNode dispose'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">disposeFrameNode</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">''</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'FrameNode isDisposed'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">isDisposed</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="579" originwidth="430" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115801.90033494810866653712415572676634:50001231000000:2800:201D859E31CD02CBC067237DAC2722DAE30B7246AD541FF7AB3B89464AD6F185.gif" width="430" height="579"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3550px;">     <h2 id="检验nodeadapter是否有效示例" device-type="phone,2in1,tablet,wearable,tv">检验NodeAdapter是否有效示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="检验nodeadapter是否有效示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该示例演示了<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#nodeadapter12">NodeAdapter</a>释放节点前后分别使用<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#isdisposed20">isDisposed</a>接口验证节点的状态，释放节点前节点调用isDisposed接口返回true，释放节点后节点调用isDisposed接口返回false。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">NodeAdapter</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 自定义NodeAdapter管理数据</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeAdapter</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span></li><li>  <span class="hljs-attr">cachePool</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">FrameNode</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</li><li>  <span class="hljs-attr">changed</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-attr">reloadTimes</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</li><li>  hostNode?: <span class="hljs-title class_">FrameNode</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext, count: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span> = count;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadData</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">loadData</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalNodeCount</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[i] = <span class="hljs-string">"Adapter ListItem "</span> + i + <span class="hljs-string">" r:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">reloadTimes</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onCreateChild</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">FrameNode</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild:"</span> + index);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">let</span> cacheNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachePool</span>.<span class="hljs-title function_">pop</span>();</li><li>      <span class="hljs-keyword">if</span> (cacheNode !== <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild reused id:"</span> + cacheNode.<span class="hljs-title function_">getUniqueId</span>());</li><li>        <span class="hljs-keyword">let</span> text = cacheNode?.<span class="hljs-title function_">getFirstChild</span>();</li><li>        <span class="hljs-keyword">let</span> textNode = text <span class="hljs-keyword">as</span> typeNode.<span class="hljs-property">Text</span>;</li><li>        textNode?.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index]).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>);</li><li>        <span class="hljs-keyword">return</span> cacheNode;</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"UINodeAdapter onCreateChild createNew"</span>);</li><li>    <span class="hljs-keyword">let</span> itemNode = typeNode.<span class="hljs-title function_">createNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, <span class="hljs-string">"ListItem"</span>);</li><li>    <span class="hljs-keyword">let</span> textNode = typeNode.<span class="hljs-title function_">createNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, <span class="hljs-string">"Text"</span>);</li><li>    textNode.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index]).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>);</li><li>    itemNode.<span class="hljs-title function_">appendChild</span>(textNode);</li><li>    <span class="hljs-keyword">return</span> itemNode;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义NodeAdapter控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeAdapterController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">nodeAdapter</span>: <span class="hljs-title class_">MyNodeAdapter</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">let</span> listNode = typeNode.<span class="hljs-title function_">createNode</span>(uiContext, <span class="hljs-string">"List"</span>);</li><li>    listNode.<span class="hljs-title function_">initialize</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">3</span> }).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">appendChild</span>(listNode);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeAdapter</span>(uiContext, <span class="hljs-number">20</span>);</li><li>    <span class="hljs-title class_">NodeAdapter</span>.<span class="hljs-title function_">attachNodeAdapter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span>, listNode);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">dispose</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span>.<span class="hljs-title function_">dispose</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isDisposed</span>() : <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span> !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeAdapter</span>.<span class="hljs-title function_">isDisposed</span>()) {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'nodeAdapter isDisposed is true'</span>;</li><li>      }</li><li>      <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'nodeAdapter isDisposed is false'</span>;</li><li>      }</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'nodeAdapter is null'</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListNodeTest</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">adapterController</span>: <span class="hljs-title class_">MyNodeAdapterController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeAdapterController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"ListNode Adapter"</span>);</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>);</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"NodeAdapter dispose"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-title function_">dispose</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">''</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"NodeAdapter isDisposed"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">adapterController</span>.<span class="hljs-title function_">isDisposed</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="572" originwidth="440" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115801.99989403143390551034530337777024:50001231000000:2800:8347B28AE8A8047FC0E73CF13F01F77D41086C8505F7FD1F799B721A194ED8D5.gif" width="440" height="572"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1351px;">     <h2 id="获取根节点示例" device-type="phone,2in1,tablet,wearable,tv">获取根节点示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="获取根节点示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>该示例演示了如何通过FrameNode的<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getparent12">getParent</a>接口获取当前页面根节点。</p>     <div _ngcontent-xyc-c106="" class="highlight-div"><div _ngcontent-xyc-c106="" class="highlight-div-header"><div _ngcontent-xyc-c106="" class="highlight-div-header-left"><div _ngcontent-xyc-c106="" class="handle-button expand-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xyc-c106="" class="highlight-div-header-right"><div _ngcontent-xyc-c106="" class="handle-button ai-button"></div><div _ngcontent-xyc-c106="" class="handle-button line-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xyc-c106="" class="handle-button theme-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xyc-c106="" class="handle-button copy-button"><div _ngcontent-xyc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xyc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ChildView</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">'HelloWorld'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>($r(<span class="hljs-string">'app.float.page_text_font_size'</span>))</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        .<span class="hljs-title function_">alignRules</span>({</li><li>          <span class="hljs-attr">center</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span> },</li><li>          <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: <span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span> }</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 通过id查询获得Text节点的FrameNode对象。不建议设置多个相同的id的节点</span></li><li>          <span class="hljs-keyword">let</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getFrameNodeById</span>(<span class="hljs-string">"HelloWorld"</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Find HelloWorld Tag:<span class="hljs-subst">${node!.getNodeType()}</span> id:<span class="hljs-subst">${node!.getUniqueId()}</span>`</span>);</li><li>          <span class="hljs-comment">// 通过while循环遍历查询页面的根节点。如果当前节点为自定义组件，则会继续遍历其父节点</span></li><li>          <span class="hljs-keyword">while</span> (node &amp;&amp; node.<span class="hljs-title function_">getParent</span>() &amp;&amp; node.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">getUniqueId</span>() &gt; <span class="hljs-number">0</span>) {</li><li>            node = node.<span class="hljs-title function_">getParent</span>();</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Find FrameNode Tag:<span class="hljs-subst">${node!.getNodeType()}</span> id:<span class="hljs-subst">${node!.getUniqueId()}</span>`</span>);</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">ChildView</span>({ <span class="hljs-attr">message</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>