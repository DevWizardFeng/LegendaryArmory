<h1 _ngcontent-frp-c119="" class="doc-title ng-star-inserted" title="Grid"> Grid </h1>

<div _ngcontent-frp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>      <p>组件内部已绑定手势实现跟手滚动等功能，需要增加自定义手势操作时请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-blocking-enhancement">手势拦截增强</a>进行处理。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 658px;">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-griditem">GridItem</a>子组件和自定义组件。自定义组件在Grid下使用时，建议使用GridItem作为自定组件的顶层组件，不建议给自定义组件设置属性和事件方法。</p>     <p>支持通过渲染控制类型（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-ifelse" target="_blank">if/else</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>）动态生成子组件，更推荐使用LazyForEach或Repeat以优化性能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Grid子组件的索引值计算规则：</p>       <p>按子组件的顺序依次递增。</p>       <p>if/else语句中，只有条件成立分支内的子组件会参与索引值计算，条件不成立分支内的子组件不计算索引值。</p>       <p>ForEach/LazyForEach和Repeat语句中，会计算展开所有子组件索引值。</p>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-ifelse" target="_blank">if/else</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>发生变化以后，会更新子组件索引值。</p>       <p>Grid子组件的visibility属性设置为Hidden或None时依然会计算索引值。</p>       <p>Grid子组件的visibility属性设置为None时不显示，但依然会占用子组件对应的网格。</p>       <p>Grid子组件设置position属性，会占用子组件对应的网格，子组件将显示在相对Grid左上角偏移position的位置。该子组件不会随其对应网格滚动，在对应网格滑出Grid显示范围外后不显示。</p>       <p>当Grid子组件之间留有空隙时，会根据当前的展示区域尽可能填补空隙，因此GridItem可能会随着网格滚动而改变相对位置。</p>       <p>从API version 21开始，Grid单个子组件的宽高最大为16777216px；API version 20及之前，Grid单个子组件的宽高最大为1000000px。子组件超出该大小可能导致滚动或显示异常。</p>      </div></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 666px;">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Grid(scroller?: Scroller, layoutOptions?: GridLayoutOptions)</p>     <p>创建网格容器。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">scroller</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>可滚动组件的控制器。用于与可滚动组件进行绑定。</p>          <p><strong>说明：</strong></p>          <p>不允许和其他滚动类组件，如：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arclist">ArcList</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid">Grid</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow">WaterFlow</a>绑定同一个滚动控制对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">layoutOptions<sup>10+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#gridlayoutoptions10对象说明">GridLayoutOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">Grid布局选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 2484px;">     <h2 id="gridlayoutoptions10对象说明" device-type="phone,2in1,tablet,wearable,tv">GridLayoutOptions<sup>10+</sup>对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gridlayoutoptions10对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Grid布局选项。其中，irregularIndexes和onGetIrregularSizeByIndex可对仅设置rowsTemplate或columnsTemplate的Grid使用，可以指定一个index数组，并为其中的index对应的GridItem设置其占据的行数与列数，使用方法参见<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例3可滚动grid设置跨行跨列节点">示例3</a>；onGetRectByIndex可对同时设置rowsTemplate和columnsTemplate的Grid使用，为指定的index对应的GridItem设置位置和大小，使用方法参见<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例1固定行列grid">示例1</a>。</p>     <p>为提高Grid在跳转、列数变化等场景的性能，应该尽量使用GridLayoutOptions。即使Grid中没有任何特殊的跨行跨列节点，也可以通过使用'Grid(this.scroller, {regularSize: [1, 1]})'的方式提高跳转性能。参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-improve_grid_performance" target="_blank">优化Grid组件加载慢丢帧问题</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">regularSize</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>大小规则的GridItem在Grid中占的行数和列数，只支持占1行1列即[1, 1]。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">irregularIndexes</td>         <td class="cellrowborder" width="20%">number[]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>指定索引的GridItem在Grid中的大小是不规则的。当不设置onGetIrregularSizeByIndex时，irregularIndexes中GridItem的默认大小为垂直滚动Grid的一整行或水平滚动Grid的一整列。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onGetIrregularSizeByIndex</td>         <td class="cellrowborder" width="20%">(index: number) =&gt; [number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>配合irregularIndexes使用，设置不规则GridItem占用的行数和列数。开发者可为irregularIndexes中指明的index对应的GridItem设置占用的行数和列数。在API version 12之前，垂直滚动Grid不支持GridItem占多行，水平滚动Grid不支持GridItem占多列。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onGetRectByIndex<sup>11+</sup></td>         <td class="cellrowborder" width="20%">(index: number) =&gt; [number, number,number,number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置指定索引index对应的GridItem的位置及大小[rowStart,columnStart,rowSpan,columnSpan]。</p>          <p>其中rowStart为行起始位置，columnStart为列起始位置，无单位。</p>          <p>rowSpan为GridItem占用的行数，columnSpan为GridItem占用的列数，无单位。</p>          <p>rowStart和columnStart取大于等于0的自然数，若取负数时，rowStart和columnStart默认为0。</p>          <p>rowSpan和columnSpan取大于等于1的自然数，若取小数则向下取整，若小于1则按1计算。</p>          <p><strong>说明：</strong></p>          <p>第一种情况：某个GridItem发现给它指定的起始位置被占据了，则从起始位置[0,0]开始按顺序从左到右，从上到下寻找起始的放置位置。</p>          <p>第二种情况：如果起始位置没有被占据，但其他位置被占据了，无法显示全部的GridItem大小，则只会布局一部分。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 671px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#属性">滚动组件通用属性</a>外，还支持以下属性：</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Grid组件使用通用属性<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sharp-clipping#clip12">clip<sup>12+</sup></a>和通用属性<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sharp-clipping#clip18">clip<sup>18+</sup></a>时默认值都为true。</p>       <p>设置Grid的padding后，如果子组件部分位于Grid内容区且部分位于padding区域内，则会显示；如果子组件完全位于padding区域内，则不会显示。如下图所示，GridItem1显示，而GridItem2不显示。</p>       <p><span><img originheight="349" originwidth="256" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115543.53765306874153302212827475231527:50001231000000:2800:4F2038090E3A085EA245C2B05C69A0DFBE014CFB70643326359D8488E7081D7E.png" class="notEnlarge" width="256" height="349"></span></p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 909px;">     <h3 id="columnstemplate" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">columnsTemplate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="columnstemplate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>columnsTemplate(value: string)</p>     <p>设置当前网格布局列的数量、固定列宽或最小列宽值，不设置时默认1列。</p>     <p>例如， '1fr 1fr 2fr' 是将父组件分3列，将父组件允许的宽分为4等份，第1列占1份，第2列占1份，第3列占2份。</p>     <p>columnsTemplate('repeat(auto-fit, track-size)')是设置最小列宽值为track-size，自动计算列数和实际列宽。</p>     <p>columnsTemplate('repeat(auto-fill, track-size)')是设置固定列宽值为track-size，自动计算列数。</p>     <p>columnsTemplate('repeat(auto-stretch, track-size)')是设置固定列宽值为track-size，使用columnsGap为最小列间距，自动计算列数和实际列间距。</p>     <p>其中repeat、auto-fit、auto-fill、auto-stretch为关键字。track-size为列宽，支持的单位包括px、vp、%或有效数字，默认单位为vp，track-size至少包括一个有效列宽。</p>     <p>auto-stretch模式只支持track-size为一个有效列宽值，并且track-size只支持px、vp和有效数字，不支持%。</p>     <p>使用效果可以参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例8设置自适应列数">示例8</a>。</p>     <p>设置为'0fr'时，该列的列宽为0，不显示GridItem。设置为其他非法值时，GridItem显示为固定1列。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.15.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.15.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.15.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.15.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前网格布局列的数量或最小列宽值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1761px;">     <h3 id="rowstemplate" device-type="phone,2in1,tablet,wearable,tv">rowsTemplate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rowstemplate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rowsTemplate(value: string)</p>     <p>设置当前网格布局行的数量、固定行高或最小行高值，不设置时默认1行。</p>     <p>例如， '1fr 1fr 2fr'是将父组件分3行，将父组件允许的高分为4等份，第1行占1份，第2行占1份，第3行占2份。</p>     <p>rowsTemplate('repeat(auto-fit, track-size)')是设置最小行高值为track-size，自动计算行数和实际行高。</p>     <p>rowsTemplate('repeat(auto-fill, track-size)')是设置固定行高值为track-size，自动计算行数。</p>     <p>rowsTemplate('repeat(auto-stretch, track-size)')是设置固定行高值为track-size，使用rowsGap为最小行间距，自动计算行数和实际行间距。</p>     <p>其中repeat、auto-fit、auto-fill、auto-stretch为关键字。track-size为行高，支持的单位包括px、vp、%或有效数字，默认单位为vp，track-size至少包括一个有效行高。</p>     <p>auto-stretch模式只支持track-size为一个有效行高值，并且track-size只支持px、vp和有效数字，不支持%。</p>     <p>设置为'0fr'，则这一行的行高为0，这一行GridItem不显示。设置为其他非法值，按固定1行处理。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前网格布局行的数量或最小行高值。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Grid组件根据rowsTemplate、columnsTemplate属性的设置情况，可分为以下三种布局模式：</p>       <p>1、rowsTemplate、columnsTemplate同时设置：</p>       <ul>        <li>Grid只展示固定行列数的元素，其余元素不展示，且Grid不可滚动。</li>        <li>此模式下以下属性不生效：layoutDirection、maxCount、minCount、cellLength。</li>        <li>Grid的宽高没有设置时，默认适应父组件尺寸。</li>        <li>Grid网格列大小按照Grid自身内容区域大小减去所有行列Gap后按各个行列所占比重分配。</li>        <li>GridItem默认填满网格大小。</li>       </ul>       <p>2、rowsTemplate、columnsTemplate仅设置其中的一个：</p>       <ul>        <li>元素按照设置的方向进行排布，超出Grid显示区域后，Grid可通过滚动的方式展示。</li>        <li>如果设置了columnsTemplate，Grid滚动方向为垂直方向，主轴方向为垂直方向，交叉轴方向为水平方向。</li>        <li>如果设置了rowsTemplate，Grid滚动方向为水平方向，主轴方向为水平方向，交叉轴方向为垂直方向。</li>        <li>此模式下以下属性不生效：layoutDirection、maxCount、minCount、cellLength。</li>        <li>网格交叉轴方向尺寸根据Grid自身内容区域交叉轴尺寸减去交叉轴方向所有Gap后按所占比重分配。</li>        <li>网格主轴方向尺寸取当前网格交叉轴方向所有GridItem主轴方向尺寸最大值。</li>        <li>此模式下GridItem交叉轴方向尺寸与网格一致，可以通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#constraintsize">constraintSize</a>中的maxWidth或maxHeight限制GridItem交叉轴方向尺寸小于网格。</li>       </ul>       <p>3、rowsTemplate、columnsTemplate都不设置：</p>       <ul>        <li>元素在layoutDirection方向上排布，列数由Grid的宽度、首个元素的宽度、minCount、maxCount、columnsGap共同决定。</li>        <li>行数由Grid高度、首个元素高度、cellLength、rowsGap共同决定。超出行列容纳范围的元素不显示，也不能通过滚动进行展示。</li>        <li>此模式下仅生效以下属性：layoutDirection、maxCount、minCount、cellLength、editMode、columnsGap、rowsGap。</li>        <li>当前layoutDirection设置为Row时，先从左到右排列，排满一行再排下一行。剩余高度不足时不再布局，整体内容顶部居中。</li>        <li>当前layoutDirection设置为Column时，先从上到下排列，排满一列再排下一列，剩余宽度不足时不再布局。整体内容顶部居中。</li>        <li>当前Grid下面没有GridItem时，Grid的宽高为0。</li>       </ul>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="columnsgap" device-type="phone,2in1,tablet,wearable,tv">columnsGap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="columnsgap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>columnsGap(value: Length)</p>     <p>设置列与列的间距。设置为小于0的值时，按默认值显示。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>列与列的间距。</p>          <p>默认值：0</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="rowsgap" device-type="phone,2in1,tablet,wearable,tv">rowsGap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rowsgap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rowsGap(value: Length)</p>     <p>设置行与行的间距。设置为小于0的值时，按默认值显示。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>行与行的间距。</p>          <p>默认值：0</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="scrollbar" device-type="phone,2in1,tablet,wearable,tv">scrollBar<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrollbar" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scrollBar(value: BarState)</p>     <p>设置滚动条状态。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#barstate">BarState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>滚动条状态。</p>          <p>默认值：BarState.Auto</p>          <p><strong>说明：</strong></p>          <p>API version 9及以下版本默认值为BarState.Off，API version 10及以上版本的默认值为BarState.Auto。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 637px;">     <h3 id="scrollbarcolor" device-type="phone,2in1,tablet,wearable,tv">scrollBarColor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrollbarcolor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scrollBarColor(value: Color | number | string)</p>     <p>设置滚动条的颜色。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#color">Color</a> | number | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>滚动条的颜色。</p>          <p>默认值：'#182431'（40%不透明度）</p>          <p>number为HEX格式颜色，支持rgb或者argb，示例：0xffffff。</p>          <p>string为rgb或者argb格式颜色，示例：'#ffffff'。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="scrollbarwidth" device-type="phone,2in1,tablet,wearable,tv">scrollBarWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrollbarwidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scrollBarWidth(value: number | string)</p>     <p>设置滚动条的宽度，不支持百分比设置。宽度设置后，滚动条正常状态和按压状态宽度均为滚动条的宽度值。如果滚动条的宽度超过Grid组件主轴方向的高度，则滚动条的宽度会变为默认值。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number | string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>滚动条的宽度。</p>          <p>默认值：4</p>          <p>单位：vp</p>          <p>取值范围：设置为小于0的值时，按默认值处理。设置为0时，不显示滚动条。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 805px;">     <h3 id="cachedcount" device-type="phone,2in1,tablet,wearable,tv">cachedCount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cachedcount" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cachedCount(value: number)</p>     <p>设置预加载的GridItem的数量，只在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>和开启了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-repeat#virtualscroll">virtualScroll</a>开关的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>中生效。</p>     <p>设置缓存后会在Grid显示区域上下各缓存cachedCount*列数个GridItem。</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>和开启了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-repeat#virtualscroll">virtualScroll</a>开关的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>超出显示和缓存范围的GridItem会被释放。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>预加载的GridItem的数量。</p>          <p>默认值：垂直滚动时为一个屏幕内可显示的行数，水平滚动时为一个屏幕内可显示的列数，最大值为16。</p>          <p>取值范围：[0, +∞)，设置为小于0的值时，按1处理。</p>          <p>通过状态变量单独更新value值时，Grid组件不会触发布局更新，缓存节点数量仅会在下次布局时更新。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 922px;">     <h3 id="cachedcount14" device-type="phone,2in1,tablet,wearable,tv">cachedCount<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cachedcount14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cachedCount(count: number, show: boolean)</p>     <p>设置预加载的GridItem数量，并配置是否显示预加载节点。</p>     <p>设置缓存后会在Grid显示区域上下各缓存cachedCount*列数个GridItem。配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sharp-clipping#clip12">裁剪</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#clipcontent14">内容裁剪</a>属性可以显示出预加载节点。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">count</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>预加载的GridItem的数量。</p>          <p>默认值：垂直滚动时为一个屏幕内可显示的行数，水平滚动时为一个屏幕内可显示的列数，最大值为16。</p>          <p>取值范围：[0, +∞)，设置为小于0的值时，按1处理。</p>          <p>通过状态变量单独更新count值时，Grid组件不会触发布局更新，缓存节点数量仅会在下次布局时更新。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">show</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>被预加载的GridItem是否需要显示。设置为true时显示预加载的GridItem，设置为false时不显示预加载的GridItem。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 589px;">     <h3 id="editmode8" device-type="phone,2in1,tablet,wearable,tv">editMode<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="editmode8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>editMode(value: boolean)</p>     <p>设置Grid是否进入编辑模式，进入编辑模式可以拖拽Grid组件内部<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-griditem">GridItem</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Grid是否进入编辑模式。设置为true时当前Grid组件处于可编辑模式，设置为false时当前Grid组件处于不可编辑模式。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="layoutdirection8" device-type="phone,2in1,tablet,wearable,tv">layoutDirection<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutdirection8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>layoutDirection(value: GridDirection)</p>     <p>设置布局的主轴方向。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#griddirection8枚举说明">GridDirection</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>布局的主轴方向。</p>          <p>默认值：GridDirection.Row</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 637px;">     <h3 id="maxcount8" device-type="phone,2in1,tablet,wearable,tv">maxCount<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="maxcount8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>maxCount(value: number)</p>     <p>设置可显示的最大行数或列数。设置为小于1的值时，按默认值显示。</p>     <p>当layoutDirection是Row/RowReverse时，表示可显示的最大列数。</p>     <p>当layoutDirection是Column/ColumnReverse时，表示可显示的最大行数。</p>     <p>当maxCount小于minCount时，maxCount和minCount都按默认值处理。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>可显示的最大行数或列数。</p>          <p>默认值：Infinity</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 637px;">     <h3 id="mincount8" device-type="phone,2in1,tablet,wearable,tv">minCount<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mincount8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>minCount(value: number)</p>     <p>设置可显示的最小行数或列数。设置为小于1的值时，按默认值显示。</p>     <p>当layoutDirection是Row/RowReverse时，表示可显示的最小列数。</p>     <p>当layoutDirection是Column/ColumnReverse时，表示可显示的最小行数。</p>     <p>当minCount大于maxCount时，minCount和maxCount都按默认值处理。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>可显示的最小行数或列数。</p>          <p>默认值：1</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 709px;">     <h3 id="celllength8" device-type="phone,2in1,tablet,wearable,tv">cellLength<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="celllength8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cellLength(value: number)</p>     <p>设置一行的高度或者一列的宽度。</p>     <p>当layoutDirection是Row/RowReverse时，表示一行的高度。</p>     <p>当layoutDirection是Column/ColumnReverse时，表示一列的宽度。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>一行的高度或者一列的宽度。</p>          <p>默认值：第一个元素的大小</p>          <p>单位：vp</p>          <p>取值范围：(0, +∞)，设置为小于等于0的值时，按默认值显示。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="multiselectable8" device-type="phone,2in1,tablet,wearable,tv">multiSelectable<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="multiselectable8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>multiSelectable(value: boolean)</p>     <p>设置是否开启鼠标框选。开启框选后，可以配合GridItem的selected属性和onSelect事件获取GridItem的选中状态，还可以设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-polymorphic-style">选中态样式</a>（无默认选中样式）。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否开启鼠标框选。</p>          <p>默认值：false</p>          <p>false：关闭框选。true：开启框选。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 685px;">     <h3 id="supportanimation8" device-type="phone,2in1,tablet,wearable,tv">supportAnimation<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="supportanimation8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>supportAnimation(value: boolean)</p>     <p>设置是否支持动画。当前支持GridItem拖拽动画。仅在滚动模式下（只设置rowsTemplate、columnsTemplate其中一个）支持动画。</p>     <p>仅在大小规则的Grid中支持拖拽动画，跨行或跨列场景不支持。</p>     <p>supportAnimation动画效果参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例5grid拖拽场景">示例5（Grid拖拽场景）</a>，其他动画效果需要应用自定义拖拽实现。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否支持动画。设置为true时支持GridItem拖拽动画，设置为false时不支持GridItem拖拽动画。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 730px;">     <h3 id="edgeeffect10" device-type="phone,2in1,tablet,wearable,tv">edgeEffect<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="edgeeffect10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>edgeEffect(value: EdgeEffect, options?: EdgeEffectOptions)</p>     <p>设置边缘滑动效果。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#edgeeffect">EdgeEffect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Grid组件的边缘滑动效果，支持弹簧效果和阴影效果。</p>          <p>默认值：EdgeEffect.None</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options<sup>11+</sup></td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#edgeeffectoptions11对象说明">EdgeEffectOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>组件内容大小小于组件自身时，是否开启滑动效果。设置为{ alwaysEnabled: true }会开启滑动效果，{ alwaysEnabled: false }不开启。</p>          <p>默认值：{ alwaysEnabled: false }</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 705px;">     <h3 id="enablescrollinteraction10" device-type="phone,2in1,tablet,wearable,tv">enableScrollInteraction<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablescrollinteraction10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableScrollInteraction(value: boolean)</p>     <p>设置是否支持滚动手势。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否支持滚动手势。设置为true时可以通过手指或者鼠标滚动，设置为false时无法通过手指或者鼠标滚动，但不影响控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>的滚动接口。</p>          <p>默认值：true</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>组件无法通过鼠标按下拖动操作进行滚动。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="nestedscroll10" device-type="phone,2in1,tablet,wearable,tv">nestedScroll<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nestedscroll10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>nestedScroll(value: NestedScrollOptions)</p>     <p>设置嵌套滚动选项。设置前后两个方向的嵌套滚动模式，实现与父组件的滚动联动。当组件内容大小小于组件自身，且<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#edgeeffect10">edgeEffect</a>的options为{ alwaysEnabled: false }时，组件自身滑动手势不会触发，嵌套滚动属性不会生效，如果其父滚动组件有滑动手势，则会触发父组件的滑动手势。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#nestedscrolloptions10对象说明">NestedScrollOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">嵌套滚动选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 685px;">     <h3 id="friction10" device-type="phone,2in1,tablet,wearable,tv">friction<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="friction10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>friction(value: number | Resource)</p>     <p>设置摩擦系数，手动划动滚动区域时生效，仅影响惯性滚动过程，对惯性滚动过程中的链式效果有间接影响。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>摩擦系数。</p>          <p>默认值：非可穿戴设备为0.6，可穿戴设备为0.9。</p>          <p>从API version 11开始，非可穿戴设备默认值为0.7。</p>          <p>从API version 12开始，非可穿戴设备默认值为0.75。</p>          <p>取值范围：(0, +∞)，设置为小于等于0的值时，按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="alignitems12" device-type="phone,2in1,tablet,wearable,tv">alignItems<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="alignitems12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>alignItems(alignment: Optional&lt;GridItemAlignment&gt;)</p>     <p>设置Grid中GridItem的对齐方式， 使用方法可以参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例9以当前行最高的griditem的高度为其他griditem的高度">示例9</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">alignment</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#griditemalignment12枚举说明">GridItemAlignment</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置Grid中GridItem的对齐方式。</p>          <p>默认值：GridItemAlignment.DEFAULT</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 589px;">     <h3 id="focuswrapmode20" device-type="phone,2in1,tablet,wearable,tv">focusWrapMode<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="focuswrapmode20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>focusWrapMode(mode: Optional&lt;FocusWrapMode&gt;)</p>     <p>设置交叉轴方向键走焦模式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#focuswrapmode20">FocusWrapMode</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>交叉轴方向键走焦模式。</p>          <p>默认值：FocusWrapMode.DEFAULT</p>          <p><strong>说明：</strong></p>          <p>异常值按默认值处理，即交叉轴方向键不能换行。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 733px;">     <h3 id="syncload20" device-type="phone,2in1,tablet,wearable,tv">syncLoad<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="syncload20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>syncLoad(enable: boolean)</p>     <p>设置是否同步加载Grid区域内所有子组件。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否同步加载Grid区域内所有子组件。</p>          <p>true表示同步加载，false表示异步加载。默认值：true。</p>          <p><strong>说明：</strong></p>          <p>设置为false时，在首次显示、不带动画scrollToIndex跳转场景，若当帧布局耗时超过50ms，会将Grid区域内尚未布局的子组件延后到下一帧进行布局。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 662px;">     <h2 id="griditemalignment12枚举说明" device-type="phone,2in1,tablet,wearable,tv">GridItemAlignment<sup>12+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="griditemalignment12枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>GridItem的对齐方式枚举。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">使用Grid的默认对齐方式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">STRETCH</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">以一行中的最高的GridItem作为其他GridItem的高度。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>1、只有可滚动的Grid中，设置STRETCH参数会生效，其他场景不生效。</p>       <p>2、在Grid的一行中，如果每个GridItem都是大小规律的（只占一行一列），设置STRETCH参数会生效，存在跨行或跨列的GridItem的场景不生效。</p>       <p>3、设置STRETCH后，只有不设置高度的GridItem才会以当前行中最高的GridItem作为自己的高度，设置过高度的GridItem高度不会变化。</p>       <p>4、设置STRETCH后，Grid布局时会有额外的布局流程，可能会带来额外的性能开销。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 612px;">     <h2 id="griddirection8枚举说明" device-type="phone,2in1,tablet,wearable,tv">GridDirection<sup>8+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="griddirection8枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>主轴布局方向枚举。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">Row</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">主轴布局方向沿水平方向布局，即自左往右先填满一行，再去填下一行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">Column</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">主轴布局方向沿垂直方向布局，即自上往下先填满一列，再去填下一列。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">RowReverse</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">主轴布局方向沿水平方向反向布局，即自右往左先填满一行，再去填下一行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ColumnReverse</td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">主轴布局方向沿垂直方向反向布局，即自下往上先填满一列，再去填下一列。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="事件" device-type="phone,2in1,tablet,wearable,tv">事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-events">通用事件</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#事件">滚动组件通用事件</a>外，还支持以下事件：</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h3 id="onscrollindex" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onScrollIndex<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrollindex" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScrollIndex(event: (first: number, last: number) =&gt; void)</p>     <p>当前网格显示的起始位置/终止位置的item发生变化时触发。网格初始化时会触发一次。Grid显示区域上第一个子组件/最后一个组件的索引值有变化就会触发。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">first</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的网格起始位置的索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">last<sup>10+</sup></td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的网格终止位置的索引值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 754px;">     <h3 id="onitemdragstart8" device-type="phone,2in1,tablet,wearable,tv">onItemDragStart<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onitemdragstart8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onItemDragStart(event: (event: ItemDragInfo, itemIndex: number) =&gt; (() =&gt; any) | void)</p>     <p>开始拖拽网格元素时触发。返回void表示不能拖拽。</p>     <p>手指长按GridItem时触发该事件。</p>     <p>由于拖拽检测也需要长按，且事件处理机制优先触发子组件事件，GridItem上绑定<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-longpressgesture#longpressgesture-1">LongPressGesture</a>时无法触发拖拽。如有长按和拖拽同时使用的需求可以使用通用拖拽事件。</p>     <p>拖拽浮起的网格元素可在应用窗口内移动，若需限制移动范围，可通过自定义手势实现，具体参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例16实现griditem自定义拖拽">示例16（实现GridItem自定义拖拽）</a>。</p>     <p>不支持拖动到Grid边缘时自动滚动，可使用通用拖拽实现，具体参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例17通过拖拽事件实现griditem拖拽">示例17（通过拖拽事件实现griditem拖拽）</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#itemdraginfo对象说明">ItemDragInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽点的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被拖拽网格元素索引值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 469px;">     <h3 id="onitemdragenter8" device-type="phone,2in1,tablet,wearable,tv">onItemDragEnter<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onitemdragenter8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onItemDragEnter(event: (event: ItemDragInfo) =&gt; void)</p>     <p>拖拽进入网格元素范围内时触发。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#itemdraginfo对象说明">ItemDragInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽点的信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 559px;">     <h3 id="onitemdragmove8" device-type="phone,2in1,tablet,wearable,tv">onItemDragMove<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onitemdragmove8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onItemDragMove(event: (event: ItemDragInfo, itemIndex: number, insertIndex: number) =&gt; void)</p>     <p>拖拽在网格元素范围内移动时触发。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#itemdraginfo对象说明">ItemDragInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽点的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽起始位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">insertIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽插入位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 538px;">     <h3 id="onitemdragleave8" device-type="phone,2in1,tablet,wearable,tv">onItemDragLeave<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onitemdragleave8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onItemDragLeave(event: (event: ItemDragInfo, itemIndex: number) =&gt; void)</p>     <p>拖拽离开网格元素时触发。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#itemdraginfo对象说明">ItemDragInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽点的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽离开的网格元素索引值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 820px;">     <h3 id="onitemdrop8" device-type="phone,2in1,tablet,wearable,tv">onItemDrop<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onitemdrop8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onItemDrop(event: (event: ItemDragInfo, itemIndex: number, insertIndex: number, isSuccess: boolean) =&gt; void)</p>     <p>绑定该事件的网格元素可作为拖拽释放目标，当GridItem停止拖拽时触发。</p>     <p>当拖拽释放位置在网格元素之内时，isSuccess会返回true；在网格元素之外时，isSuccess会返回false。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#itemdraginfo对象说明">ItemDragInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽点的信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">itemIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽起始位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">insertIndex</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拖拽插入位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isSuccess</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>拖拽释放位置是否在设置了onItemDrop的网格元素之内。</p>          <p>true：表示拖拽释放位置在设置了onItemDrop的网格元素之内；false：表示拖拽释放位置在设置了onItemDrop的网格元素之外。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 805px;">     <h3 id="onscrollbarupdate10" device-type="phone,2in1,tablet,wearable,tv">onScrollBarUpdate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrollbarupdate10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScrollBarUpdate(event: (index: number, offset: number) =&gt; ComputedBarAttribute)</p>     <p>在Grid每帧布局结束时触发，可通过该回调设置滚动条的位置及长度。</p>     <p>该接口只用作设置Grid的滚动条位置，不建议开发者在此接口中做业务逻辑处理。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的网格起始位置的索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的网格起始位置元素相对网格显示起始位置的偏移，单位vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#computedbarattribute10对象说明">ComputedBarAttribute</a></td>         <td class="cellrowborder" width="50%">滚动条的位置及长度。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="onreachstart10" device-type="phone,2in1,tablet,wearable,tv">onReachStart<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onreachstart10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onReachStart(event: () =&gt; void)</p>     <p>网格到达起始位置时触发。</p>     <p>Grid初始化时会触发一次，Grid滚动到起始位置时触发一次。Grid边缘效果为弹簧效果时，划动经过起始位置时触发一次，回弹回起始位置时再触发一次。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格到达起始位置时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="onreachend10" device-type="phone,2in1,tablet,wearable,tv">onReachEnd<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onreachend10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onReachEnd(event: () =&gt; void)</p>     <p>网格到达末尾位置时触发。不满一屏并且最后一个子组件末端在Grid内时触发。</p>     <p>Grid边缘效果为弹簧效果时，划动经过末尾位置时触发一次，回弹回末尾位置时再触发一次。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格到达末尾位置时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 837px;">     <h3 id="onscrollframebegin10" device-type="phone,2in1,tablet,wearable,tv">onScrollFrameBegin<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrollframebegin10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScrollFrameBegin(event: OnScrollFrameBeginCallback)</p>     <p>该接口回调时，事件参数传入即将发生的滑动量，事件处理函数中可根据应用场景计算实际需要的滑动量并作为事件处理函数的返回值返回，网格将按照返回值的实际滑动量进行滑动。</p>     <p>满足以下任一条件时触发该事件：</p>     <ol>      <li>用户交互（如手指滑动、键鼠操作等）触发滚动。</li>      <li>Grid惯性滚动。</li>      <li>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#fling12">fling</a>接口触发滚动。</li>     </ol>     <p>不触发该事件的条件：</p>     <ol>      <li>调用除<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#fling12">fling</a>接口外的其他滚动控制接口。</li>      <li>越界回弹。</li>      <li>拖动滚动条。</li>     </ol>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#onscrollframebegincallback18">OnScrollFrameBeginCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">每帧滚动开始回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="onscrollstart10" device-type="phone,2in1,tablet,wearable,tv">onScrollStart<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrollstart10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScrollStart(event: () =&gt; void)</p>     <p>网格滑动开始时触发。手指拖动网格或网格的滚动条触发的滑动开始时，会触发该事件。使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>滑动控制器触发的带动画的滑动，动画开始时会触发该事件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格滑动开始时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="onscrollstop10" device-type="phone,2in1,tablet,wearable,tv">onScrollStop<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrollstop10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScrollStop(event: () =&gt; void)</p>     <p>网格滑动停止时触发。手指拖动网格或网格的滚动条触发的滑动，手指离开屏幕后滑动停止时会触发该事件。使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller">Scroller</a>滑动控制器触发的带动画的滑动，动画停止会触发该事件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格滑动停止时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 706px;">     <h3 id="onscrolldeprecated" device-type="phone,2in1,tablet,wearable,tv">onScroll<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscrolldeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onScroll(event: (scrollOffset: number, scrollState: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#scrollstate枚举说明">ScrollState</a>) =&gt; void)</p>     <p>网格滑动时触发。</p>     <p>从API version 10开始使用。</p>     <p>从API version 12开始废弃不再使用，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#ondidscroll12">onDidScroll</a>替代。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">scrollOffset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>相对于上一帧的偏移量，Grid的内容向上滚动时偏移量为正，向下滚动时偏移量为负。</p>          <p>单位vp。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">scrollState</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#scrollstate枚举说明">ScrollState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前滑动状态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="computedbarattribute10对象说明" device-type="phone,2in1,tablet,wearable,tv">ComputedBarAttribute<sup>10+</sup>对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="computedbarattribute10对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>滚动条位置和长度对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">totalOffset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Grid内容相对显示区域的总偏移，单位px。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">totalLength</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Grid内容总长度，单位px。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 230px;">     <h2 id="uigridevent19" device-type="phone,2in1,tablet,wearable,tv">UIGridEvent<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uigridevent19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>frameNode中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#geteventgrid19">getEvent('Grid')</a>方法的返回值，可用于给Grid节点设置滚动事件。</p>     <p>UIGridEvent继承于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#uiscrollablecommonevent19">UIScrollableCommonEvent</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 525px;">     <h3 id="setonwillscroll19" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">setOnWillScroll<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setonwillscroll19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOnWillScroll(callback: OnWillScrollCallback | undefined): void</p>     <p>设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#onwillscroll12">onWillScroll</a>事件的回调。</p>     <p>方法入参为undefined时，会重置事件回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#onwillscrollcallback12">OnWillScrollCallback</a> | undefined</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">onWillScroll事件的回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="setondidscroll19" device-type="phone,2in1,tablet,wearable,tv">setOnDidScroll<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setondidscroll19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOnDidScroll(callback: OnScrollCallback | undefined): void</p>     <p>设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#ondidscroll12">onDidScroll</a>事件的回调。</p>     <p>方法入参为undefined时，会重置事件回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#onscrollcallback12">OnScrollCallback</a> | undefined</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">onDidScroll事件的回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="setonscrollindex19" device-type="phone,2in1,tablet,wearable,tv">setOnScrollIndex<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setonscrollindex19" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOnScrollIndex(callback: OnGridScrollIndexCallback | undefined): void</p>     <p>设置<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#onscrollindex">onScrollIndex</a>事件的回调。</p>     <p>方法入参为undefined时，会重置事件回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#ongridscrollindexcallback19">OnGridScrollIndexCallback</a> | undefined</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">onScrollIndex事件的回调函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h2 id="ongridscrollindexcallback19" device-type="phone,2in1,tablet,wearable,tv">OnGridScrollIndexCallback<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ongridscrollindexcallback19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnGridScrollIndexCallback = (first: number, last: number) =&gt; void</p>     <p>Grid组件可见区域item变化事件的回调类型。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">first</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的Grid起始位置的索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">last</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前显示的Grid终止位置的索引值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2414px;">     <h3 id="示例1固定行列grid" class="firsth2">示例1（固定行列Grid）<i class="anchor-icon anchor-icon-link" anchorid="示例1固定行列grid" tips="复制节点链接"></i></h3>          <p>可以使用<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#gridlayoutoptions10对象说明">GridLayoutOptions</a>中的onGetRectByIndex指定GridItem的位置和大小。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">numbers1</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'0'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">numbers2</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'0'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>];</li><li>  <span class="hljs-attr">layoutOptions3</span>: <span class="hljs-title class_">GridLayoutOptions</span> = {</li><li>    <span class="hljs-attr">regularSize</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>],</li><li>    <span class="hljs-attr">onGetRectByIndex</span>: <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>];</li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">1</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>];</li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">2</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>];</li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">3</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>];</li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">4</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>];</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>];</li><li>      }</li><li>    }</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers1</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers1</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">GridItem</span>() {</li><li>              <span class="hljs-title class_">Text</span>(day)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>                .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            }</li><li>          }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> day)</li><li>        }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> day)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">rowsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GridLayoutOptions的使用：onGetRectByIndex。'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>
</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">layoutOptions3</span>) {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers2</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> day)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">rowsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="414" originwidth="227" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.98214711776670913922481002105132:50001231000000:2800:7D2C1CBF3C46A2CBDC4369543681C376C82AC5492F9D00BE5B05219280769397.gif" class="notEnlarge" width="227" height="414"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3700px;">     <h3 id="示例2可滚动grid和滚动事件">示例2（可滚动Grid和滚动事件）<i class="anchor-icon anchor-icon-link" anchorid="示例2可滚动grid和滚动事件" tips="复制节点链接"></i></h3>          <p>可滚动Grid，包括所有滚动属性和事件。</p>     <p>GridDataSource实现了LazyForEach数据源接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach#idatasource">IDataSource</a>，用于通过LazyForEach给Grid提供子组件。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// GridDataSource.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GridDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: <span class="hljs-title class_">DataChangeListener</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">list: <span class="hljs-built_in">string</span>[]</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = list;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener) &lt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(listener);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> pos = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener);</li><li>    <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(pos, <span class="hljs-number">1</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知控制器数据位置变化</span></li><li>  <span class="hljs-title function_">notifyDataMove</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataMove</span>(<span class="hljs-keyword">from</span>, to);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 交换元素位置</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">swapItem</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">temp</span>: <span class="hljs-built_in">string</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[<span class="hljs-keyword">from</span>];</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[<span class="hljs-keyword">from</span>] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[to];</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[to] = temp;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataMove</span>(<span class="hljs-keyword">from</span>, to);</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">gridPosition</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">//0代表滚动到grid顶部，1代表中间值，2代表滚动到grid底部。</span></li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'scroll'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>)</li><li>      .<span class="hljs-title function_">enableScrollInteraction</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">supportAnimation</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">multiSelectable</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">On</span>)</li><li>      .<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      .<span class="hljs-title function_">scrollBarWidth</span>(<span class="hljs-number">4</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">onScrollIndex</span>(<span class="hljs-function">(<span class="hljs-params">first: <span class="hljs-built_in">number</span>, last: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(first.<span class="hljs-title function_">toString</span>());</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(last.<span class="hljs-title function_">toString</span>());</li><li>      })</li><li>      .<span class="hljs-title function_">onScrollBarUpdate</span>(<span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span>, offset: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX'</span> + <span class="hljs-string">'Grid onScrollBarUpdate,index : '</span> + index.<span class="hljs-title function_">toString</span>() + <span class="hljs-string">',offset'</span> + offset.<span class="hljs-title function_">toString</span>());</li><li>        <span class="hljs-keyword">return</span> { <span class="hljs-attr">totalOffset</span>: (index / <span class="hljs-number">5</span>) * (<span class="hljs-number">80</span> + <span class="hljs-number">10</span>) - offset, <span class="hljs-attr">totalLength</span>: <span class="hljs-number">80</span> * <span class="hljs-number">5</span> + <span class="hljs-number">10</span> * <span class="hljs-number">4</span> };</li><li>      })  <span class="hljs-comment">//只适用于当前示例代码数据源，如果数据源有变化，则需要修改该部分代码，或者删掉此属性</span></li><li>      .<span class="hljs-title function_">onDidScroll</span>(<span class="hljs-function">(<span class="hljs-params">scrollOffset: <span class="hljs-built_in">number</span>, scrollState: ScrollState</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(scrollOffset.<span class="hljs-title function_">toString</span>());</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(scrollState.<span class="hljs-title function_">toString</span>());</li><li>      })</li><li>      .<span class="hljs-title function_">onScrollStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX'</span> + <span class="hljs-string">'Grid onScrollStart'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">onScrollStop</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX'</span> + <span class="hljs-string">'Grid onScrollStop'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">onReachStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gridPosition</span> = <span class="hljs-number">0</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX'</span> + <span class="hljs-string">'Grid onReachStart'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">onReachEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gridPosition</span> = <span class="hljs-number">2</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX'</span> + <span class="hljs-string">'Grid onReachEnd'</span>);</li><li>      })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'next page'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// 点击后滑到下一页</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollPage</span>({ <span class="hljs-attr">next</span>: <span class="hljs-literal">true</span> });</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="280" originwidth="257" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.88945193618850944713895185561080:50001231000000:2800:D812053961FCBAACBDA3EA47282A9F011CD3233553CE98A1A821D587CA89EF43.gif" class="notEnlarge" width="257" height="280"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2691px;">     <h3 id="示例3可滚动grid设置跨行跨列节点">示例3（可滚动Grid设置跨行跨列节点）<i class="anchor-icon anchor-icon-link" anchorid="示例3可滚动grid设置跨行跨列节点" tips="复制节点链接"></i></h3>          <p><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#gridlayoutoptions10对象说明">GridLayoutOptions</a>的使用：irregularIndexes与onGetIrregularSizeByIndex。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-attr">layoutOptions1</span>: <span class="hljs-title class_">GridLayoutOptions</span> = {</li><li>    <span class="hljs-attr">regularSize</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>],        <span class="hljs-comment">// 只支持[1, 1]</span></li><li>    <span class="hljs-attr">irregularIndexes</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">6</span>],   <span class="hljs-comment">// 索引为0和6的GridItem占用一行</span></li><li>  };</li><li>
</li><li>  <span class="hljs-attr">layoutOptions2</span>: <span class="hljs-title class_">GridLayoutOptions</span> = {</li><li>    <span class="hljs-attr">regularSize</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>],</li><li>    <span class="hljs-attr">irregularIndexes</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">7</span>],   <span class="hljs-comment">// 索引为0和7的GridItem占用的列数由onGetIrregularSizeByIndex指定</span></li><li>    <span class="hljs-attr">onGetIrregularSizeByIndex</span>: <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-keyword">return</span> [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>];</li><li>      }</li><li>      <span class="hljs-keyword">return</span> [<span class="hljs-number">1</span>, index % <span class="hljs-number">6</span> + <span class="hljs-number">1</span>];</li><li>    }</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">layoutOptions1</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }.<span class="hljs-title function_">selectable</span>(<span class="hljs-literal">false</span>)</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">multiSelectable</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'scroll'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-comment">// 不使用scroll，需要undefined占位</span></li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">layoutOptions2</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="483" originwidth="254" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.60667414786574096533949288733500:50001231000000:2800:6C29617140699DAD2AB358583B5FE55F564630B9D3639C3B96A255E2CCF18276.gif" class="notEnlarge" width="254" height="483"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4943px;">     <h3 id="示例4grid嵌套滚动">示例4（Grid嵌套滚动）<i class="anchor-icon anchor-icon-link" anchorid="示例4grid嵌套滚动" tips="复制节点链接"></i></h3>          <p><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#nestedscroll10">nestedScroll</a>和<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#onscrollframebegin10">onScrollFrameBegin</a>的使用。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">colors</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0xFFC0CB</span>, <span class="hljs-number">0xDA70D6</span>, <span class="hljs-number">0x6B8E23</span>, <span class="hljs-number">0x6A5ACD</span>, <span class="hljs-number">0x00FFFF</span>, <span class="hljs-number">0x00FF7F</span>];</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">translateY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">gridScroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">touchDown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listTouchDown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scrolling</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {</li><li>      list.<span class="hljs-title function_">push</span>(i.<span class="hljs-title function_">toString</span>());</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Head'</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">List</span>({ <span class="hljs-attr">scroller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span> }) {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Grid</span>() {</li><li>                <span class="hljs-title class_">GridItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GoodsTypeList1'</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[<span class="hljs-number">0</span>])</li><li>                .<span class="hljs-title function_">columnStart</span>(<span class="hljs-number">0</span>)</li><li>                .<span class="hljs-title function_">columnEnd</span>(<span class="hljs-number">1</span>)</li><li>
</li><li>                <span class="hljs-title class_">GridItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GoodsTypeList2'</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[<span class="hljs-number">1</span>])</li><li>                .<span class="hljs-title function_">columnStart</span>(<span class="hljs-number">0</span>)</li><li>                .<span class="hljs-title function_">columnEnd</span>(<span class="hljs-number">1</span>)</li><li>
</li><li>                <span class="hljs-title class_">GridItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GoodsTypeList3'</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[<span class="hljs-number">2</span>])</li><li>                .<span class="hljs-title function_">columnStart</span>(<span class="hljs-number">0</span>)</li><li>                .<span class="hljs-title function_">columnEnd</span>(<span class="hljs-number">1</span>)</li><li>
</li><li>                <span class="hljs-title class_">GridItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GoodsTypeList4'</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[<span class="hljs-number">3</span>])</li><li>                .<span class="hljs-title function_">columnStart</span>(<span class="hljs-number">0</span>)</li><li>                .<span class="hljs-title function_">columnEnd</span>(<span class="hljs-number">1</span>)</li><li>
</li><li>                <span class="hljs-title class_">GridItem</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GoodsTypeList5'</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[<span class="hljs-number">4</span>])</li><li>                .<span class="hljs-title function_">columnStart</span>(<span class="hljs-number">0</span>)</li><li>                .<span class="hljs-title function_">columnEnd</span>(<span class="hljs-number">1</span>)</li><li>              }</li><li>              .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>              .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">15</span>)</li><li>              .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>              .<span class="hljs-title function_">rowsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>              .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr'</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>            }</li><li>
</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gridScroller</span>) {</li><li>                <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>                  <span class="hljs-title class_">GridItem</span>() {</li><li>                    <span class="hljs-title class_">Text</span>(item)</li><li>                      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>                      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>                      .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                  }</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>                  .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#909399'</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">1</span> })</li><li>                  .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>                  .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">translateY</span> })</li><li>                }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>              }</li><li>              .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr'</span>)</li><li>              .<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.3</span>)</li><li>              .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">15</span>)</li><li>              .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>              .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">layoutDirection</span>(<span class="hljs-title class_">GridDirection</span>.<span class="hljs-property">Column</span>)</li><li>              .<span class="hljs-title function_">nestedScroll</span>({</li><li>                <span class="hljs-attr">scrollForward</span>: <span class="hljs-title class_">NestedScrollMode</span>.<span class="hljs-property">PARENT_FIRST</span>,</li><li>                <span class="hljs-attr">scrollBackward</span>: <span class="hljs-title class_">NestedScrollMode</span>.<span class="hljs-property">SELF_FIRST</span></li><li>              })</li><li>              .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">listTouchDown</span> = <span class="hljs-literal">true</span>;</li><li>                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Up</span>) {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">listTouchDown</span> = <span class="hljs-literal">false</span>;</li><li>                }</li><li>              })</li><li>            }</li><li>          }</li><li>          .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>          .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">None</span>)</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">touchDown</span> = <span class="hljs-literal">true</span>;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Up</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">touchDown</span> = <span class="hljs-literal">false</span>;</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onScrollFrameBegin</span>(<span class="hljs-function">(<span class="hljs-params">offset: <span class="hljs-built_in">number</span>, state: ScrollState</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrolling</span> &amp;&amp; offset &gt; <span class="hljs-number">0</span>) {</li><li>              <span class="hljs-keyword">let</span> newOffset = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">currentOffset</span>().<span class="hljs-property">yOffset</span>;</li><li>              <span class="hljs-keyword">if</span> (newOffset &gt;= <span class="hljs-number">590</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">gridScroller</span>.<span class="hljs-title function_">scrollBy</span>(<span class="hljs-number">0</span>, offset);</li><li>                <span class="hljs-keyword">return</span> { <span class="hljs-attr">offsetRemain</span>: <span class="hljs-number">0</span> };</li><li>              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (newOffset + offset &gt; <span class="hljs-number">590</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">gridScroller</span>.<span class="hljs-title function_">scrollBy</span>(<span class="hljs-number">0</span>, newOffset + offset - <span class="hljs-number">590</span>);</li><li>                <span class="hljs-keyword">return</span> { <span class="hljs-attr">offsetRemain</span>: <span class="hljs-number">590</span> - newOffset };</li><li>              }</li><li>            }</li><li>            <span class="hljs-keyword">return</span> { <span class="hljs-attr">offsetRemain</span>: offset };</li><li>          })</li><li>          .<span class="hljs-title function_">onScrollStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">touchDown</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">listTouchDown</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrolling</span> = <span class="hljs-literal">true</span>;</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onScrollStop</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrolling</span> = <span class="hljs-literal">false</span>;</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">10</span> })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Top'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">50</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>      .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffffff'</span>)</li><li>      .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#909399'</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">1</span> })</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">22</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">xOffset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">yOffset</span>: <span class="hljs-number">0</span> });</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gridScroller</span>.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">xOffset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">yOffset</span>: <span class="hljs-number">0</span> });</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">BottomEnd</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="575" originwidth="263" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.05144866748875584180309112203546:50001231000000:2800:0EEC7EC79054330E632BD877DE2CD9254FF2CA80D371E52BFFF9BA739C984190.gif" class="notEnlarge" width="263" height="575"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3538px;">     <h3 id="示例5grid拖拽场景">示例5（Grid拖拽场景）<i class="anchor-icon anchor-icon-link" anchorid="示例5grid拖拽场景" tips="复制节点链接"></i></h3>          <ol>      <li>通过属性<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#editmode8">editMode</a>设置Grid是否进入编辑模式，进入编辑模式可以拖拽Grid组件内部GridItem。</li>      <li>在<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#onitemdragstart8">onItemDragStart</a>回调中设置拖拽过程中显示的图片。</li>      <li>在<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#onitemdrop8">onItemDrop</a>中获取拖拽起始位置，和拖拽插入位置，并在<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#onitemdrop8">onItemDrop</a>中完成交换数组位置逻辑。</li>      <li>设置属性supportAnimation(true)支持动画。</li>     </ol>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>预览器窗口不支持显示拖拽跟手。</p>      </div></div></div>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'drag'</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">pixelMapBuilder</span>(<span class="hljs-params"></span>) { <span class="hljs-comment">//拖拽过程样式</span></li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">15</span>; i++) {</li><li>      list.<span class="hljs-title function_">push</span>(i + <span class="hljs-string">''</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">changeIndex</span>(<span class="hljs-params">index1: <span class="hljs-built_in">number</span>, index2: <span class="hljs-built_in">number</span></span>) { <span class="hljs-comment">//交换数组位置</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">swapItem</span>(index1, index2);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> day)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">editMode</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">//设置Grid是否进入编辑模式，进入编辑模式可以拖拽Grid组件内部GridItem</span></li><li>      .<span class="hljs-title function_">supportAnimation</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 设置支持动画</span></li><li>      .<span class="hljs-title function_">onItemDragStart</span>(<span class="hljs-function">(<span class="hljs-params">event: ItemDragInfo, itemIndex: <span class="hljs-built_in">number</span></span>) =&gt;</span> { <span class="hljs-comment">//第一次拖拽此事件绑定的组件时，触发回调。</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">getData</span>(itemIndex);</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pixelMapBuilder</span>(); <span class="hljs-comment">//设置拖拽过程中显示的图片。</span></li><li>      })</li><li>      .<span class="hljs-title function_">onItemDrop</span>(<span class="hljs-function">(<span class="hljs-params">event: ItemDragInfo, itemIndex: <span class="hljs-built_in">number</span>, insertIndex: <span class="hljs-built_in">number</span>, isSuccess: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> { <span class="hljs-comment">//绑定此事件的组件可作为拖拽释放目标，当在本组件范围内停止拖拽行为时，触发回调。</span></li><li>        <span class="hljs-comment">// isSuccess=false时，说明drop的位置在grid外部；insertIndex &gt; length时，说明有新增元素的事件发生</span></li><li>        <span class="hljs-keyword">if</span> (!isSuccess || insertIndex &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">totalCount</span>()) {</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'itemIndex:'</span> + itemIndex + <span class="hljs-string">', insertIndex:'</span> + insertIndex); <span class="hljs-comment">//itemIndex拖拽起始位置，insertIndex拖拽插入位置</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">changeIndex</span>(itemIndex, insertIndex);</li><li>      })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>示例图：</p>     <p>网格子组件开始拖拽：</p>     <p><span><img originheight="284" originwidth="350" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.32787224335231030047368169741187:50001231000000:2800:7DE5E01724063A51616CB93DFA6B10AF382E383507DBC14C5DA18D9DC2287BC0.png" width="350" height="284"></span></p>     <p>网格子组件拖拽过程中：</p>     <p><span><img originheight="291" originwidth="341" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.65823799914629477235205224194211:50001231000000:2800:15EAFBCAEA8A6A68CF2E2A763BA7DE6C98DA4E4BFFFAA4DC7FCF82DB8B9D1CDC.png" width="341" height="291"></span></p>     <p>网格子组件1与子组件6拖拽交换位置后：</p>     <p><span><img originheight="284" originwidth="350" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.03870374895174551076083707379110:50001231000000:2800:5D7612737F04AA71354F05D4075B0FA96B06A9C706B7737B523C8CC430E1753B.png" width="350" height="284"></span></p>     <p>拖拽动画：</p>     <p><span><img originheight="259" originwidth="293" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.11294943250987279582346039135443:50001231000000:2800:507A8DFE7BD89C834A59674934471A7AADBA69673203A0309077C3A95A1F9AD1.gif" class="notEnlarge" width="293" height="259"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1579px;">     <h3 id="示例6自适应grid">示例6（自适应Grid）<i class="anchor-icon anchor-icon-link" anchorid="示例6自适应grid" tips="复制节点链接"></i></h3>          <p><a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#layoutdirection8">layoutDirection</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#maxcount8">maxCount</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#mincount8">minCount</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#celllength8">cellLength</a>的使用。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">30</span>; i++) {</li><li>      list.<span class="hljs-title function_">push</span>(i + <span class="hljs-string">''</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>        <span class="hljs-title class_">Blank</span>()</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'rowsTemplate、columnsTemplate都不设置layoutDirection、maxCount、minCount、cellLength才生效'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">15</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        <span class="hljs-title class_">Grid</span>() {</li><li>          <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">GridItem</span>() {</li><li>              <span class="hljs-title class_">Text</span>(day).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            }.<span class="hljs-title function_">width</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>          }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> day)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>        .<span class="hljs-title function_">maxCount</span>(<span class="hljs-number">6</span>)</li><li>        .<span class="hljs-title function_">minCount</span>(<span class="hljs-number">2</span>)</li><li>        .<span class="hljs-title function_">cellLength</span>(<span class="hljs-number">0</span>)</li><li>        .<span class="hljs-title function_">layoutDirection</span>(<span class="hljs-title class_">GridDirection</span>.<span class="hljs-property">Row</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">5</span> })</li><li>      .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="307" originwidth="242" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.94525578637953213486409914014144:50001231000000:2800:AC984044EB470D348A15CA0C0B871210E8E7D9247CCAA075FEA54F3FDF0F3126.gif" class="notEnlarge" width="242" height="307"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2695px;">     <h3 id="示例7双指缩放修改grid列数">示例7（双指缩放修改Grid列数）<i class="anchor-icon anchor-icon-link" anchorid="示例7双指缩放修改grid列数" tips="复制节点链接"></i></h3>          <p>双指缩放修改Grid列数。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">columns</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> lastCount = <span class="hljs-title class_">AppStorage</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">'columnsCount'</span>);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> lastCount != <span class="hljs-string">'undefined'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span> = lastCount;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">20</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'双指缩放改变列数'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span> })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr '</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span>))</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">cachedCount</span>(<span class="hljs-number">3</span>)</li><li>      <span class="hljs-comment">// 切换列数item位置重排动画</span></li><li>      .<span class="hljs-title function_">animation</span>({</li><li>        <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>,</li><li>        <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Smooth</span></li><li>      })</li><li>      .<span class="hljs-title function_">priorityGesture</span>(</li><li>        <span class="hljs-title class_">PinchGesture</span>()</li><li>          .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'end scale:'</span> + event.<span class="hljs-property">scale</span>);</li><li>            <span class="hljs-comment">// 手指分开，减少列数以放大Item，触发阈值可以自定义，示例为2</span></li><li>            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">scale</span> &gt; <span class="hljs-number">2</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span>--;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">scale</span> &lt; <span class="hljs-number">0.6</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span>++;</li><li>            }</li><li>            <span class="hljs-comment">// 可以根据设备屏幕宽度设定最大和最小列数，此处以最小1列最大4列为例</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">4</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span>));</li><li>            <span class="hljs-title class_">AppStorage</span>.<span class="hljs-property">setOrCreate</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">'columnsCount'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">columns</span>);</li><li>          })</li><li>      )</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="631" originwidth="312" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.78964294973447263431127916620232:50001231000000:2800:EE0860D59C83F6F2A9CE0A2641E3C04A2C69D3556E0ED58E8EBB4BC5B7346799.gif" width="312" height="631"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2525px;">     <h3 id="示例8设置自适应列数">示例8（设置自适应列数）<i class="anchor-icon anchor-icon-link" anchorid="示例8设置自适应列数" tips="复制节点链接"></i></h3>          <p>属性<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#columnstemplate">columnsTemplate</a>中auto-fill、auto-fit和auto-stretch的使用示例。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridColumnsTemplate</span> {</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-attr">data1</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>  <span class="hljs-attr">data2</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'auto-fill 根据设定的列宽自动计算列数'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'N'</span> + item).<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span> })</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'repeat(auto-fill, 70)'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'auto-fit 先根据设定的列宽计算列数，余下的空间会均分到每一列中'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data1</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'N'</span> + item).<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span> })</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'repeat(auto-fit, 70)'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'auto-stretch 先根据设定的列宽计算列数，余下的空间会均分到每个列间距中'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data2</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'N'</span> + item).<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span> })</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'repeat(auto-stretch, 70)'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="845" originwidth="646" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.46943074926908627982242339914084:50001231000000:2800:E5065E30C136FBC752D3BCF192630551AF2DFEC8EA226A40CB7B249104402D51.png" width="646" height="845"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2338px;">     <h3 id="示例9以当前行最高的griditem的高度为其他griditem的高度">示例9（以当前行最高的GridItem的高度为其他GridItem的高度）<i class="anchor-icon anchor-icon-link" anchorid="示例9以当前行最高的griditem的高度为其他griditem的高度" tips="复制节点链接"></i></h3>          <p>下面的Grid中包含两列，每列中的GridItem包括高度确定的两个Column和一个高度不确定的Text共三个子组件。</p>     <p>在默认情况下，左右两个GridItem的高度可能是不同的；在设置了Grid的<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#alignitems12">alignItems</a>属性为GridItemAlignment.STRETCH后，一行左右两个GridItem中原本高度较小的GridItem会以另一个高度较大的GridItem的高度作为自己的高度。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">data</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">items</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {</li><li>      list.<span class="hljs-title function_">push</span>(i.<span class="hljs-title function_">toString</span>());</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSize</span>());</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>= <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getSize</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">5</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>, ret);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Grid alignItems示例代码'</span>)</li><li>
</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-comment">// GridItem和Column不设置高度，默认会自适应子组件大小，设置STRETCH的场景下，会变成与当前行最高节点同高。</span></li><li>          <span class="hljs-comment">// 若设置高度，则会保持已设置的高度，不会与当前行最高节点同高。</span></li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Column</span>() {</li><li>              <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              <span class="hljs-comment">// 中间的Text设置flexGrow(1)来自适应填满父组件的空缺</span></li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">'这是一段文字。'</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[item]))</li><li>                .<span class="hljs-title function_">flexGrow</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F7F7F7'</span>)</li><li>              <span class="hljs-title class_">Column</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#707070'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            }</li><li>          }</li><li>          .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">1</span> })</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">5</span>)</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      <span class="hljs-comment">// Grid设置alignItems为STRETCH，以当前行最高的GridItem的高度为其他GridItem的高度。</span></li><li>      .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">GridItemAlignment</span>.<span class="hljs-property">STRETCH</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="658" originwidth="299" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.26361970851682456667792428174520:50001231000000:2800:EB171411C9CE313B2F4A0EA563EEC8D1D5374D22B392C2CEEA1B839DAFD0F5AC.png" class="notEnlarge" width="299" height="658"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1852px;">     <h3 id="示例10设置边缘渐隐">示例10（设置边缘渐隐）<i class="anchor-icon anchor-icon-link" anchorid="示例10设置边缘渐隐" tips="复制节点链接"></i></h3>          <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#fadingedge14">fadingEdge</a>属性来设置边缘渐隐效果。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-comment">//该示例实现了Grid组件开启边缘渐隐效果并设置边缘渐隐长度</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">10</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'scroll'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">fadingEdge</span>(<span class="hljs-literal">true</span>, { <span class="hljs-attr">fadingEdgeLength</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">80</span>) })</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="508" originwidth="238" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.50932606372725441391120327282300:50001231000000:2800:3276388866573CDFBE4034258618D8BFF32E4A0A8013362228FD3CF63DBAA99D.gif" class="notEnlarge" width="238" height="508"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1740px;">     <h3 id="示例11单边边缘效果">示例11（单边边缘效果）<i class="anchor-icon anchor-icon-link" anchorid="示例11单边边缘效果" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#edgeeffect10">edgeEffect</a>接口，实现了Grid组件设置单边边缘效果。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">10</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>, { <span class="hljs-attr">alwaysEnabled</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">effectEdge</span>: <span class="hljs-title class_">EffectEdge</span>.<span class="hljs-property">START</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xDCDCDC</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="420" originwidth="232" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.39302887508179672504313380778109:50001231000000:2800:BE44263383DD25FF762F1BAFA94E43600B870412EF6613F5F7BEB5E274146FCB.gif" class="notEnlarge" width="232" height="420"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2564px;">     <h3 id="示例12方向键走焦换行模式">示例12（方向键走焦换行模式）<i class="anchor-icon anchor-icon-link" anchorid="示例12方向键走焦换行模式" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#focuswrapmode20">focusWrapMode</a>接口，实现了Grid组件方向键走焦换行效果。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'A'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'B'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'C'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'D'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'E'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        <span class="hljs-title class_">GridItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'F'</span>)</li><li>            .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">5</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">focusWrapMode</span>(<span class="hljs-title class_">FocusWrapMode</span>.<span class="hljs-property">WRAP_WITH_ARROW</span>)</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xDCDCDC</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="500" originwidth="352" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.67989946031476504679305704420638:50001231000000:2800:66AE5D102C1031FEFBB2F123B63790B4EB52A0645A67C3D345516CE25EF4894F.gif" width="352" height="500"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2309px;">     <h3 id="示例13设置滚动事件">示例13（设置滚动事件）<i class="anchor-icon anchor-icon-link" anchorid="示例13设置滚动事件" tips="复制节点链接"></i></h3>          <p>该示例通过FrameNode中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#geteventgrid19">getEvent('Grid')</a>获取<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#uigridevent19">UIGridEvent</a>，并为Grid设置滚动事件回调，用于事件监听方因无法直接修改页面代码而无法使用声明式接口设置回调的场景。</p>     <p>从API version 19开始，新增UIGridEvent接口。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, typeNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-params">frameNode: FrameNode</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">gridEvent</span>: <span class="hljs-title class_">UIGridEvent</span> | <span class="hljs-literal">undefined</span> = typeNode.<span class="hljs-title function_">getEvent</span>(frameNode, <span class="hljs-string">'Grid'</span>);</li><li>    gridEvent?.<span class="hljs-title function_">setOnWillScroll</span>(<span class="hljs-function">(<span class="hljs-params">scrollOffset: <span class="hljs-built_in">number</span>, scrollState: ScrollState, scrollSource: ScrollSource</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onWillScroll scrollOffset = <span class="hljs-subst">${scrollOffset}</span>, scrollState = <span class="hljs-subst">${scrollState}</span>, scrollSource = <span class="hljs-subst">${scrollSource}</span>`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnDidScroll</span>(<span class="hljs-function">(<span class="hljs-params">scrollOffset: <span class="hljs-built_in">number</span>, scrollState: ScrollState</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onDidScroll scrollOffset = <span class="hljs-subst">${scrollOffset}</span>, scrollState = <span class="hljs-subst">${scrollState}</span>`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnReachStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onReachStart`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnReachEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onReachEnd`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollStart`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollStop</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollStop`</span>);</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollFrameBegin</span>(<span class="hljs-function">(<span class="hljs-params">offset: <span class="hljs-built_in">number</span>, state: ScrollState</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollFrameBegin offset = <span class="hljs-subst">${offset}</span>, state = <span class="hljs-subst">${state}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;</li><li>    });</li><li>    gridEvent?.<span class="hljs-title function_">setOnScrollIndex</span>(<span class="hljs-function">(<span class="hljs-params">first: <span class="hljs-built_in">number</span>, last: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onScrollIndex start = <span class="hljs-subst">${first}</span>, end = <span class="hljs-subst">${last}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">push</span>(j.<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'add CommonEvent to Grid'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-title function_">addCommonEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>!.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getParent</span>()!.<span class="hljs-title function_">getPreviousSibling</span>()!);</li><li>        })</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>() + day)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">enableScrollInteraction</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2169px;">     <h3 id="示例14滚动到指定位置">示例14（滚动到指定位置）<i class="anchor-icon anchor-icon-link" anchorid="示例14滚动到指定位置" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scrolltoindex">scrollToIndex</a>接口，实现了Grid组件滚动到指定位置。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridScrollToIndexSample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>((i * <span class="hljs-number">5</span> + j  + <span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> =  <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'scrollToIndex'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// 滚动到对应的位置</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollToIndex</span>(<span class="hljs-number">25</span>, <span class="hljs-literal">true</span>, <span class="hljs-title class_">ScrollAlign</span>.<span class="hljs-property">START</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(day)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>)</li><li>      .<span class="hljs-title function_">enableScrollInteraction</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">supportAnimation</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">multiSelectable</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">On</span>)</li><li>      .<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      .<span class="hljs-title function_">scrollBarWidth</span>(<span class="hljs-number">4</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="681" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.53922425695815047274890557291997:50001231000000:2800:4050ACA9E5972D63BB082DD76BAD67CC3545A7C6224779D37F5F0F525D365E74.gif" width="332" height="681"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 7555px;">     <h3 id="示例15实现grid滑动选择">示例15（实现Grid滑动选择）<i class="anchor-icon anchor-icon-link" anchorid="示例15实现grid滑动选择" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-pangesture#pangesture-1">PanGesture</a>接口，实现了Grid组件一边滑动一边选择的效果。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li><span class="hljs-keyword">import</span> { display, curves } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">SlideActionType</span> {</li><li>  <span class="hljs-variable constant_">START</span>,</li><li>  <span class="hljs-variable constant_">UPDATE</span>,</li><li>  <span class="hljs-variable constant_">END</span></li><li>}</li><li><span class="hljs-comment">// 热区</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">HOT_AREA_LENGTH</span> =</li><li>  <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(display.<span class="hljs-title function_">getDefaultDisplaySync</span>().<span class="hljs-property">densityDPI</span> * <span class="hljs-number">10</span> / <span class="hljs-number">25.4</span> / display.<span class="hljs-title function_">getDefaultDisplaySync</span>().<span class="hljs-property">densityPixels</span>);</li><li><span class="hljs-comment">// 滚动曲线: 贝塞尔曲线</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SLIDE_SELECT_SPEED_CURVE</span> = curves.<span class="hljs-title function_">cubicBezierCurve</span>(<span class="hljs-number">0.33</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.67</span>, <span class="hljs-number">1</span>);</li><li><span class="hljs-comment">// 滚动速度: 最大速度</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">AUTO_SPEED_MAX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-number">2400</span> / display.<span class="hljs-title function_">getDefaultDisplaySync</span>().<span class="hljs-property">densityPixels</span>);</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridExample</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>  <span class="hljs-attr">scroller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectedIndexes</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>  <span class="hljs-comment">// 滑动多选时，当前变更选中状态的item</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">updateIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">lastUpdateIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">updateTimer</span>: <span class="hljs-built_in">number</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">valueOf</span>();</li><li>  <span class="hljs-comment">// 是否可进行滑动多选</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">canSlideSelect</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isAutoScroll</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-comment">// 停止手势</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">stopGesture</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scrollStartIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">scrollEndIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-comment">// 滑动的初始点位</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">startIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">endIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-comment">// 滚动部位显示区域的高度</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">contentHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">areaY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-comment">// 列表宽度</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">listWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">oldCheckList</span>: <span class="hljs-built_in">boolean</span>[] = [];</li><li>  <span class="hljs-comment">// 滑动过程中是否将经过的点设为选中状态</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">setChecked</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">20</span>; j++) {</li><li>        list.<span class="hljs-title function_">push</span>((<span class="hljs-number">20</span> * i + j + <span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>());</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>  <span class="hljs-comment">/**</span></li><li><span class="hljs-comment">   * 获取当前点位</span></li><li><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">finger</span></span></li><li><span class="hljs-comment">   * <span class="hljs-doctag">@returns</span></span></li><li><span class="hljs-comment">   */</span></li><li>  <span class="hljs-title function_">getIndex</span>(<span class="hljs-attr">finger</span>: <span class="hljs-title class_">FingerInfo</span>): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-comment">// 初始化数据</span></li><li>    <span class="hljs-keyword">let</span> index = -<span class="hljs-number">1</span>;</li><li>    <span class="hljs-keyword">try</span> {</li><li>      index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">getItemIndex</span>(finger.<span class="hljs-property">localX</span>, finger.<span class="hljs-property">localY</span>);</li><li>      <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span>) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollStartIndex</span>; i &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollEndIndex</span>; i++) {</li><li>          <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">getItemRect</span>(i);</li><li>          <span class="hljs-keyword">if</span> (finger.<span class="hljs-property">localY</span> &lt; item.<span class="hljs-property">y</span> ||</li><li>            finger.<span class="hljs-property">localY</span> &gt;= item.<span class="hljs-property">y</span> &amp;&amp; finger.<span class="hljs-property">localY</span> &lt;= item.<span class="hljs-property">y</span> + item.<span class="hljs-property">height</span> &amp;&amp; finger.<span class="hljs-property">localX</span> &lt; item.<span class="hljs-property">x</span>) {</li><li>            <span class="hljs-keyword">break</span>;</li><li>          }</li><li>          index = i;</li><li>        }</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stopGesture</span> = <span class="hljs-literal">true</span>;</li><li>      <span class="hljs-keyword">return</span> index;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> index;</li><li>  }</li><li>  <span class="hljs-title function_">slideActionStart</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">debug</span>(<span class="hljs-string">'start index: '</span> + index.<span class="hljs-title function_">toString</span>());</li><li>    <span class="hljs-keyword">const</span> targetIndex = index + <span class="hljs-number">1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">setChecked</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">includes</span>(targetIndex.<span class="hljs-title function_">toString</span>());</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = index;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">push</span>(targetIndex.<span class="hljs-title function_">toString</span>());</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">updateIndex</span> = index;</li><li>
</li><li>  }</li><li>  <span class="hljs-title function_">slideActionUpdate</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> === -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-comment">//（初始接触点在空隙）时，重新配置滑动的初始数据</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">slideActionStart</span>(index);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastUpdateIndex</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">updateIndex</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setItemChecked</span>(index);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">updateIndex</span> = index;</li><li>  }</li><li>  <span class="hljs-title function_">setItemChecked</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>):<span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span>, index);</li><li>    <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span>, index);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = start; i &lt; end+<span class="hljs-number">1</span>;i++) {</li><li>      <span class="hljs-keyword">const</span> item = (i+<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>();</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">setChecked</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">push</span>(item);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">includes</span>(item)) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">selectIndex</span> =&gt;</span> selectIndex != item);</li><li>        }</li><li>      }</li><li>
</li><li>    }</li><li>  }</li><li>  <span class="hljs-comment">/**</span></li><li><span class="hljs-comment">   * 滑动结束</span></li><li><span class="hljs-comment">   */</span></li><li>  <span class="hljs-title function_">slideActionEnd</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = -<span class="hljs-number">1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">updateIndex</span> = -<span class="hljs-number">1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollBy</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> = <span class="hljs-literal">false</span>;</li><li>  }</li><li>  <span class="hljs-comment">/**</span></li><li><span class="hljs-comment">   * 自动滚动--</span></li><li><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">finger</span></span></li><li><span class="hljs-comment">   */</span></li><li>  <span class="hljs-title function_">autoScroll</span>(<span class="hljs-attr">finger</span>: <span class="hljs-title class_">FingerInfo</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 不可多选</span></li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span>) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> pointY = finger.<span class="hljs-property">globalY</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">areaY</span>;</li><li>    <span class="hljs-keyword">if</span> (pointY &lt;= <span class="hljs-variable constant_">HOT_AREA_LENGTH</span>) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> &amp;&amp; pointY &lt;= <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">const</span> speedFlag = pointY &gt; <span class="hljs-number">0</span> ? <span class="hljs-variable constant_">SLIDE_SELECT_SPEED_CURVE</span></li><li>        .<span class="hljs-title function_">interpolate</span>(<span class="hljs-number">1</span> - pointY / <span class="hljs-variable constant_">HOT_AREA_LENGTH</span>) : <span class="hljs-number">1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollEdge</span>(<span class="hljs-title class_">Edge</span>.<span class="hljs-property">Top</span>, {</li><li>        <span class="hljs-attr">velocity</span>: speedFlag * <span class="hljs-variable constant_">AUTO_SPEED_MAX</span></li><li>      });</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> = <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pointY &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span> - <span class="hljs-variable constant_">HOT_AREA_LENGTH</span>) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> &amp;&amp; pointY &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">const</span> speedFlag = pointY &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span> ? <span class="hljs-variable constant_">SLIDE_SELECT_SPEED_CURVE</span></li><li>        .<span class="hljs-title function_">interpolate</span>(<span class="hljs-number">1</span> - (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span> - pointY) / <span class="hljs-variable constant_">HOT_AREA_LENGTH</span>) : <span class="hljs-number">1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollEdge</span>(<span class="hljs-title class_">Edge</span>.<span class="hljs-property">Bottom</span>, {</li><li>        <span class="hljs-attr">velocity</span>: speedFlag * <span class="hljs-variable constant_">AUTO_SPEED_MAX</span></li><li>      });</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> = <span class="hljs-literal">true</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>.<span class="hljs-title function_">scrollBy</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAutoScroll</span> = <span class="hljs-literal">false</span>;</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">panGestureAction</span>(<span class="hljs-attr">type</span>: <span class="hljs-title class_">SlideActionType</span>, <span class="hljs-attr">event</span>: <span class="hljs-title class_">GestureEvent</span> | <span class="hljs-literal">undefined</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stopGesture</span> || !event) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">const</span> finger = event!.<span class="hljs-property">fingerList</span>[<span class="hljs-number">0</span>];</li><li>    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getIndex</span>(finger);</li><li>    <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">type</span>) {</li><li>      <span class="hljs-keyword">case</span> <span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">START</span>: {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">slideActionStart</span>(index);</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      <span class="hljs-keyword">case</span> <span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">UPDATE</span>: {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">slideActionUpdate</span>(index);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">autoScroll</span>(finger);</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      <span class="hljs-keyword">case</span> <span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">END</span>: {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">slideActionEnd</span>();</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      <span class="hljs-attr">default</span>: {</li><li>      }</li><li>    }</li><li>  }</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scroller</span>) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">day: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Stack</span>() {</li><li>              <span class="hljs-title class_">Text</span>(day)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>                .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span>) {</li><li>                <span class="hljs-comment">// $r('app.media.gouxuan')和$r('app.media.weigouxuan')需要替换为开发者所需的图像资源文件。</span></li><li>                <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span>.<span class="hljs-title function_">includes</span>(day) ? $r(<span class="hljs-string">'app.media.gouxuan'</span>) :$r(<span class="hljs-string">'app.media.weigouxuan'</span>))</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>                  .<span class="hljs-title function_">position</span>({<span class="hljs-attr">right</span>:<span class="hljs-number">5</span>,<span class="hljs-attr">top</span>:<span class="hljs-number">5</span>})</li><li>                  .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">false</span>)</li><li>              }</li><li>
</li><li>            }</li><li>          }</li><li>        }, <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> index.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">friction</span>(<span class="hljs-number">0.6</span>)</li><li>      .<span class="hljs-title function_">enableScrollInteraction</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">supportAnimation</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">multiSelectable</span>(<span class="hljs-literal">false</span>)</li><li>      .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">On</span>)</li><li>      .<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      .<span class="hljs-title function_">scrollBarWidth</span>(<span class="hljs-number">4</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'85%'</span>)</li><li>      .<span class="hljs-title function_">draggable</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFAEEE0</span>)</li><li>      .<span class="hljs-title function_">onAreaChange</span>(<span class="hljs-function">(<span class="hljs-params">oldVal, newVal</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listWidth</span> = newVal.<span class="hljs-property">width</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">areaY</span> = newVal.<span class="hljs-property">globalPosition</span>.<span class="hljs-property">y</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">contentHeight</span> = newVal.<span class="hljs-property">height</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>      })</li><li>      .<span class="hljs-title function_">onScrollIndex</span>(<span class="hljs-function">(<span class="hljs-params">start, end</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollStartIndex</span> = start;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollEndIndex</span> = end;</li><li>      })</li><li>      .<span class="hljs-title function_">gesture</span>(</li><li>        <span class="hljs-comment">// 手势滑动</span></li><li>        <span class="hljs-title class_">PanGesture</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">PanDirection</span>.<span class="hljs-property">Vertical</span> })</li><li>          .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent | <span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">panGestureAction</span>(<span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">START</span>, event);</li><li>          })</li><li>          .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent | <span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">panGestureAction</span>(<span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">UPDATE</span>, event);</li><li>          })</li><li>          .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">(<span class="hljs-params">event?: GestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">panGestureAction</span>(<span class="hljs-title class_">SlideActionType</span>.<span class="hljs-property">END</span>, event);</li><li>          }),</li><li>        <span class="hljs-title class_">GestureMask</span>.<span class="hljs-property">Normal</span></li><li>      )</li><li>      .<span class="hljs-title function_">onGestureRecognizerJudgeBegin</span>(<span class="hljs-function">(<span class="hljs-params">event: BaseGestureEvent, current: GestureRecognizer,</span></span></li><li><span class="hljs-function">        recognizers: <span class="hljs-built_in">Array</span>&lt;GestureRecognizer&gt;</span>) =&gt; {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span> &amp;&amp; current.<span class="hljs-title function_">isBuiltIn</span>() &amp;&amp;</li><li>          current.<span class="hljs-title function_">getType</span>() == <span class="hljs-title class_">GestureControl</span>.<span class="hljs-property">GestureType</span>.<span class="hljs-property">PAN_GESTURE</span>) {</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">REJECT</span>;</li><li>        }</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">CONTINUE</span>;</li><li>      })</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'开始编辑'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span> = [];</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span> = <span class="hljs-literal">true</span>;</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'结束编辑'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">canSlideSelect</span> = <span class="hljs-literal">false</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndexes</span> = [];</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">margin</span>({</li><li>        <span class="hljs-attr">bottom</span>: <span class="hljs-number">30</span></li><li>      })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.selectedIndexes.join(<span class="hljs-string">','</span>)}</span>`</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="523" originwidth="301" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115544.58499357088720222605284824198775:50001231000000:2800:E0B64900A601352FED79947C1B460B9F640C083B1397D67B69CE6898948A8EB3.gif" width="301" height="523"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 6925px;">     <h3 id="示例16实现griditem自定义拖拽">示例16（实现GridItem自定义拖拽）<i class="anchor-icon anchor-icon-link" anchorid="示例16实现griditem自定义拖拽" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-settings#gesture">gesture</a>接口，实现了GridItem组件自定义拖拽效果。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { curves } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridItemExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">dragItem</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">scaleItem</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">item</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dragRefOffsetX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">dragRefOffsetY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">offsetX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">offsetY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">FIX_VP_X</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">108</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">FIX_VP_Y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">120</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">11</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">push</span>(i);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">itemMove</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">newIndex</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'index:'</span> + index + <span class="hljs-string">' newIndex:'</span> + newIndex);</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(newIndex)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> tmp = <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">splice</span>(newIndex, <span class="hljs-number">0</span>, tmp[<span class="hljs-number">0</span>]);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向下滑</span></li><li>  <span class="hljs-title function_">down</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 指定固定GridItem不响应事件</span></li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index + <span class="hljs-number">3</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index + <span class="hljs-number">3</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向下滑(右下角为空)</span></li><li>  <span class="hljs-title function_">down2</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index + <span class="hljs-number">3</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index + <span class="hljs-number">3</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向上滑</span></li><li>  <span class="hljs-title function_">up</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index - <span class="hljs-number">3</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index - <span class="hljs-number">3</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向左滑</span></li><li>  <span class="hljs-title function_">left</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index - <span class="hljs-number">1</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index - <span class="hljs-number">1</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向右滑</span></li><li>  <span class="hljs-title function_">right</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index + <span class="hljs-number">1</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index + <span class="hljs-number">1</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向右下滑</span></li><li>  <span class="hljs-title function_">lowerRight</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index + <span class="hljs-number">4</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index + <span class="hljs-number">4</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向右上滑</span></li><li>  <span class="hljs-title function_">upperRight</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index - <span class="hljs-number">2</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index - <span class="hljs-number">2</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向左下滑</span></li><li>  <span class="hljs-title function_">lowerLeft</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index + <span class="hljs-number">2</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index + <span class="hljs-number">2</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">//向左上滑</span></li><li>  <span class="hljs-title function_">upperLeft</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(index - <span class="hljs-number">4</span>)) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemMove</span>(index, index - <span class="hljs-number">4</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isDraggable</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'index:'</span> + index)</li><li>    <span class="hljs-keyword">return</span> index &gt; <span class="hljs-number">1</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(item + <span class="hljs-string">''</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">shadow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> == item ? {</li><li>                <span class="hljs-attr">radius</span>: <span class="hljs-number">70</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#15000000'</span>,</li><li>                <span class="hljs-attr">offsetX</span>: <span class="hljs-number">0</span>,</li><li>                <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span></li><li>              } :</li><li>                {</li><li>                  <span class="hljs-attr">radius</span>: <span class="hljs-number">0</span>,</li><li>                  <span class="hljs-attr">color</span>: <span class="hljs-string">'#15000000'</span>,</li><li>                  <span class="hljs-attr">offsetX</span>: <span class="hljs-number">0</span>,</li><li>                  <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span></li><li>                })</li><li>              .<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Sharp</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> })</li><li>          }</li><li>          <span class="hljs-comment">// 指定固定GridItem不响应事件</span></li><li>          .<span class="hljs-title function_">hitTestBehavior</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDraggable</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">indexOf</span>(item)) ? <span class="hljs-title class_">HitTestMode</span>.<span class="hljs-property">Default</span> : <span class="hljs-title class_">HitTestMode</span>.<span class="hljs-property">None</span>)</li><li>          .<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> == item ? <span class="hljs-number">1.05</span> : <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> == item ? <span class="hljs-number">1.05</span> : <span class="hljs-number">1</span> })</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span> == item ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>)</li><li>          .<span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span> == item ? { <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> } : { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">gesture</span>(</li><li>            <span class="hljs-comment">// 以下组合手势为顺序识别，当长按手势事件未正常触发时则不会触发拖动手势事件</span></li><li>            <span class="hljs-title class_">GestureGroup</span>(<span class="hljs-title class_">GestureMode</span>.<span class="hljs-property">Sequence</span>,</li><li>              <span class="hljs-title class_">LongPressGesture</span>({ <span class="hljs-attr">repeat</span>: <span class="hljs-literal">true</span> })</li><li>                .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event?: GestureEvent</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Friction</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> = item;</li><li>                  })</li><li>                })</li><li>                .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Friction</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> = -<span class="hljs-number">1</span>;</li><li>                  })</li><li>                }),</li><li>              <span class="hljs-title class_">PanGesture</span>({ <span class="hljs-attr">fingers</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">direction</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">distance</span>: <span class="hljs-number">0</span> })</li><li>                .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span> = item;</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span> = <span class="hljs-number">0</span>;</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span> = <span class="hljs-number">0</span>;</li><li>                })</li><li>                .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> = event.<span class="hljs-property">offsetY</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetY</span>;</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> = event.<span class="hljs-property">offsetX</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragRefOffsetX</span>;</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">interpolatingSpring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">400</span>, <span class="hljs-number">38</span>) }, <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-keyword">let</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span>);</li><li>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp; (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &lt;= <span class="hljs-number">44</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= -<span class="hljs-number">44</span>) &amp;&amp;</li><li>                      ![<span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向下滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">down</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp; (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &lt;= <span class="hljs-number">44</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= -<span class="hljs-number">44</span>) &amp;&amp;</li><li>                      ![<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向上滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">up</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &lt;= <span class="hljs-number">50</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= -<span class="hljs-number">50</span>) &amp;&amp;</li><li>                      ![<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向右滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">right</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &lt;= <span class="hljs-number">50</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= -<span class="hljs-number">50</span>) &amp;&amp;</li><li>                      ![<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向左滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">left</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp;</li><li>                      ![<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向右下滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lowerRight</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp;</li><li>                      ![<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向右上滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">upperRight</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp;</li><li>                      ![<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向左下滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lowerLeft</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &lt;= -<span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp;</li><li>                      ![<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向左上滑</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">upperLeft</span>(index);</li><li>                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetX</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_X</span> / <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offsetY</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">FIX_VP_Y</span> / <span class="hljs-number">2</span> &amp;&amp;</li><li>                    [<span class="hljs-number">7</span>].<span class="hljs-title function_">includes</span>(index)) {</li><li>                      <span class="hljs-comment">//向右下滑(右下角为空)</span></li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">down2</span>(index);</li><li>                    }</li><li>                  })</li><li>                })</li><li>                .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">interpolatingSpring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">400</span>, <span class="hljs-number">38</span>) }, <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span> = -<span class="hljs-number">1</span>;</li><li>                  })</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({</li><li>                    <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">interpolatingSpring</span>(<span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">170</span>, <span class="hljs-number">17</span>), <span class="hljs-attr">delay</span>: <span class="hljs-number">150</span></li><li>                  }, <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> = -<span class="hljs-number">1</span>;</li><li>                  })</li><li>                })</li><li>            )</li><li>              .<span class="hljs-title function_">onCancel</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">interpolatingSpring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">400</span>, <span class="hljs-number">38</span>) }, <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragItem</span> = -<span class="hljs-number">1</span>;</li><li>                })</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({</li><li>                  <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">interpolatingSpring</span>(<span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">170</span>, <span class="hljs-number">17</span>)</li><li>                }, <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleItem</span> = -<span class="hljs-number">1</span>;</li><li>                })</li><li>              })</li><li>          )</li><li>        }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> item.<span class="hljs-title function_">toString</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">editMode</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr'</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0D182431'</span>).<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="421" originwidth="293" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115545.17306777729580715853654639507348:50001231000000:2800:BA79477A0C631C3A7F0F69468937553933D1C308F0DE2D11B09AF8A71AF9F8D5.gif" class="notEnlarge" width="293" height="421"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2079px;">     <h3 id="示例17通过拖拽事件实现griditem拖拽">示例17（通过拖拽事件实现GridItem拖拽）<i class="anchor-icon anchor-icon-link" anchorid="示例17通过拖拽事件实现griditem拖拽" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-drag-drop">拖拽事件</a>实现拖拽GridItem到Grid边缘时Grid自动滚动的功能。</p>     <p>GridDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-grid#示例2可滚动grid和滚动事件">示例2可滚动grid和滚动事件</a>。</p>     <div _ngcontent-frp-c106="" class="highlight-div"><div _ngcontent-frp-c106="" class="highlight-div-header"><div _ngcontent-frp-c106="" class="highlight-div-header-left"><div _ngcontent-frp-c106="" class="handle-button expand-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-frp-c106="" class="highlight-div-header-right"><div _ngcontent-frp-c106="" class="handle-button ai-button"></div><div _ngcontent-frp-c106="" class="handle-button line-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-frp-c106="" class="handle-button theme-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-frp-c106="" class="handle-button copy-button"><div _ngcontent-frp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-frp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GridDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./GridDataSource'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Example</span> {</li><li>  <span class="hljs-attr">numbers</span>: <span class="hljs-title class_">GridDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">100</span>; index++) {</li><li>      list.<span class="hljs-title function_">push</span>(index.<span class="hljs-title function_">toString</span>());</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GridDataSource</span>(list);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">changeIndex</span>(<span class="hljs-params">index1: <span class="hljs-built_in">number</span>, index2: <span class="hljs-built_in">number</span></span>) { <span class="hljs-comment">// 交换数组位置</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(index1 + <span class="hljs-string">'index2:'</span> + index2);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>.<span class="hljs-title function_">swapItem</span>(index1, index2);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numbers</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Text</span>(item + <span class="hljs-string">''</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF9CF93</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">90</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">90</span>)</li><li>          .<span class="hljs-title function_">selectable</span>(<span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">selected</span>(<span class="hljs-literal">true</span>)</li><li>          .<span class="hljs-title function_">allowDrop</span>([])</li><li>          .<span class="hljs-title function_">onDragStart</span>(<span class="hljs-function">(<span class="hljs-params">event: DragEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">return</span> { <span class="hljs-attr">extraInfo</span>: index + <span class="hljs-string">''</span> };</li><li>          })</li><li>          .<span class="hljs-title function_">onDragEnter</span>(<span class="hljs-function">(<span class="hljs-params">event: DragEvent, extraParams?: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(index + <span class="hljs-string">''</span> + extraParams);</li><li>          })</li><li>          .<span class="hljs-title function_">onDragEnd</span>(<span class="hljs-function">(<span class="hljs-params">event: DragEvent, extraParams?: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onDragEnd'</span> + index + <span class="hljs-string">''</span> + extraParams);</li><li>          })</li><li>          .<span class="hljs-title function_">onDrop</span>(<span class="hljs-function">(<span class="hljs-params">event?: DragEvent, extraParams?: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'drop:'</span> + item + <span class="hljs-string">''</span> + extraParams + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(event!));</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">changeIndex</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(extraParams!).<span class="hljs-property">extraInfo</span>), index);</li><li>          })</li><li>        }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>      }</li><li>      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">5</span>)</li><li>      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">5</span>)</li><li>      .<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">'1fr 1fr 1fr'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="351" originwidth="398" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115545.93450777267198783317273502720681:50001231000000:2800:CC8D30F5B56DB4B39365701A5985410818AA07D65A1BEA42E4A1F6E2BDD6DABD.gif" width="398" height="351"></span></p>    </div>   </div>   <div></div></div>