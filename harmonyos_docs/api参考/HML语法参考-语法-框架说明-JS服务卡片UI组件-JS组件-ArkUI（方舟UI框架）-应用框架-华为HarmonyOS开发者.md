<h1 _ngcontent-ecr-c119="" class="doc-title ng-star-inserted" title="HML语法参考"> HML语法参考 </h1>

<div _ngcontent-ecr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>HML是一套类HTML的标记语言，通过组件，事件构建出页面的内容。页面具备数据绑定、事件绑定、条件渲染和逻辑控制等高级能力。</p>  <div class="tiledSection"><h2 id="页面结构" device-type="phone,2in1,tablet,wearable,tv">页面结构<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="页面结构" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-title"</span>&gt;</span>Image Show<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/common/xxx.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="数据绑定" device-type="phone,2in1,tablet,wearable,tv">数据绑定<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="数据绑定" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{content}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>            <span class="hljs-comment">&lt;!-- 输出：Hello World！--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{key1}} {{key2}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>       <span class="hljs-comment">&lt;!-- 输出：Hello World--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>key1 {{key1}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>           <span class="hljs-comment">&lt;!-- 输出：key1 Hello--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{flag1 &amp;&amp; flag2}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>      <span class="hljs-comment">&lt;!-- 输出：false--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{flag1 || flag2}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>      <span class="hljs-comment">&lt;!-- 输出：true--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{!flag1}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>              <span class="hljs-comment">&lt;!-- 输出：false--&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <p>卡片hml文件中的变量需要在json文件的data字段下进行声明：</p> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello World!"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"key1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"key2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"World"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"flag1"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"flag2"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>key值支持对象操作符和数组操作符，如{{key.value}}、{{key[0]}}。</p>  </li><li><p>支持字符串拼接、逻辑运算和三元表达式。</p>  </li><li><p>字符串拼接：</p>  <ul><li>支持变量跟变量：{{key1}}{{key2}}等</li><li>支持常量跟变量： "my name is {{name}}， i am from {{city}}." "key1 {{key1}}"</li></ul>  </li><li><p>逻辑运算：</p>  <ul><li>与：{{flag1 &amp;&amp; flag2}}（仅支持两个boolean变量间的与逻辑运算）</li><li>或：{{flag1 || flag2}} （仅支持两个boolean变量间的或逻辑运算）</li><li>非：{{!flag1}} （仅支持boolean变量的非逻辑运算）</li></ul>  </li><li><p>三元表达式</p>  <ul><li>{{flag? key1:key2}}（flag为boolean变量，key1和key2可以是变量，也可以是常量）</li></ul>  </li><li><p>注意事项</p>  <ul><li>非boolean类型值进行bool运算默认为false</li><li>以上所有变量解析跟运算解析均不支持嵌套</li></ul>  </li></ul>  </div></div></div> </div>  <div class="tiledSection"><h2 id="事件绑定" device-type="phone,2in1,tablet,wearable,tv">事件绑定<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件绑定" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>卡片的事件需要在json文件的actions字段下进行声明。卡片仅支持click通用事件，事件的定义只能是直接命令式，事件定义必须包含action字段，用以说明事件类型。卡片支持两种事件类型：跳转事件(router)和消息事件(message)。跳转事件可以跳转到卡片提供方的应用，消息事件可以将开发者自定义信息传递给卡片提供方。事件参数支持变量，变量以"{{}}"修饰。跳转事件中若定义了params字段，则在被拉起应用的onStart的intent中，可用"params"作为key将跳转事件定义的params字段的值取到。</p> <ul><li><p>跳转事件格式</p>  <p>通过定义ability名称和携带的参数字段params直接跳转，可用"params"作为key提取到跳转事件定义的params字段值。</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.5.1.1" width="25%">选择器</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.5.1.2" width="25%">样例</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.5.1.3" width="25%">默认值</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.5.1.4" width="25%">样例描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">action</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">"router"</td> <td class="cellrowborder" width="25%"><p>事件类型。</p> <p>- "router"：用于应用跳转。</p> <p>- "message"：自定义点击事件。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">abilityName</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">跳转ability名。</td> </tr> <tr><td class="cellrowborder" width="25%">params</td> <td class="cellrowborder" width="25%">Object</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">跳转应用携带的额外参数。</td> </tr>  </tbody></table></div> </div>  <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"mainAbility"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"xxx.xxx.xxx"</span></li><li>  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"routerEvent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"router"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"abilityName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{{mainAbility}}"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>  </li><li><p>消息事件格式</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.2.2.1.5.1.1" width="25%">选择器</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.2.1.5.1.2" width="25%">样例</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.2.1.5.1.3" width="25%">默认值</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.2.1.5.1.4" width="25%">样例描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">action</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">message</td> <td class="cellrowborder" width="25%">表示事件类型。</td> </tr> <tr><td class="cellrowborder" width="25%">params</td> <td class="cellrowborder" width="25%">Object</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">跳转应用携带的额外参数。</td> </tr>  </tbody></table></div> </div>  <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"activeEvent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"message"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>  </li><li><p>绑定路由事件和消息事件</p>  <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span> </li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </li><li>  <span class="hljs-comment">&lt;!-- 正常格式 --&gt;</span> </li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"activeEvent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> </li><li>  <span class="hljs-comment">&lt;!-- 缩写 --&gt;</span> </li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"activeEvent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> </li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>  </li></ul> </div>  <div class="tiledSection"><h2 id="列表渲染" device-type="phone,2in1,tablet,wearable,tv">列表渲染<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="列表渲染" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"array-container"</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- div列表渲染 --&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 默认$item代表数组中的元素, $idx代表数组中的元素索引 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{$item.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 自定义元素变量名称 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{value in array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span>&gt;</span>    </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{value.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 自定义元素变量、索引名称 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{(index, value) in array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span>&gt;</span>    </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{value.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"array"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jack"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tony"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <p>tid属性主要用来加速for循环的重渲染，旨在列表中的数据有变更时，提高重新渲染的效率。tid属性是用来指定数组中每个元素的唯一标识，如果未指定，数组中每个元素的索引为该元素的唯一id。例如上述tid="id"表示数组中的每个元素的id属性为该元素的唯一标识。for循环支持的写法如下：</p> <ul><li><p>for="array"：其中array为数组对象，array的元素变量默认为$item。</p>  </li><li><p>for="v in array"：其中v为自定义的元素变量，元素索引默认为$idx。</p>  </li><li><p>for="(i, v) in array"：其中元素索引为i，元素变量为v，遍历数组对象array。</p>  </li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>数组中的每个元素必须存在tid指定的数据属性，否则运行时可能会导致异常。</p>  </li><li><p>数组中被tid指定的属性要保证唯一性，如果不是则会造成性能损耗。比如，示例中只有id和name可以作为tid字段，因为它们属于唯一字段。</p>  </li><li><p>tid不支持表达式。</p>  </li><li><p>不支持for嵌套使用。</p>  </li><li><p>for对应的变量数组，当前要求数组中的object是相同类型，不支持多种object类型混合写在一个数组中。</p>  </li></ul>  </div></div></div> </div>  <div class="tiledSection"><h2 id="条件渲染" device-type="phone,2in1,tablet,wearable,tv">条件渲染<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="条件渲染" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>条件渲染分为2种：if/elif/else和show。</p> <p>当使用if/elif/else写法时，节点必须是兄弟节点，否则编译无法通过。实例如下：</p> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{show}}"</span>&gt;</span> Hello-TV <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">elif</span>=<span class="hljs-string">"{{display}}"</span>&gt;</span> Hello-Wearable <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">else</span>&gt;</span> Hello-World <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"show"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"display"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <p>当show为真时，节点正常渲染；当show为假时，节点不渲染，效果等同display样式为none。</p> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">show</span>=<span class="hljs-string">"{{visible}}"</span>&gt;</span> Hello World <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"visible"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="逻辑控制块" device-type="phone,2in1,tablet,wearable,tv">逻辑控制块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="逻辑控制块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>&lt;block&gt;控制块使得循环渲染和条件渲染变得更加灵活；block在构建时不会被当作真实的节点编译。block标签只支持if属性。</p> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span> </li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{show}}"</span>&gt;</span> </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span> </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>World<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span> </li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ecr-c106="" class="highlight-div"><div _ngcontent-ecr-c106="" class="highlight-div-header"><div _ngcontent-ecr-c106="" class="highlight-div-header-left"><div _ngcontent-ecr-c106="" class="handle-button expand-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecr-c106="" class="highlight-div-header-right"><div _ngcontent-ecr-c106="" class="handle-button ai-button"></div><div _ngcontent-ecr-c106="" class="handle-button line-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecr-c106="" class="handle-button theme-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecr-c106="" class="handle-button copy-button"><div _ngcontent-ecr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"show"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div> </div> <div></div></div>