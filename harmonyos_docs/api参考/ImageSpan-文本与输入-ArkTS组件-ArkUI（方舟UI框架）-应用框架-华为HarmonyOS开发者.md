<h1 _ngcontent-djn-c119="" class="doc-title ng-star-inserted" title="ImageSpan"> ImageSpan </h1>

<div _ngcontent-djn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text">Text</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-containerspan">ContainerSpan</a>组件的子组件，用于显示行内图片。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API version 10开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>无</p>    </div>    <div class="tiledSection">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ImageSpan(value: ResourceStr | PixelMap)</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片的数据源，支持本地图片和网络图片。</p>          <p>当使用相对路径引用图片资源时，例如ImageSpan("common/test.jpg")，不支持跨包/跨模块调用该ImageSpan组件，建议使用$r方式来管理需全局使用的图片资源。</p>          <p>- 支持的图片格式包括png、jpg、bmp、svg、gif和heif。</p>          <p>- 支持Base64字符串。格式data:image/[png|jpeg|bmp|webp|heif];base64,[base64 data]，其中[base64 data]为Base64字符串数据。</p>          <p>- 支持file://data/storage路径前缀的字符串，用于读取本应用安装目录下file文件夹下的图片资源。需要保证目录包路径下的文件有可读权限。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>属性继承自<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-span#basespan">BaseSpan</a>，通用属性方法支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size">尺寸设置</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background">背景设置</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border">边框设置</a>。</p>    </div>    <div class="tiledSection">     <h3 id="verticalalign" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">verticalAlign<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="verticalalign" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>verticalAlign(value: ImageSpanAlignment)</p>     <p>设置图片基于行高的对齐方式。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagespanalignment10">ImageSpanAlignment</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片基于行高的对齐方式。</p>          <p>默认值：ImageSpanAlignment.BOTTOM</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="objectfit" device-type="phone,2in1,tablet,wearable,tv">objectFit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="objectfit" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>objectFit(value: ImageFit)</p>     <p>设置图片的缩放类型。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagefit">ImageFit</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片的缩放类型。</p>          <p>默认值：ImageFit.Cover</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="alt12" device-type="phone,2in1,tablet,wearable,tv">alt<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="alt12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>alt(value: PixelMap)</p>     <p>设置图片加载过程中显示的占位图。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置图片加载过程中显示的占位图，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>类型。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="colorfilter14" device-type="phone,2in1,tablet,wearable,tv">colorFilter<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="colorfilter14" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>colorFilter(filter: ColorFilter | DrawingColorFilter)</p>     <p>为图像设置颜色滤镜效果。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">filter</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#colorfilter9">ColorFilter</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image#drawingcolorfilter12">DrawingColorFilter</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>1. 给图像设置颜色滤镜效果，入参为一个的4x5的RGBA转换矩阵。</p>          <p>矩阵第一行表示R（红色）的向量值，第二行表示G（绿色）的向量值，第三行表示B（蓝色）的向量值，第四行表示A（透明度）的向量值，4行分别代表不同的RGBA的向量值。</p>          <p>当矩阵对角线值为1，其余值为0时，保持图片原有色彩。</p>          <p><strong>计算规则：</strong></p>          <p>如果输入的滤镜矩阵为：</p>          <p><span><img originheight="123" originwidth="207" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.05983987643815805682142396247338:50001231000000:2800:27FB6BF2D0DBCC7297F40935A8A11AC221310C5C16EFC99254D2D4AD4285B3F3.png" class="notEnlarge" width="206" height="122.40579710144927"></span></p>          <p>像素点为[R, G, B, A]，色值的范围[0, 255]</p>          <p>则过滤后的颜色为 [R’, G’, B’, A’]</p>          <p><span><img originheight="127" originwidth="324" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.54541617497012001430759785523692:50001231000000:2800:F4BA2E6CA38C794CD5D382373280277FD85BDAA8AB4ABE62582602DA6C722211.png" width="206" height="80.74691358024693"></span></p>          <p>2. 支持@ohos.graphics.drawing的ColorFilter类型作为入参。</p>          <p><strong>说明：</strong></p>          <p>该接口中的DrawingColorFilter类型支持在元服务中使用。其中，svg类型的图源只对stroke属性生效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="事件" device-type="phone,2in1,tablet,wearable,tv">事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>通用事件仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-click">点击事件</a>。还支持以下事件：</p>    </div>    <div class="tiledSection">     <h3 id="oncomplete12" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onComplete<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncomplete12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onComplete(callback: ImageCompleteCallback)</p>     <p>图片数据加载成功和解码成功时均触发该回调，返回成功加载的图片尺寸。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#imagecompletecallback12">ImageCompleteCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片数据加载成功和解码成功时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="onerror12" device-type="phone,2in1,tablet,wearable,tv">onError<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onerror12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onError(callback: ImageErrorCallback)</p>     <p>图片加载异常时触发该回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image#imageerrorcallback9">ImageErrorCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片加载异常时触发的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="imagecompletecallback12" device-type="phone,2in1,tablet,wearable,tv">ImageCompleteCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imagecompletecallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ImageCompleteCallback = (result: ImageLoadResult) =&gt; void</p>     <p>图片加载成功和解码成功时触发的回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">result</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#imageloadresult12对象说明">ImageLoadResult</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片数据加载成功和解码成功触发回调时返回的对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="imageloadresult12对象说明" device-type="phone,2in1,tablet,wearable,tv">ImageLoadResult<sup>12+</sup>对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imageloadresult12对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图片数据加载成功和解码成功触发回调时返回的对象。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片的宽。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片的高。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">componentWidth</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>组件的宽。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">componentHeight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>组件的高。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">loadingStatus</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片加载成功的状态值。</p>          <p><strong>说明：</strong></p>          <p>返回的状态值为0时，表示图片数据加载成功。返回的状态值为1时，表示图片解码成功。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentWidth</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片实际绘制的宽度。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p>          <p><strong>说明：</strong></p>          <p>仅在loadingStatus返回1时有效。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentHeight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片实际绘制的高度。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p>          <p><strong>说明：</strong></p>          <p>仅在loadingStatus返回1时有效。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentOffsetX</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>实际绘制内容相对于组件自身的x轴偏移。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p>          <p><strong>说明：</strong></p>          <p>仅在loadingStatus返回1时有效。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">contentOffsetY</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>实际绘制内容相对于组件自身的y轴偏移。</p>          <p>单位：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units">px</a></p>          <p><strong>说明：</strong></p>          <p>仅在loadingStatus返回1时有效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="示例1设置对齐方式" class="firsth2">示例1（设置对齐方式）<i class="anchor-icon anchor-icon-link" anchorid="示例1设置对齐方式" tips="复制节点链接"></i></h3>          <p>从API version 10开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#verticalalign">verticalAlign</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#objectfit">objectFit</a>属性展示了ImageSpan组件的对齐方式以及缩放效果。</p>     <div _ngcontent-djn-c106="" class="highlight-div"><div _ngcontent-djn-c106="" class="highlight-div-header"><div _ngcontent-djn-c106="" class="highlight-div-header-left"><div _ngcontent-djn-c106="" class="handle-button expand-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-djn-c106="" class="highlight-div-header-right"><div _ngcontent-djn-c106="" class="handle-button ai-button"></div><div _ngcontent-djn-c106="" class="handle-button line-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-djn-c106="" class="handle-button theme-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-djn-c106="" class="handle-button copy-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-djn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SpanExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>() {</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-string">'This is the Span and ImageSpan component'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>).<span class="hljs-title function_">textCase</span>(<span class="hljs-title class_">TextCase</span>.<span class="hljs-property">Normal</span>)</li><li>          .<span class="hljs-title function_">decoration</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span> })</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>() {</li><li>        <span class="hljs-comment">// $r('app.media.app_icon')需要替换为开发者所需的图像资源文件。</span></li><li>        <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.app_icon'</span>))</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'200px'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'200px'</span>)</li><li>          .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Fill</span>)</li><li>          .<span class="hljs-title function_">verticalAlign</span>(<span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">CENTER</span>)</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-string">'I am LineThrough-span'</span>)</li><li>          .<span class="hljs-title function_">decoration</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">LineThrough</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> }).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>        <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.app_icon'</span>))</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50px'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50px'</span>)</li><li>          .<span class="hljs-title function_">verticalAlign</span>(<span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">TOP</span>)</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-string">'I am Underline-span'</span>)</li><li>          .<span class="hljs-title function_">decoration</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> }).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>        <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.app_icon'</span>))</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100px'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100px'</span> })</li><li>          .<span class="hljs-title function_">verticalAlign</span>(<span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BASELINE</span>)</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-string">'I am Underline-span'</span>)</li><li>          .<span class="hljs-title function_">decoration</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> }).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>        <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.app_icon'</span>))</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'70px'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'70px'</span>)</li><li>          .<span class="hljs-title function_">verticalAlign</span>(<span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BOTTOM</span>)</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-string">'I am Underline-span'</span>)</li><li>          .<span class="hljs-title function_">decoration</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> }).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">textIndent</span>(<span class="hljs-number">50</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="341" originwidth="400" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.70052743248772063688114642972254:50001231000000:2800:95EFCB7B78D7DBBB0331B54E87FA82A72AE3867813F18DFC4434DE1BC072B3EC.png" width="400" height="341"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2设置背景样式">示例2（设置背景样式）<i class="anchor-icon anchor-icon-link" anchorid="示例2设置背景样式" tips="复制节点链接"></i></h3>          <p>从API version 11开始，该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-span#textbackgroundstyle11">textBackgroundStyle</a>属性展示了文本设置背景样式的效果。</p>     <div _ngcontent-djn-c106="" class="highlight-div"><div _ngcontent-djn-c106="" class="highlight-div-header"><div _ngcontent-djn-c106="" class="highlight-div-header-left"><div _ngcontent-djn-c106="" class="handle-button expand-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-djn-c106="" class="highlight-div-header-right"><div _ngcontent-djn-c106="" class="handle-button ai-button"></div><div _ngcontent-djn-c106="" class="handle-button line-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-djn-c106="" class="handle-button theme-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-djn-c106="" class="handle-button copy-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-djn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-meta">@Entry</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-comment">// $r('app.media.sky')需要替换为开发者所需的图像资源文件。</span></li><li>          <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.sky'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">verticalAlign</span>(<span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">CENTER</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>            .<span class="hljs-title function_">textBackgroundStyle</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#7F007DFF'</span>, <span class="hljs-attr">radius</span>: <span class="hljs-string">"5vp"</span> })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="154" originwidth="146" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.82487962265892346799483736054918:50001231000000:2800:546A53B0FABF51D1A133AEB5AB3C170C44C24F82713C3059A32C1564ADF40EBD.png" class="notEnlarge" width="146" height="154"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例3为图片添加事件">示例3（为图片添加事件）<i class="anchor-icon anchor-icon-link" anchorid="示例3为图片添加事件" tips="复制节点链接"></i></h3>          <p>从API version 12开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#oncomplete12">onComplete</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#onerror12">onError</a>为图片添加加载成功和加载异常的事件。</p>     <div _ngcontent-djn-c106="" class="highlight-div"><div _ngcontent-djn-c106="" class="highlight-div-header"><div _ngcontent-djn-c106="" class="highlight-div-header-left"><div _ngcontent-djn-c106="" class="handle-button expand-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-djn-c106="" class="highlight-div-header-right"><div _ngcontent-djn-c106="" class="handle-button ai-button"></div><div _ngcontent-djn-c106="" class="handle-button line-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-djn-c106="" class="handle-button theme-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-djn-c106="" class="handle-button copy-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-djn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.app_icon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">src</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">'app.media.app_icon'</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>() {</li><li>        <span class="hljs-title class_">ImageSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">src</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">onError</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"onError: "</span> + err.<span class="hljs-property">message</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">onComplete</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"onComplete: "</span> + event.<span class="hljs-property">loadingStatus</span>);</li><li>          })</li><li>      }</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="示例4设置颜色滤镜">示例4（设置颜色滤镜）<i class="anchor-icon anchor-icon-link" anchorid="示例4设置颜色滤镜" tips="复制节点链接"></i></h3>          <p>从API version 14开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#colorfilter14">colorFilter</a>属性展示了给ImageSpan图像设置颜色滤镜的效果。</p>     <div _ngcontent-djn-c106="" class="highlight-div"><div _ngcontent-djn-c106="" class="highlight-div-header"><div _ngcontent-djn-c106="" class="highlight-div-header-left"><div _ngcontent-djn-c106="" class="handle-button expand-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-djn-c106="" class="highlight-div-header-right"><div _ngcontent-djn-c106="" class="handle-button ai-button"></div><div _ngcontent-djn-c106="" class="handle-button line-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-djn-c106="" class="handle-button theme-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-djn-c106="" class="handle-button copy-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-djn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SpanExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title class_">ColorFilterMatrix</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0.239</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.616</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.706</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-title class_">DrawingColorFilterFirst</span>: <span class="hljs-title class_">ColorFilter</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ColorFilter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ColorFilterMatrix</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-comment">//创建ColorFilter对象的方式为图片设置颜色滤镜</span></li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-comment">// $r('app.media.sky')需要替换为开发者所需的图像资源文件。</span></li><li>          <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.sky'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">colorFilter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">DrawingColorFilterFirst</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-comment">//通过drawing.ColorFilter的方式为图片设置颜色滤镜</span></li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-comment">// $r('app.media.sky')需要替换为开发者所需的图像资源文件。</span></li><li>          <span class="hljs-title class_">ImageSpan</span>($r(<span class="hljs-string">'app.media.sky'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'60vp'</span>)</li><li>            .<span class="hljs-title function_">colorFilter</span>(drawing.<span class="hljs-property">ColorFilter</span>.<span class="hljs-title function_">createBlendModeColorFilter</span>({</li><li>              <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>              <span class="hljs-attr">red</span>: <span class="hljs-number">112</span>,</li><li>              <span class="hljs-attr">green</span>: <span class="hljs-number">112</span>,</li><li>              <span class="hljs-attr">blue</span>: <span class="hljs-number">112</span></li><li>            }, drawing.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">SRC</span>))</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="297" originwidth="151" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.89330191210633393766756499137882:50001231000000:2800:8DD7F293964E5930A1C2D2CBF5563B560CD5288360E204201C3C00F4AB8484E4.png" class="notEnlarge" width="151" height="297"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例5设置加载占位图">示例5（设置加载占位图）<i class="anchor-icon anchor-icon-link" anchorid="示例5设置加载占位图" tips="复制节点链接"></i></h3>          <p>从API version 12开始，该示例<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-imagespan#alt12">alt</a>属性展示了ImageSpan设置加载网络图片时占位图的效果。</p>     <div _ngcontent-djn-c106="" class="highlight-div"><div _ngcontent-djn-c106="" class="highlight-div-header"><div _ngcontent-djn-c106="" class="highlight-div-header-left"><div _ngcontent-djn-c106="" class="handle-button expand-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-djn-c106="" class="highlight-div-header-right"><div _ngcontent-djn-c106="" class="handle-button ai-button"></div><div _ngcontent-djn-c106="" class="handle-button line-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-djn-c106="" class="handle-button theme-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-djn-c106="" class="handle-button copy-button"><div _ngcontent-djn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-djn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SpanExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">imageAlt</span>: <span class="hljs-title class_">PixelMap</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li>  <span class="hljs-title function_">httpRequest</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 直接加载网络地址，请填写一个具体的网络图片地址</span></li><li>    http.<span class="hljs-title function_">createHttp</span>().<span class="hljs-title function_">request</span>(<span class="hljs-string">"https://www.example.com/xxx.png"</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: http.HttpResponse</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`http request failed with. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`http request success.`</span>);</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">imageData</span>: <span class="hljs-title class_">ArrayBuffer</span> = data.<span class="hljs-property">result</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">imageSource</span>: image.<span class="hljs-property">ImageSource</span> = image.<span class="hljs-title function_">createImageSource</span>(imageData);</li><li>
</li><li>        <span class="hljs-keyword">class</span> <span class="hljs-title class_">tmp</span> {</li><li>          <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>          <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>        }</li><li>
</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">option</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span> | tmp&gt; = {</li><li>          <span class="hljs-string">'alphaType'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 透明度</span></li><li>          <span class="hljs-string">'editable'</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否可编辑</span></li><li>          <span class="hljs-string">'pixelFormat'</span>: <span class="hljs-number">3</span>, <span class="hljs-comment">// 像素格式</span></li><li>          <span class="hljs-string">'scaleMode'</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 缩略值</span></li><li>          <span class="hljs-string">'size'</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> }</li><li>        };</li><li>        <span class="hljs-comment">//创建图片大小</span></li><li>        imageSource.<span class="hljs-title function_">createPixelMap</span>(option).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap: PixelMap</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageAlt</span> = pixelMap;</li><li>        })</li><li>      }</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取网络图片"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">httpRequest</span>();</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Text</span>() {</li><li>        <span class="hljs-comment">// 直接加载网络地址，请填写一个具体的网络图片地址</span></li><li>        <span class="hljs-title class_">ImageSpan</span>(<span class="hljs-string">'https://www.example.com/xxx.png'</span>)</li><li>          .<span class="hljs-title function_">alt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageAlt</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      }</li><li>
</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">250</span>).<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">35</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">35</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">35</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="350" originwidth="384" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115611.06337116282660984061512948267116:50001231000000:2800:D86D78F8209A8CA417F25300F1B65DACC4FA9222C4418A9D50172B05131A6973.gif" width="384" height="350"></span></p>    </div>   </div>   <div></div></div>