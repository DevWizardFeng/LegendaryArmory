<h1 _ngcontent-hmy-c119="" class="doc-title ng-star-inserted" title="Interface (AVCastController)"> Interface (AVCastController) </h1>

<div _ngcontent-hmy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>       <li>本Interface首批接口从API version 10开始支持。</li>      </ul>     </div></div></div>    <p>在投播建立后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsession#getavcastcontroller10">avSession.getAVCastController</a>后，返回会话控制器实例。控制器可查看会话ID，并可完成对会话发送命令及事件，获取会话元数据，播放状态信息等操作。</p>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1025px;">     <h2 id="getavplaybackstate10" device-type="phone,2in1,tablet,tv">getAVPlaybackState<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavplaybackstate10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getAVPlaybackState(callback: AsyncCallback&lt;AVPlaybackState&gt;): void</p>     <p>获取当前的远端播放状态。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回远端播放状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getAVPlaybackState</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, state: avSession.AVPlaybackState</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAVPlaybackState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAVPlaybackState : SUCCESS'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1021px;">     <h2 id="getavplaybackstate10-1" device-type="phone,2in1,tablet,tv">getAVPlaybackState<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavplaybackstate10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getAVPlaybackState(): Promise&lt;AVPlaybackState&gt;</p>     <p>获取当前的远端播放状态。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回远端播放状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getAVPlaybackState</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">state: avSession.AVPlaybackState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAVPlaybackState : SUCCESS'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAVPlaybackState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="getsupporteddecoders19" device-type="phone,2in1,tablet,tv">getSupportedDecoders<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupporteddecoders19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedDecoders(): Promise&lt;Array&lt;DecoderType&gt;&gt;</p>     <p>获取当前远端设备的解码方式。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#decodertype19">DecoderType</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回远端设备所支持的解码能力列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getSupportedDecoders</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">decoderTypes: avSession.DecoderType[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedDecoders : SUCCESS : decoderTypes.length : <span class="hljs-subst">${decoderTypes.length}</span>`</span>);</li><li>  <span class="hljs-keyword">if</span> (decoderTypes.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedDecoders : SUCCESS : decoderTypes[0] : <span class="hljs-subst">${decoderTypes[<span class="hljs-number">0</span>]}</span>`</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getSupportedDecoders BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1460px;">     <h2 id="getrecommendedresolutionlevel19" device-type="phone,2in1,tablet,tv">getRecommendedResolutionLevel<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrecommendedresolutionlevel19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRecommendedResolutionLevel(decoderType: DecoderType): Promise&lt;ResolutionLevel&gt;</p>     <p>通过传递解码方式，获取推荐的分辨率。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">decoderType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#decodertype19">DecoderType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设备所支持的解码格式。</p>          <p>设备所支持的解码格式包括：</p>          <p>'OH_AVCODEC_MIMETYPE_VIDEO_AVC'：VIDEO AVC，</p>          <p>'OH_AVCODEC_MIMETYPE_VIDEO_HEVC'：VIDEO HEVC，</p>          <p>'OH_AVCODEC_MIMETYPE_AUDIO_VIVID'：AUDIO AV3A。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#resolutionlevel19">ResolutionLevel</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回远端设备推荐的分辨率。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> decoderType = avSession.<span class="hljs-property">DecoderType</span>.<span class="hljs-property">OH_AVCODEC_MIMETYPE_VIDEO_AVC</span>;</li><li>aVCastController.<span class="hljs-title function_">getRecommendedResolutionLevel</span>(decoderType).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">resolutionLevel: avSession.ResolutionLevel</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getRecommendedResolutionLevel successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getRecommendedResolutionLevel BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h2 id="getsupportedhdrcapabilities19" device-type="phone,2in1,tablet,tv">getSupportedHdrCapabilities<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedhdrcapabilities19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedHdrCapabilities(): Promise&lt;Array&lt;hdrCapability.HDRFormat&gt;&gt;</p>     <p>获取当前的远端设备所支持的HDR能力。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-hdrcapability#hdrformat">hdrCapability.HDRFormat</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回远端设备所支持的HDR能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> hdrCapability <span class="hljs-keyword">from</span> <span class="hljs-string">'./@ohos.graphics.hdrCapability'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getSupportedHdrCapabilities</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">hdrFormats: hdrCapability.HDRFormat[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedHdrCapabilities : SUCCESS : hdrFormats.length : <span class="hljs-subst">${hdrFormats.length}</span>`</span>);</li><li>  <span class="hljs-keyword">if</span> (hdrFormats.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedHdrCapabilities : SUCCESS : descriptors[0] : <span class="hljs-subst">${hdrFormats[<span class="hljs-number">0</span>]}</span>`</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getSupportedHdrCapabilities BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="getsupportedplayspeeds19" device-type="phone,2in1,tablet,tv">getSupportedPlaySpeeds<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedplayspeeds19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedPlaySpeeds(): Promise&lt;Array&lt;number&gt;&gt;</p>     <p>获取当前的远端设备所支持倍速播放列表。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回远端设备所支持的倍速播放列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getSupportedPlaySpeeds</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">nums: <span class="hljs-built_in">number</span>[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedPlaySpeeds : SUCCESS : hdrFormats.length : <span class="hljs-subst">${nums.length}</span>`</span>);</li><li>  <span class="hljs-keyword">if</span> (nums.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`getSupportedPlaySpeeds : SUCCESS : descriptors[0] : <span class="hljs-subst">${nums[<span class="hljs-number">0</span>]}</span>`</span>);</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getSupportedPlaySpeeds BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1433px;">     <h2 id="sendcontrolcommand10" device-type="phone,2in1,tablet,tv">sendControlCommand<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendcontrolcommand10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>sendControlCommand(command: AVCastControlCommand): Promise&lt;void&gt;</p>     <p>通过控制器发送命令到其对应的会话。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">command</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avcastcontrolcommand10">AVCastControlCommand</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话的相关命令和命令相关参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当命令发送成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600105</td>         <td class="cellrowborder" width="50%">Invalid session command.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">avCommand</span>: avSession.<span class="hljs-property">AVCastControlCommand</span> = {<span class="hljs-attr">command</span>:<span class="hljs-string">'play'</span>};</li><li>aVCastController.<span class="hljs-title function_">sendControlCommand</span>(avCommand).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SendControlCommand successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SendControlCommand BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1331px;">     <h2 id="sendcontrolcommand10-1" device-type="phone,2in1,tablet,tv">sendControlCommand<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendcontrolcommand10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>sendControlCommand(command: AVCastControlCommand, callback: AsyncCallback&lt;void&gt;): void</p>     <p>通过会话控制器发送命令到其对应的会话。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">command</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avcastcontrolcommand10">AVCastControlCommand</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话的相关命令和命令相关参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600105</td>         <td class="cellrowborder" width="50%">Invalid session command.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">avCommand</span>: avSession.<span class="hljs-property">AVCastControlCommand</span> = {<span class="hljs-attr">command</span>:<span class="hljs-string">'play'</span>};</li><li>aVCastController.<span class="hljs-title function_">sendControlCommand</span>(avCommand, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SendControlCommand BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SendControlCommand successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="sendcustomdata20" device-type="phone,2in1,tablet,tv">sendCustomData<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendcustomdata20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>sendCustomData(data: Record&lt;string, Object&gt;): Promise&lt;void&gt;</p>     <p>发送私有数据到远端设备。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">Record&lt;string, Object&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用程序填充的自定义数据。</p>          <p>服务端仅解析key：string为'customData'，且Object为string类型的对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.You are advised to:1.Scheduled retry.2.Destroy the current session or session controller and re-create it.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">sendCustomData</span>({customData : <span class="hljs-string">"This is custom data"</span>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1684px;">     <h2 id="prepare10" device-type="phone,2in1,tablet,tv">prepare<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="prepare10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>prepare(item: AVQueueItem, callback: AsyncCallback&lt;void&gt;): void</p>     <p>准备播放媒体资源，即进行播放资源的加载和缓冲。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">item</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表中单项的相关属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 设置播放参数，开始播放。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playItem</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>  <span class="hljs-attr">itemId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">description</span>: {</li><li>    <span class="hljs-attr">assetId</span>: <span class="hljs-string">'12345'</span>,</li><li>    <span class="hljs-attr">mediaType</span>: <span class="hljs-string">'AUDIO'</span>,</li><li>    <span class="hljs-attr">mediaUri</span>: <span class="hljs-string">'http://resource1_address'</span>,</li><li>    <span class="hljs-attr">mediaSize</span>: <span class="hljs-number">12345</span>,</li><li>    <span class="hljs-attr">startPosition</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">artist</span>: <span class="hljs-string">'mysong'</span>,</li><li>    <span class="hljs-attr">albumTitle</span>: <span class="hljs-string">'song1_title'</span>,</li><li>    <span class="hljs-attr">albumCoverUri</span>: <span class="hljs-string">"http://resource1_album_address"</span>,</li><li>    <span class="hljs-attr">lyricUri</span>: <span class="hljs-string">"http://resource1_lyric_address"</span>,</li><li>    <span class="hljs-attr">appName</span>: <span class="hljs-string">'MyMusic'</span></li><li>  }</li><li>};</li><li><span class="hljs-comment">// 准备播放，这个不会触发真正的播放，会进行加载和缓冲。</span></li><li>aVCastController.<span class="hljs-title function_">prepare</span>(playItem, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`prepare BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'prepare successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1786px;">     <h2 id="prepare10-1" device-type="phone,2in1,tablet,tv">prepare<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="prepare10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>prepare(item: AVQueueItem): Promise&lt;void&gt;</p>     <p>准备播放媒体资源，即进行播放资源的加载和缓冲。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">item</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表中单项的相关属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当命令发送成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 设置播放参数，开始播放。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playItem</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>  <span class="hljs-attr">itemId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">description</span>: {</li><li>    <span class="hljs-attr">assetId</span>: <span class="hljs-string">'12345'</span>,</li><li>    <span class="hljs-attr">mediaType</span>: <span class="hljs-string">'AUDIO'</span>,</li><li>    <span class="hljs-attr">mediaUri</span>: <span class="hljs-string">'http://resource1_address'</span>,</li><li>    <span class="hljs-attr">mediaSize</span>: <span class="hljs-number">12345</span>,</li><li>    <span class="hljs-attr">startPosition</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">artist</span>: <span class="hljs-string">'mysong'</span>,</li><li>    <span class="hljs-attr">albumTitle</span>: <span class="hljs-string">'song1_title'</span>,</li><li>    <span class="hljs-attr">albumCoverUri</span>: <span class="hljs-string">"http://resource1_album_address"</span>,</li><li>    <span class="hljs-attr">lyricUri</span>: <span class="hljs-string">"http://resource1_lyric_address"</span>,</li><li>    <span class="hljs-attr">appName</span>: <span class="hljs-string">'MyMusic'</span></li><li>  }</li><li>};</li><li><span class="hljs-comment">// 准备播放，这个不会触发真正的播放，会进行加载和缓冲。</span></li><li>aVCastController.<span class="hljs-title function_">prepare</span>(playItem).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'prepare successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`prepare BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1708px;">     <h2 id="start10" device-type="phone,2in1,tablet,tv">start<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(item: AVQueueItem, callback: AsyncCallback&lt;void&gt;): void</p>     <p>启动播放某个媒体资源。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">item</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表中单项的相关属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 设置播放参数，开始播放。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playItem</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>  <span class="hljs-attr">itemId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">description</span>: {</li><li>    <span class="hljs-attr">assetId</span>: <span class="hljs-string">'12345'</span>,</li><li>    <span class="hljs-attr">mediaType</span>: <span class="hljs-string">'AUDIO'</span>,</li><li>    <span class="hljs-attr">mediaUri</span>: <span class="hljs-string">'http://resource1_address'</span>,</li><li>    <span class="hljs-attr">mediaSize</span>: <span class="hljs-number">12345</span>,</li><li>    <span class="hljs-attr">startPosition</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">artist</span>: <span class="hljs-string">'mysong'</span>,</li><li>    <span class="hljs-attr">albumTitle</span>: <span class="hljs-string">'song1_title'</span>,</li><li>    <span class="hljs-attr">albumCoverUri</span>: <span class="hljs-string">"http://resource1_album_address"</span>,</li><li>    <span class="hljs-attr">lyricUri</span>: <span class="hljs-string">"http://resource1_lyric_address"</span>,</li><li>    <span class="hljs-attr">appName</span>: <span class="hljs-string">'MyMusic'</span></li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-comment">// 启动播放。</span></li><li>aVCastController.<span class="hljs-title function_">start</span>(playItem, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`start BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1786px;">     <h2 id="start10-1" device-type="phone,2in1,tablet,tv">start<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(item: AVQueueItem): Promise&lt;void&gt;</p>     <p>启动播放某个媒体资源。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">item</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表中单项的相关属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当命令发送成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 设置播放参数，开始播放。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playItem</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>  <span class="hljs-attr">itemId</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">description</span>: {</li><li>    <span class="hljs-attr">assetId</span>: <span class="hljs-string">'12345'</span>,</li><li>    <span class="hljs-attr">mediaType</span>: <span class="hljs-string">'AUDIO'</span>,</li><li>    <span class="hljs-attr">mediaUri</span>: <span class="hljs-string">'http://resource1_address'</span>,</li><li>    <span class="hljs-attr">mediaSize</span>: <span class="hljs-number">12345</span>,</li><li>    <span class="hljs-attr">startPosition</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">artist</span>: <span class="hljs-string">'mysong'</span>,</li><li>    <span class="hljs-attr">albumTitle</span>: <span class="hljs-string">'song1_title'</span>,</li><li>    <span class="hljs-attr">albumCoverUri</span>: <span class="hljs-string">"http://resource1_album_address"</span>,</li><li>    <span class="hljs-attr">lyricUri</span>: <span class="hljs-string">"http://resource1_lyric_address"</span>,</li><li>    <span class="hljs-attr">appName</span>: <span class="hljs-string">'MyMusic'</span></li><li>  }</li><li>};</li><li><span class="hljs-comment">// 启动播放。</span></li><li>aVCastController.<span class="hljs-title function_">start</span>(playItem).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`start BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1049px;">     <h2 id="getcurrentitem10" device-type="phone,2in1,tablet,tv">getCurrentItem<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcurrentitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getCurrentItem(callback: AsyncCallback&lt;AVQueueItem&gt;): void</p>     <p>获取当前投播的资源信息。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getCurrentItem</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: avSession.AVQueueItem</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCurrentItem BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentItem successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1021px;">     <h2 id="getcurrentitem10-1" device-type="phone,2in1,tablet,tv">getCurrentItem<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcurrentitem10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getCurrentItem(): Promise&lt;AVQueueItem&gt;</p>     <p>获取当前投播的资源信息。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前的播放资源，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getCurrentItem</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: avSession.AVQueueItem</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCurrentItem successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCurrentItem BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1025px;">     <h2 id="getvalidcommands11" device-type="phone,2in1,tablet,tv">getValidCommands<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvalidcommands11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getValidCommands(callback: AsyncCallback&lt;Array&lt;AVCastControlCommandType&gt;&gt;): void</p>     <p>获取当前支持的命令。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#avcastcontrolcommandtype10">AVCastControlCommandType</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前支持的命令。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getValidCommands</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, state: avSession.AVCastControlCommandType[]</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getValidCommands BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getValidCommands successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 973px;">     <h2 id="getvalidcommands11-1" device-type="phone,2in1,tablet,tv">getValidCommands<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvalidcommands11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getValidCommands(): Promise&lt;Array&lt;AVCastControlCommandType&gt;&gt;</p>     <p>获取当前支持的命令。结果通过Promise异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#avcastcontrolcommandtype10">AVCastControlCommandType</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前支持的命令。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">getValidCommands</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">state: avSession.AVCastControlCommandType[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getValidCommands successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getValidCommands BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1344px;">     <h2 id="processmediakeyresponse12" device-type="phone,2in1,tablet,tv">processMediaKeyResponse<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="processmediakeyresponse12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>processMediaKeyResponse(assetId: string, response: Uint8Array): Promise&lt;void&gt;</p>     <p>在线DRM资源投播时，处理许可证响应。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">assetId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">媒体ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">response</td>         <td class="cellrowborder" width="25%">Uint8Array</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">许可证响应。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，当处理许可证响应成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">keyRequestCallback</span>: avSession.<span class="hljs-property">KeyRequestCallback</span> = <span class="hljs-title function_">async</span>(<span class="hljs-attr">assetId</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">requestData</span>: <span class="hljs-title class_">Uint8Array</span>) =&gt; {</li><li>  <span class="hljs-comment">// 根据assetId获取对应的DRM url。</span></li><li>  <span class="hljs-keyword">let</span> drmUrl = <span class="hljs-string">'http://license.xxx.xxx.com:8080/drmproxy/getLicense'</span>;</li><li>  <span class="hljs-comment">// 从服务器获取许可证，需要开发者根据实际情况进行赋值。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">licenseResponseData</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in get license by <span class="hljs-subst">${drmUrl}</span>.`</span>);</li><li>  aVCastController.<span class="hljs-title function_">processMediaKeyResponse</span>(assetId, licenseResponseData);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1049px;">     <h2 id="release11" device-type="phone,2in1,tablet,tv">release<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="release11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(callback: AsyncCallback&lt;void&gt;): void</p>     <p>销毁当前controller，结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令执行成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">release</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`release BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'release successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="release11-1" device-type="phone,2in1,tablet,tv">release<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="release11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(): Promise&lt;void&gt;</p>     <p>销毁当前controller。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，controller销毁成功，无结果返回，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">release</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'release successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`release BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1506px;">     <h2 id="onplaybackstatechange10" device-type="phone,2in1,tablet,tv">on('playbackStateChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplaybackstatechange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'playbackStateChange', filter: Array&lt;string&gt; | 'all', callback: (state: AVPlaybackState) =&gt; void): void</p>     <p>设置播放状态变化的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'playbackStateChange'：当播放状态变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">filter</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;|'all'</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>'all' 表示关注播放状态所有字段变化；Array&lt;string&gt; 表示关注Array中的字段变化。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前filter参数类型为：Array&lt;keyof AVPlaybackState&gt; | 'all'。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(state: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，参数state是变化后的播放状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playbackStateChange'</span>, <span class="hljs-string">'all'</span>, <span class="hljs-function">(<span class="hljs-params">playbackState: avSession.AVPlaybackState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on playbackStateChange state : <span class="hljs-subst">${playbackState.state}</span>`</span>);</li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playbackFilter</span>: <span class="hljs-title class_">Array</span>&lt;keyof avSession.<span class="hljs-property">AVPlaybackState</span>&gt; = [<span class="hljs-string">'state'</span>, <span class="hljs-string">'speed'</span>, <span class="hljs-string">'loopMode'</span>];</li><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playbackStateChange'</span>, playbackFilter, <span class="hljs-function">(<span class="hljs-params">playbackState: avSession.AVPlaybackState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on playbackStateChange state : <span class="hljs-subst">${playbackState.state}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="offplaybackstatechange10" device-type="phone,2in1,tablet,tv">off('playbackStateChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplaybackstatechange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'playbackStateChange', callback?: (state: AVPlaybackState) =&gt; void): void</p>     <p>取消播放状态变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'playbackStateChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(state: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数state是变化后的播放状态。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playbackStateChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1197px;">     <h2 id="onmediaitemchange10" device-type="phone,2in1,tablet,tv">on('mediaItemChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmediaitemchange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'mediaItemChange', callback: Callback&lt;AVQueueItem&gt;): void</p>     <p>设置投播当前播放媒体内容的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'mediaItemChange'：当播放的媒体内容变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，参数AVQueueItem是当前正在播放的媒体内容。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'mediaItemChange'</span>, <span class="hljs-function">(<span class="hljs-params">item: avSession.AVQueueItem</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on mediaItemChange state : <span class="hljs-subst">${item.itemId}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 960px;">     <h2 id="offmediaitemchange10" device-type="phone,2in1,tablet,tv">off('mediaItemChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offmediaitemchange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'mediaItemChange'): void</p>     <p>取消设置投播当前播放媒体内容事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'mediaItemChange'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'mediaItemChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="onplaynext10" device-type="phone,2in1,tablet,tv">on('playNext')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplaynext10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'playNext', callback: Callback&lt;void&gt;): void</p>     <p>设置播放下一首资源的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'playNext'：当播放下一首状态变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playNext'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on playNext'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 960px;">     <h2 id="offplaynext10" device-type="phone,2in1,tablet,tv">off('playNext')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplaynext10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'playNext'): void</p>     <p>取消设置播放下一首资源事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'playNext'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playNext'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1149px;">     <h2 id="onplayprevious10" device-type="phone,2in1,tablet,tv">on('playPrevious')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplayprevious10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'playPrevious', callback: Callback&lt;void&gt;): void</p>     <p>设置播放上一首资源的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'playPrevious'：当播放上一首状态变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playPrevious'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on playPrevious'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 960px;">     <h2 id="offplayprevious10" device-type="phone,2in1,tablet,tv">off('playPrevious')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplayprevious10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'playPrevious'): void</p>     <p>取消设置播放上一首资源事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'playPrevious'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playPrevious'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1197px;">     <h2 id="onrequestplay11" device-type="phone,2in1,tablet,tv">on('requestPlay')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onrequestplay11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'requestPlay', callback: Callback&lt;AVQueueItem&gt;): void</p>     <p>设置请求播放的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'requestPlay'：当请求播放状态变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，参数AVQueueItem是当前正在播放的媒体内容。当监听事件注册成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'requestPlay'</span>, <span class="hljs-function">(<span class="hljs-params">item: avSession.AVQueueItem</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on requestPlay state : <span class="hljs-subst">${item.itemId}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="offrequestplay11" device-type="phone,2in1,tablet,tv">off('requestPlay')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offrequestplay11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'requestPlay', callback?: Callback&lt;AVQueueItem&gt;): void</p>     <p>取消设置请求播放事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'requestPlay'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，参数AVQueueItem是当前正在播放的媒体内容。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'requestPlay'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="onendofstream11" device-type="phone,2in1,tablet,tv">on('endOfStream')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onendofstream11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'endOfStream', callback: Callback&lt;void&gt;): void</p>     <p>设置播放结束的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'endOfStream'：当资源播放结束时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件注册成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'endOfStream'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on endOfStream'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1077px;">     <h2 id="offendofstream11" device-type="phone,2in1,tablet,tv">off('endOfStream')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offendofstream11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'endOfStream', callback?: Callback&lt;void&gt;): void</p>     <p>取消设置播放结束事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'endOfStream'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'endOfStream'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1149px;">     <h2 id="onseekdone10" device-type="phone,2in1,tablet,tv">on('seekDone')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onseekdone10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'seekDone', callback: Callback&lt;number&gt;): void</p>     <p>设置seek结束的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'seekDone'：当seek结束时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回seek后播放的位置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'seekDone'</span>, <span class="hljs-function">(<span class="hljs-params">pos: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on seekDone pos：<span class="hljs-subst">${pos}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 960px;">     <h2 id="offseekdone10" device-type="phone,2in1,tablet,tv">off('seekDone')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offseekdone10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'seekDone'): void</p>     <p>取消设置seek结束事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'seekDone'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'seekDone'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="onvalidcommandchange11" device-type="phone,2in1,tablet,tv">on('validCommandChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onvalidcommandchange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'validCommandChange', callback: Callback&lt;Array&lt;AVCastControlCommandType&gt;&gt;): void</p>     <p>会话支持的有效命令变化监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'validCommandChange'：当检测到会话的合法命令发生改变时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#avcastcontrolcommandtype10">AVCastControlCommandType</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数commands是有效命令的集合。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600103</td>         <td class="cellrowborder" width="50%">The session controller does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'validCommandChange'</span>, <span class="hljs-function">(<span class="hljs-params">validCommands: avSession.AVCastControlCommandType[]</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`validCommandChange : SUCCESS : size : <span class="hljs-subst">${validCommands.length}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`validCommandChange : SUCCESS : validCommands : <span class="hljs-subst">${validCommands.values()}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1053px;">     <h2 id="offvalidcommandchange11" device-type="phone,2in1,tablet,tv">off('validCommandChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offvalidcommandchange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'validCommandChange', callback?: Callback&lt;Array&lt;AVCastControlCommandType&gt;&gt;): void</p>     <p>取消会话有效命令变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'validCommandChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#avcastcontrolcommandtype10">AVCastControlCommandType</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。参数commands是有效命令的集合。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600103</td>         <td class="cellrowborder" width="50%">The session controller does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'validCommandChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="onvideosizechange12" device-type="phone,2in1,tablet,tv">on('videoSizeChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onvideosizechange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'videoSizeChange', callback: (width: number, height: number) =&gt; void): void</p>     <p>媒体控制器监听视频尺寸变化变化的事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p>系统能力： SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'videoSizeChange'：当检测到会话的合法命令发生改变时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(width: number, height: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'videoSizeChange'</span>, <span class="hljs-function">(<span class="hljs-params">width: <span class="hljs-built_in">number</span>, height: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`videoSizeChange : SUCCESS : size : <span class="hljs-subst">${width}</span>, <span class="hljs-subst">${height}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 960px;">     <h2 id="offvideosizechange12" device-type="phone,2in1,tablet,tv">off('videoSizeChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offvideosizechange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'videoSizeChange'): void</p>     <p>取消视频尺寸事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p>系统能力： SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'videoSizeChange'：当检测到会话的合法命令发生改变时，触发该事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'videoSizeChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1551px;">     <h2 id="onerror10" device-type="phone,2in1,tablet,tv">on('error')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onerror10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'error', callback: ErrorCallback): void</p>     <p>监听远端播放器的错误事件，该事件仅用于错误提示，不需要用户停止播控动作。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'error'，用户操作和系统都会触发此事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调方法：远端播放过程中发生的错误，会提供错误码ID和错误信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-media">媒体服务错误码</a>以及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400101</td>         <td class="cellrowborder" width="50%">No memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400103</td>         <td class="cellrowborder" width="50%">I/O error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400104</td>         <td class="cellrowborder" width="50%">Time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400105</td>         <td class="cellrowborder" width="50%">Service died.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400106</td>         <td class="cellrowborder" width="50%">Unsupport format.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`error happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1290px;">     <h2 id="offerror10" device-type="phone,2in1,tablet,tv">off('error')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offerror10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'error'): void</p>     <p>取消播放的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，取消注册的事件：'error'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-media">媒体服务错误码</a>以及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400101</td>         <td class="cellrowborder" width="50%">No memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400103</td>         <td class="cellrowborder" width="50%">I/O error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400104</td>         <td class="cellrowborder" width="50%">Time out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400105</td>         <td class="cellrowborder" width="50%">Service died.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">5400106</td>         <td class="cellrowborder" width="50%">Unsupport format.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'error'</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1197px;">     <h2 id="onkeyrequest12" device-type="phone,2in1,tablet,tv">on('keyRequest')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyrequest12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'keyRequest', callback: KeyRequestCallback): void</p>     <p>在线DRM资源投播时，设置许可证请求的事件监听。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'keyRequest'：当DRM资源播放需要许可证时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#keyrequestcallback12">KeyRequestCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，媒体资源及许可证请求数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">keyRequestCallback</span>: avSession.<span class="hljs-property">KeyRequestCallback</span> = <span class="hljs-title function_">async</span>(<span class="hljs-attr">assetId</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">requestData</span>: <span class="hljs-title class_">Uint8Array</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in keyRequestCallback. assetId: <span class="hljs-subst">${assetId}</span>, requestData: <span class="hljs-subst">${requestData}</span>`</span>);</li><li>}</li><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyRequest'</span>, keyRequestCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1125px;">     <h2 id="offkeyrequest12" device-type="phone,2in1,tablet,tv">off('keyRequest')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyrequest12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'keyRequest', callback?: KeyRequestCallback): void</p>     <p>取消许可证请求事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'keyRequest'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#keyrequestcallback12">KeyRequestCallback</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyRequest'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1960px;">     <h2 id="oncastcontrolgenericerror13" device-type="phone,2in1,tablet,tv">on('castControlGenericError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontrolgenericerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlGenericError', callback: ErrorCallback): void</p>     <p>监听投播通用错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlGenericError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播通用错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611000</td>         <td class="cellrowborder" width="50%">The error code for cast control is unspecified.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611001</td>         <td class="cellrowborder" width="50%">An unspecified error occurs in the remote player.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611002</td>         <td class="cellrowborder" width="50%">The playback position falls behind the live window.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611003</td>         <td class="cellrowborder" width="50%">The process of cast control times out.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611004</td>         <td class="cellrowborder" width="50%">The runtime check failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611100</td>         <td class="cellrowborder" width="50%">Cross-device data transmission is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611101</td>         <td class="cellrowborder" width="50%">The specified seek mode is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611102</td>         <td class="cellrowborder" width="50%">The position to seek to is out of the range of the media asset or the specified seek mode is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611103</td>         <td class="cellrowborder" width="50%">The specified playback mode is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611104</td>         <td class="cellrowborder" width="50%">The specified playback speed is not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611105</td>         <td class="cellrowborder" width="50%">The action failed because either the media source device or the media sink device has been revoked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611106</td>         <td class="cellrowborder" width="50%">The parameter is invalid, for example, the url is illegal to play.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611107</td>         <td class="cellrowborder" width="50%">Allocation of memory failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6611108</td>         <td class="cellrowborder" width="50%">Operation is not allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlGenericError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlGenericError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="offcastcontrolgenericerror13" device-type="phone,2in1,tablet,tv">off('castControlGenericError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontrolgenericerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlGenericError', callback?: ErrorCallback): void</p>     <p>取消投播通用的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlGenericError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlGenericError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2173px;">     <h2 id="oncastcontrolioerror13" device-type="phone,2in1,tablet,tv">on('castControlIoError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontrolioerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlIoError', callback: ErrorCallback): void</p>     <p>监听投播输入/输出的错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlIoError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播输入/输出的错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612000</td>         <td class="cellrowborder" width="50%">An unspecified input/output error occurs.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612001</td>         <td class="cellrowborder" width="50%">Network connection failure.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612002</td>         <td class="cellrowborder" width="50%">Network timeout.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612003</td>         <td class="cellrowborder" width="50%">Invalid "Content-Type" HTTP header.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612004</td>         <td class="cellrowborder" width="50%">The HTTP server returns an unexpected HTTP response status code.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612005</td>         <td class="cellrowborder" width="50%">The file does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612006</td>         <td class="cellrowborder" width="50%">No permission is granted to perform the IO operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612007</td>         <td class="cellrowborder" width="50%">Access to cleartext HTTP traffic is not allowed by the app's network security configuration.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612008</td>         <td class="cellrowborder" width="50%">Reading data out of the data bound.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612100</td>         <td class="cellrowborder" width="50%">The media does not contain any contents that can be played.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612101</td>         <td class="cellrowborder" width="50%">The media cannot be read, for example, because of dust or scratches.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612102</td>         <td class="cellrowborder" width="50%">This resource is already in use.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612103</td>         <td class="cellrowborder" width="50%">The content using the validity interval has expired.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612104</td>         <td class="cellrowborder" width="50%">Using the requested content to play is not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612105</td>         <td class="cellrowborder" width="50%">The use of the allowed content cannot be verified.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612106</td>         <td class="cellrowborder" width="50%">The number of times this content has been used as requested has reached the maximum allowed number of uses.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6612107</td>         <td class="cellrowborder" width="50%">An error occurs when sending packet from source device to sink device.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlIoError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlIoError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1094px;">     <h2 id="offcastcontrolioerror13" device-type="phone,2in1,tablet,tv">off('castControlIoError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontrolioerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlIoError', callback?: ErrorCallback): void</p>     <p>取消投播输入/输出的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlIoError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlIoError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1465px;">     <h2 id="oncastcontrolparsingerror13" device-type="phone,2in1,tablet,tv">on('castControlParsingError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontrolparsingerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlParsingError', callback: ErrorCallback): void</p>     <p>监听投播解析的错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlParsingError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播解析的错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6613000</td>         <td class="cellrowborder" width="50%">Unspecified error related to content parsing.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6613001</td>         <td class="cellrowborder" width="50%">Parsing error associated with media container format bit streams.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6613002</td>         <td class="cellrowborder" width="50%">Parsing error associated with the media manifest.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6613003</td>         <td class="cellrowborder" width="50%">An error occurs when attempting to extract a file with an unsupported media container format or an unsupported media container feature.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6613004</td>         <td class="cellrowborder" width="50%">Unsupported feature in the media manifest.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlParsingError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlParsingError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="offcastcontrolparsingerror13" device-type="phone,2in1,tablet,tv">off('castControlParsingError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontrolparsingerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlParsingError', callback?: ErrorCallback): void</p>     <p>取消投播解析的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlParsingError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlParsingError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1472px;">     <h2 id="oncastcontroldecodingerror13" device-type="phone,2in1,tablet,tv">on('castControlDecodingError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontroldecodingerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlDecodingError', callback: ErrorCallback): void</p>     <p>监听投播解码的错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlDecodingError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播解码的错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614000</td>         <td class="cellrowborder" width="50%">Unspecified decoding error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614001</td>         <td class="cellrowborder" width="50%">Decoder initialization failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614002</td>         <td class="cellrowborder" width="50%">Decoder query failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614003</td>         <td class="cellrowborder" width="50%">Decoding the media samples failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614004</td>         <td class="cellrowborder" width="50%">The format of the content to decode exceeds the capabilities of the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6614005</td>         <td class="cellrowborder" width="50%">The format of the content to decode is not supported.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlDecodingError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlDecodingError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="offcastcontroldecodingerror13" device-type="phone,2in1,tablet,tv">off('castControlDecodingError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontroldecodingerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlDecodingError', callback?: ErrorCallback): void</p>     <p>取消投播解码的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlDecodingError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlDecodingError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1283px;">     <h2 id="oncastcontrolaudiorenderererror13" device-type="phone,2in1,tablet,tv">on('castControlAudioRendererError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontrolaudiorenderererror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlAudioRendererError', callback: ErrorCallback): void</p>     <p>监听投播音频渲染器的错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlAudioRendererError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播音频渲染器的错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6615000</td>         <td class="cellrowborder" width="50%">Unspecified errors related to the audio renderer.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6615001</td>         <td class="cellrowborder" width="50%">Initializing the audio renderer failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6615002</td>         <td class="cellrowborder" width="50%">The audio renderer fails to write data.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlAudioRendererError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlAudioRendererError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1118px;">     <h2 id="offcastcontrolaudiorenderererror13" device-type="phone,2in1,tablet,tv">off('castControlAudioRendererError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontrolaudiorenderererror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlAudioRendererError', callback?: ErrorCallback): void</p>     <p>取消投播音频渲染器的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlAudioRendererError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlAudioRendererError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1740px;">     <h2 id="oncastcontroldrmerror13" device-type="phone,2in1,tablet,tv">on('castControlDrmError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastcontroldrmerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'castControlDrmError', callback: ErrorCallback): void</p>     <p>监听投播drm的错误事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">错误事件回调类型，支持的事件：'castControlDrmError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">投播drm的错误事件回调方法。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616000</td>         <td class="cellrowborder" width="50%">Unspecified error related to DRM.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616001</td>         <td class="cellrowborder" width="50%">The chosen DRM protection scheme is not supported by the device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616002</td>         <td class="cellrowborder" width="50%">Device provisioning failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616003</td>         <td class="cellrowborder" width="50%">The DRM-protected content to play is incompatible.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616004</td>         <td class="cellrowborder" width="50%">Failed to obtain a license.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616005</td>         <td class="cellrowborder" width="50%">The operation is disallowed by the license policy.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616006</td>         <td class="cellrowborder" width="50%">An error occurs in the DRM system.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616007</td>         <td class="cellrowborder" width="50%">The device has revoked DRM privileges.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616008</td>         <td class="cellrowborder" width="50%">The DRM license being loaded into the open DRM session has expired.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6616100</td>         <td class="cellrowborder" width="50%">An error occurs when the DRM processes the key response.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castControlDrmError'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`castControlDrmError happened, error code: <span class="hljs-subst">${error.code}</span>, error message : <span class="hljs-subst">${error.message}</span>.`</span>)</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1094px;">     <h2 id="offcastcontroldrmerror13" device-type="phone,2in1,tablet,tv">off('castControlDrmError')<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastcontroldrmerror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'castControlDrmError', callback?: ErrorCallback): void</p>     <p>取消投播drm的错误事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'castControlDrmError'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">ErrorCallback</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter check failed. 1. Mandatory parameters are left unspecified. 2. Incorrect parameter types.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castControlDrmError'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1046px;">     <h2 id="oncustomdatachange20" device-type="phone,2in1,tablet,tv">on('customDataChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncustomdatachange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'customDataChange', callback: Callback&lt;Record&lt;string, Object&gt;&gt;): void</p>     <p>注册从远端设备发送的自定义数据的监听器。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持'customDataChange'事件。媒体提供方发送自定义数据时触发。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Record&lt;string, Object&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于接收自定义数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">on</span>(<span class="hljs-string">'customDataChange'</span>, <span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Caught customDataChange event,the new callback is: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(callback)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1046px;">     <h2 id="offcustomdatachange20" device-type="phone,2in1,tablet,tv">off('customDataChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcustomdatachange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'customDataChange', callback?: Callback&lt;Record&lt;string, Object&gt;&gt;): void</p>     <p>取消对自定义数据的监听。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'customDataChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Record&lt;string, Object&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">注册监听事件时的回调函数。该参数为可选参数，若不填写该参数，则认为取消会话所有与此事件相关的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-hmy-c106="" class="highlight-div"><div _ngcontent-hmy-c106="" class="highlight-div-header"><div _ngcontent-hmy-c106="" class="highlight-div-header-left"><div _ngcontent-hmy-c106="" class="handle-button expand-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmy-c106="" class="highlight-div-header-right"><div _ngcontent-hmy-c106="" class="handle-button ai-button"></div><div _ngcontent-hmy-c106="" class="handle-button line-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmy-c106="" class="handle-button theme-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmy-c106="" class="handle-button copy-button"><div _ngcontent-hmy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>aVCastController.<span class="hljs-title function_">off</span>(<span class="hljs-string">'customDataChange'</span>);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>