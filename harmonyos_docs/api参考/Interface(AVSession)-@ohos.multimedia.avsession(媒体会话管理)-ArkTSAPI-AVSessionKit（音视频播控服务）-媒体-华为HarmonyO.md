<h1 _ngcontent-ruq-c119="" class="doc-title ng-star-inserted" title="Interface (AVSession)"> Interface (AVSession) </h1>

<div _ngcontent-ruq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>       <li>本Interface首批接口从API version 10开始支持。</li>      </ul>     </div></div></div>    <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-f#avsessioncreateavsession10">avSession.createAVSession</a>后，返回会话的实例，可以获得会话ID，完成设置元数据，播放状态信息等操作。</p>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 587px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">sessionId<sup>10+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">AVSession对象唯一的会话标识。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">sessionType<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-t#avsessiontype10">AVSessionType</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">AVSession会话类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">sessionId</span>: <span class="hljs-built_in">string</span> = currentAVSession.<span class="hljs-property">sessionId</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">sessionType</span>: avSession.<span class="hljs-property">AVSessionType</span> = currentAVSession.<span class="hljs-property">sessionType</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1834px;">     <h2 id="setavmetadata10" device-type="phone,2in1,tablet,wearable,tv">setAVMetadata<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavmetadata10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVMetadata(data: AVMetadata): Promise&lt;void&gt;</p>     <p>设置会话元数据。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avmetadata10">AVMetadata</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话元数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当元数据设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">metadata</span>: avSession.<span class="hljs-property">AVMetadata</span> = {</li><li>  <span class="hljs-attr">assetId</span>: <span class="hljs-string">"121278"</span>,</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-string">"lose yourself"</span>,</li><li>  <span class="hljs-attr">artist</span>: <span class="hljs-string">"Eminem"</span>,</li><li>  <span class="hljs-attr">author</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">album</span>: <span class="hljs-string">"Slim shady"</span>,</li><li>  <span class="hljs-attr">writer</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">composer</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">duration</span>: <span class="hljs-number">2222</span>,</li><li>  <span class="hljs-attr">mediaImage</span>: <span class="hljs-string">"https://www.example.com/example.jpg"</span>,</li><li>  <span class="hljs-attr">subtitle</span>: <span class="hljs-string">"8 Mile"</span>,</li><li>  <span class="hljs-attr">description</span>: <span class="hljs-string">"Rap"</span>,</li><li>  <span class="hljs-comment">// LRC中有两类元素：一种是时间标签+歌词，一种是ID标签。</span></li><li>  <span class="hljs-comment">// 例如：[00:25.44]xxx\r\n[00:26.44]xxx\r\n</span></li><li>  <span class="hljs-attr">lyric</span>: <span class="hljs-string">"lrc格式歌词内容"</span>,</li><li>  <span class="hljs-comment">// singleLyricText字段存储单条歌词文本，不包含时间戳。</span></li><li>  <span class="hljs-comment">// 例如："单条歌词内容"。</span></li><li>  <span class="hljs-attr">singleLyricText</span>: <span class="hljs-string">"单条歌词内容"</span>,</li><li>  <span class="hljs-attr">previousAssetId</span>: <span class="hljs-string">"121277"</span>,</li><li>  <span class="hljs-attr">nextAssetId</span>: <span class="hljs-string">"121279"</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVMetadata</span>(metadata).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVMetadata successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVMetadata BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1732px;">     <h2 id="setavmetadata10-1" device-type="phone,2in1,tablet,wearable,tv">setAVMetadata<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavmetadata10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVMetadata(data: AVMetadata, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置会话元数据。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avmetadata10">AVMetadata</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话元数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当元数据设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">metadata</span>: avSession.<span class="hljs-property">AVMetadata</span> = {</li><li>  <span class="hljs-attr">assetId</span>: <span class="hljs-string">"121278"</span>,</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-string">"lose yourself"</span>,</li><li>  <span class="hljs-attr">artist</span>: <span class="hljs-string">"Eminem"</span>,</li><li>  <span class="hljs-attr">author</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">album</span>: <span class="hljs-string">"Slim shady"</span>,</li><li>  <span class="hljs-attr">writer</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">composer</span>: <span class="hljs-string">"ST"</span>,</li><li>  <span class="hljs-attr">duration</span>: <span class="hljs-number">2222</span>,</li><li>  <span class="hljs-attr">mediaImage</span>: <span class="hljs-string">"https://www.example.com/example.jpg"</span>,</li><li>  <span class="hljs-attr">subtitle</span>: <span class="hljs-string">"8 Mile"</span>,</li><li>  <span class="hljs-attr">description</span>: <span class="hljs-string">"Rap"</span>,</li><li>  <span class="hljs-comment">// LRC中有两类元素：一种是时间标签+歌词，一种是ID标签。</span></li><li>  <span class="hljs-comment">// 例如：[00:25.44]xxx\r\n[00:26.44]xxx\r\n</span></li><li>  <span class="hljs-attr">lyric</span>: <span class="hljs-string">"lrc格式歌词内容"</span>,</li><li>  <span class="hljs-comment">// singleLyricText字段存储单条歌词文本，不包含时间戳。</span></li><li>  <span class="hljs-comment">// 例如："单条歌词内容"。</span></li><li>  <span class="hljs-attr">singleLyricText</span>: <span class="hljs-string">"单条歌词内容"</span>,</li><li>  <span class="hljs-attr">previousAssetId</span>: <span class="hljs-string">"121277"</span>,</li><li>  <span class="hljs-attr">nextAssetId</span>: <span class="hljs-string">"121279"</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVMetadata</span>(metadata, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVMetadata BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVMetadata successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1738px;">     <h2 id="setcallmetadata11" device-type="phone,2in1,tablet,wearable,tv">setCallMetadata<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcallmetadata11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCallMetadata(data: CallMetadata): Promise&lt;void&gt;</p>     <p>设置通话会话元数据。结果通过Promise异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#callmetadata11">CallMetadata</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通话会话元数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当通话元数据设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types. 3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCallMetadata</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">await</span> resourceManager.<span class="hljs-title function_">getSysResourceManager</span>().<span class="hljs-title function_">getRawFileContent</span>(<span class="hljs-string">'IMAGE_URI'</span>);</li><li>    <span class="hljs-keyword">let</span> imageSource = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">createImageSource</span>(value.<span class="hljs-property">buffer</span>);</li><li>    <span class="hljs-keyword">let</span> imagePixel = <span class="hljs-keyword">await</span> imageSource.<span class="hljs-title function_">createPixelMap</span>({<span class="hljs-attr">desiredSize</span>:{<span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>}});</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">calldata</span>: avSession.<span class="hljs-property">CallMetadata</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">"xiaoming"</span>,</li><li>      <span class="hljs-attr">phoneNumber</span>: <span class="hljs-string">"111xxxxxxxx"</span>,</li><li>      <span class="hljs-attr">avatar</span>: imagePixel</li><li>    };</li><li>    currentAVSession.<span class="hljs-title function_">setCallMetadata</span>(calldata).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setCallMetadata successfully'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCallMetadata BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCallMetadata Error: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1684px;">     <h2 id="setcallmetadata11-1" device-type="phone,2in1,tablet,wearable,tv">setCallMetadata<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcallmetadata11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCallMetadata(data: CallMetadata, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置通话会话元数据。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#callmetadata11">CallMetadata</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通话会话元数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当通话元数据设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types. 3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCallMetadata</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">await</span> resourceManager.<span class="hljs-title function_">getSysResourceManager</span>().<span class="hljs-title function_">getRawFileContent</span>(<span class="hljs-string">'IMAGE_URI'</span>);</li><li>    <span class="hljs-keyword">let</span> imageSource = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">createImageSource</span>(value.<span class="hljs-property">buffer</span>);</li><li>    <span class="hljs-keyword">let</span> imagePixel = <span class="hljs-keyword">await</span> imageSource.<span class="hljs-title function_">createPixelMap</span>({<span class="hljs-attr">desiredSize</span>:{<span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>}});</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">calldata</span>: avSession.<span class="hljs-property">CallMetadata</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">"xiaoming"</span>,</li><li>      <span class="hljs-attr">phoneNumber</span>: <span class="hljs-string">"111xxxxxxxx"</span>,</li><li>      <span class="hljs-attr">avatar</span>: imagePixel</li><li>    };</li><li>    currentAVSession.<span class="hljs-title function_">setCallMetadata</span>(calldata, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCallMetadata BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setCallMetadata successfully'</span>);</li><li>      }</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCallMetadata Error: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1378px;">     <h2 id="setavcallstate11" device-type="phone,2in1,tablet,wearable,tv">setAVCallState<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavcallstate11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVCallState(state: AVCallState): Promise&lt;void&gt;</p>     <p>设置通话状态。结果通过Promise异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">state</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avcallstate11">AVCallState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通话状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当通话元数据设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">calldata</span>: avSession.<span class="hljs-property">AVCallState</span> = {</li><li>  <span class="hljs-attr">state</span>: avSession.<span class="hljs-property">CallState</span>.<span class="hljs-property">CALL_STATE_ACTIVE</span>,</li><li>  <span class="hljs-attr">muted</span>: <span class="hljs-literal">false</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVCallState</span>(calldata).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setAVCallState successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setAVCallState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1324px;">     <h2 id="setavcallstate11-1" device-type="phone,2in1,tablet,wearable,tv">setAVCallState<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavcallstate11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVCallState(state: AVCallState, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置通话状态。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">state</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avcallstate11">AVCallState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通话状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当通话元数据设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">avcalldata</span>: avSession.<span class="hljs-property">AVCallState</span> = {</li><li>  <span class="hljs-attr">state</span>: avSession.<span class="hljs-property">CallState</span>.<span class="hljs-property">CALL_STATE_ACTIVE</span>,</li><li>  <span class="hljs-attr">muted</span>: <span class="hljs-literal">false</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVCallState</span>(avcalldata, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setAVCallState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setAVCallState successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1546px;">     <h2 id="setavplaybackstate10" device-type="phone,2in1,tablet,wearable,tv">setAVPlaybackState<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavplaybackstate10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVPlaybackState(state: AVPlaybackState): Promise&lt;void&gt;</p>     <p>设置会话播放状态。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">state</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话播放状态，包括状态、倍数、循环模式等信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当播放状态设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">playbackState</span>: avSession.<span class="hljs-property">AVPlaybackState</span> = {</li><li>  <span class="hljs-attr">state</span>:avSession.<span class="hljs-property">PlaybackState</span>.<span class="hljs-property">PLAYBACK_STATE_PLAY</span>,</li><li>  <span class="hljs-attr">speed</span>: <span class="hljs-number">1.0</span>,</li><li>  <span class="hljs-attr">position</span>:{<span class="hljs-attr">elapsedTime</span>:<span class="hljs-number">10</span>, <span class="hljs-attr">updateTime</span>:(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()).<span class="hljs-title function_">getTime</span>()},</li><li>  <span class="hljs-attr">bufferedTime</span>:<span class="hljs-number">1000</span>,</li><li>  <span class="hljs-attr">loopMode</span>:avSession.<span class="hljs-property">LoopMode</span>.<span class="hljs-property">LOOP_MODE_SINGLE</span>,</li><li>  <span class="hljs-attr">isFavorite</span>:<span class="hljs-literal">true</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVPlaybackState</span>(playbackState).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVPlaybackState successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVPlaybackState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1444px;">     <h2 id="setavplaybackstate10-1" device-type="phone,2in1,tablet,wearable,tv">setAVPlaybackState<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavplaybackstate10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVPlaybackState(state: AVPlaybackState, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置会话播放状态。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">state</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avplaybackstate10">AVPlaybackState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">会话播放状态，包括状态、倍数、循环模式等信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当播放状态设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title class_">PlaybackState</span>: avSession.<span class="hljs-property">AVPlaybackState</span> = {</li><li>  <span class="hljs-attr">state</span>:avSession.<span class="hljs-property">PlaybackState</span>.<span class="hljs-property">PLAYBACK_STATE_PLAY</span>,</li><li>  <span class="hljs-attr">speed</span>: <span class="hljs-number">1.0</span>,</li><li>  <span class="hljs-attr">position</span>:{<span class="hljs-attr">elapsedTime</span>:<span class="hljs-number">10</span>, <span class="hljs-attr">updateTime</span>:(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()).<span class="hljs-title function_">getTime</span>()},</li><li>  <span class="hljs-attr">bufferedTime</span>:<span class="hljs-number">1000</span>,</li><li>  <span class="hljs-attr">loopMode</span>:avSession.<span class="hljs-property">LoopMode</span>.<span class="hljs-property">LOOP_MODE_SINGLE</span>,</li><li>  <span class="hljs-attr">isFavorite</span>:<span class="hljs-literal">true</span></li><li>};</li><li>currentAVSession.<span class="hljs-title function_">setAVPlaybackState</span>(<span class="hljs-title class_">PlaybackState</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVPlaybackState BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVPlaybackState successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2122px;">     <h2 id="setlaunchability10" device-type="phone,2in1,tablet,wearable,tv">setLaunchAbility<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlaunchability10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLaunchAbility(ability: WantAgent): Promise&lt;void&gt;</p>     <p>设置一个WantAgent用于拉起会话的Ability。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-wantagent">WantAgent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用的相关属性信息，如bundleName，abilityName，deviceId等。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当Ability设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { wantAgent } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// WantAgentInfo对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantAgentInfo</span>: wantAgent.<span class="hljs-property">WantAgentInfo</span> = {</li><li>  <span class="hljs-attr">wants</span>: [</li><li>    {</li><li>      <span class="hljs-attr">deviceId</span>: <span class="hljs-string">"deviceId"</span>,</li><li>      <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.example.myapplication"</span>,</li><li>      <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>      <span class="hljs-attr">action</span>: <span class="hljs-string">"action1"</span>,</li><li>      <span class="hljs-attr">entities</span>: [<span class="hljs-string">"entity1"</span>],</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-string">"MIMETYPE"</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">"key = {true,true,false}"</span>,</li><li>      <span class="hljs-attr">parameters</span>:</li><li>        {</li><li>          <span class="hljs-attr">mykey0</span>: <span class="hljs-number">2222</span>,</li><li>          <span class="hljs-attr">mykey1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],</li><li>          <span class="hljs-attr">mykey2</span>: <span class="hljs-string">"[1, 2, 3]"</span>,</li><li>          <span class="hljs-attr">mykey3</span>: <span class="hljs-string">"ssssssssssssssssssssssssss"</span>,</li><li>          <span class="hljs-attr">mykey4</span>: [<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>],</li><li>          <span class="hljs-attr">mykey5</span>: [<span class="hljs-string">"qqqqq"</span>, <span class="hljs-string">"wwwwww"</span>, <span class="hljs-string">"aaaaaaaaaaaaaaaaa"</span>],</li><li>          <span class="hljs-attr">mykey6</span>: <span class="hljs-literal">true</span></li><li>        }</li><li>    }</li><li>  ],</li><li>  <span class="hljs-attr">operationType</span>: wantAgent.<span class="hljs-property">OperationType</span>.<span class="hljs-property">START_ABILITIES</span>,</li><li>  <span class="hljs-attr">requestCode</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">wantAgentFlags</span>:[wantAgent.<span class="hljs-property">WantAgentFlags</span>.<span class="hljs-property">UPDATE_PRESENT_FLAG</span>]</li><li>}</li><li>
</li><li>wantAgent.<span class="hljs-title function_">getWantAgent</span>(wantAgentInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">agent</span>) =&gt;</span> {</li><li>  currentAVSession.<span class="hljs-title function_">setLaunchAbility</span>(agent).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetLaunchAbility successfully'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetLaunchAbility BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2020px;">     <h2 id="setlaunchability10-1" device-type="phone,2in1,tablet,wearable,tv">setLaunchAbility<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlaunchability10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLaunchAbility(ability: WantAgent, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置一个WantAgent用于拉起会话的Ability。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ability</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-wantagent">WantAgent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用的相关属性信息，如bundleName，abilityName，deviceId等。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当Ability设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { wantAgent } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// WantAgentInfo对象。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">wantAgentInfo</span>: wantAgent.<span class="hljs-property">WantAgentInfo</span> = {</li><li>  <span class="hljs-attr">wants</span>: [</li><li>    {</li><li>      <span class="hljs-attr">deviceId</span>: <span class="hljs-string">"deviceId"</span>,</li><li>      <span class="hljs-attr">bundleName</span>: <span class="hljs-string">"com.example.myapplication"</span>,</li><li>      <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>      <span class="hljs-attr">action</span>: <span class="hljs-string">"action1"</span>,</li><li>      <span class="hljs-attr">entities</span>: [<span class="hljs-string">"entity1"</span>],</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-string">"MIMETYPE"</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">"key = {true,true,false}"</span>,</li><li>      <span class="hljs-attr">parameters</span>:</li><li>        {</li><li>          <span class="hljs-attr">mykey0</span>: <span class="hljs-number">2222</span>,</li><li>          <span class="hljs-attr">mykey1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],</li><li>          <span class="hljs-attr">mykey2</span>: <span class="hljs-string">"[1, 2, 3]"</span>,</li><li>          <span class="hljs-attr">mykey3</span>: <span class="hljs-string">"ssssssssssssssssssssssssss"</span>,</li><li>          <span class="hljs-attr">mykey4</span>: [<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>],</li><li>          <span class="hljs-attr">mykey5</span>: [<span class="hljs-string">"qqqqq"</span>, <span class="hljs-string">"wwwwww"</span>, <span class="hljs-string">"aaaaaaaaaaaaaaaaa"</span>],</li><li>          <span class="hljs-attr">mykey6</span>: <span class="hljs-literal">true</span></li><li>        }</li><li>    }</li><li>  ],</li><li>  <span class="hljs-attr">operationType</span>: wantAgent.<span class="hljs-property">OperationType</span>.<span class="hljs-property">START_ABILITIES</span>,</li><li>  <span class="hljs-attr">requestCode</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">wantAgentFlags</span>:[wantAgent.<span class="hljs-property">WantAgentFlags</span>.<span class="hljs-property">UPDATE_PRESENT_FLAG</span>]</li><li>}</li><li>
</li><li>wantAgent.<span class="hljs-title function_">getWantAgent</span>(wantAgentInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">agent</span>) =&gt;</span> {</li><li>  currentAVSession.<span class="hljs-title function_">setLaunchAbility</span>(agent, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetLaunchAbility BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetLaunchAbility successfully'</span>);</li><li>    }</li><li>  });</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2228px;">     <h2 id="dispatchsessionevent10" device-type="phone,2in1,tablet,wearable,tv">dispatchSessionEvent<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispatchsessionevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispatchSessionEvent(event: string, args: Record&lt;string, Object&gt;): Promise&lt;void&gt;</p>     <p>媒体提供方设置一个会话内自定义事件，包括事件名和键值对形式的事件内容，结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的会话事件的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">args</td>         <td class="cellrowborder" width="25%">Record&lt;string, Object&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要传递的会话事件内容。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前的版本args的参数类型为：{[key: string]: Object}。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>参数args支持的数据类型有：字符串、数字、布尔、对象、数组和文件描述符等，详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">@ohos.app.ability.Want(Want)</a>。</p>      </div></div></div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当事件设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>                <span class="hljs-keyword">let</span> eventName = <span class="hljs-string">"dynamic_lyric"</span>;</li><li>                <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>                  (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">dispatchSessionEvent</span>(eventName, {lyric : <span class="hljs-string">"This is lyric"</span>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'dispatchSessionEvent successfully'</span>);</li><li>                  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`dispatchSessionEvent BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                  })</li><li>                }</li><li>              }</li><li>            });</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2102px;">     <h2 id="dispatchsessionevent10-1" device-type="phone,2in1,tablet,wearable,tv">dispatchSessionEvent<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispatchsessionevent10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispatchSessionEvent(event: string, args: Record&lt;string, Object&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>媒体提供方设置一个会话内自定义事件，包括事件名和键值对形式的事件内容，结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的会话事件的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">args</td>         <td class="cellrowborder" width="25%">Record&lt;string, Object&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要传递的会话事件内容。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前的版本args的参数类型为：{[key: string]: Object}。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当会话事件设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      </div></div></div>     <p>参数args支持的数据类型有：字符串、数字、布尔、对象、数组和文件描述符等，详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">@ohos.app.ability.Want(Want)</a>。</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">eventName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"dynamic_lyric"</span>;</li><li>                <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>                  (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">dispatchSessionEvent</span>(eventName, {lyric : <span class="hljs-string">"This is lyric"</span>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                    <span class="hljs-keyword">if</span> (err) {</li><li>                      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`dispatchSessionEvent BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                    }</li><li>                  })</li><li>                }</li><li>              }</li><li>            });</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2266px;">     <h2 id="setavqueueitems10" device-type="phone,2in1,tablet,wearable,tv">setAVQueueItems<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavqueueitems10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVQueueItems(items: Array&lt;AVQueueItem&gt;): Promise&lt;void&gt;</p>     <p>设置媒体播放列表。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">items</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表单项的队列，用以表示播放列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当播放列表设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setAVQueueItems</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">await</span> resourceManager.<span class="hljs-title function_">getSysResourceManager</span>().<span class="hljs-title function_">getRawFileContent</span>(<span class="hljs-string">'IMAGE_URI'</span>);</li><li>    <span class="hljs-keyword">let</span> imageSource = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">createImageSource</span>(value.<span class="hljs-property">buffer</span>);</li><li>    <span class="hljs-keyword">let</span> imagePixel = <span class="hljs-keyword">await</span> imageSource.<span class="hljs-title function_">createPixelMap</span>({<span class="hljs-attr">desiredSize</span>:{<span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>}});</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemDescription_1</span>: avSession.<span class="hljs-property">AVMediaDescription</span> = {</li><li>      <span class="hljs-attr">assetId</span>: <span class="hljs-string">'001'</span>,</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">'music_name'</span>,</li><li>      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'music_sub_name'</span>,</li><li>      <span class="hljs-attr">description</span>: <span class="hljs-string">'music_description'</span>,</li><li>      mediaImage : imagePixel,</li><li>      <span class="hljs-attr">extras</span>: {<span class="hljs-attr">extras</span>:<span class="hljs-string">'any'</span>}</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItem_1</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>      <span class="hljs-attr">itemId</span>: <span class="hljs-number">1</span>,</li><li>      <span class="hljs-attr">description</span>: queueItemDescription_1</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemDescription_2</span>: avSession.<span class="hljs-property">AVMediaDescription</span> = {</li><li>      <span class="hljs-attr">assetId</span>: <span class="hljs-string">'002'</span>,</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">'music_name'</span>,</li><li>      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'music_sub_name'</span>,</li><li>      <span class="hljs-attr">description</span>: <span class="hljs-string">'music_description'</span>,</li><li>      <span class="hljs-attr">mediaImage</span>: imagePixel,</li><li>      <span class="hljs-attr">extras</span>: {<span class="hljs-attr">extras</span>:<span class="hljs-string">'any'</span>}</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItem_2</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>      <span class="hljs-attr">itemId</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">description</span>: queueItemDescription_2</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemsArray</span>: avSession.<span class="hljs-property">AVQueueItem</span>[] = [queueItem_1, queueItem_2];</li><li>    currentAVSession.<span class="hljs-title function_">setAVQueueItems</span>(queueItemsArray).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVQueueItems successfully'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVQueueItems BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ImageSource or PixelMap create Error: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2164px;">     <h2 id="setavqueueitems10-1" device-type="phone,2in1,tablet,wearable,tv">setAVQueueItems<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavqueueitems10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVQueueItems(items: Array&lt;AVQueueItem&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置媒体播放列表。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">items</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#avqueueitem10">AVQueueItem</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表单项的队列，用以表示播放列表。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当播放状态设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { resourceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocalizationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setAVQueueItems</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">await</span> resourceManager.<span class="hljs-title function_">getSysResourceManager</span>().<span class="hljs-title function_">getRawFileContent</span>(<span class="hljs-string">'IMAGE_URI'</span>);</li><li>    <span class="hljs-keyword">let</span> imageSource = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">createImageSource</span>(value.<span class="hljs-property">buffer</span>);</li><li>    <span class="hljs-keyword">let</span> imagePixel = <span class="hljs-keyword">await</span> imageSource.<span class="hljs-title function_">createPixelMap</span>({<span class="hljs-attr">desiredSize</span>:{<span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>}});</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemDescription_1</span>: avSession.<span class="hljs-property">AVMediaDescription</span> = {</li><li>      <span class="hljs-attr">assetId</span>: <span class="hljs-string">'001'</span>,</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">'music_name'</span>,</li><li>      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'music_sub_name'</span>,</li><li>      <span class="hljs-attr">description</span>: <span class="hljs-string">'music_description'</span>,</li><li>      mediaImage : imagePixel,</li><li>      <span class="hljs-attr">extras</span>: {<span class="hljs-attr">extras</span>:<span class="hljs-string">'any'</span>}</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItem_1</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>      <span class="hljs-attr">itemId</span>: <span class="hljs-number">1</span>,</li><li>      <span class="hljs-attr">description</span>: queueItemDescription_1</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemDescription_2</span>: avSession.<span class="hljs-property">AVMediaDescription</span> = {</li><li>      <span class="hljs-attr">assetId</span>: <span class="hljs-string">'002'</span>,</li><li>      <span class="hljs-attr">title</span>: <span class="hljs-string">'music_name'</span>,</li><li>      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'music_sub_name'</span>,</li><li>      <span class="hljs-attr">description</span>: <span class="hljs-string">'music_description'</span>,</li><li>      <span class="hljs-attr">mediaImage</span>: imagePixel,</li><li>      <span class="hljs-attr">extras</span>: {<span class="hljs-attr">extras</span>:<span class="hljs-string">'any'</span>}</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItem_2</span>: avSession.<span class="hljs-property">AVQueueItem</span> = {</li><li>      <span class="hljs-attr">itemId</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">description</span>: queueItemDescription_2</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">queueItemsArray</span>: avSession.<span class="hljs-property">AVQueueItem</span>[] = [queueItem_1, queueItem_2];</li><li>    currentAVSession.<span class="hljs-title function_">setAVQueueItems</span>(queueItemsArray, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVQueueItems BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVQueueItems successfully'</span>);</li><li>      }</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ImageSource or PixelMap create Error: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1354px;">     <h2 id="setavqueuetitle10" device-type="phone,2in1,tablet,wearable,tv">setAVQueueTitle<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavqueuetitle10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVQueueTitle(title: string): Promise&lt;void&gt;</p>     <p>设置媒体播放列表名称。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">title</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表的名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当播放列表设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> queueTitle = <span class="hljs-string">'QUEUE_TITLE'</span>;</li><li>currentAVSession.<span class="hljs-title function_">setAVQueueTitle</span>(queueTitle).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVQueueTitle successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVQueueTitle BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="setavqueuetitle10-1" device-type="phone,2in1,tablet,wearable,tv">setAVQueueTitle<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setavqueuetitle10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAVQueueTitle(title: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置媒体播放列表名称。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">title</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">播放列表名称字段。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当播放状态设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> queueTitle = <span class="hljs-string">'QUEUE_TITLE'</span>;</li><li>currentAVSession.<span class="hljs-title function_">setAVQueueTitle</span>(queueTitle, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetAVQueueTitle BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetAVQueueTitle successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2262px;">     <h2 id="setextras10" device-type="phone,2in1,tablet,wearable,tv">setExtras<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setextras10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setExtras(extras: Record&lt;string, Object&gt;): Promise&lt;void&gt;</p>     <p>媒体提供方设置键值对形式的自定义媒体数据包，结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">extras</td>         <td class="cellrowborder" width="25%">Record&lt;string, Object&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要传递的自定义媒体数据包键值对。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前的版本args的参数类型为：{[key: string]: Object}。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      </div></div></div>     <p>参数extras支持的数据类型有：字符串、数字、布尔、对象、数组和文件描述符等，详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">@ohos.app.ability.Want(Want)</a>。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当自定义媒体数据包设置成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>                <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>                  (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">setExtras</span>({extras : <span class="hljs-string">"This is custom media packet"</span>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setExtras successfully'</span>);</li><li>                  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setExtras BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                  })</li><li>                }</li><li>              }</li><li>            });</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2040px;">     <h2 id="setextras10-1" device-type="phone,2in1,tablet,wearable,tv">setExtras<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setextras10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setExtras(extras: {[key: string]: Object}, callback: AsyncCallback&lt;void&gt;): void</p>     <p>媒体提供方设置键值对形式的自定义媒体数据包，结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">extras</td>         <td class="cellrowborder" width="25%">{[key: string]: Object}</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要传递的自定义媒体数据包键值对。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当自定义媒体数据包设置成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      </div></div></div>     <p>参数extras支持的数据类型有：字符串、数字、布尔、对象、数组和文件描述符等，详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-want">@ohos.app.ability.Want(Want)</a>。</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>                <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>                  (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">setExtras</span>({extras : <span class="hljs-string">"This is custom media packet"</span>}, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                    <span class="hljs-keyword">if</span> (err) {</li><li>                      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setExtras BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                    }</li><li>                  })</li><li>                }</li><li>              }</li><li>            });</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2019px;">     <h2 id="sendcustomdata20" device-type="phone,2in1,tablet,tv">sendCustomData<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sendcustomdata20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>sendCustomData(data: Record&lt;string, Object&gt;): Promise&lt;void&gt;</p>     <p>发送私有数据到远端设备。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">data</td>         <td class="cellrowborder" width="25%">Record&lt;string, Object&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">应用程序填充的自定义数据。服务端仅解析key为'customData'，且Object为string类型的对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.You are advised to:1.Scheduled retry.2.Destroy the current session or session controller and re-create it.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>            }</li><li>            });</li><li>            <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>            (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">sendCustomData</span>({customData : <span class="hljs-string">"This is custom data"</span>}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'sendCustomData successfully'</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`sendCustomData BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            })</li><li>            }</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1676px;">     <h2 id="getcontroller10" device-type="phone,2in1,tablet,wearable,tv">getController<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcontroller10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getController(): Promise&lt;AVSessionController&gt;</p>     <p>获取本会话对应的控制器。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsessioncontroller">AVSessionController</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回会话控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> ()=&gt;{</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> = <span class="hljs-keyword">await</span> avSession.<span class="hljs-title function_">createAVSession</span>(context, <span class="hljs-string">'SESSION_NAME'</span>, <span class="hljs-string">'audio'</span>);</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">avSessionController</span>: avSession.<span class="hljs-property">AVSessionController</span>;</li><li>            currentAVSession.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">avController: avSession.AVSessionController</span>) =&gt;</span> {</li><li>              avSessionController = avController;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`GetController : SUCCESS : sessionid : <span class="hljs-subst">${avSessionController.sessionId}</span>`</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`GetController BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (err) {</li><li>            <span class="hljs-keyword">if</span> (err) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AVSession create Error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>            }</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1704px;">     <h2 id="getcontroller10-1" device-type="phone,2in1,tablet,wearable,tv">getController<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcontroller10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getController(callback: AsyncCallback&lt;AVSessionController&gt;): void</p>     <p>获取本会话相应的控制器。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsessioncontroller">AVSessionController</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回会话控制器。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> = <span class="hljs-keyword">await</span> avSession.<span class="hljs-title function_">createAVSession</span>(context, <span class="hljs-string">'SESSION_NAME'</span>, <span class="hljs-string">'audio'</span>);</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">avsessionController</span>: avSession.<span class="hljs-property">AVSessionController</span>;</li><li>            currentAVSession.<span class="hljs-title function_">getController</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, avcontroller: avSession.AVSessionController</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`GetController BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                avsessionController = avcontroller;</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`GetController : SUCCESS : sessionid : <span class="hljs-subst">${avsessionController.sessionId}</span>`</span>);</li><li>              }</li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (err) {</li><li>            <span class="hljs-keyword">if</span> (err) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`AVSession create Error: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            }</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1148px;">     <h2 id="getavcastcontroller10" device-type="phone,2in1,tablet,tv">getAVCastController<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavcastcontroller10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getAVCastController(): Promise&lt;AVCastController&gt;</p>     <p>设备建立连接后，获取投播控制器。结果通过Promise异步回调方式返回。如果 avsession 未处于投播状态，则控制器将返回 null。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avcastcontroller">AVCastController</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回投播控制器实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">aVCastController</span>: avSession.<span class="hljs-property">AVCastController</span>;</li><li>currentAVSession.<span class="hljs-title function_">getAVCastController</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">avcontroller: avSession.AVCastController</span>) =&gt;</span> {</li><li>  aVCastController = avcontroller;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAVCastController : SUCCESS'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAVCastController BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1152px;">     <h2 id="getavcastcontroller10-1" device-type="phone,2in1,tablet,tv">getAVCastController<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavcastcontroller10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getAVCastController(callback: AsyncCallback&lt;AVCastController&gt;): void</p>     <p>设备建立连接后，获取投播控制器。结果通过callback异步回调方式返回。如果 avsession 未处于投播状态，则控制器将返回 null。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avcastcontroller">AVCastController</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回投播控制器实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">aVCastController</span>: avSession.<span class="hljs-property">AVCastController</span>;</li><li>currentAVSession.<span class="hljs-title function_">getAVCastController</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, avcontroller: avSession.AVCastController</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAVCastController BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    aVCastController = avcontroller;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAVCastController : SUCCESS'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h2 id="getoutputdevice10" device-type="phone,2in1,tablet,wearable,tv">getOutputDevice<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoutputdevice10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOutputDevice(): Promise&lt;OutputDeviceInfo&gt;</p>     <p>通过会话获取播放设备信息。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#outputdeviceinfo10">OutputDeviceInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回播放设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">getOutputDevice</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">outputDeviceInfo: avSession.OutputDeviceInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`GetOutputDevice : SUCCESS : devices length : <span class="hljs-subst">${outputDeviceInfo.devices.length}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`GetOutputDevice BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1080px;">     <h2 id="getoutputdevice10-1" device-type="phone,2in1,tablet,wearable,tv">getOutputDevice<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoutputdevice10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOutputDevice(callback: AsyncCallback&lt;OutputDeviceInfo&gt;): void</p>     <p>通过会话获取播放设备相关信息。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#outputdeviceinfo10">OutputDeviceInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回播放设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">getOutputDevice</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, outputDeviceInfo: avSession.OutputDeviceInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`GetOutputDevice BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`GetOutputDevice : SUCCESS : devices length : <span class="hljs-subst">${outputDeviceInfo.devices.length}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="activate10" device-type="phone,2in1,tablet,wearable,tv">activate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="activate10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>activate(): Promise&lt;void&gt;</p>     <p>激活会话，激活后可正常使用会话。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当会话激活成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">activate</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Activate : SUCCESS '</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Activate BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1104px;">     <h2 id="activate10-1" device-type="phone,2in1,tablet,wearable,tv">activate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="activate10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>activate(callback: AsyncCallback&lt;void&gt;): void</p>     <p>激活会话，激活后可正常使用会话。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当会话激活成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">activate</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Activate BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Activate : SUCCESS '</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="deactivate10" device-type="phone,2in1,tablet,wearable,tv">deactivate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deactivate10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deactivate(): Promise&lt;void&gt;</p>     <p>禁用当前会话的功能，可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsession#activate10">activate</a>恢复。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当禁用会话成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">deactivate</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Deactivate : SUCCESS '</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Deactivate BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1152px;">     <h2 id="deactivate10-1" device-type="phone,2in1,tablet,wearable,tv">deactivate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deactivate10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deactivate(callback: AsyncCallback&lt;void&gt;): void</p>     <p>禁用当前会话。结果通过callback异步回调方式返回。</p>     <p>禁用当前会话的功能，可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsession#activate10">activate</a>恢复。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当禁用会话成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">deactivate</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Deactivate BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Deactivate : SUCCESS '</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="destroy10" device-type="phone,2in1,tablet,wearable,tv">destroy<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroy10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroy(): Promise&lt;void&gt;</p>     <p>销毁当前会话，使当前会话完全失效。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当会话销毁成功，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">destroy</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Destroy : SUCCESS '</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Destroy BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1104px;">     <h2 id="destroy10-1" device-type="phone,2in1,tablet,wearable,tv">destroy<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroy10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroy(callback: AsyncCallback&lt;void&gt;): void</p>     <p>销毁当前会话，使当前会话完全失效。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当会话销毁成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">destroy</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Destroy BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Destroy : SUCCESS '</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1204px;">     <h2 id="onplay10" device-type="phone,2in1,tablet,wearable,tv">on('play')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplay10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'play', callback: () =&gt; void): void</p>     <p>设置播放命令监听事件。注册该监听，说明应用支持播放指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'play'，当播放命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'play'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on play entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="onpause10" device-type="phone,2in1,tablet,wearable,tv">on('pause')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onpause10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'pause', callback: () =&gt; void): void</p>     <p>设置暂停命令监听事件。注册该监听，说明应用支持暂停指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'pause'，当暂停命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件注册成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pause'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on pause entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="onstop10" device-type="phone,2in1,tablet,wearable,tv">on('stop')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstop10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'stop', callback: () =&gt; void): void</p>     <p>设置停止命令监听事件。注册该监听，说明应用支持停止指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'stop'，当停止命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件注册成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'stop'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on stop entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="onplaynext10" device-type="phone,2in1,tablet,wearable,tv">on('playNext')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplaynext10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'playNext', callback: () =&gt; void): void</p>     <p>设置播放下一首命令监听事件。注册该监听，说明应用支持下一首指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'playNext'，当播放下一首命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件注册成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playNext'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on playNext entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="onplayprevious10" device-type="phone,2in1,tablet,wearable,tv">on('playPrevious')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplayprevious10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'playPrevious', callback: () =&gt; void): void</p>     <p>设置播放上一首命令监听事件。注册该监听，说明应用支持上一首指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'playPrevious'，当播放上一首命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件注册成功，err为undefined，否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playPrevious'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on playPrevious entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onfastforward10" device-type="phone,2in1,tablet,wearable,tv">on('fastForward')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onfastforward10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'fastForward', callback: (time?: number) =&gt; void): void</p>     <p>设置快进命令监听事件。注册该监听，说明应用支持快进指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是 'fastForward'，当快进命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(time?: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数time是时间节点，单位为秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'fastForward'</span>, <span class="hljs-function">(<span class="hljs-params">time?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on fastForward entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onrewind10" device-type="phone,2in1,tablet,wearable,tv">on('rewind')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onrewind10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'rewind', callback: (time?: number) =&gt; void): void</p>     <p>设置快退命令监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'rewind'，当快退命令被发送到会话时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(time?: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数time是时间节点，单位为秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rewind'</span>, <span class="hljs-function">(<span class="hljs-params">time?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on rewind entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1173px;">     <h2 id="onplaywithassetid20" device-type="phone,2in1,tablet,wearable,tv">on('playWithAssetId')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplaywithassetid20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'playWithAssetId', callback: Callback&lt;string&gt;): void</p>     <p>设置指定资源id进行播放的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'playWithAssetId'，当指定资源id进行播放时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数assetId是媒体id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">playWithAssetIdCallback</span> = (<span class="hljs-params">assetId: <span class="hljs-built_in">string</span></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on playWithAssetId entry,  assetId = <span class="hljs-subst">${assetId}</span>`</span>);</li><li>}</li><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playWithAssetId'</span>, playWithAssetIdCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1149px;">     <h2 id="offplaywithassetid20" device-type="phone,2in1,tablet,wearable,tv">off('playWithAssetId')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplaywithassetid20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'playWithAssetId', callback?: Callback&lt;string&gt;): void</p>     <p>取消指定资源id进行播放的事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'playWithAssetId'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。参数assetId是媒体id。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playWithAssetId'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onseek10" device-type="phone,2in1,tablet,wearable,tv">on('seek')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onseek10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'seek', callback: (time: number) =&gt; void): void</p>     <p>设置跳转节点监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'seek'：当跳转节点命令被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(time: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数time是时间节点，单位为毫秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'seek'</span>, <span class="hljs-function">(<span class="hljs-params">time: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on seek entry time : <span class="hljs-subst">${time}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onsetspeed10" device-type="phone,2in1,tablet,wearable,tv">on('setSpeed')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsetspeed10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'setSpeed', callback: (speed: number) =&gt; void): void</p>     <p>设置播放速率的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'setSpeed'：当设置播放速率的命令被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(speed: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数speed是播放倍速。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setSpeed'</span>, <span class="hljs-function">(<span class="hljs-params">speed: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on setSpeed speed : <span class="hljs-subst">${speed}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onsetloopmode10" device-type="phone,2in1,tablet,wearable,tv">on('setLoopMode')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsetloopmode10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'setLoopMode', callback: (mode: LoopMode) =&gt; void): void</p>     <p>设置循环模式的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'setLoopMode'：当设置循环模式的命令被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(mode: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#loopmode10">LoopMode</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数mode是循环模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setLoopMode'</span>, <span class="hljs-function">(<span class="hljs-params">mode: avSession.LoopMode</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on setLoopMode mode : <span class="hljs-subst">${mode}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1197px;">     <h2 id="onsettargetloopmode18" device-type="phone,2in1,tablet,wearable,tv">on('setTargetLoopMode')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsettargetloopmode18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'setTargetLoopMode', callback: Callback&lt;LoopMode&gt;): void</p>     <p>设置目标循环模式的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持事件'setTargetLoopMode'。</p>          <p>- 'setTargetLoopMode'：当设置目标循环模式的命令被发送到会话时，触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#loopmode10">LoopMode</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数表示目标循环模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'setTargetLoopMode'</span>, <span class="hljs-function">(<span class="hljs-params">mode: avSession.LoopMode</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on setTargetLoopMode mode : <span class="hljs-subst">${mode}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="ontogglefavorite10" device-type="phone,2in1,tablet,wearable,tv">on('toggleFavorite')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ontogglefavorite10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'toggleFavorite', callback: (assetId: string) =&gt; void): void</p>     <p>设置是否收藏的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'toggleFavorite'：当是否收藏的命令被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(assetId: string) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数assetId是媒体ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'toggleFavorite'</span>, <span class="hljs-function">(<span class="hljs-params">assetId: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on toggleFavorite mode : <span class="hljs-subst">${assetId}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="onskiptoqueueitem10" device-type="phone,2in1,tablet,wearable,tv">on('skipToQueueItem')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onskiptoqueueitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'skipToQueueItem', callback: (itemId: number) =&gt; void): void</p>     <p>设置播放列表其中某项被选中的监听事件，session端可以选择对这个单项歌曲进行播放。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'skipToQueueItem'：当播放列表选中单项的命令被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(itemId: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数itemId是选中的播放列表项的ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'skipToQueueItem'</span>, <span class="hljs-function">(<span class="hljs-params">itemId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on skipToQueueItem id : <span class="hljs-subst">${itemId}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1276px;">     <h2 id="onhandlekeyevent10" device-type="phone,2in1,tablet,wearable,tv">on('handleKeyEvent')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onhandlekeyevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'handleKeyEvent', callback: (event: KeyEvent) =&gt; void): void</p>     <p>设置蓝牙/有线等外设接入的按键输入事件的监听，监听多媒体按键事件中播放、暂停、上下一首、快进、快退的指令。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'handleKeyEvent'：当按键事件被发送到会话时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(event: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-keyevent">KeyEvent</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数event是按键事件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyEvent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.InputKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'handleKeyEvent'</span>, <span class="hljs-function">(<span class="hljs-params">event: KeyEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on handleKeyEvent event : <span class="hljs-subst">${event}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1300px;">     <h2 id="onoutputdevicechange10" device-type="phone,2in1,tablet,wearable,tv">on('outputDeviceChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onoutputdevicechange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'outputDeviceChange', callback: (state: ConnectionState, device: OutputDeviceInfo) =&gt; void): void</p>     <p>设置播放设备变化的监听事件。应用接入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-multimedia-avcastpicker">系统投播组件</a>，当用户通过组件切换设备时，会收到设备切换的回调。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'outputDeviceChange'：当播放设备变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(state: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#connectionstate10">ConnectionState</a>, device: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#outputdeviceinfo10">OutputDeviceInfo</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数device是设备相关信息。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'outputDeviceChange'</span>, <span class="hljs-function">(<span class="hljs-params">state: avSession.ConnectionState, device: avSession.OutputDeviceInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`on outputDeviceChange device : <span class="hljs-subst">${device}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2133px;">     <h2 id="oncommoncommand10" device-type="phone,2in1,tablet,wearable,tv">on('commonCommand')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncommoncommand10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'commonCommand', callback: (command: string, args: Record&lt;string, Object&gt;) =&gt; void): void</p>     <p>设置自定义控制命令变化的监听器。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'commonCommand'：当自定义控制命令变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(command: string, args: Record&lt;string, Object&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数，command为变化的自定义控制命令名，args为自定义控制命令的参数，参数内容与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsessioncontroller#sendcommoncommand10">sendCommonCommand</a>方法设置的参数内容完全一致。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前的版本callback的参数类型为：(command: string, args:{[key: string]: Object}) =&gt; void。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello world'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">currentAVSession</span>: avSession.<span class="hljs-property">AVSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>            <span class="hljs-keyword">let</span> tag = <span class="hljs-string">"createNewSession"</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;</li><li>
</li><li>            avSession.<span class="hljs-title function_">createAVSession</span>(context, tag, <span class="hljs-string">"audio"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data: avSession.AVSession</span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (err) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`CreateAVSession BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                currentAVSession = data;</li><li>                <span class="hljs-keyword">if</span> (currentAVSession !== <span class="hljs-literal">undefined</span>) {</li><li>                  (currentAVSession <span class="hljs-keyword">as</span> avSession.<span class="hljs-property">AVSession</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'commonCommand'</span>, <span class="hljs-function">(<span class="hljs-params">commonCommand, args</span>) =&gt;</span> {</li><li>                      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`OnCommonCommand, the command is <span class="hljs-subst">${commonCommand}</span>, args: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(args)}</span>`</span>);</li><li>                  });</li><li>                }</li><li>              }</li><li>            });</li><li>          })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offplay10" device-type="phone,2in1,tablet,wearable,tv">off('play')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplay10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'play', callback?: () =&gt; void): void</p>     <p>取消会话播放事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'play'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'play'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offpause10" device-type="phone,2in1,tablet,wearable,tv">off('pause')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offpause10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'pause', callback?: () =&gt; void): void</p>     <p>取消会话暂停事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'pause'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'pause'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offstop10" device-type="phone,2in1,tablet,wearable,tv">off('stop')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstop10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'stop', callback?: () =&gt; void): void</p>     <p>取消会话停止事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'stop'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'stop'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offplaynext10" device-type="phone,2in1,tablet,wearable,tv">off('playNext')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplaynext10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'playNext', callback?: () =&gt; void): void</p>     <p>取消会话播放下一首事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是 'playNext'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playNext'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offplayprevious10" device-type="phone,2in1,tablet,wearable,tv">off('playPrevious')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplayprevious10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'playPrevious', callback?: () =&gt; void): void</p>     <p>取消会话播放上一首事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'playPrevious'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playPrevious'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offfastforward10" device-type="phone,2in1,tablet,wearable,tv">off('fastForward')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offfastforward10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'fastForward', callback?: () =&gt; void): void</p>     <p>取消会话快进事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'fastForward'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'fastForward'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offrewind10" device-type="phone,2in1,tablet,wearable,tv">off('rewind')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offrewind10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'rewind', callback?: () =&gt; void): void</p>     <p>取消会话快退事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'rewind'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">() =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'rewind'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="offseek10" device-type="phone,2in1,tablet,wearable,tv">off('seek')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offseek10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'seek', callback?: (time: number) =&gt; void): void</p>     <p>取消跳转节点事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'seek'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(time: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数time是时间节点，单位为毫秒。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'seek'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="offsetspeed10" device-type="phone,2in1,tablet,wearable,tv">off('setSpeed')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsetspeed10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'setSpeed', callback?: (speed: number) =&gt; void): void</p>     <p>取消播放速率变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'setSpeed'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(speed: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数speed是播放倍速。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setSpeed'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="offsetloopmode10" device-type="phone,2in1,tablet,wearable,tv">off('setLoopMode')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsetloopmode10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'setLoopMode', callback?: (mode: LoopMode) =&gt; void): void</p>     <p>取消循环模式变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'setLoopMode'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(mode: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#loopmode10">LoopMode</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数mode是循环模式。</p>          <p>- 当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>- 该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setLoopMode'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1173px;">     <h2 id="offsettargetloopmode18" device-type="phone,2in1,tablet,wearable,tv">off('setTargetLoopMode')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsettargetloopmode18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'setTargetLoopMode', callback?: Callback&lt;LoopMode&gt;): void</p>     <p>取消目标循环模式变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'setTargetLoopMode'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#loopmode10">LoopMode</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数表示目标循环模式。</p>          <p>- 当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>- 该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'setTargetLoopMode'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1228px;">     <h2 id="offtogglefavorite10" device-type="phone,2in1,tablet,wearable,tv">off('toggleFavorite')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offtogglefavorite10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'toggleFavorite', callback?: (assetId: string) =&gt; void): void</p>     <p>取消是否收藏的事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'toggleFavorite'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(assetId: string) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数assetId是媒体ID。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'toggleFavorite'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="offskiptoqueueitem10" device-type="phone,2in1,tablet,wearable,tv">off('skipToQueueItem')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offskiptoqueueitem10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'skipToQueueItem', callback?: (itemId: number) =&gt; void): void</p>     <p>取消播放列表单项选中的事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'skipToQueueItem'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(itemId: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数itemId是播放列表单项ID。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'skipToQueueItem'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="offhandlekeyevent10" device-type="phone,2in1,tablet,wearable,tv">off('handleKeyEvent')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offhandlekeyevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'handleKeyEvent', callback?: (event: KeyEvent) =&gt; void): void</p>     <p>取消按键事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'handleKeyEvent'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(event: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-keyevent">KeyEvent</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数event是按键事件。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'handleKeyEvent'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1252px;">     <h2 id="offoutputdevicechange10" device-type="phone,2in1,tablet,wearable,tv">off('outputDeviceChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offoutputdevicechange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'outputDeviceChange', callback?: (state: ConnectionState, device: OutputDeviceInfo) =&gt; void): void</p>     <p>取消播放设备变化的事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持关闭事件'outputDeviceChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(state: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-e#connectionstate10">ConnectionState</a>, device: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#outputdeviceinfo10">OutputDeviceInfo</a>) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数device是设备相关信息。</p>          <p>当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'outputDeviceChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1269px;">     <h2 id="offcommoncommand10" device-type="phone,2in1,tablet,wearable,tv">off('commonCommand')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcommoncommand10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'commonCommand', callback?: (command: string, args: Record&lt;string, Object&gt;) =&gt; void): void</p>     <p>取消自定义控制命令的变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持事件'commonCommand'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(command: string, args: Record&lt;string, Object&gt;) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数，参数command是变化的自定义控制命令名，args为自定义控制命令的参数。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有对command事件的监听。</p>          <p>API version 20开始发生兼容变更，在API version 19及之前的版本callback的参数类型为：(command: string, args:{[key: string]: Object}) =&gt; void。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'commonCommand'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="onanswer11" device-type="phone,2in1,tablet,wearable,tv">on('answer')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onanswer11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'answer', callback: Callback&lt;void&gt;): void</p>     <p>设置通话接听的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'answer'：当通话接听时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'answer'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on call answer'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offanswer11" device-type="phone,2in1,tablet,wearable,tv">off('answer')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offanswer11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'answer', callback?: Callback&lt;void&gt;): void</p>     <p>取消通话接听事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'answer'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'answer'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="onhangup11" device-type="phone,2in1,tablet,wearable,tv">on('hangUp')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onhangup11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'hangUp', callback: Callback&lt;void&gt;): void</p>     <p>设置通话挂断的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'hangUp'：当通话挂断时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'hangUp'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on call hangUp'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offhangup11" device-type="phone,2in1,tablet,wearable,tv">off('hangUp')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offhangup11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'hangUp', callback?: Callback&lt;void&gt;): void</p>     <p>取消通话挂断事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'hangUp'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'hangUp'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1204px;">     <h2 id="ontogglecallmute11" device-type="phone,2in1,tablet,wearable,tv">on('toggleCallMute')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ontogglecallmute11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'toggleCallMute', callback: Callback&lt;void&gt;): void</p>     <p>设置通话静音的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'toggleCallMute'：当通话静音或解除静音时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'toggleCallMute'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on call toggleCallMute'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1180px;">     <h2 id="offtogglecallmute11" device-type="phone,2in1,tablet,wearable,tv">off('toggleCallMute')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offtogglecallmute11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'toggleCallMute', callback?: Callback&lt;void&gt;): void</p>     <p>取消通话静音事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'toggleCallMute'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'toggleCallMute'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1372px;">     <h2 id="oncastdisplaychange12" device-type="phone,tablet">on('castDisplayChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncastdisplaychange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>on(type: 'castDisplayChange', callback: Callback&lt;CastDisplayInfo&gt;): void</p>     <p>设置扩展屏投播显示设备变化的监听事件。</p>     <p>每个指令支持注册多个回调，如果需要只执行最新监听，需要先注销旧的监听，否则新旧监听都会触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.ExtendedDisplayCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'castDisplayChange'：当扩展屏投播显示设备变化时触发事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#castdisplayinfo12">CastDisplayInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数是扩展屏投播显示设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">castDisplay</span>: avSession.<span class="hljs-property">CastDisplayInfo</span>;</li><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'castDisplayChange'</span>, <span class="hljs-function">(<span class="hljs-params">display: avSession.CastDisplayInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (display.<span class="hljs-property">state</span> === avSession.<span class="hljs-property">CastDisplayState</span>.<span class="hljs-property">STATE_ON</span>) {</li><li>        castDisplay = display;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in castDisplayChange display : <span class="hljs-subst">${display.id}</span> ON`</span>);</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (display.<span class="hljs-property">state</span> === avSession.<span class="hljs-property">CastDisplayState</span>.<span class="hljs-property">STATE_OFF</span>){</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in castDisplayChange display : <span class="hljs-subst">${display.id}</span> OFF`</span>);</li><li>    }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1204px;">     <h2 id="offcastdisplaychange12" device-type="phone,tablet">off('castDisplayChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcastdisplaychange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>off(type: 'castDisplayChange', callback?: Callback&lt;CastDisplayInfo&gt;): void</p>     <p>取消扩展屏投播显示设备变化事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.ExtendedDisplayCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'castDisplayChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#castdisplayinfo12">CastDisplayInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'castDisplayChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1049px;">     <h2 id="stopcasting10" device-type="phone,2in1,tablet,tv">stopCasting<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopcasting10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stopCasting(callback: AsyncCallback&lt;void&gt;): void</p>     <p>结束投播。结果通过callback异步回调方式返回。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当命令发送成功，err为undefined，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">stopCasting</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`stopCasting BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'stopCasting successfully'</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="stopcasting10-1" device-type="phone,2in1,tablet,tv">stopCasting<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopcasting10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stopCasting(): Promise&lt;void&gt;</p>     <p>结束投播。结果通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。当成功结束投播，无返回结果，否则返回错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600109</td>         <td class="cellrowborder" width="50%">The remote connection is not established.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>currentAVSession.<span class="hljs-title function_">stopCasting</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'stopCasting successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`stopCasting BusinessError: code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="getoutputdevicesync10" device-type="phone,2in1,tablet,wearable,tv">getOutputDeviceSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getoutputdevicesync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getOutputDeviceSync(): OutputDeviceInfo</p>     <p>使用同步方法获取当前输出设备信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#outputdeviceinfo10">OutputDeviceInfo</a></td>         <td class="cellrowborder" width="50%">当前输出设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">currentOutputDevice</span>: avSession.<span class="hljs-property">OutputDeviceInfo</span> = currentAVSession.<span class="hljs-title function_">getOutputDeviceSync</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getOutputDeviceSync error, error code: <span class="hljs-subst">${error.code}</span>, error message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1172px;">     <h2 id="getallcastdisplays12" device-type="phone,tablet">getAllCastDisplays<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getallcastdisplays12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>getAllCastDisplays(): Promise&lt;Array&lt;CastDisplayInfo&gt;&gt;</p>     <p>获取当前系统中所有支持扩展屏投播的显示设备。通过Promise异步回调方式返回。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.ExtendedDisplayCast</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-i#castdisplayinfo12">CastDisplayInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回当前系统中所有支持扩展屏投播的显示设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">castDisplay</span>: avSession.<span class="hljs-property">CastDisplayInfo</span>;</li><li>currentAVSession.<span class="hljs-title function_">getAllCastDisplays</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">Array</span>&lt; avSession.CastDisplayInfo &gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">1</span>) {</li><li>       castDisplay = data[<span class="hljs-number">0</span>];</li><li>     }</li><li>   }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getAllCastDisplay. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>   });</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1272px;">     <h2 id="onplayfromassetiddeprecated" device-type="phone,2in1,tablet,wearable,tv">on('playFromAssetId')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplayfromassetiddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type:'playFromAssetId', callback: (assetId: number) =&gt; void): void</p>     <p>设置媒体id播放监听事件。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 11 开始支持，从 API version 20 开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsession#onplaywithassetid20">on('playWithAssetId')</a>设置媒体id播放监听事件。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件是'playFromAssetId'，当媒体id播放时，触发该事件回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(assetId: number) =&gt; void</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。参数assetId是媒体id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playFromAssetId'</span>, <span class="hljs-function">(<span class="hljs-params">assetId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'on playFromAssetId entry'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1320px;">     <h2 id="offplayfromassetiddeprecated" device-type="phone,2in1,tablet,wearable,tv">off('playFromAssetId')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offplayfromassetiddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'playFromAssetId', callback?: (assetId: number) =&gt; void): void</p>     <p>取消媒体id播放事件监听。指定callback，可取消对应监听；未指定callback，取消所有事件监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 11 开始支持，从 API version 20 开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-avsession-avsession#offplaywithassetid20">off('playWithAssetId')</a>取消媒体id播放事件监听。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">关闭对应的监听事件，支持的事件是'playFromAssetId'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">(assetId: number) =&gt; void</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。当监听事件取消成功，err为undefined，否则返回错误对象。</p>          <p>该参数为可选参数，若不填写该参数，则认为取消所有相关会话的事件监听。参数assetId是媒体id。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">parameter check failed. 1.Mandatory parameters are left unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'playFromAssetId'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1149px;">     <h2 id="oncustomdatachange20" device-type="phone,2in1,tablet,tv">on('customDataChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncustomdatachange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'customDataChange', callback: Callback&lt;Record&lt;string, Object&gt;&gt;): void</p>     <p>注册从远程设备发送的自定义数据的监听器。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持事件'customDataChange'，当媒体提供方发送自定义数据时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Record&lt;string, Object&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于接收自定义数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.You are advised to:1.Scheduled retry.2.Destroy the current session or session controller and re-create it.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'customDataChange'</span>, <span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Caught customDataChange event,the new callback is: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(callback)}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1149px;">     <h2 id="offcustomdatachange20" device-type="phone,2in1,tablet,tv">off('customDataChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcustomdatachange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'customDataChange', callback?: Callback&lt;Record&lt;string, Object&gt;&gt;): void</p>     <p>取消自定义数据监听。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.AVSession.AVCast</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消对应的监听事件，支持的事件是'customDataChange'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;Record&lt;string, Object&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">注册监听事件时的回调函数。该参数为可选参数，若不填写该参数，则认为取消会话所有与此事件相关的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-avsession">媒体会话管理错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6600101</td>         <td class="cellrowborder" width="50%">Session service exception.You are advised to:1.Scheduled retry.2.Destroy the current session or session controller and re-create it.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6600102</td>         <td class="cellrowborder" width="50%">The session does not exist.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ruq-c106="" class="highlight-div"><div _ngcontent-ruq-c106="" class="highlight-div-header"><div _ngcontent-ruq-c106="" class="highlight-div-header-left"><div _ngcontent-ruq-c106="" class="handle-button expand-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruq-c106="" class="highlight-div-header-right"><div _ngcontent-ruq-c106="" class="handle-button ai-button"></div><div _ngcontent-ruq-c106="" class="handle-button line-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruq-c106="" class="handle-button theme-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruq-c106="" class="handle-button copy-button"><div _ngcontent-ruq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>currentAVSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'customDataChange'</span>);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>