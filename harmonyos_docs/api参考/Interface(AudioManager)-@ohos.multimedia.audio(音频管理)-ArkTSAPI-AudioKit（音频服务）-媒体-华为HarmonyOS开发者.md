<h1 _ngcontent-stw-c119="" class="doc-title ng-star-inserted" title="Interface (AudioManager)"> Interface (AudioManager) </h1>

<div _ngcontent-stw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>音频音量和设备管理。</p> <p>在使用AudioManager的接口之前，需先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-f#audiogetaudiomanager">getAudioManager</a>获取AudioManager实例。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  </div></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 878px;"><h2 id="getaudioscene8" device-type="phone,2in1,tablet,wearable,tv">getAudioScene<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaudioscene8" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAudioScene(callback: AsyncCallback&lt;AudioScene&gt;): void</p> <p>获取音频场景模式。使用callback异步回调。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioscene8">AudioScene</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取音频场景模式成功，err为undefined，data为获取到的音频场景模式；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getAudioScene</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: audio.AudioScene</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the audio scene mode. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the audio scene mode is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 754px;"><h2 id="getaudioscene8-1" device-type="phone,2in1,tablet,wearable,tv">getAudioScene<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaudioscene8-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAudioScene(): Promise&lt;AudioScene&gt;</p> <p>获取音频场景模式。使用Promise异步回调。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioscene8">AudioScene</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回音频场景模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getAudioScene</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: audio.AudioScene</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the audio scene mode is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>}).<span class="hljs-property">catch</span> (<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the audio scene mode <span class="hljs-subst">${err}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 802px;"><h2 id="getaudioscenesync10" device-type="phone,2in1,tablet,wearable,tv">getAudioSceneSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaudioscenesync10" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAudioSceneSync(): AudioScene</p> <p>获取音频场景模式。同步返回结果。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioscene8">AudioScene</a></td> <td class="cellrowborder" width="50%">音频场景模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: audio.<span class="hljs-property">AudioScene</span> = audioManager.<span class="hljs-title function_">getAudioSceneSync</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`indicate that the audio scene mode is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the audio scene mode <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 779px;"><h2 id="onaudioscenechange20" device-type="phone,2in1,tablet,wearable,tv">on('audioSceneChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onaudioscenechange20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'audioSceneChange', callback: Callback&lt;AudioScene&gt;): void</p> <p>监听音频场景变化事件。使用callback异步回调。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSceneChange'，当音频场景模式发生变化时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioscene8">AudioScene</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回当前音频场景模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSceneChange'</span>, <span class="hljs-function">(<span class="hljs-params">audioScene: audio.AudioScene</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`audio scene : <span class="hljs-subst">${audioScene}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 971px;"><h2 id="offaudioscenechange20" device-type="phone,2in1,tablet,wearable,tv">off('audioSceneChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offaudioscenechange20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'audioSceneChange', callback?: Callback&lt;AudioScene&gt;): void</p> <p>取消监听音频场景变化事件。使用callback异步回调。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSceneChange'，当取消监听当前音频场景变化事件时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioscene8">AudioScene</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，返回当前音频场景模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSceneChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">audioSceneChangeCallback</span> = (<span class="hljs-params">audioScene: audio.AudioScene</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`audio scene : <span class="hljs-subst">${audioScene}</span>.`</span>);</li><li>};</li><li>
</li><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSceneChange'</span>, audioSceneChangeCallback);</li><li>
</li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSceneChange'</span>, audioSceneChangeCallback);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 658px;"><h2 id="getvolumemanager9" device-type="phone,2in1,tablet,wearable,tv">getVolumeManager<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumemanager9" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeManager(): AudioVolumeManager</p> <p>获取音频音量管理器。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager">AudioVolumeManager</a></td> <td class="cellrowborder" width="50%">AudioVolumeManager实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">audioVolumeManager</span>: audio.<span class="hljs-property">AudioVolumeManager</span> = audioManager.<span class="hljs-title function_">getVolumeManager</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 658px;"><h2 id="getstreammanager9" device-type="phone,2in1,tablet,wearable,tv">getStreamManager<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstreammanager9" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStreamManager(): AudioStreamManager</p> <p>获取音频流管理器。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiostreammanager">AudioStreamManager</a></td> <td class="cellrowborder" width="50%">AudioStreamManager实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">audioStreamManager</span>: audio.<span class="hljs-property">AudioStreamManager</span> = audioManager.<span class="hljs-title function_">getStreamManager</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 658px;"><h2 id="getroutingmanager9" device-type="phone,2in1,tablet,wearable,tv">getRoutingManager<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getroutingmanager9" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRoutingManager(): AudioRoutingManager</p> <p>获取音频路由管理器。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager">AudioRoutingManager</a></td> <td class="cellrowborder" width="50%">AudioRoutingManager实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">audioRoutingManager</span>: audio.<span class="hljs-property">AudioRoutingManager</span> = audioManager.<span class="hljs-title function_">getRoutingManager</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 658px;"><h2 id="getsessionmanager12" device-type="phone,2in1,tablet,wearable,tv">getSessionManager<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsessionmanager12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSessionManager(): AudioSessionManager</p> <p>获取音频会话管理器。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager">AudioSessionManager</a></td> <td class="cellrowborder" width="50%">AudioSessionManager实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">audioSessionManager</span>: audio.<span class="hljs-property">AudioSessionManager</span> = audioManager.<span class="hljs-title function_">getSessionManager</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 634px;"><h2 id="getspatializationmanager18" device-type="phone,2in1,tablet,tv">getSpatializationManager<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getspatializationmanager18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSpatializationManager(): AudioSpatializationManager</p> <p>获取空间音频管理器。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Spatialization</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiospatializationmanager">AudioSpatializationManager</a></td> <td class="cellrowborder" width="50%">AudioSpatializationManager实例。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">audioSpatializationManager</span>: audio.<span class="hljs-property">AudioSpatializationManager</span> = audioManager.<span class="hljs-title function_">getSpatializationManager</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1108px;"><h2 id="setaudioparameterdeprecated" device-type="phone,2in1,tablet,wearable,tv">setAudioParameter<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setaudioparameterdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAudioParameter(key: string, value: string, callback: AsyncCallback&lt;void&gt;): void</p> <p>音频参数设置。使用callback异步回调。</p> <p>接口根据硬件设备的支持能力扩展音频配置。支持的参数与产品和设备强相关，非通用参数，示例代码内使用样例参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MODIFY_AUDIO_SETTINGS</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">被设置的音频参数的键。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">被设置的音频参数的值。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当音频参数设置成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">setAudioParameter</span>(<span class="hljs-string">'key_example'</span>, <span class="hljs-string">'value_example'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the audio parameter. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate a successful setting of the audio parameter.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1042px;"><h2 id="setaudioparameterdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setAudioParameter<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setaudioparameterdeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAudioParameter(key: string, value: string): Promise&lt;void&gt;</p> <p>音频参数设置。使用Promise异步回调。</p> <p>接口根据硬件设备的支持能力扩展音频配置。支持的参数与产品和设备强相关，非通用参数，示例代码内使用样例参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MODIFY_AUDIO_SETTINGS</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">被设置的音频参数的键。</td> </tr> <tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">被设置的音频参数的值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">setAudioParameter</span>(<span class="hljs-string">'key_example'</span>, <span class="hljs-string">'value_example'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate a successful setting of the audio parameter.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1087px;"><h2 id="getaudioparameterdeprecated" device-type="phone,2in1,tablet,wearable,tv">getAudioParameter<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaudioparameterdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAudioParameter(key: string, callback: AsyncCallback&lt;string&gt;): void</p> <p>获取指定音频参数值。使用callback异步回调。</p> <p>本接口的使用场景为：根据硬件设备的支持能力扩展音频配置。在不同的设备平台上，所支持的音频参数会存在差异。示例代码内使用样例参数，实际支持的音频配置参数见具体设备平台的资料描述。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待获取的音频参数的键。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定音频参数值成功，err为undefined，data为获取到的指定音频参数值；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getAudioParameter</span>(<span class="hljs-string">'key_example'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the value of the audio parameter. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the value of the audio parameter is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 973px;"><h2 id="getaudioparameterdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getAudioParameter<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getaudioparameterdeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAudioParameter(key: string): Promise&lt;string&gt;</p> <p>获取指定音频参数值。使用Promise异步回调。</p> <p>本接口的使用场景为：根据硬件设备的支持能力扩展音频配置。在不同的设备平台上，所支持的音频参数会存在差异。示例代码内使用样例参数，实际支持的音频配置参数见具体设备平台的资料描述。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">key</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待获取的音频参数的键。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;string&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回获取的音频参数值。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getAudioParameter</span>(<span class="hljs-string">'key_example'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the value of the audio parameter is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1204px;"><h2 id="setvolumedeprecated" device-type="phone,2in1,tablet,wearable,tv">setVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setvolumedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setVolume(volumeType: AudioVolumeType, volume: number, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置指定流的音量。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  <p>应用无法直接调节系统音量，建议通过系统音量面板组件调节音量。具体样例和介绍请查看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-multimedia-avvolumepanel">AVVolumePanel参考文档</a>。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.ACCESS_NOTIFICATION_POLICY</p> <p>仅设置铃声（即volumeType为AudioVolumeType.RINGTONE）在静音和非静音状态切换时需要该权限。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">volume</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音量等级，可设置范围通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getminvolumedeprecated">getMinVolume</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getmaxvolumedeprecated">getMaxVolume</a>获取。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置指定流的音量成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">setVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-number">10</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the volume. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate a successful volume setting.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1114px;"><h2 id="setvolumedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setvolumedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setVolume(volumeType: AudioVolumeType, volume: number): Promise&lt;void&gt;</p> <p>设置指定流的音量。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  <p>应用无法直接调节系统音量，建议通过系统音量面板组件调节音量。具体样例和介绍请查看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ohos-multimedia-avvolumepanel">AVVolumePanel参考文档</a>。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.ACCESS_NOTIFICATION_POLICY</p> <p>仅设置铃声（即volumeType为AudioVolumeType.RINGTONE）在静音和非静音状态切换时需要该权限。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">volume</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音量等级，可设置范围通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getminvolumedeprecated">getMinVolume</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getmaxvolumedeprecated">getMaxVolume</a>获取。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">setVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-number">10</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate a successful volume setting.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1087px;"><h2 id="getvolumedeprecated" device-type="phone,2in1,tablet,wearable,tv">getVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolume(volumeType: AudioVolumeType, callback: AsyncCallback&lt;number&gt;): void</p> <p>获取指定流的音量。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getvolumedeprecated">getVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getvolumebystream20">getVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定流的音量成功，err为undefined，data为获取到的指定流的音量；否则为错误对象。指定流的音量等级范围可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getminvolumedeprecated">getMinVolume</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getmaxvolumedeprecated">getMaxVolume</a>获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the volume. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the volume is obtained.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h2 id="getvolumedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolume(volumeType: AudioVolumeType): Promise&lt;number&gt;</p> <p>获取指定流的音量。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getvolumedeprecated">getVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getvolumebystream20">getVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回指定流的音量。指定流的音量等级范围可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getminvolumedeprecated">getMinVolume</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getmaxvolumedeprecated">getMaxVolume</a>获取。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the volume is obtained <span class="hljs-subst">${value}</span> .`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="getminvolumedeprecated" device-type="phone,2in1,tablet,wearable,tv">getMinVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getminvolumedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMinVolume(volumeType: AudioVolumeType, callback: AsyncCallback&lt;number&gt;): void</p> <p>获取指定流的最小音量。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getminvolumedeprecated">getMinVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getminvolumebystream20">getMinVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定流的最小音量成功，err为undefined，data为获取到的指定流的最小音量；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getMinVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the minimum volume. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the minimum volume is obtained. <span class="hljs-subst">${value}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="getminvolumedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getMinVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getminvolumedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMinVolume(volumeType: AudioVolumeType): Promise&lt;number&gt;</p> <p>获取指定流的最小音量。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getminvolumedeprecated">getMinVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getminvolumebystream20">getMinVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回最小音量。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getMinVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promised returned to indicate that the minimum volume is obtained. <span class="hljs-subst">${value}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="getmaxvolumedeprecated" device-type="phone,2in1,tablet,wearable,tv">getMaxVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxvolumedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMaxVolume(volumeType: AudioVolumeType, callback: AsyncCallback&lt;number&gt;): void</p> <p>获取指定流的最大音量。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getmaxvolumedeprecated">getMaxVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getmaxvolumebystream20">getMaxVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定流的最大音量成功，err为undefined，data为获取到的指定流的最大音量；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getMaxVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the maximum volume. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the maximum volume is obtained. <span class="hljs-subst">${value}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="getmaxvolumedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getMaxVolume<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxvolumedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMaxVolume(volumeType: AudioVolumeType): Promise&lt;number&gt;</p> <p>获取指定流的最大音量。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getmaxvolumedeprecated">getMaxVolume</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#getmaxvolumebystream20">getMaxVolumeByStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;number&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回最大音量。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getMaxVolume</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promised returned to indicate that the maximum volume is obtained.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1132px;"><h2 id="mutedeprecated" device-type="phone,2in1,tablet,wearable,tv">mute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mutedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mute(volumeType: AudioVolumeType, mute: boolean, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置指定音量流静音。使用callback异步回调。</p> <p>当该音量流可设置的最小音量不能为0时，不支持静音操作。例如：闹钟和通话。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">mute</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置指定音量流为静音状态。true表示静音，false表示非静音。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置指定音量流静音成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">mute</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to mute the stream. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the stream is muted.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1042px;"><h2 id="mutedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">mute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mutedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mute(volumeType: AudioVolumeType, mute: boolean): Promise&lt;void&gt;</p> <p>设置指定音量流静音。使用Promise异步回调。</p> <p>当该音量流可设置的最小音量不能为0时，不支持静音操作。例如：闹钟和通话。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">mute</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置指定音量流为静音状态。true表示静音，false表示非静音。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">mute</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the stream is muted.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="ismutedeprecated" device-type="phone,2in1,tablet,wearable,tv">isMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismutedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isMute(volumeType: AudioVolumeType, callback: AsyncCallback&lt;boolean&gt;): void</p> <p>获取指定音量流的静音状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#ismutedeprecated">isMute</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#issystemmutedforstream20">isSystemMutedForStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定音量流的静音状态成功，err为undefined，data为true表示静音，false表示非静音；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">isMute</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the mute status. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the mute status of the stream is obtained. <span class="hljs-subst">${value}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="ismutedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismutedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isMute(volumeType: AudioVolumeType): Promise&lt;boolean&gt;</p> <p>获取指定音量流的静音状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#ismutedeprecated">isMute</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#issystemmutedforstream20">isSystemMutedForStream</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。返回true表示静音；返回false表示非静音。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">isMute</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the mute status of the stream is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1039px;"><h2 id="isactivedeprecated" device-type="phone,2in1,tablet,wearable,tv">isActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isactivedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isActive(volumeType: AudioVolumeType, callback: AsyncCallback&lt;boolean&gt;): void</p> <p>获取指定音量流的活跃状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiostreammanager#isactivedeprecated">isActive</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiostreammanager#isstreamactive20">isStreamActive</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定音量流的活跃状态成功，err为undefined，data为true表示活跃，false表示不活跃；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">isActive</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the active status of the stream. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the active status of the stream is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 949px;"><h2 id="isactivedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isactivedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isActive(volumeType: AudioVolumeType): Promise&lt;boolean&gt;</p> <p>获取指定音量流的活跃状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃。在API version 9-19建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiostreammanager#isactivedeprecated">isActive</a>替代；API version 20及以后，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiostreammanager#isstreamactive20">isStreamActive</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">volumeType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiovolumetype">AudioVolumeType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频音量类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。返回true表示流状态为活跃；返回false表示流状态不活跃。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">isActive</span>(audio.<span class="hljs-property">AudioVolumeType</span>.<span class="hljs-property">MEDIA</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the active status of the stream is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;"><h2 id="setringermodedeprecated" device-type="phone,2in1,tablet,wearable,tv">setRingerMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setringermodedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setRingerMode(mode: AudioRingMode, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置铃声模式。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.ACCESS_NOTIFICATION_POLICY</p> <p>仅在静音和非静音状态切换时需要该权限。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mode</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioringmode">AudioRingMode</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频铃声模式。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置铃声模式成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">setRingerMode</span>(audio.<span class="hljs-property">AudioRingMode</span>.<span class="hljs-property">RINGER_MODE_NORMAL</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the ringer mode. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate a successful setting of the ringer mode.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 997px;"><h2 id="setringermodedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setRingerMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setringermodedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setRingerMode(mode: AudioRingMode): Promise&lt;void&gt;</p> <p>设置铃声模式。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.ACCESS_NOTIFICATION_POLICY</p> <p>仅在静音和非静音状态切换时需要该权限。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mode</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioringmode">AudioRingMode</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频铃声模式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">setRingerMode</span>(audio.<span class="hljs-property">AudioRingMode</span>.<span class="hljs-property">RINGER_MODE_NORMAL</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate a successful setting of the ringer mode.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 946px;"><h2 id="getringermodedeprecated" device-type="phone,2in1,tablet,wearable,tv">getRingerMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getringermodedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRingerMode(callback: AsyncCallback&lt;AudioRingMode&gt;): void</p> <p>获取铃声模式。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getringermode9">getRingerMode</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioringmode">AudioRingMode</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取铃声模式成功，err为undefined，data为获取到的铃声模式；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getRingerMode</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: audio.AudioRingMode</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the ringer mode. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the ringer mode is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h2 id="getringermodedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getRingerMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getringermodedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRingerMode(): Promise&lt;AudioRingMode&gt;</p> <p>获取铃声模式。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#getringermode9">getRingerMode</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Communication</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audioringmode">AudioRingMode</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回系统的铃声模式。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getRingerMode</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: audio.AudioRingMode</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the ringer mode is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;"><h2 id="getdevicesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getDevices<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdevicesdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDevices(deviceFlag: DeviceFlag, callback: AsyncCallback&lt;AudioDeviceDescriptors&gt;): void</p> <p>获取音频设备列表。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#getdevices9">getDevices</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceFlag</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#deviceflag">DeviceFlag</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频设备类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-t#audiodevicedescriptors">AudioDeviceDescriptors</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取音频设备列表成功，err为undefined，data为获取到的音频设备列表；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">getDevices</span>(audio.<span class="hljs-property">DeviceFlag</span>.<span class="hljs-property">OUTPUT_DEVICES_FLAG</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: audio.AudioDeviceDescriptors</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the device list. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the device list is obtained.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 901px;"><h2 id="getdevicesdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getDevices<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdevicesdeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDevices(deviceFlag: DeviceFlag): Promise&lt;AudioDeviceDescriptors&gt;</p> <p>获取音频设备列表。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#getdevices9">getDevices</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceFlag</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#deviceflag">DeviceFlag</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频设备类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-t#audiodevicedescriptors">AudioDeviceDescriptors</a>&gt;</td> <td class="cellrowborder" width="50%">Promise对象，返回设备列表。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">getDevices</span>(audio.<span class="hljs-property">DeviceFlag</span>.<span class="hljs-property">OUTPUT_DEVICES_FLAG</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: audio.AudioDeviceDescriptors</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the device list is obtained.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1084px;"><h2 id="setdeviceactivedeprecated" device-type="phone,2in1,tablet,wearable,tv">setDeviceActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdeviceactivedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDeviceActive(deviceType: ActiveDeviceType, active: boolean, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置设备激活状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#setcommunicationdevice9">setCommunicationDevice</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#activedevicetypedeprecated">ActiveDeviceType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">活跃音频设备类型。</td> </tr> <tr><td class="cellrowborder" width="25%">active</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置设备为激活状态。true表示已激活，false表示未激活。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置设备激活状态成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">setDeviceActive</span>(audio.<span class="hljs-property">ActiveDeviceType</span>.<span class="hljs-property">SPEAKER</span>, <span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the active status of the device. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the device is set to the active status.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 994px;"><h2 id="setdeviceactivedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setDeviceActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdeviceactivedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDeviceActive(deviceType: ActiveDeviceType, active: boolean): Promise&lt;void&gt;</p> <p>设置设备激活状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#setcommunicationdevice9">setCommunicationDevice</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#activedevicetypedeprecated">ActiveDeviceType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">活跃音频设备类型。</td> </tr> <tr><td class="cellrowborder" width="25%">active</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置设备为激活状态。true表示已激活，false表示未激活。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">setDeviceActive</span>(audio.<span class="hljs-property">ActiveDeviceType</span>.<span class="hljs-property">SPEAKER</span>, <span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the device is set to the active status.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;"><h2 id="isdeviceactivedeprecated" device-type="phone,2in1,tablet,wearable,tv">isDeviceActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdeviceactivedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDeviceActive(deviceType: ActiveDeviceType, callback: AsyncCallback&lt;boolean&gt;): void</p> <p>获取指定设备的激活状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#iscommunicationdeviceactive9">isCommunicationDeviceActive</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#activedevicetypedeprecated">ActiveDeviceType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">活跃音频设备类型。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取指定设备的激活状态成功，err为undefined，data为true表示激活，false表示未激活；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">isDeviceActive</span>(audio.<span class="hljs-property">ActiveDeviceType</span>.<span class="hljs-property">SPEAKER</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the active status of the device. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the active status of the device is obtained.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 925px;"><h2 id="isdeviceactivedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isDeviceActive<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdeviceactivedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDeviceActive(deviceType: ActiveDeviceType): Promise&lt;boolean&gt;</p> <p>获取指定设备的激活状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#iscommunicationdeviceactive9">isCommunicationDeviceActive</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">deviceType</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#activedevicetypedeprecated">ActiveDeviceType</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">活跃音频设备类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。返回true表示设备已激活；返回false表示设备未激活。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">isDeviceActive</span>(audio.<span class="hljs-property">ActiveDeviceType</span>.<span class="hljs-property">SPEAKER</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the active status of the device is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1087px;"><h2 id="setmicrophonemutedeprecated" device-type="phone,2in1,tablet,wearable,tv">setMicrophoneMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmicrophonemutedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setMicrophoneMute(mute: boolean, callback: AsyncCallback&lt;void&gt;): void</p> <p>设置麦克风静音状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MICROPHONE</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mute</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置麦克风为静音状态。true表示静音，false表示非静音。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当设置麦克风静音状态成功，err为undefined，否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">setMicrophoneMute</span>(<span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to mute the microphone. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the microphone is muted.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 997px;"><h2 id="setmicrophonemutedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setMicrophoneMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmicrophonemutedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setMicrophoneMute(mute: boolean): Promise&lt;void&gt;</p> <p>设置麦克风静音状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，替代接口仅面向系统应用开放。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MICROPHONE</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">mute</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">是否设置麦克风为静音状态。true表示静音，false表示非静音。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">setMicrophoneMute</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the microphone is muted.'</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1018px;"><h2 id="ismicrophonemutedeprecated" device-type="phone,2in1,tablet,wearable,tv">isMicrophoneMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismicrophonemutedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isMicrophoneMute(callback: AsyncCallback&lt;boolean&gt;): void</p> <p>获取麦克风静音状态。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#ismicrophonemute9">isMicrophoneMute</a>替代。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MICROPHONE</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当获取麦克风静音状态成功，err为undefined，data为true表示静音，false表示非静音；否则为错误对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioManager.<span class="hljs-title function_">isMicrophoneMute</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the mute status of the microphone. <span class="hljs-subst">${err}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Callback invoked to indicate that the mute status of the microphone is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 822px;"><h2 id="ismicrophonemutedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isMicrophoneMute<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismicrophonemutedeprecated-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isMicrophoneMute(): Promise&lt;boolean&gt;</p> <p>获取麦克风静音状态。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager#ismicrophonemute9">isMicrophoneMute</a>替代。</p>  </div></div></div> <p><strong>需要权限：</strong> ohos.permission.MICROPHONE</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td> <td class="cellrowborder" width="50%">Promise对象。返回true表示麦克风被静音；返回false表示麦克风未被静音。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">isMicrophoneMute</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Promise returned to indicate that the mute status of the microphone is obtained <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 943px;"><h2 id="ondevicechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('deviceChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondevicechangedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'deviceChange', callback: Callback&lt;DeviceChangeAction&gt;): void</p> <p>监听音频设备连接变化事件（当音频设备连接状态发生变化时触发）。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#ondevicechange9">on('deviceChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'deviceChange'，当音频设备连接状态发生变化时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#devicechangeaction">DeviceChangeAction</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回设备更新详情。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'deviceChange'</span>, <span class="hljs-function">(<span class="hljs-params">deviceChanged: audio.DeviceChangeAction</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change type : <span class="hljs-subst">${deviceChanged.<span class="hljs-keyword">type</span>}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device descriptor size : <span class="hljs-subst">${deviceChanged.deviceDescriptors.length}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change descriptor : <span class="hljs-subst">${deviceChanged.deviceDescriptors[<span class="hljs-number">0</span>].deviceRole}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change descriptor : <span class="hljs-subst">${deviceChanged.deviceDescriptors[<span class="hljs-number">0</span>].deviceType}</span> `</span>);</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1135px;"><h2 id="offdevicechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('deviceChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdevicechangedeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'deviceChange', callback?: Callback&lt;DeviceChangeAction&gt;): void</p> <p>取消监听音频设备连接变化事件。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 9开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audioroutingmanager#offdevicechange9">off('deviceChange')</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'deviceChange'，当取消监听音频设备连接变化事件时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#devicechangeaction">DeviceChangeAction</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，返回设备更新详情。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deviceChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">deviceChangeCallback</span> = (<span class="hljs-params">deviceChanged: audio.DeviceChangeAction</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change type : <span class="hljs-subst">${deviceChanged.<span class="hljs-keyword">type</span>}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device descriptor size : <span class="hljs-subst">${deviceChanged.deviceDescriptors.length}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change descriptor : <span class="hljs-subst">${deviceChanged.deviceDescriptors[<span class="hljs-number">0</span>].deviceRole}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device change descriptor : <span class="hljs-subst">${deviceChanged.deviceDescriptors[<span class="hljs-number">0</span>].deviceType}</span> `</span>);</li><li>};</li><li>
</li><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'deviceChange'</span>, deviceChangeCallback);</li><li>
</li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'deviceChange'</span>, deviceChangeCallback);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1348px;"><h2 id="oninterruptdeprecated" device-type="phone,2in1,tablet,wearable,tv">on('interrupt')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oninterruptdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'interrupt', interrupt: AudioInterrupt, callback: Callback&lt;InterruptAction&gt;): void</p> <p>监听音频打断事件（当音频焦点发生变化时触发）。使用callback异步回调。</p> <p>与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiorenderer#onaudiointerrupt9">on('audioInterrupt')</a>作用一致，均用于监听焦点变化。为无音频流的场景（未曾创建AudioRenderer对象），比如FM、语音唤醒等提供焦点变化监听功能。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiocapturer#onaudiointerrupt10">on('audioInterrupt')</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Renderer</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'interrupt'，当音频焦点状态发生变化时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">interrupt</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiointerruptdeprecated">AudioInterrupt</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频打断事件类型的参数。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#interruptactiondeprecated">InterruptAction</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数，返回打断事件信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">interAudioInterrupt</span>: audio.<span class="hljs-property">AudioInterrupt</span> = {</li><li>  <span class="hljs-attr">streamUsage</span>: audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_VOICE_COMMUNICATION</span>,</li><li>  <span class="hljs-attr">contentType</span>: audio.<span class="hljs-property">ContentType</span>.<span class="hljs-property">CONTENT_TYPE_UNKNOWN</span>,</li><li>  <span class="hljs-attr">pauseWhenDucked</span>: <span class="hljs-literal">true</span></li><li>};</li><li>
</li><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'interrupt'</span>, interAudioInterrupt, <span class="hljs-function">(<span class="hljs-params">interruptAction: audio.InterruptAction</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (interruptAction.<span class="hljs-property">actionType</span> === <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'An event to gain the audio focus starts.'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Focus hint: <span class="hljs-subst">${interruptAction.hint}</span> `</span>);</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (interruptAction.<span class="hljs-property">actionType</span> === <span class="hljs-number">1</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'An audio interruption event starts.'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Audio interruption hint: <span class="hljs-subst">${interruptAction.hint}</span> `</span>);</li><li>  }</li><li>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1468px;"><h2 id="offinterruptdeprecated" device-type="phone,2in1,tablet,wearable,tv">off('interrupt')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offinterruptdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'interrupt', interrupt: AudioInterrupt, callback?: Callback&lt;InterruptAction&gt;): void</p> <p>取消监听音频打断事件。使用callback异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 7开始支持，从API version 11开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiocapturer#offaudiointerrupt10">off('audioInterrupt')</a>替代。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Renderer</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'interrupt'，当取消监听音频打断事件时，触发该事件。</td> </tr> <tr><td class="cellrowborder" width="25%">interrupt</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiointerruptdeprecated">AudioInterrupt</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">音频打断事件类型的参数。</td> </tr> <tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#interruptactiondeprecated">InterruptAction</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">回调函数，返回打断事件信息。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-stw-c106="" class="highlight-div"><div _ngcontent-stw-c106="" class="highlight-div-header"><div _ngcontent-stw-c106="" class="highlight-div-header-left"><div _ngcontent-stw-c106="" class="handle-button expand-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-stw-c106="" class="highlight-div-header-right"><div _ngcontent-stw-c106="" class="handle-button ai-button"></div><div _ngcontent-stw-c106="" class="handle-button line-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-stw-c106="" class="handle-button theme-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-stw-c106="" class="handle-button copy-button"><div _ngcontent-stw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-stw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">interAudioInterrupt</span>: audio.<span class="hljs-property">AudioInterrupt</span> = {</li><li>  <span class="hljs-attr">streamUsage</span>: audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_VOICE_COMMUNICATION</span>,</li><li>  <span class="hljs-attr">contentType</span>: audio.<span class="hljs-property">ContentType</span>.<span class="hljs-property">CONTENT_TYPE_UNKNOWN</span>,</li><li>  <span class="hljs-attr">pauseWhenDucked</span>: <span class="hljs-literal">true</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'interrupt'</span>, interAudioInterrupt);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">interruptCallback</span> = (<span class="hljs-params">interruptAction: audio.InterruptAction</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (interruptAction.<span class="hljs-property">actionType</span> === <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'An event to gain the audio focus starts.'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Focus hint: <span class="hljs-subst">${interruptAction.hint}</span> `</span>);</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (interruptAction.<span class="hljs-property">actionType</span> === <span class="hljs-number">1</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'An audio interruption event starts.'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Audio interruption hint: <span class="hljs-subst">${interruptAction.hint}</span> `</span>);</li><li>  }</li><li>};</li><li>
</li><li>audioManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'interrupt'</span>, interAudioInterrupt, interruptCallback);</li><li>
</li><li>audioManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'interrupt'</span>, interAudioInterrupt, interruptCallback);</li></ol></pre></div></div> </div> </div> <div></div></div>