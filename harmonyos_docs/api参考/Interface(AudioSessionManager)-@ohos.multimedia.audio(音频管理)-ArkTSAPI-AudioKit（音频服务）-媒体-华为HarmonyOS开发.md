<h1 _ngcontent-ung-c119="" class="doc-title ng-star-inserted" title="Interface (AudioSessionManager)"> Interface (AudioSessionManager) </h1>

<div _ngcontent-ung-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>音频会话管理。</p>    <p>在使用AudioSessionManager的接口之前，需先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getsessionmanager12">getSessionManager</a>获取AudioSessionManager实例。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>       <li>本Interface首批接口从API version 12开始支持。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="activateaudiosession12" device-type="phone,2in1,tablet,wearable,tv">activateAudioSession<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="activateaudiosession12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>activateAudioSession(strategy: AudioSessionStrategy): Promise&lt;void&gt;</p>     <p>激活音频会话。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">strategy</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiosessionstrategy12">AudioSessionStrategy</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频会话策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">System error. Returned by promise.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">strategy</span>: audio.<span class="hljs-property">AudioSessionStrategy</span> = {</li><li>  <span class="hljs-attr">concurrencyMode</span>: audio.<span class="hljs-property">AudioConcurrencyMode</span>.<span class="hljs-property">CONCURRENCY_MIX_WITH_OTHERS</span></li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">activateAudioSession</span>(strategy).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'activateAudioSession SUCCESS'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ERROR: <span class="hljs-subst">${err}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="deactivateaudiosession12" device-type="phone,2in1,tablet,wearable,tv">deactivateAudioSession<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deactivateaudiosession12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deactivateAudioSession(): Promise&lt;void&gt;</p>     <p>停用音频会话。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">System error. Returned by promise.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">deactivateAudioSession</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'deactivateAudioSession SUCCESS'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ERROR: <span class="hljs-subst">${err}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="isaudiosessionactivated12" device-type="phone,2in1,tablet,wearable,tv">isAudioSessionActivated<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isaudiosessionactivated12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isAudioSessionActivated(): boolean</p>     <p>检查音频会话是否已激活。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">音频会话是否处于激活状态。true表示已激活，false表示已停用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> isActivated = audioSessionManager.<span class="hljs-title function_">isAudioSessionActivated</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onaudiosessiondeactivated12" device-type="phone,2in1,tablet,wearable,tv">on('audioSessionDeactivated')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onaudiosessiondeactivated12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'audioSessionDeactivated', callback: Callback&lt;AudioSessionDeactivatedEvent&gt;): void</p>     <p>监听音频会话停用事件（当音频会话停用时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSessionDeactivated'，当音频会话停用时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiosessiondeactivatedevent12">AudioSessionDeactivatedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回音频会话停用原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters unspecified. 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSessionDeactivated'</span>,</li><li>  <span class="hljs-function">(<span class="hljs-params">audioSessionDeactivatedEvent: audio.AudioSessionDeactivatedEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of audioSessionDeactivated: <span class="hljs-subst">${audioSessionDeactivatedEvent.reason}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offaudiosessiondeactivated12" device-type="phone,2in1,tablet,wearable,tv">off('audioSessionDeactivated')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offaudiosessiondeactivated12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'audioSessionDeactivated', callback?: Callback&lt;AudioSessionDeactivatedEvent&gt;): void</p>     <p>取消监听音频会话停用事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSessionDeactivated'，当取消监听音频会话停用事件时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiosessiondeactivatedevent12">AudioSessionDeactivatedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回音频会话停用原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSessionDeactivated'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">audioSessionDeactivatedCallback</span> = (<span class="hljs-params">audioSessionDeactivatedEvent: audio.AudioSessionDeactivatedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of audioSessionDeactivated: <span class="hljs-subst">${audioSessionDeactivatedEvent.reason}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSessionDeactivated'</span>, audioSessionDeactivatedCallback);</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSessionDeactivated'</span>, audioSessionDeactivatedCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setaudiosessionscene20" device-type="phone,2in1,tablet,wearable,tv">setAudioSessionScene<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setaudiosessionscene20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAudioSessionScene(scene: AudioSessionScene): void</p>     <p>设置音频会话场景参数。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">scene</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiosessionscene20">AudioSessionScene</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频会话场景。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800103</td>         <td class="cellrowborder" width="50%">Operation not permit at current state.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioSessionManager.<span class="hljs-title function_">setAudioSessionScene</span>(audio.<span class="hljs-property">AudioSessionScene</span>.<span class="hljs-property">AUDIO_SESSION_SCENE_MEDIA</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onaudiosessionstatechanged20" device-type="phone,2in1,tablet,wearable,tv">on('audioSessionStateChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onaudiosessionstatechanged20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'audioSessionStateChanged', callback: Callback&lt;AudioSessionStateChangedEvent&gt;): void</p>     <p>监听音频会话状态变更事件（当音频会话焦点变更时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSessionStateChanged'，当音频会话状态变更时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiosessionstatechangedevent20">AudioSessionStateChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回音频会话变更提示信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800102</td>         <td class="cellrowborder" width="50%">Allocate memory failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSessionStateChanged'</span>, <span class="hljs-function">(<span class="hljs-params">audioSessionStateChangedEvent: audio.AudioSessionStateChangedEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`hint of audioSessionStateChanged: <span class="hljs-subst">${audioSessionStateChangedEvent.stateChangeHint}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offaudiosessionstatechanged20" device-type="phone,2in1,tablet,wearable,tv">off('audioSessionStateChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offaudiosessionstatechanged20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'audioSessionStateChanged', callback?: Callback&lt;AudioSessionStateChangedEvent&gt;): void</p>     <p>取消监听音频会话状态变更事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'audioSessionStateChanged'，当音频会话状态变更时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiosessionstatechangedevent20">AudioSessionStateChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回音频会话变更提示信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSessionStateChanged'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">audioSessionStateChangedCallback</span> = (<span class="hljs-params">audioSessionStateChangedEvent: audio.AudioSessionStateChangedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`hint of audioSessionStateChanged: <span class="hljs-subst">${audioSessionStateChangedEvent.stateChangeHint}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioSessionStateChanged'</span>, audioSessionStateChangedCallback);</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'audioSessionStateChanged'</span>, audioSessionStateChangedCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setdefaultoutputdevice20" device-type="phone,2in1,tablet,wearable,tv">setDefaultOutputDevice<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdefaultoutputdevice20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDefaultOutputDevice(deviceType: DeviceType): Promise&lt;void&gt;</p>     <p>设置默认发声设备。使用Promise方式进行异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>本接口适用于以下情况：当设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiosessionscene20">AudioSessionScene</a>为VoIP场景时，激活AudioSession后立即生效。若<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#audiosessionscene20">AudioSessionScene</a>为非VoIP场景，激活AudioSession时不会生效，仅在启动播放的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a>为语音消息、VoIP语音通话或VoIP视频通话时才生效。支持听筒、扬声器和系统默认设备。</li>        <li>本接口允许在AudioSessionManager创建后随时调用，系统会记录应用设置的默认本机内置发声设备。但只有激活AudioSession后才能生效。应用启动播放时，若外接设备如蓝牙耳机或有线耳机已接入，系统优先从外接设备发声。否则，系统遵循应用设置的默认本机内置发声设备。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#devicetype">DeviceType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设备类型。</p>          <p>仅支持以下设备：EARPIECE（听筒）、SPEAKER（扬声器）和DEFAULT（系统默认设备）。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed. Return by promise.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800102</td>         <td class="cellrowborder" width="50%">Allocate memory failed. Return by promise.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">setDefaultOutputDevice</span>(audio.<span class="hljs-property">DeviceType</span>.<span class="hljs-property">SPEAKER</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setDefaultOutputDevice Success!'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setDefaultOutputDevice Fail: <span class="hljs-subst">${err}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getdefaultoutputdevice20" device-type="phone,2in1,tablet,wearable,tv">getDefaultOutputDevice<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdefaultoutputdevice20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDefaultOutputDevice(): DeviceType</p>     <p>获取通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#setdefaultoutputdevice20">setDefaultOutputDevice</a>设置的默认发声设备。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">DeviceType</td>         <td class="cellrowborder" width="50%">          <p>设备类型。</p>          <p>仅支持以下设备：EARPIECE（听筒）、SPEAKER（扬声器）和DEFAULT（系统默认设备）。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800103</td>         <td class="cellrowborder" width="50%">Operation not permit at current state. Return by promise.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> deviceType = audioSessionManager.<span class="hljs-title function_">getDefaultOutputDevice</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncurrentoutputdevicechanged20" device-type="phone,2in1,tablet,wearable,tv">on('currentOutputDeviceChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncurrentoutputdevicechanged20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'currentOutputDeviceChanged', callback: Callback&lt;CurrentOutputDeviceChangedEvent&gt;): void</p>     <p>监听当前输出设备变化事件（当前输出设备发生变化时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'currentOutputDeviceChanged'，当前输出设备变更时触发。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#currentoutputdevicechangedevent20">CurrentOutputDeviceChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回当前输出设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800102</td>         <td class="cellrowborder" width="50%">Allocate memory failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">currentOutputDeviceChangedCallback</span> = (<span class="hljs-params">currentOutputDeviceChangedEvent: audio.CurrentOutputDeviceChangedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of audioSessionStateChanged: <span class="hljs-subst">${currentOutputDeviceChangedEvent.changeReason}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'currentOutputDeviceChanged'</span>, currentOutputDeviceChangedCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcurrentoutputdevicechanged20" device-type="phone,2in1,tablet,wearable,tv">off('currentOutputDeviceChanged')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcurrentoutputdevicechanged20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'currentOutputDeviceChanged', callback?: Callback&lt;CurrentOutputDeviceChangedEvent&gt;): void</p>     <p>取消监听当前输出设备的变化事件，并使用callback进行异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'currentOutputDeviceChanged'，当前输出设备发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#currentoutputdevicechangedevent20">CurrentOutputDeviceChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，用于返回当前输出设备变化的信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'currentOutputDeviceChanged'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">currentOutputDeviceChangedCallback</span> = (<span class="hljs-params">currentOutputDeviceChangedEvent: audio.CurrentOutputDeviceChangedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of audioSessionStateChanged: <span class="hljs-subst">${currentOutputDeviceChangedEvent.changeReason}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'currentOutputDeviceChanged'</span>, currentOutputDeviceChangedCallback);</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'currentOutputDeviceChanged'</span>, currentOutputDeviceChangedCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getavailabledevices21" device-type="phone,2in1,tablet,wearable,tv">getAvailableDevices<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavailabledevices21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAvailableDevices(deviceUsage: DeviceUsage): AudioDeviceDescriptors</p>     <p>获取音频可选设备列表。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#deviceusage12">DeviceUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频设备类型（根据用途分类）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-t#audiodevicedescriptors">AudioDeviceDescriptors</a></td>         <td class="cellrowborder" width="50%">返回设备列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: audio.<span class="hljs-property">AudioDeviceDescriptors</span> = audioSessionManager.<span class="hljs-title function_">getAvailableDevices</span>(audio.<span class="hljs-property">DeviceUsage</span>.<span class="hljs-property">MEDIA_OUTPUT_DEVICES</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getAvailableDevices.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getAvailableDevices. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onavailabledevicechange21" device-type="phone,2in1,tablet,wearable,tv">on('availableDeviceChange')<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onavailabledevicechange21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'availableDeviceChange', deviceUsage: DeviceUsage, callback: Callback&lt;DeviceChangeAction&gt;): void</p>     <p>监听音频可选设备连接状态变化事件（当音频可选设备连接状态发生变化时触发）。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'availableDeviceChange'，当音频可选设备连接状态发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">deviceUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#deviceusage12">DeviceUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频设备类型（根据用途分类）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#devicechangeaction">DeviceChangeAction</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回设备更新详情。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'availableDeviceChange'</span>, audio.<span class="hljs-property">DeviceUsage</span>.<span class="hljs-property">MEDIA_INPUT_DEVICES</span>, <span class="hljs-function">(<span class="hljs-params">deviceChanged: audio.DeviceChangeAction</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change type : '</span> + deviceChanged.<span class="hljs-property">type</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device descriptor size : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change descriptor : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>[<span class="hljs-number">0</span>].<span class="hljs-property">deviceRole</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change descriptor : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>[<span class="hljs-number">0</span>].<span class="hljs-property">deviceType</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offavailabledevicechange21" device-type="phone,2in1,tablet,wearable,tv">off('availableDeviceChange')<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offavailabledevicechange21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'availableDeviceChange', callback?: Callback&lt;DeviceChangeAction&gt;): void</p>     <p>取消监听音频可选设备连接状态变化事件。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'availableDeviceChange'，当取消监听音频可选设备连接变化事件时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#devicechangeaction">DeviceChangeAction</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回可选设备更新详情。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'availableDeviceChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">availableDeviceChangeCallback</span> = (<span class="hljs-params">deviceChanged: audio.DeviceChangeAction</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change type : '</span> + deviceChanged.<span class="hljs-property">type</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device descriptor size : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change descriptor : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>[<span class="hljs-number">0</span>].<span class="hljs-property">deviceRole</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'device change descriptor : '</span> + deviceChanged.<span class="hljs-property">deviceDescriptors</span>[<span class="hljs-number">0</span>].<span class="hljs-property">deviceType</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'availableDeviceChange'</span>, audio.<span class="hljs-property">DeviceUsage</span>.<span class="hljs-property">MEDIA_INPUT_DEVICES</span>, availableDeviceChangeCallback);</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'availableDeviceChange'</span>, availableDeviceChangeCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="selectmediainputdevice21" device-type="phone,2in1,tablet,wearable,tv">selectMediaInputDevice<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectmediainputdevice21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>selectMediaInputDevice(inputAudioDevice: AudioDeviceDescriptor): Promise&lt;void&gt;</p>     <p>设置媒体输入设备。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>本接口不适用于VoIP通话录音，即<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#sourcetype8">SourceType</a>为SOURCE_TYPE_VOICE_COMMUNICATION的场景不适用。</li>        <li>本接口调用前需要先调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#getavailabledevices21">getAvailableDevices</a>接口查询到当前可用输入设备列表，从列表中选择输入设备。</li>        <li>当系统中存在其他更高优先级的应用录音流时，实际使用的输入设备会跟随其他高优先级应用所选的输入设备。</li>        <li>应用程序可以监听<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#oncurrentinputdevicechanged21">currentInputDeviceChanged</a>事件来获得实际的输入设备。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">inputAudioDevice</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiodevicedescriptor">AudioDeviceDescriptor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">媒体输入设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed, for example, the selected device does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: audio.<span class="hljs-property">AudioDeviceDescriptors</span> = audioSessionManager.<span class="hljs-title function_">getAvailableDevices</span>(audio.<span class="hljs-property">DeviceUsage</span>.<span class="hljs-property">MEDIA_OUTPUT_DEVICES</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getAvailableDevices.'</span>);</li><li>
</li><li>  <span class="hljs-keyword">if</span> (data[<span class="hljs-number">0</span>]) {</li><li>    audioSessionManager.<span class="hljs-title function_">selectMediaInputDevice</span>(data[<span class="hljs-number">0</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing selectMediaInputDevice.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">selectErr: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to selectMediaInputDevice. Code: <span class="hljs-subst">${selectErr.code}</span>, message: <span class="hljs-subst">${selectErr.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getAvailableDevices. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getselectedmediainputdevice21" device-type="phone,2in1,tablet,wearable,tv">getSelectedMediaInputDevice<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getselectedmediainputdevice21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSelectedMediaInputDevice(): AudioDeviceDescriptor</p>     <p>获得通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#selectmediainputdevice21">selectMediaInputDevice</a>设置的媒体输入设备。</p>     <p>如果没有设置，返回一个deviceType属性为INVALID的设备。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#audiodevicedescriptor">AudioDeviceDescriptor</a></td>         <td class="cellrowborder" width="50%">媒体输入设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">device</span>: audio.<span class="hljs-property">AudioDeviceDescriptor</span> = audioSessionManager.<span class="hljs-title function_">getSelectedMediaInputDevice</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getSelectedMediaInputDevice.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getSelectedMediaInputDevice. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="clearselectedmediainputdevice21" device-type="phone,2in1,tablet,wearable,tv">clearSelectedMediaInputDevice<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearselectedmediainputdevice21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearSelectedMediaInputDevice(): Promise&lt;void&gt;</p>     <p>清空通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#selectmediainputdevice21">selectMediaInputDevice</a>设置的媒体输入设备。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">clearSelectedMediaInputDevice</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing clearSelectedMediaInputDevice.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to clearSelectedMediaInputDevice. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setbluetoothandnearlinkpreferredrecordcategory21" device-type="phone,2in1,tablet,wearable,tv">setBluetoothAndNearlinkPreferredRecordCategory<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setbluetoothandnearlinkpreferredrecordcategory21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBluetoothAndNearlinkPreferredRecordCategory(category: BluetoothAndNearlinkPreferredRecordCategory): Promise&lt;void&gt;</p>     <p>设置在使用蓝牙或星闪进行录音时，应用程序的设备偏好分类。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>应用程序可以在蓝牙或星闪连接之前设置此分类，系统将在设备连接时优先使用蓝牙或星闪进行录音。</li>        <li>当系统中存在其他更高优先级的应用录音流时，实际使用的输入设备会跟随其他高优先级应用所选的输入设备。</li>        <li>应用程序可以监听<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#oncurrentinputdevicechanged21">currentInputDeviceChanged</a>事件来获得实际的输入设备。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">category</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#bluetoothandnearlinkpreferredrecordcategory21">BluetoothAndNearlinkPreferredRecordCategory</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">在使用蓝牙或星闪进行录音时，应用程序的设备偏好分类。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> category = audio.<span class="hljs-property">BluetoothAndNearlinkPreferredRecordCategory</span>.<span class="hljs-property">PREFERRED_LOW_LATENCY</span>;</li><li>audioSessionManager.<span class="hljs-title function_">setBluetoothAndNearlinkPreferredRecordCategory</span>(category).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing setBluetoothAndNearlinkPreferredRecordCategory.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to setBluetoothAndNearlinkPreferredRecordCategory. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getbluetoothandnearlinkpreferredrecordcategory21" device-type="phone,2in1,tablet,wearable,tv">getBluetoothAndNearlinkPreferredRecordCategory<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getbluetoothandnearlinkpreferredrecordcategory21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBluetoothAndNearlinkPreferredRecordCategory(): BluetoothAndNearlinkPreferredRecordCategory</p>     <p>获取通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiosessionmanager#setbluetoothandnearlinkpreferredrecordcategory21">setBluetoothAndNearlinkPreferredRecordCategory</a>设置的在使用蓝牙或星闪进行录音时的设备偏好分类。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#bluetoothandnearlinkpreferredrecordcategory21">BluetoothAndNearlinkPreferredRecordCategory</a></td>         <td class="cellrowborder" width="50%">在使用蓝牙或星闪进行录音时，应用程序的设备偏好分类。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">category</span>: audio.<span class="hljs-property">BluetoothAndNearlinkPreferredRecordCategory</span> = audioSessionManager.<span class="hljs-title function_">getBluetoothAndNearlinkPreferredRecordCategory</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getBluetoothAndNearlinkPreferredRecordCategory.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getBluetoothAndNearlinkPreferredRecordCategory. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncurrentinputdevicechanged21" device-type="phone,2in1,tablet,wearable,tv">on('currentInputDeviceChanged')<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncurrentinputdevicechanged21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'currentInputDeviceChanged', callback: Callback&lt;CurrentInputDeviceChangedEvent&gt;): void</p>     <p>监听当前输入设备变化事件（当前输入设备发生变化时触发）。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'currentInputDeviceChanged'，当前输入设备发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#currentinputdevicechangedevent21">CurrentInputDeviceChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回当前输入设备信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">currentInputDeviceChangedCallback</span> = (<span class="hljs-params">currentInputDeviceChangedEvent: audio.CurrentInputDeviceChangedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of currentInputDeviceChanged: <span class="hljs-subst">${currentInputDeviceChangedEvent.changeReason}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'currentInputDeviceChanged'</span>, currentInputDeviceChangedCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcurrentinputdevicechanged21" device-type="phone,2in1,tablet,wearable,tv">off('currentInputDeviceChanged')<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcurrentinputdevicechanged21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'currentInputDeviceChanged', callback?: Callback&lt;CurrentInputDeviceChangedEvent&gt;): void</p>     <p>取消监听当前输入设备的变化事件。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Device</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'currentInputDeviceChanged'，当前输入设备发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#currentinputdevicechangedevent21">CurrentInputDeviceChangedEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，用于返回当前输入设备变化的信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Audio client call audio service error, System error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ung-c106="" class="highlight-div"><div _ngcontent-ung-c106="" class="highlight-div-header"><div _ngcontent-ung-c106="" class="highlight-div-header-left"><div _ngcontent-ung-c106="" class="handle-button expand-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ung-c106="" class="highlight-div-header-right"><div _ngcontent-ung-c106="" class="handle-button ai-button"></div><div _ngcontent-ung-c106="" class="handle-button line-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ung-c106="" class="handle-button theme-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ung-c106="" class="handle-button copy-button"><div _ngcontent-ung-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ung-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'currentInputDeviceChanged'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">currentInputDeviceChangedCallback</span> = (<span class="hljs-params">currentInputDeviceChangedEvent: audio.CurrentInputDeviceChangedEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`reason of currentInputDeviceChanged: <span class="hljs-subst">${currentInputDeviceChangedEvent.changeReason}</span> `</span>);</li><li>};</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'currentInputDeviceChanged'</span>, currentInputDeviceChangedCallback);</li><li>
</li><li>audioSessionManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'currentInputDeviceChanged'</span>, currentInputDeviceChangedCallback);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>