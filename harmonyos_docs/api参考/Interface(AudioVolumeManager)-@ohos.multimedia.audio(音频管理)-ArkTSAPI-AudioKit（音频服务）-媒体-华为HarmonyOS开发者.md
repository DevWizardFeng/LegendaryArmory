<h1 _ngcontent-dvo-c119="" class="doc-title ng-star-inserted" title="Interface (AudioVolumeManager)"> Interface (AudioVolumeManager) </h1>

<div _ngcontent-dvo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>音量管理。</p>    <p>在使用AudioVolumeManager的接口之前，需先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiomanager#getvolumemanager9">getVolumeManager</a>获取AudioVolumeManager实例。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 7开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li>       <li>本Interface首批接口从API version 9开始支持。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getvolumegroupmanager9" device-type="phone,2in1,tablet,wearable,tv">getVolumeGroupManager<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumegroupmanager9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeGroupManager(groupId: number, callback: AsyncCallback&lt;AudioVolumeGroupManager&gt;): void</p>     <p>获取音频组音量管理器实例。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">groupId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音量组id，默认使用DEFAULT_VOLUME_GROUP_ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager">AudioVolumeGroupManager</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当获取音频组音量管理器实例成功，err为undefined，data为获取到的音频组音量管理器实例；否则为错误对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">groupId</span>: <span class="hljs-built_in">number</span> = audio.<span class="hljs-property">DEFAULT_VOLUME_GROUP_ID</span>;</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">getVolumeGroupManager</span>(groupId, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, value: audio.AudioVolumeGroupManager</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getVolumeGroupManager. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getVolumeGroupManager.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getvolumegroupmanager9-1" device-type="phone,2in1,tablet,wearable,tv">getVolumeGroupManager<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumegroupmanager9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeGroupManager(groupId: number): Promise&lt;AudioVolumeGroupManager&gt;</p>     <p>获取音频组音量管理器实例。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">groupId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音量组id，默认使用DEFAULT_VOLUME_GROUP_ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt; <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager">AudioVolumeGroupManager</a> &gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回音频组音量管理器实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">groupId</span>: <span class="hljs-built_in">number</span> = audio.<span class="hljs-property">DEFAULT_VOLUME_GROUP_ID</span>;</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">getVolumeGroupManager</span>(groupId).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">audioVolumeGroupManager: audio.AudioVolumeGroupManager</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in doing getVolumeGroupManager.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getVolumeGroupManager. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getvolumegroupmanagersync10" device-type="phone,2in1,tablet,wearable,tv">getVolumeGroupManagerSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumegroupmanagersync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeGroupManagerSync(groupId: number): AudioVolumeGroupManager</p>     <p>获取音频组音量管理器实例。同步返回结果。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">groupId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音量组id，默认使用DEFAULT_VOLUME_GROUP_ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumegroupmanager">AudioVolumeGroupManager</a></td>         <td class="cellrowborder" width="50%">音频组音量管理器实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">audioVolumeGroupManager</span>: audio.<span class="hljs-property">AudioVolumeGroupManager</span> = audioVolumeManager.<span class="hljs-title function_">getVolumeGroupManagerSync</span>(audio.<span class="hljs-property">DEFAULT_VOLUME_GROUP_ID</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get audioVolumeGroupManager success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get audioVolumeGroupManager, error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getappvolumepercentage19" device-type="phone,2in1,tablet,wearable,tv">getAppVolumePercentage<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getappvolumepercentage19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAppVolumePercentage(): Promise&lt;number&gt;</p>     <p>获取应用的音量（范围为0到100）。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回应用的音量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">getAppVolumePercentage</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`app volume is <span class="hljs-subst">${value}</span>.`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setappvolumepercentage19" device-type="phone,2in1,tablet,wearable,tv">setAppVolumePercentage<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setappvolumepercentage19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAppVolumePercentage(volume: number): Promise&lt;void&gt;</p>     <p>设置应用的音量（范围为0到100）。使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">volume</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的音量值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800301</td>         <td class="cellrowborder" width="50%">Crash or blocking occurs in system process.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span>;</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">setAppVolumePercentage</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`set app volume success.`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onvolumechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('volumeChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onvolumechangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'volumeChange', callback: Callback&lt;VolumeEvent&gt;): void</p>     <p>监听系统音量变化事件（当系统音量发生变化时触发）。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 12开始支持，从API version 20开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#onstreamvolumechange20">on('streamVolumeChange')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'volumeChange'，当系统音量发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#volumeevent9">VolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters are left unspecified; 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'volumeChange'</span>, <span class="hljs-function">(<span class="hljs-params">volumeEvent: audio.VolumeEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`VolumeType of stream: <span class="hljs-subst">${volumeEvent.volumeType}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${volumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${volumeEvent.updateUi}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offvolumechangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('volumeChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offvolumechangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'volumeChange', callback?: Callback&lt;VolumeEvent&gt;): void</p>     <p>取消监听系统音量变化事件。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 12开始支持，从API version 20开始废弃，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-audiovolumemanager#offstreamvolumechange20">off('streamVolumeChange')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'volumeChange'，当取消监听系统音量变化事件时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#volumeevent9">VolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1.Mandatory parameters missing; 2.Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'volumeChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">volumeChangeCallback</span> = (<span class="hljs-params">volumeEvent: audio.VolumeEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`VolumeType of stream: <span class="hljs-subst">${volumeEvent.volumeType}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${volumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${volumeEvent.updateUi}</span> `</span>);</li><li>};</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'volumeChange'</span>, volumeChangeCallback);</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'volumeChange'</span>, volumeChangeCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onappvolumechange19" device-type="phone,2in1,tablet,wearable,tv">on('appVolumeChange')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onappvolumechange19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'appVolumeChange', callback: Callback&lt;VolumeEvent&gt;): void</p>     <p>监听当前应用应用级音量变化事件（当应用级音量发生变化时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'appVolumeChange'，当应用级音量发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#volumeevent9">VolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'appVolumeChange'</span>, <span class="hljs-function">(<span class="hljs-params">volumeEvent: audio.VolumeEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`VolumeType of stream: <span class="hljs-subst">${volumeEvent.volumeType}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${volumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${volumeEvent.updateUi}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offappvolumechange19" device-type="phone,2in1,tablet,wearable,tv">off('appVolumeChange')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offappvolumechange19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'appVolumeChange', callback?: Callback&lt;VolumeEvent&gt;): void</p>     <p>取消监听当前应用应用级音量变化事件。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'appVolumeChange'，当取消监听当前应用应用级音量变化事件时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#volumeevent9">VolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'appVolumeChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">appVolumeChangeCallback</span> = (<span class="hljs-params">volumeEvent: audio.VolumeEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`VolumeType of stream: <span class="hljs-subst">${volumeEvent.volumeType}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${volumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${volumeEvent.updateUi}</span> `</span>);</li><li>};</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'appVolumeChange'</span>, appVolumeChangeCallback);</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'appVolumeChange'</span>, appVolumeChangeCallback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getvolumebystream20" device-type="phone,2in1,tablet,wearable,tv">getVolumeByStream<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumebystream20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeByStream(streamUsage: StreamUsage): number</p>     <p>获取指定音频流的音量。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取音量值的音频流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">音量值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 获取指定音频流的音量值。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> volume : <span class="hljs-built_in">number</span> = audio.<span class="hljs-title function_">getAudioManager</span>().<span class="hljs-title function_">getVolumeManager</span>().<span class="hljs-title function_">getVolumeByStream</span>(audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Obtains the volume of a stream success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtains the volume of a stream, error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getminvolumebystream20" device-type="phone,2in1,tablet,wearable,tv">getMinVolumeByStream<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getminvolumebystream20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMinVolumeByStream(streamUsage: StreamUsage): number</p>     <p>获取指定音频流的最小音量。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的最小音量值的音频流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">音量值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 获取指定音频流的最小音量。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> volume : <span class="hljs-built_in">number</span> = audio.<span class="hljs-title function_">getAudioManager</span>().<span class="hljs-title function_">getVolumeManager</span>().<span class="hljs-title function_">getMinVolumeByStream</span>(audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Obtains the minimum volume allowed for a stream success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtains the minimum volume allowed for a stream, error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getmaxvolumebystream20" device-type="phone,2in1,tablet,wearable,tv">getMaxVolumeByStream<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmaxvolumebystream20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMaxVolumeByStream(streamUsage: StreamUsage): number</p>     <p>获取指定音频流的最大音量。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的最大音量值的音频流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">音量值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 获取指定音频流的最大音量。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> volume : <span class="hljs-built_in">number</span> = audio.<span class="hljs-title function_">getAudioManager</span>().<span class="hljs-title function_">getVolumeManager</span>().<span class="hljs-title function_">getMaxVolumeByStream</span>(audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Obtains the maximum volume allowed for a stream success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtains the maximum volume allowed for a stream, error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="issystemmutedforstream20" device-type="phone,2in1,tablet,wearable,tv">isSystemMutedForStream<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issystemmutedforstream20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSystemMutedForStream(streamUsage: StreamUsage): boolean</p>     <p>检查指定音频流是否静音。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">检查是否为静音的音频流。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">音频流是否为静音状态，true表示音频流已静音，false表示音频流未静音。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 检查指定音频流是否静音。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> isMuted : <span class="hljs-built_in">boolean</span> = audio.<span class="hljs-title function_">getAudioManager</span>().<span class="hljs-title function_">getVolumeManager</span>().<span class="hljs-title function_">isSystemMutedForStream</span>(audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Checks whether the system is muted based on the stream success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to checks whether the system is muted based on the stream, error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getvolumeinunitofdbbystream20" device-type="phone,2in1,tablet,wearable,tv">getVolumeInUnitOfDbByStream<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getvolumeinunitofdbbystream20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getVolumeInUnitOfDbByStream(streamUsage: StreamUsage, volumeLevel: number, device: DeviceType): number</p>     <p>获取系统通过音频流、音量等级和设备类型计算出的音量db值。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频流。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">volumeLevel</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音量值等级。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">device</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#devicetype">DeviceType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设备类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">音频流的音量db值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 获取系统通过音频流、音量等级和设备类型计算出的音量db值。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { audio } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AudioKit'</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> volumeInDb : <span class="hljs-built_in">number</span> = audio.<span class="hljs-title function_">getAudioManager</span>().<span class="hljs-title function_">getVolumeManager</span>().<span class="hljs-title function_">getVolumeInUnitOfDbByStream</span>(audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>, <span class="hljs-number">5</span>, audio.<span class="hljs-property">DeviceType</span>.<span class="hljs-property">SPEAKER</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Gets the volume db value that system calculate by volume stream, volume level and device type.</span></li><li><span class="hljs-string"> success.`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to gets the volume db value that system calculate by volume stream, volume level and device type., error: <span class="hljs-subst">${error}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onstreamvolumechange20" device-type="phone,2in1,tablet,wearable,tv">on('streamVolumeChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstreamvolumechange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'streamVolumeChange', streamUsage: StreamUsage, callback: Callback&lt;StreamVolumeEvent&gt;): void</p>     <p>监听系统音频流音量变化事件（当系统音频流音量发生变化时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'streamVolumeChange'，当系统音量发生变化时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">streamUsage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-e#streamusage">StreamUsage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">音频流使用类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#streamvolumeevent20">StreamVolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-audio">Audio错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">6800101</td>         <td class="cellrowborder" width="50%">Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'streamVolumeChange'</span>, audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>, <span class="hljs-function">(<span class="hljs-params">streamVolumeEvent: audio.StreamVolumeEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`StreamUsage of stream: <span class="hljs-subst">${streamVolumeEvent.streamUsage}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${streamVolumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${streamVolumeEvent.updateUi}</span> `</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offstreamvolumechange20" device-type="phone,2in1,tablet,wearable,tv">off('streamVolumeChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstreamvolumechange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'streamVolumeChange', callback?: Callback&lt;StreamVolumeEvent&gt;): void</p>     <p>取消监听系统音频流音量变化事件（当系统音频流音量发生变化时触发）。使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Volume</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">事件回调类型，支持的事件为'volumeChange'，当取消监听系统音量变化事件时，触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-audio-i#streamvolumeevent20">StreamVolumeEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回变化后的音量信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-dvo-c106="" class="highlight-div"><div _ngcontent-dvo-c106="" class="highlight-div-header"><div _ngcontent-dvo-c106="" class="highlight-div-header-left"><div _ngcontent-dvo-c106="" class="handle-button expand-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dvo-c106="" class="highlight-div-header-right"><div _ngcontent-dvo-c106="" class="handle-button ai-button"></div><div _ngcontent-dvo-c106="" class="handle-button line-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dvo-c106="" class="handle-button theme-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dvo-c106="" class="handle-button copy-button"><div _ngcontent-dvo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dvo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 取消该事件的所有监听。</span></li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'streamVolumeChange'</span>);</li><li>
</li><li><span class="hljs-comment">// 同一监听事件中，on方法和off方法传入callback参数一致，off方法取消对应on方法订阅的监听。</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">streamVolumeChangeCallback</span> = (<span class="hljs-params">streamVolumeEvent: audio.StreamVolumeEvent</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`StreamUsage of stream: <span class="hljs-subst">${streamVolumeEvent.streamUsage}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Volume level: <span class="hljs-subst">${streamVolumeEvent.volume}</span> `</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Whether to updateUI: <span class="hljs-subst">${streamVolumeEvent.updateUi}</span> `</span>);</li><li>};</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'streamVolumeChange'</span>, audio.<span class="hljs-property">StreamUsage</span>.<span class="hljs-property">STREAM_USAGE_MUSIC</span>, streamVolumeChangeCallback);</li><li>
</li><li>audioVolumeManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'streamVolumeChange'</span>, streamVolumeChangeCallback);</li></ol></pre></div></div>    </div>   </div>   <div></div></div>