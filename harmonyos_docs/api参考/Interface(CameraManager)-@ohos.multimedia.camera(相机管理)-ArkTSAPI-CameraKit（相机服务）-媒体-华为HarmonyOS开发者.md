<h1 _ngcontent-gao-c119="" class="doc-title ng-star-inserted" title="Interface (CameraManager)"> Interface (CameraManager) </h1>

<div _ngcontent-gao-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>相机管理器类，使用前需要通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-f#cameragetcameramanager">getCameraManager</a>接口获取相机管理实例。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getsupportedcameras" device-type="phone,2in1,tablet,tv">getSupportedCameras<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedcameras" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedCameras(): Array&lt;CameraDevice&gt;</p>     <p>获取支持的相机设备对象，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a>&gt;</td>         <td class="cellrowborder" width="50%">相机设备列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSupportedCameras</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">CameraDevice</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameras</span>: <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">CameraDevice</span>&gt; = [];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    cameras = cameraManager.<span class="hljs-title function_">getSupportedCameras</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getSupportedCameras call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> cameras;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getsupportedscenemodes11" device-type="phone,2in1,tablet,tv">getSupportedSceneModes<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedscenemodes11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedSceneModes(camera: CameraDevice): Array&lt;SceneMode&gt;</p>     <p>获取指定的相机设备对象支持的模式，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">camera</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机设备，通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取。传参异常时，会返回错误码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#scenemode11">SceneMode</a>&gt;</td>         <td class="cellrowborder" width="50%">相机支持的模式列表。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSupportedSceneModes</span>(<span class="hljs-params">cameraManager: camera.CameraManager, camera: camera.CameraDevice</span>): <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">SceneMode</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">modes</span>: <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">SceneMode</span>&gt; = [];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    modes = cameraManager.<span class="hljs-title function_">getSupportedSceneModes</span>(camera);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getSupportedSceneModes call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> modes;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getsupportedoutputcapability11" device-type="phone,2in1,tablet,tv">getSupportedOutputCapability<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedoutputcapability11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedOutputCapability(camera: CameraDevice, mode: SceneMode): CameraOutputCapability</p>     <p>查询相机设备在指定模式下支持的输出能力，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">camera</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机设备，通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#scenemode11">SceneMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机模式，通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedscenemodes11">getSupportedSceneModes</a> 接口获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameraoutputcapability">CameraOutputCapability</a></td>         <td class="cellrowborder" width="50%">相机输出能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSupportedOutputCapability</span>(<span class="hljs-params">camera: camera.CameraDevice, cameraManager: camera.CameraManager, sceneMode: camera.SceneMode</span>): camera.<span class="hljs-property">CameraOutputCapability</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameraOutputCapability</span>: camera.<span class="hljs-property">CameraOutputCapability</span> = cameraManager.<span class="hljs-title function_">getSupportedOutputCapability</span>(camera, sceneMode);</li><li>  <span class="hljs-keyword">return</span> cameraOutputCapability;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="iscameramuted" device-type="phone,2in1,tablet,tv">isCameraMuted<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iscameramuted" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isCameraMuted(): boolean</p>     <p>查询当前相机是否禁用。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示相机被禁用，返回false表示相机未被禁用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isCameraMuted</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isMuted</span>: <span class="hljs-built_in">boolean</span> = cameraManager.<span class="hljs-title function_">isCameraMuted</span>();</li><li>  <span class="hljs-keyword">return</span> isMuted;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createcamerainput" device-type="phone,2in1,tablet,tv">createCameraInput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcamerainput" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createCameraInput(camera: CameraDevice): CameraInput</p>     <p>使用CameraDevice对象创建CameraInput实例，同步返回结果。</p>     <p>该接口使用前首先通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a>接口查询当前设备支持的相机设备信息列表，开发者需要根据具体使用场景选择符合需求的相机设备，然后使用该接口创建CameraInput实例。</p>     <p><strong>需要权限：</strong> ohos.permission.CAMERA</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">camera</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">CameraDevice对象，通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td>         <td class="cellrowborder" width="50%">返回CameraInput实例。接口调用失败会返回相应错误码，错误码类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCameraInput</span>(<span class="hljs-params">camera: camera.CameraDevice, cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">CameraInput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameraInput</span>: camera.<span class="hljs-property">CameraInput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    cameraInput = cameraManager.<span class="hljs-title function_">createCameraInput</span>(camera);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createCameraInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> cameraInput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createcamerainput-1" device-type="phone,2in1,tablet,tv">createCameraInput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcamerainput-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createCameraInput(position: CameraPosition, type: CameraType): CameraInput</p>     <p>根据相机位置和类型创建CameraInput实例，同步返回结果。</p>     <p>该接口使用前需要开发者根据应用具体使用场景自行指定相机位置和类型，例如打开前置相机进入自拍功能。</p>     <p><strong>需要权限：</strong> ohos.permission.CAMERA</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraposition">CameraPosition</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机位置，首先通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取支持的相机设备对象，然后根据返回的相机设备对象获取设备位置信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameratype">CameraType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机类型，首先通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取支持的相机设备对象，然后根据返回的相机设备对象获取设备类型信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td>         <td class="cellrowborder" width="50%">返回CameraInput实例。接口调用失败会返回相应错误码，错误码类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCameraInput</span>(<span class="hljs-params">camera: camera.CameraDevice, cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">CameraInput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: camera.<span class="hljs-property">CameraPosition</span> = camera.<span class="hljs-property">cameraPosition</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">type</span>: camera.<span class="hljs-property">CameraType</span> = camera.<span class="hljs-property">cameraType</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameraInput</span>: camera.<span class="hljs-property">CameraInput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    cameraInput = cameraManager.<span class="hljs-title function_">createCameraInput</span>(position, <span class="hljs-keyword">type</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createCameraInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> cameraInput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createpreviewoutput" device-type="phone,2in1,tablet,tv">createPreviewOutput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createpreviewoutput" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createPreviewOutput(profile: Profile, surfaceId: string): PreviewOutput</p>     <p>创建预览输出对象，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">profile</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#profile">Profile</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">支持的预览配置信息，通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>接口获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">surfaceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-imagereceiver">ImageReceiver</a>组件获取的surfaceId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-previewoutput">PreviewOutput</a></td>         <td class="cellrowborder" width="50%">PreviewOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPreviewOutput</span>(<span class="hljs-params">cameraOutputCapability: camera.CameraOutputCapability, cameraManager: camera.CameraManager, surfaceId: <span class="hljs-built_in">string</span></span>): camera.<span class="hljs-property">PreviewOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">profile</span>: camera.<span class="hljs-property">Profile</span> = cameraOutputCapability.<span class="hljs-property">previewProfiles</span>[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">previewOutput</span>: camera.<span class="hljs-property">PreviewOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    previewOutput = cameraManager.<span class="hljs-title function_">createPreviewOutput</span>(profile, surfaceId);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createPreviewOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> previewOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createpreviewoutput12" device-type="phone,2in1,tablet,tv">createPreviewOutput<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createpreviewoutput12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createPreviewOutput(surfaceId: string): PreviewOutput</p>     <p>创建无配置信息的预览输出对象，同步返回结果。该接口需配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photosession#preconfig12">preconfig</a>一起使用。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">surfaceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent">XComponent</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-imagereceiver">ImageReceiver</a>组件获取的surfaceId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-previewoutput">PreviewOutput</a></td>         <td class="cellrowborder" width="50%">PreviewOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPreviewOutput</span>(<span class="hljs-params">cameraManager: camera.CameraManager, surfaceId: <span class="hljs-built_in">string</span></span>): camera.<span class="hljs-property">PreviewOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">previewOutput</span>: camera.<span class="hljs-property">PreviewOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    previewOutput = cameraManager.<span class="hljs-title function_">createPreviewOutput</span>(surfaceId);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createPreviewOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> previewOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createphotooutput11" device-type="phone,2in1,tablet,tv">createPhotoOutput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createphotooutput11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createPhotoOutput(profile?: Profile): PhotoOutput</p>     <p>创建拍照输出对象，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">profile</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#profile">Profile</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>支持的拍照配置信息，通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>接口获取。</p>          <p>API version 11时，该参数必填；从API version 12开始，如果使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photosession#preconfig12">preconfig</a>进行预配置，传入profile参数会覆盖preconfig的预配置参数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput">PhotoOutput</a></td>         <td class="cellrowborder" width="50%">PhotoOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPhotoOutput</span>(<span class="hljs-params">cameraOutputCapability: camera.CameraOutputCapability, cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">PhotoOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">profile</span>: camera.<span class="hljs-property">Profile</span> = cameraOutputCapability.<span class="hljs-property">photoProfiles</span>[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">photoOutput</span>: camera.<span class="hljs-property">PhotoOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoOutput = cameraManager.<span class="hljs-title function_">createPhotoOutput</span>(profile);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createPhotoOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> photoOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createvideooutput" device-type="phone,2in1,tablet,tv">createVideoOutput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createvideooutput" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createVideoOutput(profile: VideoProfile, surfaceId: string): VideoOutput</p>     <p>创建录像输出对象，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">profile</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#videoprofile">VideoProfile</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">支持的录像配置信息，通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>接口获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">surfaceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-media-avrecorder">AVRecorder</a>获取的surfaceId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videooutput">VideoOutput</a></td>         <td class="cellrowborder" width="50%">VideoOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createVideoOutput</span>(<span class="hljs-params">cameraOutputCapability: camera.CameraOutputCapability, cameraManager: camera.CameraManager, surfaceId: <span class="hljs-built_in">string</span></span>): camera.<span class="hljs-property">VideoOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">profile</span>: camera.<span class="hljs-property">VideoProfile</span> = cameraOutputCapability.<span class="hljs-property">videoProfiles</span>[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">videoOutput</span>: camera.<span class="hljs-property">VideoOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    videoOutput = cameraManager.<span class="hljs-title function_">createVideoOutput</span>(profile, surfaceId);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createVideoOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> videoOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createvideooutput12" device-type="phone,2in1,tablet,tv">createVideoOutput<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createvideooutput12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createVideoOutput(surfaceId: string): VideoOutput</p>     <p>创建无配置信息的录像输出对象，同步返回结果。该接口需配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession#preconfig12">preconfig</a>功能一起使用。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">surfaceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-media-avrecorder">AVRecorder</a>获取的surfaceId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videooutput">VideoOutput</a></td>         <td class="cellrowborder" width="50%">VideoOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createVideoOutput</span>(<span class="hljs-params">cameraManager: camera.CameraManager, surfaceId: <span class="hljs-built_in">string</span></span>): camera.<span class="hljs-property">VideoOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">videoOutput</span>: camera.<span class="hljs-property">VideoOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    videoOutput = cameraManager.<span class="hljs-title function_">createVideoOutput</span>(surfaceId);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createVideoOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> videoOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createmetadataoutput" device-type="phone,2in1,tablet,tv">createMetadataOutput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createmetadataoutput" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createMetadataOutput(metadataObjectTypes: Array&lt;MetadataObjectType&gt;): MetadataOutput</p>     <p>创建metadata流输出对象，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">metadataObjectTypes</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#metadataobjecttype">MetadataObjectType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">metadata流类型信息，通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>接口获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-metadataoutput">MetadataOutput</a></td>         <td class="cellrowborder" width="50%">MetadataOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createMetadataOutput</span>(<span class="hljs-params">cameraManager: camera.CameraManager, cameraOutputCapability: camera.CameraOutputCapability</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">metadataObjectTypes</span>: <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">MetadataObjectType</span>&gt; = cameraOutputCapability.<span class="hljs-property">supportedMetadataObjectTypes</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">metadataOutput</span>: camera.<span class="hljs-property">MetadataOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    metadataOutput = cameraManager.<span class="hljs-title function_">createMetadataOutput</span>(metadataObjectTypes);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createMetadataOutput error. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createsession11" device-type="phone,2in1,tablet,tv">createSession<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createsession11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createSession&lt;T extends Session&gt;(mode: SceneMode): T</p>     <p>创建指定SceneMode的Session实例，同步返回结果。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#scenemode11">SceneMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机支持的模式。如果传入的参数异常（如超出范围、传入null或未定义等），实际接口不会生效。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session">T</a></td>         <td class="cellrowborder" width="50%">Session实例。接口调用失败会返回相应的错误码，错误码类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3.Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createSession</span>(<span class="hljs-params">cameraManager: camera.CameraManager, mode: camera.SceneMode</span>): camera.<span class="hljs-property">Session</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">photoSession</span>: camera.<span class="hljs-property">PhotoSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoSession = cameraManager.<span class="hljs-title function_">createSession</span>(mode) <span class="hljs-keyword">as</span> camera.<span class="hljs-property">PhotoSession</span>;</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createCaptureSession error. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> photoSession;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncamerastatus" device-type="phone,2in1,tablet,tv">on('cameraStatus')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncamerastatus" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'cameraStatus', callback: AsyncCallback&lt;CameraStatusInfo&gt;): void</p>     <p>相机设备状态回调，通过注册回调函数获取相机的状态变化。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'cameraStatus'。cameraManager对象获取成功后可监听。目前只支持对设备打开或者关闭会触发该事件并返回对应信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#camerastatusinfo">CameraStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取镜头状态变化信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, cameraStatusInfo: camera.CameraStatusInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'cameraStatus with errorCode = '</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`camera : <span class="hljs-subst">${cameraStatusInfo.camera.cameraId}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`status: <span class="hljs-subst">${cameraStatusInfo.status}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerCameraStatus</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'cameraStatus'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcamerastatus" device-type="phone,2in1,tablet,tv">off('cameraStatus')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcamerastatus" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'cameraStatus', callback?: AsyncCallback&lt;CameraStatusInfo&gt;): void</p>     <p>相机设备状态注销回调，通过注销回调函数取消获取相机的状态变化。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'cameraStatus'。cameraManager对象获取成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#camerastatusinfo">CameraStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterCameraStatus</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'cameraStatus'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onfoldstatuschange12" device-type="phone,2in1,tablet,tv">on('foldStatusChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onfoldstatuschange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'foldStatusChange', callback: AsyncCallback&lt;FoldStatusInfo&gt;): void</p>     <p>注册折叠设备折叠状态变化的监听。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'foldStatusChange'。表示折叠设备折叠状态发生变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#foldstatusinfo12">FoldStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回折叠设备折叠信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, foldStatusInfo: camera.FoldStatusInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'foldStatusChange with errorCode = '</span> + err.<span class="hljs-property">code</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`camera length: <span class="hljs-subst">${foldStatusInfo.supportedCameras.length}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`foldStatus: <span class="hljs-subst">${foldStatusInfo.foldStatus}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerFoldStatusChange</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'foldStatusChange'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offfoldstatuschange12" device-type="phone,2in1,tablet,tv">off('foldStatusChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offfoldstatuschange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'foldStatusChange', callback?: AsyncCallback&lt;FoldStatusInfo&gt;): void</p>     <p>关闭折叠设备折叠状态变化的监听。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'foldStatusChange'。表示折叠设备折叠状态发生变化。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#foldstatusinfo12">FoldStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，返回折叠设备折叠信息。如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterFoldStatusChange</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'foldStatusChange'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="istorchsupported11" device-type="phone,2in1,tablet,tv">isTorchSupported<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="istorchsupported11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isTorchSupported(): boolean</p>     <p>检测设备是否支持手电筒。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示设备支持手电筒，返回false表示设备不支持手电。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isTorchSupported</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> isSupported = cameraManager.<span class="hljs-title function_">isTorchSupported</span>();</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="istorchmodesupported11" device-type="phone,2in1,tablet,tv">isTorchModeSupported<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="istorchmodesupported11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isTorchModeSupported(mode: TorchMode): boolean</p>     <p>检测是否支持设置的手电筒模式。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#torchmode11">TorchMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">手电筒模式。传参为null或者undefined，作为0处理，手电筒关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回true表示设备支持设置的手电筒模式，返回false表示设备不支持的手电筒模式。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isTorchModeSupported</span>(<span class="hljs-params">cameraManager: camera.CameraManager, torchMode: camera.TorchMode</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> isSupported = cameraManager.<span class="hljs-title function_">isTorchModeSupported</span>(torchMode);</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="gettorchmode11" device-type="phone,2in1,tablet,tv">getTorchMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettorchmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getTorchMode(): TorchMode</p>     <p>获取当前设备手电筒模式。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#torchmode11">TorchMode</a></td>         <td class="cellrowborder" width="50%">返回设备当前手电筒模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getTorchMode</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">TorchMode</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">torchMode</span>: camera.<span class="hljs-property">TorchMode</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  torchMode = cameraManager.<span class="hljs-title function_">getTorchMode</span>();</li><li>  <span class="hljs-keyword">return</span> torchMode;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="settorchmode11" device-type="phone,2in1,tablet,tv">setTorchMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settorchmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setTorchMode(mode: TorchMode): void</p>     <p>设置设备手电筒模式。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#torchmode11">TorchMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">手电筒模式。传参为null或者undefined，作为0处理，手电筒关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setTorchMode</span>(<span class="hljs-params">cameraManager: camera.CameraManager, torchMode: camera.TorchMode</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    cameraManager.<span class="hljs-title function_">setTorchMode</span>(torchMode);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setTorchMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="ontorchstatuschange11" device-type="phone,2in1,tablet,tv">on('torchStatusChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ontorchstatuschange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'torchStatusChange', callback: AsyncCallback&lt;TorchStatusInfo&gt;): void</p>     <p>手电筒状态变化回调，通过注册回调函数获取手电筒状态变化。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'torchStatusChange'。cameraManager对象获取成功后可监听。目前只支持手电筒打开，手电筒关闭，手电筒不可用，手电筒恢复可用会触发该事件并返回对应信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#torchstatusinfo11">TorchStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取手电筒状态变化信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, torchStatusInfo: camera.TorchStatusInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onTorchStatusChange, isTorchAvailable: <span class="hljs-subst">${torchStatusInfo.isTorchAvailable}</span>, isTorchActive: <span class="hljs-subst">${torchStatusInfo.isTorchActive}</span>, level: <span class="hljs-subst">${torchStatusInfo.torchLevel}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerTorchStatusChange</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'torchStatusChange'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offtorchstatuschange11" device-type="phone,2in1,tablet,tv">off('torchStatusChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offtorchstatuschange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'torchStatusChange', callback?: AsyncCallback&lt;TorchStatusInfo&gt;): void</p>     <p>手电筒状态变化注销回调，通过注销回调函数取消获取手电筒状态变化。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'torchStatusChange'。cameraManager对象获取成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#torchstatusinfo11">TorchStatusInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterTorchStatusChange</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): <span class="hljs-built_in">void</span> {</li><li>  cameraManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'torchStatusChange'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getcameradevice18" device-type="phone,2in1,tablet,tv">getCameraDevice<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcameradevice18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getCameraDevice(position:CameraPosition, type: CameraType): CameraDevice</p>     <p>根据相机位置和相机类型查询对应相机。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraposition">CameraPosition</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要得到的CameraDevice对象对应的CameraPosition条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameratype">CameraType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要得到的CameraDevice对象对应的CameraType条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a></td>         <td class="cellrowborder" width="50%">根据相机位置和相机类型查询的对应相机。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCameraDevice</span>(<span class="hljs-params">cameraManager: camera.CameraManager, position: camera.CameraPosition, <span class="hljs-keyword">type</span>: camera.CameraType</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">curCameraDev</span>: camera.<span class="hljs-property">CameraDevice</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    curCameraDev = cameraManager.<span class="hljs-title function_">getCameraDevice</span>(position, <span class="hljs-keyword">type</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getCameraDevice call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getcameraconcurrentinfos18" device-type="phone,2in1,tablet,tv">getCameraConcurrentInfos<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcameraconcurrentinfos18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getCameraConcurrentInfos(cameras: Array&lt;CameraDevice&gt;): Array&lt;CameraConcurrentInfo&gt;</p>     <p>获取指定相机设备的并发信息。返回空数组表示不支持并发。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cameras</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">一组CameraDevice相机设备，并得到与这一组CamraDevice对应的并发信息，推荐设置为由<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getcameradevice18">getCameraDevice</a>获取的前置与后置两个用于并发的相机设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameraconcurrentinfo18">CameraConcurrentInfo</a>&gt;</td>         <td class="cellrowborder" width="50%">一组CameraDevice相机设备对象对应的并发信息，与CameraDevice相机设备一一对应。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCameraConcurrentInfos</span>(<span class="hljs-params">cameraManager: camera.CameraManager,</span></li><li><span class="hljs-params">  cameraDeviceArray: <span class="hljs-built_in">Array</span>&lt;camera.CameraDevice&gt;</span>): <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">CameraConcurrentInfo</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameraConcurrentInfos</span>: <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">CameraConcurrentInfo</span>&gt; = [];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    cameraConcurrentInfos = cameraManager.<span class="hljs-title function_">getCameraConcurrentInfos</span>(cameraDeviceArray);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getCameraConcurrentInfos call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> cameraConcurrentInfos;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getsupportedoutputcapabilitydeprecated" device-type="phone,2in1,tablet,tv">getSupportedOutputCapability<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedoutputcapabilitydeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedOutputCapability(camera: CameraDevice): CameraOutputCapability</p>     <p>查询相机设备支持的输出能力，同步返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">camera</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice">CameraDevice</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机设备，通过 <a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras">getSupportedCameras</a> 接口获取。传参异常时，会返回错误码。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameraoutputcapability">CameraOutputCapability</a></td>         <td class="cellrowborder" width="50%">相机输出能力。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSupportedOutputCapability</span>(<span class="hljs-params">camera: camera.CameraDevice, cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">CameraOutputCapability</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">cameraOutputCapability</span>: camera.<span class="hljs-property">CameraOutputCapability</span> = cameraManager.<span class="hljs-title function_">getSupportedOutputCapability</span>(camera);</li><li>  <span class="hljs-keyword">return</span> cameraOutputCapability;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createphotooutputdeprecated" device-type="phone,2in1,tablet,tv">createPhotoOutput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createphotooutputdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createPhotoOutput(profile: Profile, surfaceId: string): PhotoOutput</p>     <p>创建拍照输出对象，同步返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#createphotooutput11">createPhotoOutput</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">profile</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#profile">Profile</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">支持的拍照配置信息，通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedoutputcapability11">getSupportedOutputCapability</a>接口获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">surfaceId</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">从<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-imagereceiver">ImageReceiver</a>获取的surfaceId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput">PhotoOutput</a></td>         <td class="cellrowborder" width="50%">PhotoOutput实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPhotoOutput</span>(<span class="hljs-params">cameraOutputCapability: camera.CameraOutputCapability, cameraManager: camera.CameraManager, surfaceId: <span class="hljs-built_in">string</span></span>): camera.<span class="hljs-property">PhotoOutput</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">profile</span>: camera.<span class="hljs-property">Profile</span> = cameraOutputCapability.<span class="hljs-property">photoProfiles</span>[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">photoOutput</span>: camera.<span class="hljs-property">PhotoOutput</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoOutput = cameraManager.<span class="hljs-title function_">createPhotoOutput</span>(profile, surfaceId);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The createPhotoOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> photoOutput;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="createcapturesessiondeprecated" device-type="phone,2in1,tablet,tv">createCaptureSession<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcapturesessiondeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>createCaptureSession(): CaptureSession</p>     <p>创建CaptureSession实例，同步返回结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#createsession11">createSession</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession">CaptureSession</a></td>         <td class="cellrowborder" width="50%">CaptureSession实例。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-gao-c106="" class="highlight-div"><div _ngcontent-gao-c106="" class="highlight-div-header"><div _ngcontent-gao-c106="" class="highlight-div-header-left"><div _ngcontent-gao-c106="" class="handle-button expand-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gao-c106="" class="highlight-div-header-right"><div _ngcontent-gao-c106="" class="handle-button ai-button"></div><div _ngcontent-gao-c106="" class="handle-button line-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gao-c106="" class="handle-button theme-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gao-c106="" class="handle-button copy-button"><div _ngcontent-gao-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gao-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCaptureSession</span>(<span class="hljs-params">cameraManager: camera.CameraManager</span>): camera.<span class="hljs-property">CaptureSession</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">captureSession</span>: camera.<span class="hljs-property">CaptureSession</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession = cameraManager.<span class="hljs-title function_">createCaptureSession</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createCaptureSession error. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> captureSession;</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>