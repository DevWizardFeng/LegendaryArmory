<h1 _ngcontent-kpd-c119="" class="doc-title ng-star-inserted" title="Interface (PhotoOutput)"> Interface (PhotoOutput) </h1>

<div _ngcontent-kpd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>拍照会话中使用的输出信息，继承<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="capture" device-type="phone,2in1,tablet,tv">capture<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="capture" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>capture(callback: AsyncCallback&lt;void&gt;): void</p>     <p>以默认设置触发一次拍照，通过注册回调函数获取结果。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当以默认设置触发拍照成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400104</td>         <td class="cellrowborder" width="50%">Session not running.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">capture</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">capture</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to capture the photo, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the photo capture request success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="capture-1" device-type="phone,2in1,tablet,tv">capture<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="capture-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>capture(): Promise&lt;void&gt;</p>     <p>以默认设置触发一次拍照。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400104</td>         <td class="cellrowborder" width="50%">Session not running.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">capture</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">capture</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that photo capture request success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to photo output capture, error code: <span class="hljs-subst">${error.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="capture-2" device-type="phone,2in1,tablet,tv">capture<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="capture-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>capture(setting: PhotoCaptureSetting, callback: AsyncCallback&lt;void&gt;): void</p>     <p>以指定参数触发一次拍照，通过注册回调函数获取结果。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">setting</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#photocapturesetting">PhotoCaptureSetting</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拍照设置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取结果。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400104</td>         <td class="cellrowborder" width="50%">Session not running.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">capture</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">captureLocation</span>: camera.<span class="hljs-property">Location</span> = {</li><li>    <span class="hljs-attr">latitude</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">settings</span>: camera.<span class="hljs-property">PhotoCaptureSetting</span> = {</li><li>    <span class="hljs-attr">quality</span>: camera.<span class="hljs-property">QualityLevel</span>.<span class="hljs-property">QUALITY_LEVEL_LOW</span>,</li><li>    <span class="hljs-attr">rotation</span>: camera.<span class="hljs-property">ImageRotation</span>.<span class="hljs-property">ROTATION_0</span>,</li><li>    <span class="hljs-attr">location</span>: captureLocation,</li><li>    <span class="hljs-attr">mirror</span>: <span class="hljs-literal">false</span></li><li>  }</li><li>  photoOutput.<span class="hljs-title function_">capture</span>(settings, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to capture the photo, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the photo capture request success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="capture-3" device-type="phone,2in1,tablet,tv">capture<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="capture-3" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>capture(setting: PhotoCaptureSetting): Promise&lt;void&gt;</p>     <p>以指定参数触发一次拍照。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">setting</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#photocapturesetting">PhotoCaptureSetting</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">拍照设置，传入undefined类型数据按默认无参处理。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400104</td>         <td class="cellrowborder" width="50%">Session not running.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">capture</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">captureLocation</span>: camera.<span class="hljs-property">Location</span> = {</li><li>    <span class="hljs-attr">latitude</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">longitude</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">altitude</span>: <span class="hljs-number">0</span></li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">settings</span>: camera.<span class="hljs-property">PhotoCaptureSetting</span> = {</li><li>    <span class="hljs-attr">quality</span>: camera.<span class="hljs-property">QualityLevel</span>.<span class="hljs-property">QUALITY_LEVEL_LOW</span>,</li><li>    <span class="hljs-attr">rotation</span>: camera.<span class="hljs-property">ImageRotation</span>.<span class="hljs-property">ROTATION_0</span>,</li><li>    <span class="hljs-attr">location</span>: captureLocation,</li><li>    <span class="hljs-attr">mirror</span>: <span class="hljs-literal">false</span></li><li>  }</li><li>  photoOutput.<span class="hljs-title function_">capture</span>(settings).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that photo capture request success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to photo output capture, error code: <span class="hljs-subst">${error.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onphotoavailable11" device-type="phone,2in1,tablet,tv">on('photoAvailable')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onphotoavailable11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'photoAvailable', callback: AsyncCallback&lt;Photo&gt;): void</p>     <p>注册监听全质量图上报。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'photoAvailable'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photo">Photo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于监听全质量图上报。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, photo: camera.Photo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">mainImage</span>: image.<span class="hljs-property">Image</span> = photo.<span class="hljs-property">main</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputPhotoAvailable</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'photoAvailable'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offphotoavailable11" device-type="phone,2in1,tablet,tv">off('photoAvailable')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offphotoavailable11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'photoAvailable', callback?: AsyncCallback&lt;Photo&gt;): void</p>     <p>注销监听全质量图上报。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'photoAvailable'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photo">Photo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, photo: camera.Photo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">mainImage</span>: image.<span class="hljs-property">Image</span> = photo.<span class="hljs-property">main</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unRegisterPhotoOutputPhotoAvailable</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'photoAvailable'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncapturestartwithinfo11" device-type="phone,2in1,tablet,tv">on('captureStartWithInfo')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncapturestartwithinfo11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'captureStartWithInfo', callback: AsyncCallback&lt;CaptureStartInfo&gt;): void</p>     <p>监听拍照开始，通过注册回调函数获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#capturestartinfo11">CaptureStartInfo</a>。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureStartWithInfo'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#capturestartinfo11">CaptureStartInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">使用callback的方式获取Capture ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, captureStartInfo: camera.CaptureStartInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photo capture started, captureStartInfo : <span class="hljs-subst">${captureStartInfo}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerCaptureStartWithInfo</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'captureStartWithInfo'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcapturestartwithinfo11" device-type="phone,2in1,tablet,tv">off('captureStartWithInfo')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcapturestartwithinfo11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'captureStartWithInfo', callback?: AsyncCallback&lt;CaptureStartInfo&gt;): void</p>     <p>注销监听拍照。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureStartWithInfo'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#capturestartinfo11">CaptureStartInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unRegisterCaptureStartWithInfo</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'captureStartWithInfo'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="ismovingphotosupported12" device-type="phone,2in1,tablet,tv">isMovingPhotoSupported<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismovingphotosupported12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isMovingPhotoSupported(): boolean</p>     <p>查询是否支持动态照片拍摄。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回是否支持动态照片拍照。true表示支持，false表示不支持。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isMovingPhotoSupported</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isSupported</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    isSupported = photoOutput.<span class="hljs-title function_">isMovingPhotoSupported</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isMovingPhotoSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="enablemovingphoto12" device-type="phone,2in1,tablet,tv">enableMovingPhoto<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablemovingphoto12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>enableMovingPhoto(enabled: boolean): void</p>     <p>使能动态照片拍照。</p>     <p><strong>需要权限：</strong> ohos.permission.MICROPHONE</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">使能动态照片拍照。true为开启动态照片，false为关闭动态照片。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">enableMovingPhoto</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoOutput.<span class="hljs-title function_">enableMovingPhoto</span>(<span class="hljs-literal">true</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The enableMovingPhoto call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onphotoassetavailable12" device-type="phone,2in1,tablet,tv">on('photoAssetAvailable')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onphotoassetavailable12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'photoAssetAvailable', callback: AsyncCallback&lt;photoAccessHelper.PhotoAsset&gt;): void</p>     <p>注册监听photoAsset上报。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'photoAssetAvailable'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoasset">photoAccessHelper.PhotoAsset</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于监听photoAsset上报。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { photoAccessHelper } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MediaLibraryKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">photoAssetAvailableCallback</span>(<span class="hljs-params">err: BusinessError, photoAsset: photoAccessHelper.PhotoAsset</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photoAssetAvailable error: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>.`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'photoOutPutCallBack photoAssetAvailable'</span>);</li><li>  <span class="hljs-comment">// 开发者可通过photoAsset获取图片相关信息。</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">onPhotoOutputPhotoAssetAvailable</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'photoAssetAvailable'</span>, photoAssetAvailableCallback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offphotoassetavailable12" device-type="phone,2in1,tablet,tv">off('photoAssetAvailable')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offphotoassetavailable12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'photoAssetAvailable', callback?: AsyncCallback&lt;photoAccessHelper.PhotoAsset&gt;): void</p>     <p>注销photoAsset上报。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'photoAssetAvailable'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoasset">photoAccessHelper.PhotoAsset</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要解监听的回调方法。如果callback不为空且与此对应的监听方法一致，不为匿名方法，则解注册该方法；如果callback为空，则解监听所有回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">offPhotoOutputPhotoAssetAvailable</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'photoAssetAvailable'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="ismirrorsupported" device-type="phone,2in1,tablet,tv">isMirrorSupported<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ismirrorsupported" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isMirrorSupported(): boolean</p>     <p>查询是否支持镜像拍照。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回是否支持镜像拍照，true表示支持，false表示不支持。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isMirrorSupported</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isSupported</span>: <span class="hljs-built_in">boolean</span> = photoOutput.<span class="hljs-title function_">isMirrorSupported</span>();</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="enablemirror13" device-type="phone,2in1,tablet,tv">enableMirror<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablemirror13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>enableMirror(enabled: boolean): void</p>     <p>是否启用动态照片镜像拍照。</p>     <p>调用该接口前，需要通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput#ismovingphotosupported12">isMovingPhotoSupported</a>查询是否支持动态照片拍摄功能以及通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput#ismirrorsupported">isMirrorSupported</a>查询是否支持镜像拍照功能。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否启用动态照片镜像拍照。true为开启动态照片镜像拍照，false为关闭动态照片镜像拍照。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">enableMirror</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoOutput.<span class="hljs-title function_">enableMirror</span>(<span class="hljs-literal">true</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The enableMirror call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getsupportedmovingphotovideocodectypes13" device-type="phone,2in1,tablet,tv">getSupportedMovingPhotoVideoCodecTypes<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsupportedmovingphotovideocodectypes13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSupportedMovingPhotoVideoCodecTypes(): Array&lt;VideoCodecType&gt;</p>     <p>查询支持的动态照片短视频编码类型。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#videocodectype13">VideoCodecType</a>&gt;</td>         <td class="cellrowborder" width="50%">支持的动态照片短视频编码类型列表。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSupportedMovingPhotoVideoCodecType</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">VideoCodecType</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">supportedVideoCodecTypesArray</span>: <span class="hljs-title class_">Array</span>&lt;camera.<span class="hljs-property">VideoCodecType</span>&gt; = photoOutput.<span class="hljs-title function_">getSupportedMovingPhotoVideoCodecTypes</span>();</li><li>  <span class="hljs-keyword">return</span> supportedVideoCodecTypesArray;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setmovingphotovideocodectype13" device-type="phone,2in1,tablet,tv">setMovingPhotoVideoCodecType<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmovingphotovideocodectype13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setMovingPhotoVideoCodecType(codecType: VideoCodecType): void</p>     <p>设置动态照片短视频编码类型。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">codecType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#videocodectype13">VideoCodecType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">获取动态照片短视频编码类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setMovingPhotoVideoCodecTypes</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput, videoCodecType: camera.VideoCodecType</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">setMovingPhotoVideoCodecType</span>(videoCodecType);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onframeshutter" device-type="phone,2in1,tablet,tv">on('frameShutter')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onframeshutter" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'frameShutter', callback: AsyncCallback&lt;FrameShutterInfo&gt;): void</p>     <p>监听拍照帧输出捕获，通过注册回调函数获取结果。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'frameShutter'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#frameshutterinfo">FrameShutterInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取相关信息。该回调返回意味着可以再次下发拍照请求。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, frameShutterInfo: camera.FrameShutterInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`CaptureId for frame : <span class="hljs-subst">${frameShutterInfo.captureId}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Timestamp for frame : <span class="hljs-subst">${frameShutterInfo.timestamp}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputFrameShutter</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'frameShutter'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offframeshutter" device-type="phone,2in1,tablet,tv">off('frameShutter')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offframeshutter" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'frameShutter', callback?: AsyncCallback&lt;FrameShutterInfo&gt;): void</p>     <p>注销监听拍照帧输出捕获。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'frameShutter'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#frameshutterinfo">FrameShutterInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputFrameShutter</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'frameShutter'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncaptureend" device-type="phone,2in1,tablet,tv">on('captureEnd')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncaptureend" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'captureEnd', callback: AsyncCallback&lt;CaptureEndInfo&gt;): void</p>     <p>监听拍照结束，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureEnd'。photoOutput创建成功后可监听。拍照完全结束可触发该事件发生并返回相应信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#captureendinfo">CaptureEndInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取相关信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, captureEndInfo: camera.CaptureEndInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photo capture end, captureId : <span class="hljs-subst">${captureEndInfo.captureId}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`frameCount : <span class="hljs-subst">${captureEndInfo.frameCount}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputCaptureEnd</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'captureEnd'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcaptureend" device-type="phone,2in1,tablet,tv">off('captureEnd')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcaptureend" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'captureEnd', callback?: AsyncCallback&lt;CaptureEndInfo&gt;): void</p>     <p>注销监听拍照结束。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureEnd'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#captureendinfo">CaptureEndInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputCaptureEnd</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'captureEnd'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onframeshutterend12" device-type="phone,2in1,tablet,tv">on('frameShutterEnd')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onframeshutterend12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'frameShutterEnd', callback: AsyncCallback&lt;FrameShutterEndInfo&gt;): void</p>     <p>监听拍照曝光结束捕获，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'frameShutterEnd'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#frameshutterendinfo12">FrameShutterEndInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取相关信息。该回调返回表示拍照曝光结束。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, frameShutterEndInfo: camera.FrameShutterEndInfo</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`CaptureId for frame : <span class="hljs-subst">${frameShutterEndInfo.captureId}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputFrameShutterEnd</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'frameShutterEnd'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offframeshutterend12" device-type="phone,2in1,tablet,tv">off('frameShutterEnd')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offframeshutterend12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'frameShutterEnd', callback?: AsyncCallback&lt;FrameShutterEndInfo&gt;): void</p>     <p>注销监听拍照曝光结束捕获。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'frameShutterEnd'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#frameshutterendinfo12">FrameShutterEndInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputFrameShutterEnd</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'frameShutterEnd'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncaptureready12" device-type="phone,2in1,tablet,tv">on('captureReady')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncaptureready12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'captureReady', callback: AsyncCallback&lt;void&gt;): void</p>     <p>监听可拍下一张，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureReady'，photoOutput创建成功后可监听。当下一张可拍时可触发该事件发生并返回相应信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取相关信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photo capture ready`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputCaptureReady</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'captureReady'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcaptureready12" device-type="phone,2in1,tablet,tv">off('captureReady')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcaptureready12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'captureReady', callback?: AsyncCallback&lt;void&gt;): void</p>     <p>注销监听可拍下一张。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureReady'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputCaptureReady</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'captureReady'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onestimatedcaptureduration12" device-type="phone,2in1,tablet,tv">on('estimatedCaptureDuration')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onestimatedcaptureduration12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'estimatedCaptureDuration', callback: AsyncCallback&lt;number&gt;): void</p>     <p>监听预估的拍照时间，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'estimatedCaptureDuration'，photoOutput创建成功后可监听。拍照完全结束可触发该事件发生并返回相应信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取预估的单次拍照底层出sensor采集帧时间，单位：毫秒。如果上报-1，代表没有预估时间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, duration: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photo estimated capture duration : <span class="hljs-subst">${duration}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputEstimatedCaptureDuration</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'estimatedCaptureDuration'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offestimatedcaptureduration12" device-type="phone,2in1,tablet,tv">off('estimatedCaptureDuration')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offestimatedcaptureduration12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'estimatedCaptureDuration', callback?: AsyncCallback&lt;number&gt;): void</p>     <p>注销监听预估的拍照时间。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'estimatedCaptureDuration'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputEstimatedCaptureDuration</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'estimatedCaptureDuration'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="onerror" device-type="phone,2in1,tablet,tv">on('error')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onerror" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'error', callback: ErrorCallback): void</p>     <p>监听拍照输出发生错误，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'error'，photoOutput创建成功后可监听。拍照接口调用时出现错误触发该事件并返回错误信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#errorcallback">ErrorCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取错误信息。返回错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Photo output error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputError</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offerror" device-type="phone,2in1,tablet,tv">off('error')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offerror" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'error', callback?: ErrorCallback): void</p>     <p>注销监听拍照输出发生错误。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'error'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#errorcallback">ErrorCallback</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputError</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'error'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getactiveprofile12" device-type="phone,2in1,tablet,tv">getActiveProfile<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getactiveprofile12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getActiveProfile(): Profile</p>     <p>获取当前生效的配置信息。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#profile">Profile</a></td>         <td class="cellrowborder" width="50%">当前生效的配置信息</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetActiveProfile</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): camera.<span class="hljs-property">Profile</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">activeProfile</span>: camera.<span class="hljs-property">Profile</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    activeProfile = photoOutput.<span class="hljs-title function_">getActiveProfile</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The photoOutput.getActiveProfile call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> activeProfile;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="getphotorotation12" device-type="phone,2in1,tablet,tv">getPhotoRotation<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getphotorotation12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getPhotoRotation(deviceDegree: number): ImageRotation</p>     <p>获取拍照旋转角度。</p>     <ul>      <li>设备自然方向：设备默认使用方向，手机为竖屏（充电口向下）。</li>      <li>相机镜头角度：值等于相机图像顺时针旋转到设备自然方向的角度，手机后置相机传感器是横屏安装的，所以需要顺时针旋转90度到设备自然方向。</li>      <li>屏幕显示方向：需要屏幕显示的图片左上角为第一个像素点为坐标原点。锁屏时与自然方向一致。</li>     </ul>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">deviceDegree</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设备旋转角度，单位度，取值范围：[0, 360]。</p>          <p>若入参超过该范围，则取入参除以360的余数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#imagerotation">ImageRotation</a></td>         <td class="cellrowborder" width="50%">获取拍照旋转角度。若接口调用失败，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">testGetPhotoRotation</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput, deviceDegree : <span class="hljs-built_in">number</span></span>): camera.<span class="hljs-property">ImageRotation</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">photoRotation</span>: camera.<span class="hljs-property">ImageRotation</span> = camera.<span class="hljs-property">ImageRotation</span>.<span class="hljs-property">ROTATION_0</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoRotation = photoOutput.<span class="hljs-title function_">getPhotoRotation</span>(deviceDegree);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Photo rotation is: <span class="hljs-subst">${photoRotation}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The photoOutput.getPhotoRotation call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> photoRotation;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="oncapturestartdeprecated" device-type="phone,2in1,tablet,tv">on('captureStart')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncapturestartdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'captureStart', callback: AsyncCallback&lt;number&gt;): void</p>     <p>监听拍照开始，通过注册回调函数获取Capture ID。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput#oncapturestartwithinfo11">on('captureStartWithInfo')</a>替代。</p>       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureStart'，photoOutput创建成功后可监听。每次拍照，底层开始曝光时触发该事件并返回。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">使用callback的方式获取Capture ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">err: BusinessError, captureId: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`photo capture started, captureId : <span class="hljs-subst">${captureId}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPhotoOutputCaptureStart</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">on</span>(<span class="hljs-string">'captureStart'</span>, callback);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="offcapturestartdeprecated" device-type="phone,2in1,tablet,tv">off('captureStart')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offcapturestartdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'captureStart', callback?: AsyncCallback&lt;number&gt;): void</p>     <p>注销拍照开始的监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput#offcapturestartwithinfo11">off('captureStartWithInfo')</a>替代。</p>       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'captureStart'，photoOutput创建成功后可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterPhotoOutputCaptureStart</span>(<span class="hljs-params">photoOutput: camera.PhotoOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  photoOutput.<span class="hljs-title function_">off</span>(<span class="hljs-string">'captureStart'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="isphotoqualityprioritizationsupported21" device-type="phone,2in1,tablet,tv">isPhotoQualityPrioritizationSupported<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isphotoqualityprioritizationsupported21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isPhotoQualityPrioritizationSupported(qualityPrioritization: PhotoQualityPrioritization): boolean</p>     <p>检查是否支持指定的拍照画质优先策略。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">qualityPrioritization</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#photoqualityprioritization21">PhotoQualityPrioritization</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要检查的拍照画质优先策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否支持指定的拍照画质优先策略。true表示支持，false表示不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error, reconfiguring streams is needed to recover from failure.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> camera <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">photoOutput</span>: camera.<span class="hljs-property">PhotoOutput</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isPhotoQualityPrioritizationSupported</span>(<span class="hljs-params">qualityPrioritization: camera.PhotoQualityPrioritization</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isSupported</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    isSupported = photoOutput.<span class="hljs-title function_">isPhotoQualityPrioritizationSupported</span>(qualityPrioritization);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isPhotoQualityPrioritizationSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="setphotoqualityprioritization21" device-type="phone,2in1,tablet,tv">setPhotoQualityPrioritization<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setphotoqualityprioritization21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setPhotoQualityPrioritization(qualityPrioritization: PhotoQualityPrioritization): void</p>     <p>设置拍照画质优先策略。</p>     <p>设置之前，可先使用方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photooutput#isphotoqualityprioritizationsupported21">isPhotoQualityPrioritizationSupported</a>对设备是否支持指定的拍照画质优先策略进行检查。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">qualityPrioritization</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#photoqualityprioritization21">PhotoQualityPrioritization</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的拍照画质优先策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error, reconfiguring streams is needed to recover from failure.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-kpd-c106="" class="highlight-div"><div _ngcontent-kpd-c106="" class="highlight-div-header"><div _ngcontent-kpd-c106="" class="highlight-div-header-left"><div _ngcontent-kpd-c106="" class="handle-button expand-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kpd-c106="" class="highlight-div-header-right"><div _ngcontent-kpd-c106="" class="handle-button ai-button"></div><div _ngcontent-kpd-c106="" class="handle-button line-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kpd-c106="" class="handle-button theme-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kpd-c106="" class="handle-button copy-button"><div _ngcontent-kpd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kpd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> camera <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">photoOutput</span>: camera.<span class="hljs-property">PhotoOutput</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setPhotoQualityPrioritization</span>(<span class="hljs-params">qualityPrioritization: camera.PhotoQualityPrioritization</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    photoOutput.<span class="hljs-title function_">setPhotoQualityPrioritization</span>(qualityPrioritization);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setPhotoQualityPrioritization call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>