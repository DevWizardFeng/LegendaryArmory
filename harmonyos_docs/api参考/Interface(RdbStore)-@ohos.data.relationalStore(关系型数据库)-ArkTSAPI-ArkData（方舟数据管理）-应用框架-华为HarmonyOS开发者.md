<h1 _ngcontent-nan-c119="" class="doc-title ng-star-inserted" title="Interface (RdbStore)"> Interface (RdbStore) </h1>

<div _ngcontent-nan-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>提供管理关系数据库（RDB）方法的接口。</p>    <p>在使用以下API前，请先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-f#relationalstoregetrdbstore-1">getRdbStore</a>方法获取RdbStore实例，并使用该实例调用对应接口方法。</p>    <p>在此基础上，建议优先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#execute12">execute</a>方法完成数据库表结构和初始数据的初始化，以确保相关接口调用的前置条件已满足。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { relationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 2673px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">version<sup>10+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置和获取数据库版本，值为大于0的正整数。</p>          <p>读取和设置version属性会占用数据库连接，避免对该属性进行频繁操作。</p>          <p>使用临时变量保存读取到的version值，在数据库变更完成后将其赋值给RdbStore实例的version属性。数据库升级时变更version属性的场景，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-rdb-store#开发步骤" target="_blank">开发指南示例代码</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">rebuilt<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#rebuildtype12">RebuildType</a></td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于获取数据库是否进行过重建或修复。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>示例代码中this.context定义见Stage模型的应用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 设置数据库版本</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">store</span>: relationalStore.<span class="hljs-property">RdbStore</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">STORE_CONFIG</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">"RdbTest.db"</span>,</li><li>      <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span></li><li>    };</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_CREATE_TABLE</span> = <span class="hljs-string">'CREATE TABLE IF NOT EXISTS EMPLOYEE (ID INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT NOT NULL, AGE INTEGER, SALARY REAL, CODES BLOB, IDENTITY UNLIMITED INT, ASSETDATA ASSET, ASSETSDATA ASSETS, FLOATARRAY floatvector(128))'</span>;</li><li>    relationalStore.<span class="hljs-title function_">getRdbStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rdbStore</span>: relationalStore.<span class="hljs-property">RdbStore</span>) =&gt; {</li><li>      store = rdbStore;</li><li>      <span class="hljs-keyword">await</span> (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">SQL_CREATE_TABLE</span>);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get RdbStore successfully.'</span>);</li><li>
</li><li>      <span class="hljs-comment">// 设置数据库版本</span></li><li>      <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>        (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-property">version</span> = <span class="hljs-number">3</span>;</li><li>        <span class="hljs-comment">// 获取数据库版本</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`RdbStore version is <span class="hljs-subst">${store.version}</span>`</span>);</li><li>        <span class="hljs-comment">// 获取数据库是否重建</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`RdbStore rebuilt is <span class="hljs-subst">${store.rebuilt}</span>`</span>);</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get RdbStore failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2928px;">     <h2 id="insert" device-type="phone,2in1,tablet,wearable,tv">insert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insert" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insert(table: string, values: ValuesBucket, callback: AsyncCallback&lt;number&gt;):void</p>     <p>向目标表中插入一行数据，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的数据行。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBucket1, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, rowId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2997px;">     <h2 id="insert10" device-type="phone,2in1,tablet,wearable,tv">insert<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insert10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insert(table: string, values: ValuesBucket, conflict: ConflictResolution, callback: AsyncCallback&lt;number&gt;):void</p>     <p>向目标表中插入一行数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的数据行。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBucket1, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, rowId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3006px;">     <h2 id="insert-1" device-type="phone,2in1,tablet,wearable,tv">insert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insert-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insert(table: string, values: ValuesBucket):Promise&lt;number&gt;</p>     <p>向目标表中插入一行数据，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的数据行。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBucket1).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">rowId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3051px;">     <h2 id="insert10-1" device-type="phone,2in1,tablet,wearable,tv">insert<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insert10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insert(table: string, values: ValuesBucket, conflict: ConflictResolution):Promise&lt;number&gt;</p>     <p>向目标表中插入一行数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的数据行。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBucket1, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">rowId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3123px;">     <h2 id="insertsync12" device-type="phone,2in1,tablet,wearable,tv">insertSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insertsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insertSync(table: string, values: ValuesBucket, conflict?: ConflictResolution):number</p>     <p>向目标表中插入一行数据。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的数据行。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。默认值是relationalStore.ConflictResolution.ON_CONFLICT_NONE。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rowId</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insertSync</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBucket1, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2763px;">     <h2 id="insertsync12-1" device-type="phone,2in1,tablet,wearable,tv">insertSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insertsync12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insertSync(table: string, values: sendableRelationalStore.ValuesBucket, conflict?: ConflictResolution):number</p>     <p>传入Sendable数据，向目标表中插入一行数据。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-sendablerelationalstore#valuesbucket">sendableRelationalStore.ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的可跨线程传递数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。默认值是relationalStore.ConflictResolution.ON_CONFLICT_NONE。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">如果操作成功，返回行ID；否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sendableRelationalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valuesBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: <span class="hljs-string">'hangman'</span>,</li><li>  <span class="hljs-string">"AGE"</span>: <span class="hljs-number">18</span>,</li><li>  <span class="hljs-string">"SALARY"</span>: <span class="hljs-number">100.5</span>,</li><li>  <span class="hljs-string">"CODES"</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])</li><li>};</li><li><span class="hljs-keyword">const</span> sendableValuesBucket = sendableRelationalStore.<span class="hljs-title function_">toSendableValuesBucket</span>(valuesBucket);</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rowId</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insertSync</span>(<span class="hljs-string">"EMPLOYEE"</span>, sendableValuesBucket, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert is successful, rowId = <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert is failed, code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3168px;">     <h2 id="batchinsert" device-type="phone,2in1,tablet,wearable,tv">batchInsert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batchinsert" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>batchInsert(table: string, values: Array&lt;ValuesBucket&gt;, callback: AsyncCallback&lt;number&gt;):void</p>     <p>向目标表中插入一组数据，使用callback异步回调。</p>     <p>接口报错，表示插入数据失败；接口没有报错但返回值为-1时，也表示插入数据失败。</p>     <p>从API version 20开始，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的一组数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，返回插入的数据个数，否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-keyword">let</span> value5 = <span class="hljs-string">"Jack"</span>;</li><li><span class="hljs-keyword">let</span> value6 = <span class="hljs-number">19</span>;</li><li><span class="hljs-keyword">let</span> value7 = <span class="hljs-number">101.5</span>;</li><li><span class="hljs-keyword">let</span> value8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li><span class="hljs-keyword">let</span> value9 = <span class="hljs-string">"Tom"</span>;</li><li><span class="hljs-keyword">let</span> value10 = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> value11 = <span class="hljs-number">102.5</span>;</li><li><span class="hljs-keyword">let</span> value12 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value5,</li><li>  <span class="hljs-string">'AGE'</span>: value6,</li><li>  <span class="hljs-string">'SALARY'</span>: value7,</li><li>  <span class="hljs-string">'CODES'</span>: value8</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value9,</li><li>  <span class="hljs-string">'AGE'</span>: value10,</li><li>  <span class="hljs-string">'SALARY'</span>: value11,</li><li>  <span class="hljs-string">'CODES'</span>: value12</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> valueBuckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(valueBucket1, valueBucket2, valueBucket3);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">batchInsert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBuckets, <span class="hljs-function">(<span class="hljs-params">err, insertNum</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err || insertNum == -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`batchInsert is successful, the number of values that were inserted = <span class="hljs-subst">${insertNum}</span>`</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3834px;">     <h2 id="batchinsert-1" device-type="phone,2in1,tablet,wearable,tv">batchInsert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batchinsert-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>batchInsert(table: string, values: Array&lt;ValuesBucket&gt;):Promise&lt;number&gt;</p>     <p>向目标表中插入一组数据，使用Promise异步回调。</p>     <p>接口报错，表示插入数据失败；接口没有报错但返回值为-1时，也表示插入数据失败。</p>     <p>从API version 20开始，该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的一组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，返回插入的数据个数，否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>关系型数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-keyword">let</span> value5 = <span class="hljs-string">"Jack"</span>;</li><li><span class="hljs-keyword">let</span> value6 = <span class="hljs-number">19</span>;</li><li><span class="hljs-keyword">let</span> value7 = <span class="hljs-number">101.5</span>;</li><li><span class="hljs-keyword">let</span> value8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li><span class="hljs-keyword">let</span> value9 = <span class="hljs-string">"Tom"</span>;</li><li><span class="hljs-keyword">let</span> value10 = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> value11 = <span class="hljs-number">102.5</span>;</li><li><span class="hljs-keyword">let</span> value12 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value5,</li><li>  <span class="hljs-string">'AGE'</span>: value6,</li><li>  <span class="hljs-string">'SALARY'</span>: value7,</li><li>  <span class="hljs-string">'CODES'</span>: value8</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value9,</li><li>  <span class="hljs-string">'AGE'</span>: value10,</li><li>  <span class="hljs-string">'SALARY'</span>: value11,</li><li>  <span class="hljs-string">'CODES'</span>: value12</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> valueBuckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(valueBucket1, valueBucket2, valueBucket3);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">batchInsert</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBuckets).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">insertNum: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (insertNum == -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`batchInsert is successful, the number of values that were inserted = <span class="hljs-subst">${insertNum}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  })</li><li>}</li></ol></pre></div></div>     <p>向量数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> createSql = <span class="hljs-string">"CREATE TABLE IF NOT EXISTS test (id INTEGER PRIMARY KEY AUTOINCREMENT, data1 floatvector(2));"</span>;</li><li><span class="hljs-keyword">await</span> store!.<span class="hljs-title function_">execute</span>(createSql, <span class="hljs-number">0</span>, <span class="hljs-literal">undefined</span>);  <span class="hljs-comment">// 创建关系表，第二个参数0表示不开启显示事务，第三个参数undefined表示sql未使用绑定参数化</span></li><li><span class="hljs-keyword">let</span> floatVector = <span class="hljs-title class_">Float32Array</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1.2</span>, <span class="hljs-number">2.3</span>]);</li><li><span class="hljs-keyword">let</span> valueBucketArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>&lt;relationalStore.<span class="hljs-property">ValuesBucket</span>&gt;();</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) { <span class="hljs-comment">// 构造一个BucketArray用于写入</span></li><li>  <span class="hljs-keyword">const</span> row : relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">"id"</span> : i,</li><li>    <span class="hljs-string">"data1"</span> : floatVector,</li><li>  }</li><li>  valueBucketArray.<span class="hljs-title function_">push</span>(row);</li><li>}</li><li><span class="hljs-keyword">await</span> store!.<span class="hljs-title function_">batchInsert</span>(<span class="hljs-string">"test"</span>, valueBucketArray); <span class="hljs-comment">// 执行批量写入</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3270px;">     <h2 id="batchinsertsync12" device-type="phone,2in1,tablet,wearable,tv">batchInsertSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batchinsertsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>batchInsertSync(table: string, values: Array&lt;ValuesBucket&gt;):number</p>     <p>向目标表中插入一组数据。</p>     <p>接口报错，表示插入数据失败；接口没有报错但返回值为-1时，也表示插入数据失败。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的一组数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">如果操作成功，返回插入的数据个数，否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-keyword">let</span> value5 = <span class="hljs-string">"Jack"</span>;</li><li><span class="hljs-keyword">let</span> value6 = <span class="hljs-number">19</span>;</li><li><span class="hljs-keyword">let</span> value7 = <span class="hljs-number">101.5</span>;</li><li><span class="hljs-keyword">let</span> value8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li><span class="hljs-keyword">let</span> value9 = <span class="hljs-string">"Tom"</span>;</li><li><span class="hljs-keyword">let</span> value10 = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> value11 = <span class="hljs-number">102.5</span>;</li><li><span class="hljs-keyword">let</span> value12 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value5,</li><li>  <span class="hljs-string">'AGE'</span>: value6,</li><li>  <span class="hljs-string">'SALARY'</span>: value7,</li><li>  <span class="hljs-string">'CODES'</span>: value8</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value9,</li><li>  <span class="hljs-string">'AGE'</span>: value10,</li><li>  <span class="hljs-string">'SALARY'</span>: value11,</li><li>  <span class="hljs-string">'CODES'</span>: value12</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> valueBuckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(valueBucket1, valueBucket2, valueBucket3);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">insertNum</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">batchInsertSync</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBuckets);</li><li>    <span class="hljs-keyword">if</span> (insertNum == -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsertSync is failed`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`batchInsert is successful, the number of values that were inserted = <span class="hljs-subst">${insertNum}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3387px;">     <h2 id="batchinsertwithconflictresolution18" device-type="phone,2in1,tablet,wearable,tv">batchInsertWithConflictResolution<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batchinsertwithconflictresolution18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>batchInsertWithConflictResolution(table: string, values: Array&lt;ValuesBucket&gt;, conflict: ConflictResolution): Promise&lt;number&gt;</p>     <p>向目标表中插入一组数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>。使用Promise异步回调。</p>     <p>单次插入参数的最大数量限制为32766，超出上限会返回14800000错误码。参数数量计算方式为插入数据条数乘以插入数据的所有字段的并集大小。</p>     <p>例如：插入数据的所有字段的并集大小为10，则最多可以插入3276条数据（3276*10=32760）。</p>     <p>请确保在调用接口时遵守此限制，以避免因参数数量过多而导致错误。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的一组数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，返回插入的数据个数，否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-keyword">let</span> value5 = <span class="hljs-string">"Jack"</span>;</li><li><span class="hljs-keyword">let</span> value6 = <span class="hljs-number">19</span>;</li><li><span class="hljs-keyword">let</span> value7 = <span class="hljs-number">101.5</span>;</li><li><span class="hljs-keyword">let</span> value8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li><span class="hljs-keyword">let</span> value9 = <span class="hljs-string">"Tom"</span>;</li><li><span class="hljs-keyword">let</span> value10 = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> value11 = <span class="hljs-number">102.5</span>;</li><li><span class="hljs-keyword">let</span> value12 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value5,</li><li>  <span class="hljs-string">'AGE'</span>: value6,</li><li>  <span class="hljs-string">'SALARY'</span>: value7,</li><li>  <span class="hljs-string">'CODES'</span>: value8</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value9,</li><li>  <span class="hljs-string">'AGE'</span>: value10,</li><li>  <span class="hljs-string">'SALARY'</span>: value11,</li><li>  <span class="hljs-string">'CODES'</span>: value12</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> valueBuckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(valueBucket1, valueBucket2, valueBucket3);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">batchInsertWithConflictResolution</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBuckets, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">insertNum: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`batchInsert is successful, insertNum = <span class="hljs-subst">${insertNum}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3339px;">     <h2 id="batchinsertwithconflictresolutionsync18" device-type="phone,2in1,tablet,wearable,tv">batchInsertWithConflictResolutionSync<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="batchinsertwithconflictresolutionsync18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>batchInsertWithConflictResolutionSync(table: string, values: Array&lt;ValuesBucket&gt;, conflict: ConflictResolution): number</p>     <p>向目标表中插入一组数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>。</p>     <p>单次插入参数的最大数量限制为32766，超出上限会返回14800000错误码。参数数量计算方式为插入数据条数乘以插入数据的所有字段的并集大小。</p>     <p>例如：插入数据的所有字段的并集大小为10，则最多可以插入3276条数据（3276*10=32760）。</p>     <p>请确保在调用接口时遵守此限制，以避免因参数数量过多而导致错误。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要插入到表中的一组数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">如果操作成功，返回插入的数据个数，否则返回-1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-keyword">let</span> value5 = <span class="hljs-string">"Jack"</span>;</li><li><span class="hljs-keyword">let</span> value6 = <span class="hljs-number">19</span>;</li><li><span class="hljs-keyword">let</span> value7 = <span class="hljs-number">101.5</span>;</li><li><span class="hljs-keyword">let</span> value8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]);</li><li><span class="hljs-keyword">let</span> value9 = <span class="hljs-string">"Tom"</span>;</li><li><span class="hljs-keyword">let</span> value10 = <span class="hljs-number">20</span>;</li><li><span class="hljs-keyword">let</span> value11 = <span class="hljs-number">102.5</span>;</li><li><span class="hljs-keyword">let</span> value12 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]);</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value5,</li><li>  <span class="hljs-string">'AGE'</span>: value6,</li><li>  <span class="hljs-string">'SALARY'</span>: value7,</li><li>  <span class="hljs-string">'CODES'</span>: value8</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value9,</li><li>  <span class="hljs-string">'AGE'</span>: value10,</li><li>  <span class="hljs-string">'SALARY'</span>: value11,</li><li>  <span class="hljs-string">'CODES'</span>: value12</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> valueBuckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(valueBucket1, valueBucket2, valueBucket3);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">insertNum</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">batchInsertWithConflictResolutionSync</span>(<span class="hljs-string">"EMPLOYEE"</span>, valueBuckets, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`batchInsert is successful, the number of values that were inserted = <span class="hljs-subst">${insertNum}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`batchInsert is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3000px;">     <h2 id="update" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(values: ValuesBucket, predicates: RdbPredicates, callback: AsyncCallback&lt;number&gt;):void</p>     <p>根据RdbPredicates的指定实例对象更新数据库中的数据，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">values指示数据库中要更新的数据行。键值对与数据库表的列名相关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的更新条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调方法。返回受影响的行数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Rose"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">200.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">update</span>(valueBucket1, predicates, <span class="hljs-function">(<span class="hljs-params">err, rows</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Updated failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Updated row count: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3069px;">     <h2 id="update10" device-type="phone,2in1,tablet,wearable,tv">update<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(values: ValuesBucket, predicates: RdbPredicates, conflict: ConflictResolution, callback: AsyncCallback&lt;number&gt;):void</p>     <p>根据RdbPredicates的指定实例对象更新数据库中的数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">values指示数据库中要更新的数据行。键值对与数据库表的列名相关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的更新条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调方法。返回受影响的行数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Rose"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">200.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">update</span>(valueBucket1, predicates, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>, <span class="hljs-function">(<span class="hljs-params">err, rows</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Updated failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Updated row count: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3102px;">     <h2 id="update-1" device-type="phone,2in1,tablet,wearable,tv">update<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(values: ValuesBucket, predicates: RdbPredicates):Promise&lt;number&gt;</p>     <p>根据RdbPredicates的指定实例对象更新数据库中的数据，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">values指示数据库中要更新的数据行。键值对与数据库表的列名相关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的更新条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">指定的Promise回调方法。返回受影响的行数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Rose"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">200.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">update</span>(valueBucket1, predicates).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rows</span>: <span class="hljs-built_in">number</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Updated row count: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Updated failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3171px;">     <h2 id="update10-1" device-type="phone,2in1,tablet,wearable,tv">update<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="update10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>update(values: ValuesBucket, predicates: RdbPredicates, conflict: ConflictResolution):Promise&lt;number&gt;</p>     <p>根据RdbPredicates的指定实例对象更新数据库中的数据，可以通过conflict参数指定冲突解决模式<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a>，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">values指示数据库中要更新的数据行。键值对与数据库表的列名相关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的更新条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">指定的Promise回调方法。返回受影响的行数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Rose"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">200.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">update</span>(valueBucket1, predicates, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rows</span>: <span class="hljs-built_in">number</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Updated row count: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Updated failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3219px;">     <h2 id="updatesync12" device-type="phone,2in1,tablet,wearable,tv">updateSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatesync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSync(values: ValuesBucket, predicates: RdbPredicates, conflict?: ConflictResolution):number</p>     <p>根据RdbPredicates的指定实例对象更新数据库中的数据。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，在后续通过RdbStore的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query">query</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql">querySql</a>接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">values</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuesbucket">ValuesBucket</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">values指示数据库中要更新的数据行。键值对与数据库表的列名相关联。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的更新条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">conflict</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#conflictresolution10">ConflictResolution</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指定冲突解决模式。默认值是relationalStore.ConflictResolution.ON_CONFLICT_NONE。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回受影响的行数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Rose"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">200.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li><span class="hljs-comment">// 以下三种方式可用</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket1</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">'NAME'</span>: value1,</li><li>  <span class="hljs-string">'AGE'</span>: value2,</li><li>  <span class="hljs-string">'SALARY'</span>: value3,</li><li>  <span class="hljs-string">'CODES'</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket2</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-attr">NAME</span>: value1,</li><li>  <span class="hljs-attr">AGE</span>: value2,</li><li>  <span class="hljs-attr">SALARY</span>: value3,</li><li>  <span class="hljs-attr">CODES</span>: value4</li><li>};</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket3</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>  <span class="hljs-string">"NAME"</span>: value1,</li><li>  <span class="hljs-string">"AGE"</span>: value2,</li><li>  <span class="hljs-string">"SALARY"</span>: value3,</li><li>  <span class="hljs-string">"CODES"</span>: value4</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rows</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">updateSync</span>(valueBucket1, predicates, relationalStore.<span class="hljs-property">ConflictResolution</span>.<span class="hljs-property">ON_CONFLICT_REPLACE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Updated row count: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Updated failed, code is <span class="hljs-subst">${error.code}</span>,message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2259px;">     <h2 id="delete" device-type="phone,2in1,tablet,wearable,tv">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="delete" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(predicates: RdbPredicates, callback: AsyncCallback&lt;number&gt;):void</p>     <p>根据RdbPredicates的指定实例对象从数据库中删除数据，使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的删除条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。返回受影响的行数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">delete</span>(predicates, <span class="hljs-function">(<span class="hljs-params">err, rows</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Delete failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Delete rows: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2361px;">     <h2 id="delete-1" device-type="phone,2in1,tablet,wearable,tv">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="delete-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(predicates: RdbPredicates):Promise&lt;number&gt;</p>     <p>根据RdbPredicates的指定实例对象从数据库中删除数据，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的删除条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回受影响的行数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">delete</span>(predicates).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">rows: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Delete rows: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Delete failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2337px;">     <h2 id="deletesync12" device-type="phone,2in1,tablet,wearable,tv">deleteSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deletesync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteSync(predicates: RdbPredicates):number</p>     <p>根据RdbPredicates的指定实例对象从数据库中删除数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的删除条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回受影响的行数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">rows</span>: <span class="hljs-built_in">number</span> = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">deleteSync</span>(predicates);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Delete rows: <span class="hljs-subst">${rows}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Delete failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1787px;">     <h2 id="query10" device-type="phone,2in1,tablet,wearable,tv">query<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="query10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>query(predicates: RdbPredicates, callback: AsyncCallback&lt;ResultSet&gt;):void</p>     <p>根据指定条件查询数据库中的数据，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Rose"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">query</span>(predicates, <span class="hljs-keyword">async</span> (err, resultSet) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1856px;">     <h2 id="query" device-type="phone,2in1,tablet,wearable,tv">query<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="query" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>query(predicates: RdbPredicates, columns: Array&lt;string&gt;, callback: AsyncCallback&lt;ResultSet&gt;):void</p>     <p>根据指定条件查询数据库中的数据，支持指定要查询的列，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Rose"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">query</span>(predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>], <span class="hljs-keyword">async</span> (err, resultSet) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1934px;">     <h2 id="query-1" device-type="phone,2in1,tablet,wearable,tv">query<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="query-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>query(predicates: RdbPredicates, columns?: Array&lt;string&gt;):Promise&lt;ResultSet&gt;</p>     <p>根据指定条件查询数据库中的数据，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Rose"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">query</span>(predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1886px;">     <h2 id="querysync12" device-type="phone,2in1,tablet,wearable,tv">querySync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querysync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>querySync(predicates: RdbPredicates, columns?: Array&lt;string&gt;):ResultSet</p>     <p>根据指定条件查询数据库中的数据。对query同步接口获得的resultSet进行操作时，若逻辑复杂且循环次数过多，可能造成freeze问题，建议将此步骤放到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-taskpool">taskpool</a>线程中执行。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。默认值为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a></td>         <td class="cellrowborder" width="50%">如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Rose"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    resultSet = store.<span class="hljs-title function_">querySync</span>(predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>]);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>      <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>      <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>      <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>      <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>    <span class="hljs-keyword">if</span> (resultSet) {</li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2398px;">     <h2 id="remotequery" device-type="phone,2in1,tablet,wearable,tv">remoteQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="remotequery" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>remoteQuery(device: string, table: string, predicates: RdbPredicates, columns: Array&lt;string&gt; , callback: AsyncCallback&lt;ResultSet&gt;): void</p>     <p>根据指定条件查询远程设备数据库中的数据。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>其中device通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#getavailabledevicelistsync">deviceManager.getAvailableDeviceListSync</a>方法得到。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">device</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的远程设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象，指定查询的条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> devices = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  <span class="hljs-keyword">if</span> (devices != <span class="hljs-literal">undefined</span>) {</li><li>    deviceId = devices[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">'EMPLOYEE'</span>);</li><li>predicates.<span class="hljs-title function_">greaterThan</span>(<span class="hljs-string">"id"</span>, <span class="hljs-number">0</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span> &amp;&amp; deviceId != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">remoteQuery</span>(deviceId, <span class="hljs-string">"EMPLOYEE"</span>, predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remoteQuery, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2452px;">     <h2 id="remotequery-1" device-type="phone,2in1,tablet,wearable,tv">remoteQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="remotequery-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>remoteQuery(device: string, table: string, predicates: RdbPredicates, columns: Array&lt;string&gt;): Promise&lt;ResultSet&gt;</p>     <p>根据指定条件查询远程设备数据库中的数据。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>其中device通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#getavailabledevicelistsync">deviceManager.getAvailableDeviceListSync</a>方法得到。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">device</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的远程设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的目标表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象，指定查询的条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.31.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">devices</span>: <span class="hljs-title class_">Array</span>&lt;distributedDeviceManager.<span class="hljs-property">DeviceBasicInfo</span>&gt; = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  <span class="hljs-keyword">if</span> (devices != <span class="hljs-literal">undefined</span>) {</li><li>    deviceId = devices[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">'EMPLOYEE'</span>);</li><li>predicates.<span class="hljs-title function_">greaterThan</span>(<span class="hljs-string">"id"</span>, <span class="hljs-number">0</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span> &amp;&amp; deviceId != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">remoteQuery</span>(deviceId, <span class="hljs-string">"EMPLOYEE"</span>, predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remoteQuery, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2255px;">     <h2 id="querysql10" device-type="phone,2in1,tablet,wearable,tv">querySql<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querysql10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>querySql(sql: string, callback: AsyncCallback&lt;ResultSet&gt;):void</p>     <p>根据指定SQL语句查询数据库中的数据，SQL语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用，当前支持的语法见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-vector-store#规格限制" target="_blank">规格限制</a>。</p>     <p>聚合函数不支持嵌套使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>关系型数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">querySql</span>(<span class="hljs-string">"SELECT * FROM EMPLOYEE CROSS JOIN BOOK WHERE BOOK.NAME = 'sanguo'"</span>, <span class="hljs-keyword">async</span> (err, resultSet) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>     <p>向量数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 相似度的计算符号是&lt;-&gt;，余弦距离的计算符号是&lt;=&gt;</span></li><li><span class="hljs-keyword">const</span> querySql = <span class="hljs-string">"select id, repr &lt;-&gt; '[1.5,5.6]' as distance from test ORDER BY repr &lt;-&gt; '[1.5,5.6]' limit 10 offset 1;"</span>;</li><li><span class="hljs-keyword">let</span> resultSet = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">querySql</span>(querySql);</li><li>
</li><li><span class="hljs-comment">// 聚合查询，其中group by支持多列</span></li><li><span class="hljs-keyword">const</span> querySql1 = <span class="hljs-string">"select id, repr from test group by id, repr having max(repr&lt;=&gt;'[1.5,5.6]');"</span>;</li><li><span class="hljs-keyword">let</span> resultSet1 = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">querySql</span>(querySql1);</li><li>
</li><li><span class="hljs-comment">// 子查询，最大支持嵌套32层</span></li><li><span class="hljs-keyword">const</span> querySql2 = <span class="hljs-string">"select * from test where id in (select id from test1)"</span>;</li><li><span class="hljs-keyword">let</span> resultSet2 = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">querySql</span>(querySql2);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1952px;">     <h2 id="querysql" device-type="phone,2in1,tablet,wearable,tv">querySql<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querysql" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>querySql(sql: string, bindArgs: Array&lt;ValueType&gt;, callback: AsyncCallback&lt;ResultSet&gt;):void</p>     <p>根据指定SQL语句查询数据库中的数据，SQL语句中的各种表达式和操作符之间的关系操作符号不超过1000个，支持传入SQL语句中参数的值，使用callback异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用，当前支持的语法见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-vector-store#规格限制" target="_blank">规格限制</a>。</p>     <p>聚合函数不支持嵌套使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindArgs</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数需为空数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">querySql</span>(<span class="hljs-string">"SELECT * FROM EMPLOYEE CROSS JOIN BOOK WHERE BOOK.NAME = ?"</span>, [<span class="hljs-string">'sanguo'</span>], <span class="hljs-keyword">async</span> (err, resultSet) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2282px;">     <h2 id="querysql-1" device-type="phone,2in1,tablet,wearable,tv">querySql<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querysql-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>querySql(sql: string, bindArgs?: Array&lt;ValueType&gt;):Promise&lt;ResultSet&gt;</p>     <p>根据指定SQL语句查询数据库中的数据，SQL语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用Promise异步回调。由于共享内存的大小限制为2MB，因此单条数据的大小也必须严格小于2MB。如果单条数据超过此限制，使用此接口获取ResultSet后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getvalue12">getValue</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset#getstring">getString</a>等get方法时将无法成功获取数据，并可能导致操作失败或抛出异常。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用，当前支持的语法见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-vector-store#规格限制" target="_blank">规格限制</a>。</p>     <p>聚合函数不支持嵌套使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindArgs</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数不填。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>关系型数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">querySql</span>(<span class="hljs-string">"SELECT * FROM EMPLOYEE CROSS JOIN BOOK WHERE BOOK.NAME = 'sanguo'"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>     <p>向量数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 查询id为1，与[1.5, 2.5]相似度小于0.5，且以相似度进行升序排序的前10条数据</span></li><li><span class="hljs-keyword">const</span> querySql = <span class="hljs-string">"select id, repr &lt;-&gt; ? as distance from test where id = ? and repr &lt;-&gt; ? &lt; 0.5 ORDER BY repr &lt;-&gt; ? limit 10;"</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">vectorValue</span>: <span class="hljs-title class_">Float32Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">2.5</span>]);</li><li><span class="hljs-keyword">let</span> resultSet = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">querySql</span>(querySql, [vectorValue, <span class="hljs-number">1</span>, vectorValue, vectorValue]);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1862px;">     <h2 id="querysqlsync12" device-type="phone,2in1,tablet,wearable,tv">querySqlSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querysqlsync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>querySqlSync(sql: string, bindArgs?: Array&lt;ValueType&gt;):ResultSet</p>     <p>根据指定SQL语句查询数据库中的数据，SQL语句中的各种表达式和操作符之间的关系操作符号不超过1000个。对query同步接口获得的resultSet进行操作时，若逻辑复杂且循环次数过多，可能造成freeze问题，建议将此步骤放到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-taskpool">taskpool</a>线程中执行。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindArgs</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数不填。默认值为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a></td>         <td class="cellrowborder" width="50%">如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    resultSet = store.<span class="hljs-title function_">querySqlSync</span>(<span class="hljs-string">"SELECT * FROM EMPLOYEE CROSS JOIN BOOK WHERE BOOK.NAME = 'sanguo'"</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>      <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>      <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>      <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>      <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>    <span class="hljs-keyword">if</span> (resultSet) {</li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2362px;">     <h2 id="executesql10" device-type="phone,2in1,tablet,wearable,tv">executeSql<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executesql10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeSql(sql: string, callback: AsyncCallback&lt;void&gt;):void</p>     <p>执行指定的SQL语句，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用callback异步回调。</p>     <p>此接口不支持执行查询、附加数据库和事务操作，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query10">query</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#attach12">attach</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#commit">commit</a>等接口代替。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DELETE_TABLE</span> = <span class="hljs-string">"DELETE FROM test WHERE name = 'zhangsan'"</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">SQL_DELETE_TABLE</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ExecuteSql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Delete table done.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2503px;">     <h2 id="executesql" device-type="phone,2in1,tablet,wearable,tv">executeSql<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executesql" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeSql(sql: string, bindArgs: Array&lt;ValueType&gt;, callback: AsyncCallback&lt;void&gt;):void</p>     <p>执行指定的SQL语句，支持传入SQL语句中参数的值，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用callback异步回调。</p>     <p>此接口不支持执行查询、附加数据库和事务操作，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query10">query</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#attach12">attach</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#commit">commit</a>等接口代替。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindArgs</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数需为空数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DELETE_TABLE</span> = <span class="hljs-string">"DELETE FROM test WHERE name = ?"</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">SQL_DELETE_TABLE</span>, [<span class="hljs-string">'zhangsan'</span>], <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ExecuteSql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Delete table done.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2605px;">     <h2 id="executesql-1" device-type="phone,2in1,tablet,wearable,tv">executeSql<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executesql-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeSql(sql: string, bindArgs?: Array&lt;ValueType&gt;):Promise&lt;void&gt;</p>     <p>执行指定的SQL语句，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用Promise异步回调。</p>     <p>此接口不支持执行查询、附加数据库和事务操作，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query10">query</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#attach12">attach</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#commit">commit</a>等接口代替。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">bindArgs</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数不填。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DELETE_TABLE</span> = <span class="hljs-string">"DELETE FROM test WHERE name = 'zhangsan'"</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">SQL_DELETE_TABLE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Delete table done.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ExecuteSql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3673px;">     <h2 id="execute12" device-type="phone,2in1,tablet,wearable,tv">execute<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="execute12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>execute(sql: string, args?: Array&lt;ValueType&gt;):Promise&lt;ValueType&gt;</p>     <p>执行包含指定参数的SQL语句，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，返回值类型为ValueType，使用Promise异步回调。</p>     <p>该接口支持执行增删改操作，支持执行PRAGMA语法的sql，支持对表的操作（建表、删表、修改表），返回结果类型由执行具体sql的结果决定。</p>     <p>此接口不支持执行查询、附加数据库和事务操作，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query10">query</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#attach12">attach</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#commit">commit</a>等接口代替。</p>     <p>向量数据库使用该接口执行插入操作，数据来源于子查询时，支持全字段插入，暂不支持部分字段插入。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">args</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。当sql参数语句完整时，该参数不填。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回sql执行后的结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.15.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.39.15.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>关系型数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 校验数据库完整性</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_CHECK_INTEGRITY</span> = <span class="hljs-string">'PRAGMA integrity_check'</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-variable constant_">SQL_CHECK_INTEGRITY</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`check result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`check failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li><li>
</li><li><span class="hljs-comment">// 删除表中所有数据</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DELETE_TABLE</span> = <span class="hljs-string">'DELETE FROM test'</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-variable constant_">SQL_DELETE_TABLE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`delete result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`delete failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li><li>
</li><li><span class="hljs-comment">// 删表</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DROP_TABLE</span> = <span class="hljs-string">'DROP TABLE test'</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-variable constant_">SQL_DROP_TABLE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`drop result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`drop failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>     <p>向量数据库：</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// FLOATVECTOR(2)是维度为2的向量属性，后续操作repr需依照该维度进行。</span></li><li><span class="hljs-keyword">let</span> createSql = <span class="hljs-string">"CREATE TABLE test (ID INTEGER PRIMARY KEY,REPR FLOATVECTOR(2));"</span>;</li><li><span class="hljs-comment">// 建表</span></li><li><span class="hljs-keyword">await</span> store!.<span class="hljs-title function_">execute</span>(createSql);</li><li><span class="hljs-comment">// 使用参数绑定插入数据</span></li><li><span class="hljs-keyword">let</span> insertSql = <span class="hljs-string">"insert into test VALUES(?, ?);"</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">vectorValue</span>: <span class="hljs-title class_">Float32Array</span> = <span class="hljs-title class_">Float32Array</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">6.6</span>]);</li><li><span class="hljs-keyword">await</span> store!.<span class="hljs-title function_">execute</span>(insertSql, [<span class="hljs-number">0</span>, vectorValue]);</li><li><span class="hljs-comment">// 不使用绑定参数直接执行</span></li><li><span class="hljs-keyword">await</span> store!.<span class="hljs-title function_">execute</span>(<span class="hljs-string">"insert into test values(1, '[3.5, 1.8]');"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2986px;">     <h2 id="execute12-1" device-type="phone,2in1,tablet,wearable,tv">execute<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="execute12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>execute(sql: string, txId: number, args?: Array&lt;ValueType&gt;): Promise&lt;ValueType&gt;</p>     <p>执行包含指定参数的SQL语句，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，使用Promise异步回调。</p>     <p>该接口仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。使用该接口执行插入操作，数据来源于子查询时，支持全字段插入，暂不支持部分字段插入。</p>     <p>此接口不支持执行查询，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>接口代替。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">txId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintrans12">beginTrans</a>获取的事务ID，如果传0，该语句默认在单独事务内。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">args</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。该参数不填，填null或者填undefined，都认为是sql参数语句完整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">null</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">txId</span>: <span class="hljs-built_in">number</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTrans</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">temTxId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    txId = temTxId;</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-string">"DELETE FROM TEST WHERE age = ? OR age = ?"</span>, txId, [<span class="hljs-string">"18"</span>, <span class="hljs-string">"20"</span>])</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>(txId);</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rollback</span>(txId);</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`execute sql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3174px;">     <h2 id="executesync12" device-type="phone,2in1,tablet,wearable,tv">executeSync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="executesync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>executeSync(sql: string, args?: Array&lt;ValueType&gt;): ValueType</p>     <p>执行包含指定参数的SQL语句，语句中的各种表达式和操作符之间的关系操作符号不超过1000个，返回值类型为ValueType。</p>     <p>该接口支持执行增删改操作，支持执行PRAGMA语法的sql，支持对表的操作（建表、删表、修改表），返回结果类型由执行具体sql的结果决定。</p>     <p>此接口不支持执行查询、附加数据库和事务操作，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#querysql10">querySql</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#query10">query</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#attach12">attach</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#commit">commit</a>等接口代替。</p>     <p>不支持分号分隔的多条语句。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sql</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要执行的SQL语句。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">args</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">SQL语句中参数的值。该值与sql参数语句中的占位符相对应。该参数不填，或者填null或undefined，都认为是sql参数语句完整。默认值为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#valuetype">ValueType</a></td>         <td class="cellrowborder" width="50%">返回sql执行后的结果</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.41.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 校验数据库完整性</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_CHECK_INTEGRITY</span> = <span class="hljs-string">'PRAGMA integrity_check'</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> data = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSync</span>(<span class="hljs-variable constant_">SQL_CHECK_INTEGRITY</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`check result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`check failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 删除表中所有数据</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DELETE_TABLE</span> = <span class="hljs-string">'DELETE FROM test'</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> data = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSync</span>(<span class="hljs-variable constant_">SQL_DELETE_TABLE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`delete result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`delete failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 删表</span></li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SQL_DROP_TABLE</span> = <span class="hljs-string">'DROP TABLE test'</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> data = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">executeSync</span>(<span class="hljs-variable constant_">SQL_DROP_TABLE</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`drop result: <span class="hljs-subst">${data}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`drop failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2661px;">     <h2 id="getmodifytime10" device-type="phone,2in1,tablet,wearable,tv">getModifyTime<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmodifytime10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getModifyTime(table: string, columnName: string, primaryKeys: PRIKeyType[], callback: AsyncCallback&lt;ModifyTime&gt;): void</p>     <p>获取数据库表中数据的最后修改时间，使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要查询的数据库表的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columnName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要查询的数据库表的列名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">primaryKeys</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#prikeytype10">PRIKeyType</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定要查询的行的主键。</p>          <p>如果数据库表无主键，参数columnName需传入"rowid"，此时primaryKeys为要查询的数据库表的行号。</p>          <p>如果数据库表无主键，参数columnName传入不为"rowid"，返回对应的错误码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#modifytime10">ModifyTime</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。如果操作成功，则返回ModifyTime对象，表示数据的最后修改时间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 3 - 4 parameter(s)! 2. The RdbStore must be not nullptr. 3. The tablesNames must be not empty string. 4. The columnName must be not empty string. 5. The PRIKey must be number or string.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title class_">PRIKey</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">getModifyTime</span>(<span class="hljs-string">"EMPLOYEE"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-title class_">PRIKey</span>, <span class="hljs-function">(<span class="hljs-params">err, modifyTime: relationalStore.ModifyTime</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getModifyTime failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> size = modifyTime.<span class="hljs-property">size</span>;</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2787px;">     <h2 id="getmodifytime10-1" device-type="phone,2in1,tablet,wearable,tv">getModifyTime<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmodifytime10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getModifyTime(table: string, columnName: string, primaryKeys: PRIKeyType[]): Promise&lt;ModifyTime&gt;</p>     <p>获取数据库表中数据的最后修改时间，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要查询的数据库表的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columnName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定要查询的数据库表的列名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">primaryKeys</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#prikeytype10">PRIKeyType</a>[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定要查询的行的主键。</p>          <p>如果数据库表无主键，参数columnName需传入"rowid"，此时primaryKeys为要查询的数据库表的行号。</p>          <p>如果数据库表无主键，参数columnName传入不为"rowid"，返回对应的错误码。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-t#modifytime10">ModifyTime</a>&gt;</td>         <td class="cellrowborder" width="50%">返回ModifyTime类型的Promise对象，表示数据最后的修改时间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.43.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 3 - 4 parameter(s)! 2. The RdbStore must be not nullptr.3. The tablesNames must be not empty string. 4. The columnName must be not empty string. 5. The PRIKey must be number or string.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title class_">PRIKey</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">getModifyTime</span>(<span class="hljs-string">"EMPLOYEE"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-title class_">PRIKey</span>)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">modifyTime: relationalStore.ModifyTime</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> size = modifyTime.<span class="hljs-property">size</span>;</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getModifyTime failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2159px;">     <h2 id="begintransaction" device-type="phone,2in1,tablet,wearable,tv">beginTransaction<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="begintransaction" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginTransaction():void</p>     <p>在开始执行SQL语句之前，开始事务。</p>     <p>此接口不允许嵌套事务，且不支持在多进程或多线程中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: The RdbStore verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTransaction</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'NAME'</span>: value1,</li><li>    <span class="hljs-string">'AGE'</span>: value2,</li><li>    <span class="hljs-string">'SALARY'</span>: value3,</li><li>    <span class="hljs-string">'CODES'</span>: value4</li><li>  };</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"test"</span>, valueBucket);</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>();</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2529px;">     <h2 id="begintrans12" device-type="phone,2in1,tablet,wearable,tv">beginTrans<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="begintrans12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginTrans(): Promise&lt;number&gt;</p>     <p>在开始执行SQL语句之前，开始事务，使用Promise异步回调。</p>     <p>与<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>的区别在于：该接口会返回事务ID，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#execute12-1">execute</a>可以指定不同事务ID达到事务隔离目的。</p>     <p>该接口仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回事务ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: The RdbStore verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported the sql(attach,begin,commit,rollback etc.).</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800047</td>         <td class="cellrowborder" width="50%">The WAL file size exceeds the default limit.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">null</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">txId</span>: <span class="hljs-built_in">number</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTrans</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">temTxId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    txId = temTxId;</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-string">"DELETE FROM TEST WHERE age = ? OR age = ?"</span>, txId, [<span class="hljs-string">"18"</span>, <span class="hljs-string">"20"</span>])</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>(txId);</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rollback</span>(txId);</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`execute sql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1979px;">     <h2 id="createtransaction14" device-type="phone,2in1,tablet,wearable,tv">createTransaction<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createtransaction14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createTransaction(options?: TransactionOptions): Promise&lt;Transaction&gt;</p>     <p>创建一个事务对象并开始事务，使用Promise异步回调。</p>     <p>与<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>的区别在于：createTransaction接口会返回一个事务对象，不同事务对象之间是隔离的。使用事务对象进行插入、删除或更新数据等操作，无法被注册数据变更通知<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#ondatachange">on('dataChange')</a>监听到。</p>     <p>一个store最多支持同时存在四个事务对象，超过后会返回14800015错误码，此时需要检查是否持有事务对象时间过长或并发事务过多，若确认无法通过上述优化解决问题，建议等待现有事务释放后，再尝试新建事务对象。</p>     <p>优先使用createTransaction，不再推荐使用beginTransaction。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#transactionoptions14">TransactionOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示事务对象的配置信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-transaction">Transaction</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回事务对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.46.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database is busy.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">createTransaction</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">transaction</span>: relationalStore.<span class="hljs-property">Transaction</span>) =&gt; {</li><li>    transaction.<span class="hljs-title function_">execute</span>(<span class="hljs-string">"DELETE FROM test WHERE age = ? OR age = ?"</span>, [<span class="hljs-number">21</span>, <span class="hljs-number">20</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      transaction.<span class="hljs-title function_">commit</span>();</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e: BusinessError</span>) =&gt;</span> {</li><li>      transaction.<span class="hljs-title function_">rollback</span>();</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`execute sql failed, code is <span class="hljs-subst">${e.code}</span>,message is <span class="hljs-subst">${e.message}</span>`</span>);</li><li>    });</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createTransaction failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2104px;">     <h2 id="commit" device-type="phone,2in1,tablet,wearable,tv">commit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commit" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>commit():void</p>     <p>提交已执行的SQL语句，跟<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintransaction">beginTransaction</a>配合使用。</p>     <p>此接口不允许嵌套事务，且不支持在多进程或多线程中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: The RdbStore verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTransaction</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'NAME'</span>: value1,</li><li>    <span class="hljs-string">'AGE'</span>: value2,</li><li>    <span class="hljs-string">'SALARY'</span>: value3,</li><li>    <span class="hljs-string">'CODES'</span>: value4</li><li>  };</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"test"</span>, valueBucket);</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>();</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2546px;">     <h2 id="commit12" device-type="phone,2in1,tablet,wearable,tv">commit<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commit12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>commit(txId : number):Promise&lt;void&gt;</p>     <p>提交已执行的SQL语句，跟<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintrans12">beginTrans</a>配合使用，使用Promise异步回调。</p>     <p>该接口仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">txId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintrans12">beginTrans</a>获取的事务ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.48.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">null</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">txId</span>: <span class="hljs-built_in">number</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTrans</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">temTxId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    txId = temTxId;</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-string">"DELETE FROM TEST WHERE age = ? OR age = ?"</span>, txId, [<span class="hljs-string">"18"</span>, <span class="hljs-string">"20"</span>])</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>(txId);</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rollback</span>(txId);</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`execute sql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2320px;">     <h2 id="rollback" device-type="phone,2in1,tablet,wearable,tv">rollBack<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rollback" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rollBack():void</p>     <p>回滚已经执行的SQL语句。</p>     <p>此接口不允许嵌套事务，且不支持在多进程或多线程中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: The RdbStore verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTransaction</span>();</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>      <span class="hljs-string">'NAME'</span>: value1,</li><li>      <span class="hljs-string">'AGE'</span>: value2,</li><li>      <span class="hljs-string">'SALARY'</span>: value3,</li><li>      <span class="hljs-string">'CODES'</span>: value4</li><li>    };</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">"test"</span>, valueBucket);</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>();</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Transaction failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rollBack</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2546px;">     <h2 id="rollback12" device-type="phone,2in1,tablet,wearable,tv">rollback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rollback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rollback(txId : number):Promise&lt;void&gt;</p>     <p>回滚已经执行的SQL语句，跟<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintrans12">beginTrans</a>配合使用，使用Promise异步回调。</p>     <p>该接口仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">txId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#begintrans12">beginTrans</a>获取的事务ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.50.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">null</span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">txId</span>: <span class="hljs-built_in">number</span>;</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">beginTrans</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">temTxId: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    txId = temTxId;</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">execute</span>(<span class="hljs-string">"DELETE FROM TEST WHERE age = ? OR age = ?"</span>, txId, [<span class="hljs-string">"18"</span>, <span class="hljs-string">"20"</span>])</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">commit</span>(txId);</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (txId !== <span class="hljs-literal">undefined</span>) {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rollback</span>(txId);</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`execute sql failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2235px;">     <h2 id="backup" device-type="phone,2in1,tablet,wearable,tv">backup<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="backup" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>backup(destName:string, callback: AsyncCallback&lt;void&gt;):void</p>     <p>以指定名称备份数据库，使用callback异步回调。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">destName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定数据库的备份文件名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800010</td>         <td class="cellrowborder" width="50%">Failed to open or delete the database by an invalid database path.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">backup</span>(<span class="hljs-string">"dbBackup.db"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Backup failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Backup success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2306px;">     <h2 id="backup-1" device-type="phone,2in1,tablet,wearable,tv">backup<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="backup-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>backup(destName:string): Promise&lt;void&gt;</p>     <p>以指定名称备份数据库，使用Promise异步回调。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">destName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定数据库的备份文件名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.52.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> promiseBackup = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">backup</span>(<span class="hljs-string">"dbBackup.db"</span>);</li><li>  promiseBackup.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Backup success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Backup failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2156px;">     <h2 id="restore" device-type="phone,2in1,tablet,wearable,tv">restore<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restore(srcName:string, callback: AsyncCallback&lt;void&gt;):void</p>     <p>从指定的数据库备份文件恢复数据库，使用callback异步回调。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">srcName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定数据库的备份文件名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">restore</span>(<span class="hljs-string">"dbBackup.db"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Restore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Restore success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2306px;">     <h2 id="restore-1" device-type="phone,2in1,tablet,wearable,tv">restore<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restore(srcName:string): Promise&lt;void&gt;</p>     <p>从指定的数据库备份文件恢复数据库，使用Promise异步回调。</p>     <p>该接口支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">向量数据库</a>使用。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">srcName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定数据库的备份文件名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.54.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  <span class="hljs-keyword">let</span> promiseRestore = (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">restore</span>(<span class="hljs-string">"dbBackup.db"</span>);</li><li>  promiseRestore.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Restore success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Restore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1331px;">     <h2 id="setdistributedtables" device-type="phone,2in1,tablet,wearable,tv">setDistributedTables<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdistributedtables" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDistributedTables(tables: Array&lt;string&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置分布式数据库表，使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的分布式数据库的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">setDistributedTables</span>([<span class="hljs-string">"EMPLOYEE"</span>], <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetDistributedTables failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetDistributedTables successfully.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1457px;">     <h2 id="setdistributedtables-1" device-type="phone,2in1,tablet,wearable,tv">setDistributedTables<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdistributedtables-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDistributedTables(tables: Array&lt;string&gt;): Promise&lt;void&gt;</p>     <p>设置分布式数据库表，使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的分布式数据库的表名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.56.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">setDistributedTables</span>([<span class="hljs-string">"EMPLOYEE"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetDistributedTables successfully.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetDistributedTables failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1431px;">     <h2 id="setdistributedtables10" device-type="phone,2in1,tablet,wearable,tv">setDistributedTables<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdistributedtables10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDistributedTables(tables: Array&lt;string&gt;, type: DistributedType, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置分布式数据库表，支持指定表的分布式类型，使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的分布式数据库的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#distributedtype10">DistributedType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表的分布式类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800051</td>         <td class="cellrowborder" width="50%">The type of the distributed table does not match.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">setDistributedTables</span>([<span class="hljs-string">"EMPLOYEE"</span>], relationalStore.<span class="hljs-property">DistributedType</span>.<span class="hljs-property">DISTRIBUTED_CLOUD</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetDistributedTables failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetDistributedTables successfully.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1548px;">     <h2 id="setdistributedtables10-1" device-type="phone,2in1,tablet,wearable,tv">setDistributedTables<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdistributedtables10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDistributedTables(tables: Array&lt;string&gt;, type: DistributedType, config: DistributedConfig, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置分布式数据库表，支持指定表的分布式类型和表的分布式配置信息，使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的分布式数据库的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#distributedtype10">DistributedType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表的分布式类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#distributedconfig10">DistributedConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表的分布式配置信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800051</td>         <td class="cellrowborder" width="50%">The type of the distributed table does not match.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">setDistributedTables</span>([<span class="hljs-string">"EMPLOYEE"</span>], relationalStore.<span class="hljs-property">DistributedType</span>.<span class="hljs-property">DISTRIBUTED_CLOUD</span>, {</li><li>    <span class="hljs-attr">autoSync</span>: <span class="hljs-literal">true</span></li><li>  }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetDistributedTables failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetDistributedTables successfully.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1770px;">     <h2 id="setdistributedtables10-2" device-type="phone,2in1,tablet,wearable,tv">setDistributedTables<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdistributedtables10-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDistributedTables(tables: Array&lt;string&gt;, type?: DistributedType, config?: DistributedConfig): Promise&lt;void&gt;</p>     <p>设置分布式数据库表，支持指定表的分布式类型和表的分布式配置信息，使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的分布式数据库的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#distributedtype10">DistributedType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表的分布式类型。默认值是relationalStore.DistributedType.DISTRIBUTED_DEVICE。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#distributedconfig10">DistributedConfig</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表的分布式配置信息。不传入时默认autoSync为false，即只支持手动同步。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.59.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800051</td>         <td class="cellrowborder" width="50%">The type of the distributed table does not match.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">setDistributedTables</span>([<span class="hljs-string">"EMPLOYEE"</span>], relationalStore.<span class="hljs-property">DistributedType</span>.<span class="hljs-property">DISTRIBUTED_CLOUD</span>, {</li><li>    <span class="hljs-attr">autoSync</span>: <span class="hljs-literal">true</span></li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SetDistributedTables successfully.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetDistributedTables failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1900px;">     <h2 id="obtaindistributedtablename" device-type="phone,2in1,tablet,wearable,tv">obtainDistributedTableName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="obtaindistributedtablename" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>obtainDistributedTableName(device: string, table: string, callback: AsyncCallback&lt;string&gt;): void</p>     <p>根据远程设备的本地表名获取指定远程设备的分布式表名。在查询远程设备数据库时，需要使用分布式表名，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>其中device通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#getavailabledevicelistsync">deviceManager.getAvailableDeviceListSync</a>方法得到。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">device</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">远程设备ID 。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">远程设备的本地表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;string&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数。如果操作成功，返回远程设备的分布式表名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> devices = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  deviceId = devices[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span> &amp;&amp; deviceId != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">obtainDistributedTableName</span>(deviceId, <span class="hljs-string">"EMPLOYEE"</span>, <span class="hljs-function">(<span class="hljs-params">err, tableName</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ObtainDistributedTableName failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ObtainDistributedTableName successfully, tableName= <span class="hljs-subst">${tableName}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2026px;">     <h2 id="obtaindistributedtablename-1" device-type="phone,2in1,tablet,wearable,tv">obtainDistributedTableName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="obtaindistributedtablename-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>obtainDistributedTableName(device: string, table: string): Promise&lt;string&gt;</p>     <p>根据远程设备的本地表名获取指定远程设备的分布式表名。在查询远程设备数据库时，需要使用分布式表名，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>其中device通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-distributeddevicemanager#getavailabledevicelistsync">deviceManager.getAvailableDeviceListSync</a>方法得到。</p>      </div></div></div>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">device</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">远程设备ID。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">远程设备的本地表名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;string&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，返回远程设备的分布式表名。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.61.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> devices = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  <span class="hljs-keyword">if</span> (!devices || devices.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"No available devices found"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    deviceId = devices[<span class="hljs-number">0</span>].<span class="hljs-property">networkId</span>;</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span> &amp;&amp; deviceId != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">obtainDistributedTableName</span>(deviceId, <span class="hljs-string">"EMPLOYEE"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">tableName: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ObtainDistributedTableName successfully, tableName= <span class="hljs-subst">${tableName}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ObtainDistributedTableName failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2096px;">     <h2 id="sync" device-type="phone,2in1,tablet,wearable,tv">sync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sync" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sync(mode: SyncMode, predicates: RdbPredicates, callback: AsyncCallback&lt;Array&lt;[string, number]&gt;&gt;): void</p>     <p>在设备之间同步数据，使用callback异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指同步模式。该值可以是relationalStore.SyncMode.SYNC_MODE_PUSH、relationalStore.SyncMode.SYNC_MODE_PULL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">约束同步数据和设备。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;Array&lt;[string, number]&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数，用于向调用者发送同步结果。string：设备ID；number：每个设备同步状态，0表示成功，1表示失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">devices</span>: <span class="hljs-title class_">Array</span>&lt;distributedDeviceManager.<span class="hljs-property">DeviceBasicInfo</span>&gt; = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>    deviceIds[i] = devices[i].<span class="hljs-property">networkId</span>!;</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">'EMPLOYEE'</span>);</li><li>predicates.<span class="hljs-title function_">inDevices</span>(deviceIds);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">sync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_PUSH</span>, predicates, <span class="hljs-function">(<span class="hljs-params">err, result</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Sync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Sync done.'</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; result.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${result[i][<span class="hljs-number">0</span>]}</span>, status= <span class="hljs-subst">${result[i][<span class="hljs-number">1</span>]}</span>`</span>);</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2102px;">     <h2 id="sync-1" device-type="phone,2in1,tablet,wearable,tv">sync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sync-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sync(mode: SyncMode, predicates: RdbPredicates): Promise&lt;Array&lt;[string, number]&gt;&gt;</p>     <p>在设备之间同步数据，使用Promise异步回调。</p>     <p><strong>需要权限：</strong> ohos.permission.DISTRIBUTED_DATASYNC</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指同步模式。该值可以是relationalStore.SyncMode.SYNC_MODE_PUSH、relationalStore.SyncMode.SYNC_MODE_PULL。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">约束同步数据和设备。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;Array&lt;[string, number]&gt;&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，用于向调用者发送同步结果。string：设备ID；number：每个设备同步状态，0表示成功，1表示失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.63.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DistributedServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">dmInstance</span>: distributedDeviceManager.<span class="hljs-property">DeviceManager</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">deviceIds</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [];</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  dmInstance = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">"com.example.appdatamgrverify"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">devices</span>: <span class="hljs-title class_">Array</span>&lt;distributedDeviceManager.<span class="hljs-property">DeviceBasicInfo</span>&gt; = dmInstance.<span class="hljs-title function_">getAvailableDeviceListSync</span>();</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>    deviceIds[i] = devices[i].<span class="hljs-property">networkId</span>!;</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"createDeviceManager errCode:"</span> + code + <span class="hljs-string">",errMessage:"</span> + message);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">'EMPLOYEE'</span>);</li><li>predicates.<span class="hljs-title function_">inDevices</span>(deviceIds);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">sync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_PUSH</span>, predicates).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">Object</span>[][]</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Sync done.'</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; result.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${result[i][<span class="hljs-number">0</span>]}</span>, status= <span class="hljs-subst">${result[i][<span class="hljs-number">1</span>]}</span>`</span>);</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Sync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1369px;">     <h2 id="cloudsync10" device-type="phone,2in1,tablet,tv">cloudSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cloudsync10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cloudSync(mode: SyncMode, progress: Callback&lt;ProgressDetails&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>手动执行对所有分布式表的端云同步，使用callback异步回调。使用该接口需要实现云服务功能。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据库的同步模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用来处理数据库同步详细信息的回调函数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数，用于向调用者发送同步结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 2 - 4 parameter(s). 2. The RdbStore must be not nullptr. 3. The mode must be a SyncMode of cloud. 4. The progress must be a callback type. 5. The callback must be a function.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cloudSync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_CLOUD_FIRST</span>, <span class="hljs-function">(<span class="hljs-params">progressDetails</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Progress: <span class="hljs-subst">${progressDetails}</span>`</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Cloud sync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Cloud sync succeeded'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1471px;">     <h2 id="cloudsync10-1" device-type="phone,2in1,tablet,tv">cloudSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cloudsync10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cloudSync(mode: SyncMode, progress: Callback&lt;ProgressDetails&gt;): Promise&lt;void&gt;</p>     <p>手动执行对所有分布式表的端云同步，使用Promise异步回调。使用该接口需要实现云服务功能。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据库的同步模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用来处理数据库同步详细信息的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，用于向调用者发送同步结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.65.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 2 - 4 parameter(s). 2. The RdbStore must be not nullptr. 3. The mode must be a SyncMode of cloud. 4. The progress must be a callback type.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cloudSync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_CLOUD_FIRST</span>, <span class="hljs-function">(<span class="hljs-params">progressDetail: relationalStore.ProgressDetails</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progress: <span class="hljs-subst">${progressDetail}</span>`</span>);</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Cloud sync succeeded'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`cloudSync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1486px;">     <h2 id="cloudsync10-2" device-type="phone,2in1,tablet,tv">cloudSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cloudsync10-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cloudSync(mode: SyncMode, tables: string[], progress: Callback&lt;ProgressDetails&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>手动执行对指定表的端云同步，使用callback异步回调。使用该接口需要实现云服务功能。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据库的同步模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定同步的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用来处理数据库同步详细信息的回调函数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数，用于向调用者发送同步结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 2 - 4 parameter(s). 2. The RdbStore must be not nullptr. 3. The mode must be a SyncMode of cloud. 4. The tablesNames must be not empty. 5. The progress must be a callback type. 6.The callback must be a function.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> tables = [<span class="hljs-string">"table1"</span>, <span class="hljs-string">"table2"</span>];</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cloudSync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_CLOUD_FIRST</span>, tables, <span class="hljs-function">(<span class="hljs-params">progressDetail: relationalStore.ProgressDetails</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Progress: <span class="hljs-subst">${progressDetail}</span>`</span>);</li><li>  }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Cloud sync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Cloud sync succeeded'</span>);</li><li>  });</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1588px;">     <h2 id="cloudsync10-3" device-type="phone,2in1,tablet,tv">cloudSync<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cloudsync10-3" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cloudSync(mode: SyncMode, tables: string[], progress: Callback&lt;ProgressDetails&gt;): Promise&lt;void&gt;</p>     <p>手动执行对指定表的端云同步，使用Promise异步回调。使用该接口需要实现云服务功能。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#syncmode">SyncMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示数据库的同步模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">tables</td>         <td class="cellrowborder" width="25%">string[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定同步的表名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用来处理数据库同步详细信息的回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，用于向调用者发送同步结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.67.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 2 - 4 parameter(s). 2. The RdbStore must be not nullptr. 3. The mode must be a SyncMode of cloud. 4. The tablesNames must be not empty. 5. The progress must be a callback type</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> tables = [<span class="hljs-string">"table1"</span>, <span class="hljs-string">"table2"</span>];</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cloudSync</span>(relationalStore.<span class="hljs-property">SyncMode</span>.<span class="hljs-property">SYNC_MODE_CLOUD_FIRST</span>, tables, <span class="hljs-function">(<span class="hljs-params">progressDetail: relationalStore.ProgressDetails</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progress: <span class="hljs-subst">${progressDetail}</span>`</span>);</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Cloud sync succeeded'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`cloudSync failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1609px;">     <h2 id="ondatachange" device-type="phone,2in1,tablet,wearable,tv">on('dataChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondatachange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'dataChange', type: SubscribeType, observer: Callback&lt;Array&lt;string&gt;&gt;): void</p>     <p>注册数据库的数据变更的事件监听。当分布式数据库中的数据发生更改时，将调用回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'dataChange'，表示数据更改。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#subscribetype">SubscribeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指分布式数据库中数据更改事件的观察者。Array&lt;string&gt;为数据库中的数据发生改变的对端设备ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params">devices: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (devices !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${devices[i]}</span> data changed`</span>);</li><li>    }</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3404px;">     <h2 id="ondatachange10" device-type="phone,2in1,tablet,wearable,tv">on('dataChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondatachange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'dataChange', type: SubscribeType, observer: Callback&lt;Array&lt;string&gt;&gt;| Callback&lt;Array&lt;ChangeInfo&gt;&gt;): void</p>     <p>注册数据库的数据变更的事件监听。当分布式数据库或本地数据库中的数据发生更改时，将调用回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'dataChange'，表示数据更改。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#subscribetype">SubscribeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt; | Callback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#changeinfo10">ChangeInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>回调函数。</p>          <p>当type为SUBSCRIBE_TYPE_REMOTE，observer类型需为Callback&lt;Array&lt;string&gt;&gt;，其中Array&lt;string&gt;为数据库中的数据发生改变的对端设备ID。</p>          <p>当type为SUBSCRIBE_TYPE_CLOUD，observer类型需为Callback&lt;Array&lt;string&gt;&gt;，其中Array&lt;string&gt;为数据库中的数据发生改变的云端账号。</p>          <p>当type为SUBSCRIBE_TYPE_CLOUD_DETAILS，observer类型需为Callback&lt;Array&lt;ChangeInfo&gt;&gt;，其中Array&lt;ChangeInfo&gt;为数据库端云同步过程的详情。</p>          <p>当type为SUBSCRIBE_TYPE_LOCAL_DETAILS，observer类型需为Callback&lt;Array&lt;ChangeInfo&gt;&gt;，其中Array&lt;ChangeInfo&gt;为本地数据库中的数据更改的详情。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">202</td>         <td class="cellrowborder" width="50%">Permission verification failed, application which is not a system application uses system API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例1：type为SUBSCRIBE_TYPE_REMOTE</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params">devices: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (devices !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${devices[i]}</span> data changed`</span>);</li><li>    }</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <p><strong>示例2：type为SUBSCRIBE_TYPE_LOCAL_DETAILS</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">changeInfos</span> = (<span class="hljs-params">changeInfos: <span class="hljs-built_in">Array</span>&lt;relationalStore.ChangeInfo&gt;</span>) =&gt; {</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; changeInfos.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`changeInfos = <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(changeInfos[i])}</span>`</span>);</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_LOCAL_DETAILS</span>, changeInfos);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`on dataChange fail, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li><span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li><span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li><span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'name'</span>: value1,</li><li>    <span class="hljs-string">'age'</span>: value2,</li><li>    <span class="hljs-string">'salary'</span>: value3,</li><li>    <span class="hljs-string">'blobType'</span>: value4</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">'test'</span>, valueBucket);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`insert fail, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1599px;">     <h2 id="on10" device-type="phone,2in1,tablet,wearable,tv">on<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="on10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: string, interProcess: boolean, observer: Callback&lt;void&gt;): void</p>     <p>注册数据库的进程内或者进程间事件监听。当调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#emit10">emit</a>接口时，将调用回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅事件名称，与emit接口触发事件时的名称一致。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">interProcess</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定是进程间还是本进程订阅。</p>          <p>true：进程间。</p>          <p>false：本进程。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800050</td>         <td class="cellrowborder" width="50%">Failed to obtain the subscription service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`storeObserver`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'storeObserver'</span>, <span class="hljs-literal">false</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1372px;">     <h2 id="onautosyncprogress11" device-type="phone,2in1,tablet,wearable,tv">on('autoSyncProgress')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onautosyncprogress11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'autoSyncProgress', progress: Callback&lt;ProgressDetails&gt;): void</p>     <p>在已打开端云同步，并且网络状态正常的条件下，注册自动同步进度通知，自动同步进行时调用回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'autoSyncProgress'，表示自动同步进度通知。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">progressDetail</span> = (<span class="hljs-params">progressDetail: relationalStore.ProgressDetails</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progress: <span class="hljs-subst">${progressDetail}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'autoSyncProgress'</span>, progressDetail);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2051px;">     <h2 id="onstatistics12" device-type="phone,2in1,tablet,wearable,tv">on('statistics')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onstatistics12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'statistics', observer: Callback&lt;SqlExecutionInfo&gt;): void</p>     <p>订阅SQL统计信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅事件名称，取值为'statistics'，表示sql执行时间的统计。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#sqlexecutioninfo12">SqlExecutionInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。用于返回数据库中SQL执行时间的统计信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">sqlExecutionInfo</span> = (<span class="hljs-params">sqlExecutionInfo: relationalStore.SqlExecutionInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sql: <span class="hljs-subst">${sqlExecutionInfo.sql[<span class="hljs-number">0</span>]}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`totalTime: <span class="hljs-subst">${sqlExecutionInfo.totalTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`waitTime: <span class="hljs-subst">${sqlExecutionInfo.waitTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`prepareTime: <span class="hljs-subst">${sqlExecutionInfo.prepareTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`executeTime: <span class="hljs-subst">${sqlExecutionInfo.executeTime}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'statistics'</span>, sqlExecutionInfo);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li>  <span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li>  <span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li>  <span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'NAME'</span>: value1,</li><li>    <span class="hljs-string">'AGE'</span>: value2,</li><li>    <span class="hljs-string">'SALARY'</span>: value3,</li><li>    <span class="hljs-string">'CODES'</span>: value4</li><li>  };</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">'test'</span>, valueBucket);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`insert fail, code:<span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1773px;">     <h2 id="onsqliteerroroccurred20" device-type="phone,2in1,tablet,wearable,tv">on('sqliteErrorOccurred')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsqliteerroroccurred20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'sqliteErrorOccurred', observer: Callback&lt;ExceptionMessage&gt;): void</p>     <p>记录执行SQL语句时的异常日志。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅事件名称，取值为'sqliteErrorOccurred'，记录SQL语句执行过程中的错误信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#exceptionmessage20">ExceptionMessage</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。用于返回SQL执行时出现的异常信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    store.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sqliteErrorOccurred'</span>, <span class="hljs-function"><span class="hljs-params">exceptionMessage</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> sqliteCode = exceptionMessage.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">let</span> sqliteMessage = exceptionMessage.<span class="hljs-property">message</span>;</li><li>      <span class="hljs-keyword">let</span> errSQL = exceptionMessage.<span class="hljs-property">sql</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`error log is <span class="hljs-subst">${sqliteCode}</span>, errMessage is <span class="hljs-subst">${sqliteMessage}</span>, errSQL is <span class="hljs-subst">${errSQL}</span>`</span>);</li><li>    })</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CREATE_TABLE_TEST</span> = <span class="hljs-string">"CREATE TABLE IF NOT EXISTS test ("</span> + <span class="hljs-string">"id INTEGER PRIMARY KEY AUTOINCREMENT, "</span> +</li><li>  <span class="hljs-string">"name TEXT NOT NULL, "</span> + <span class="hljs-string">"age INTEGER, "</span> + <span class="hljs-string">"salary REAL)"</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> value = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'name'</span>: <span class="hljs-string">"Lisa"</span>,</li><li>    <span class="hljs-string">'age'</span>: <span class="hljs-number">18</span>,</li><li>    <span class="hljs-string">'salary'</span>: <span class="hljs-number">100.5</span>,</li><li>    <span class="hljs-string">'codes'</span>: value,</li><li>  };</li><li>  <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">executeSql</span>(<span class="hljs-variable constant_">CREATE_TABLE_TEST</span>);</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">insert</span>(<span class="hljs-string">'test'</span>, valueBucket);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Insert fail, code:<span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1917px;">     <h2 id="onperfstat20" device-type="phone,2in1,tablet,wearable,tv">on('perfStat')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onperfstat20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(event: 'perfStat', observer: Callback&lt;SqlExecutionInfo&gt;): void</p>     <p>订阅SQL统计信息。使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#createtransaction14">createTransaction</a>创建的事务进行相关操作（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-transaction">Transaction</a>），只会在事务结束（COMMIT/ROLLBACK）时通知一次统计信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅事件名称，取值为'perfStat'，统计执行SQL的时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#sqlexecutioninfo12">SqlExecutionInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。用于返回数据库执行SQL的时间。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">sqlExecutionInfo</span> = (<span class="hljs-params">sqlExecutionInfo: relationalStore.SqlExecutionInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sql: <span class="hljs-subst">${sqlExecutionInfo.sql[<span class="hljs-number">0</span>]}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`totalTime: <span class="hljs-subst">${sqlExecutionInfo.totalTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`waitTime: <span class="hljs-subst">${sqlExecutionInfo.waitTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`prepareTime: <span class="hljs-subst">${sqlExecutionInfo.prepareTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`executeTime: <span class="hljs-subst">${sqlExecutionInfo.executeTime}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'perfStat'</span>, sqlExecutionInfo);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> value1 = <span class="hljs-string">"Lisa"</span>;</li><li>  <span class="hljs-keyword">let</span> value2 = <span class="hljs-number">18</span>;</li><li>  <span class="hljs-keyword">let</span> value3 = <span class="hljs-number">100.5</span>;</li><li>  <span class="hljs-keyword">let</span> value4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);</li><li>
</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">valueBucket</span>: relationalStore.<span class="hljs-property">ValuesBucket</span> = {</li><li>    <span class="hljs-string">'NAME'</span>: value1,</li><li>    <span class="hljs-string">'AGE'</span>: value2,</li><li>    <span class="hljs-string">'SALARY'</span>: value3,</li><li>    <span class="hljs-string">'CODES'</span>: value4</li><li>  };</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">const</span> rowId = <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">insert</span>(<span class="hljs-string">'EMPLOYEE'</span>, valueBucket);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Insert success, rowId is: <span class="hljs-subst">${rowId}</span>`</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`insert fail, code:<span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1849px;">     <h2 id="offdatachange" device-type="phone,2in1,tablet,wearable,tv">off('dataChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdatachange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event:'dataChange', type: SubscribeType, observer: Callback&lt;Array&lt;string&gt;&gt;): void</p>     <p>取消数据变更的事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'dataChange'，表示数据更改。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#subscribetype">SubscribeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指已注册的数据更改观察者。Array&lt;string&gt;为数据库中的数据发生改变的对端设备ID。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params">devices: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (devices !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${devices[i]}</span> data changed`</span>);</li><li>    }</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-comment">// 此处不能使用Lambda表达式</span></li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2648px;">     <h2 id="offdatachange10" device-type="phone,2in1,tablet,wearable,tv">off('dataChange')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdatachange10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event:'dataChange', type: SubscribeType, observer?: Callback&lt;Array&lt;string&gt;&gt;| Callback&lt;Array&lt;ChangeInfo&gt;&gt;): void</p>     <p>取消数据变更的事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'dataChange'，表示数据更改。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-e#subscribetype">SubscribeType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;Array&lt;string&gt;&gt;| Callback&lt;Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#changeinfo10">ChangeInfo</a>&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>回调函数。</p>          <p>当type为SUBSCRIBE_TYPE_REMOTE，observer类型需为Callback&lt;Array&lt;string&gt;&gt;，其中Array&lt;string&gt;为数据库中的数据发生改变的对端设备ID。</p>          <p>当type为SUBSCRIBE_TYPE_CLOUD，observer类型需为Callback&lt;Array&lt;string&gt;&gt;，其中Array&lt;string&gt;为数据库中的数据发生改变的云端账号。</p>          <p>当type为SUBSCRIBE_TYPE_CLOUD_DETAILS，observer类型需为Callback&lt;Array&lt;ChangeInfo&gt;&gt;，其中Array&lt;ChangeInfo&gt;为数据库端云同步过程的详情。</p>          <p>当type为SUBSCRIBE_TYPE_LOCAL_DETAILS，observer类型需为Callback&lt;Array&lt;ChangeInfo&gt;&gt;，其中Array&lt;ChangeInfo&gt;为本地数据库中的数据更改的详情。</p>          <p>当observer没有传入时，表示取消当前type类型下所有数据变更的事件监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">202</td>         <td class="cellrowborder" width="50%">Permission verification failed, application which is not a system application uses system API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params">devices: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (devices !== <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; devices.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`device= <span class="hljs-subst">${devices[i]}</span> data changed`</span>);</li><li>    }</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'dataChange'</span>, relationalStore.<span class="hljs-property">SubscribeType</span>.<span class="hljs-property">SUBSCRIBE_TYPE_REMOTE</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1935px;">     <h2 id="off10" device-type="phone,2in1,tablet,wearable,tv">off<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="off10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event: string, interProcess: boolean, observer?: Callback&lt;void&gt;): void</p>     <p>取消数据变更的事件监听。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消订阅事件名称。事件名称与on接口调用时订阅事件的名称一致。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">interProcess</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定是进程间还是本进程取消订阅。</p>          <p>true：进程间。</p>          <p>false：本进程。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">该参数存在，则取消指定Callback监听回调，否则取消该event事件的所有监听回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800050</td>         <td class="cellrowborder" width="50%">Failed to obtain the subscription service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">storeObserver</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`storeObserver`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'storeObserver'</span>, <span class="hljs-literal">false</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'storeObserver'</span>, <span class="hljs-literal">false</span>, storeObserver);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1732px;">     <h2 id="offautosyncprogress11" device-type="phone,2in1,tablet,wearable,tv">off('autoSyncProgress')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offautosyncprogress11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event: 'autoSyncProgress', progress?: Callback&lt;ProgressDetails&gt;): void</p>     <p>取消订阅自动同步进度的通知。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取值为'autoSyncProgress'，表示自动同步进度通知。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">progress</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#progressdetails10">ProgressDetails</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">指已注册的自动同步进度观察者。该参数存在，则取消订阅指定回调，该参数为null或undefined或不存在，则取消订阅所有回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 1 - 3 parameter(s)! 2. The RdbStore must be valid. 3. The event must be a not empty string. 4. The progress must be function.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">progressDetail</span> = (<span class="hljs-params">progressDetail: relationalStore.ProgressDetails</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`progress: <span class="hljs-subst">${progressDetail}</span>`</span>);</li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'autoSyncProgress'</span>, progressDetail);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Register observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'autoSyncProgress'</span>, progressDetail);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1379px;">     <h2 id="offstatistics12" device-type="phone,2in1,tablet,wearable,tv">off('statistics')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offstatistics12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event: 'statistics', observer?: Callback&lt;SqlExecutionInfo&gt;): void</p>     <p>取消订阅SQL统计信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消订阅事件名称。取值为'statistics'，表示sql执行时间的统计。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#sqlexecutioninfo12">SqlExecutionInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。该参数存在，则取消指定Callback监听回调，否则取消该event事件的所有监听回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'statistics'</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1293px;">     <h2 id="offsqliteerroroccurred20" device-type="phone,2in1,tablet,wearable,tv">off('sqliteErrorOccurred')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsqliteerroroccurred20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event: 'sqliteErrorOccurred', observer?: Callback&lt;ExceptionMessage&gt;): void</p>     <p>停止记录SQL执行过程中的异常日志。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消订阅事件名称，取值为'sqliteErrorOccurred'，记录SQL语句执行过程中的错误信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#exceptionmessage20">ExceptionMessage</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。该参数存在，则取消指定Callback监听回调，否则取消该event事件的所有监听回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'sqliteErrorOccurred'</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1245px;">     <h2 id="offperfstat20" device-type="phone,2in1,tablet,wearable,tv">off('perfStat')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offperfstat20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(event: 'perfStat', observer?: Callback&lt;SqlExecutionInfo&gt;): void</p>     <p>取消订阅SQL统计信息。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">取消订阅事件名称。取值为'perfStat'，统计执行SQL的时间。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">observer</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#sqlexecutioninfo12">SqlExecutionInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，表示订阅时的回调函数。该参数存在，则取消指定Callback监听回调，否则取消该event事件的所有监听回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">'perfStat'</span>);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> code = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unregister observer failed, code is <span class="hljs-subst">${code}</span>,message is <span class="hljs-subst">${message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1221px;">     <h2 id="emit10" device-type="phone,2in1,tablet,wearable,tv">emit<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="emit10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>emit(event: string): void</p>     <p>通知通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#on10">on</a>注册的进程间或者进程内监听事件。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">通知订阅事件的名称，可自定义事件名称，不能与系统已有事件<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#ondatachange">dataChange</a>，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#onautosyncprogress11">autoSyncProgress</a>，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbstore#onstatistics12">statistics</a>名称重复。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800050</td>         <td class="cellrowborder" width="50%">Failed to obtain the subscription service.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">emit</span>(<span class="hljs-string">'storeObserver'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2304px;">     <h2 id="cleandirtydata11" device-type="phone,2in1,tablet,tv">cleanDirtyData<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cleandirtydata11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cleanDirtyData(table: string, cursor: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>清理云端删除的数据同步到本地后，未自动清理的，且数据的游标（cursor）小于指定游标的数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示当前数据库的表的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cursor</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">整数类型，表示数据游标，小于此游标的脏数据将被清理。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.83.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 1 - 3 parameter(s)! 2. The RdbStore must be not nullptr. 3. The tablesNames must be not empty string. 4. The cursor must be valid cursor.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cleanDirtyData</span>(<span class="hljs-string">'test_table'</span>, <span class="hljs-number">100</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`clean dirty data failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'clean dirty data succeeded'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2187px;">     <h2 id="cleandirtydata11-1" device-type="phone,2in1,tablet,tv">cleanDirtyData<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cleandirtydata11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cleanDirtyData(table: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>清理云端删除的数据同步到本地后，未自动清理的所有数据。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示当前数据库的表的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的callback回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 1 - 3 parameter(s). 2. The RdbStore must be not nullptr. 3. The tablesNames must be not empty string.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cleanDirtyData</span>(<span class="hljs-string">'test_table'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`clean dirty data failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'clean dirty data succeeded'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2478px;">     <h2 id="cleandirtydata11-2" device-type="phone,2in1,tablet,tv">cleanDirtyData<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cleandirtydata11-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>cleanDirtyData(table: string, cursor?: number): Promise&lt;void&gt;</p>     <p>清理云端删除的数据同步到本地后，未自动清理的，且数据的游标（cursor）小于指定游标的数据，使用Promise异步回调。若无cursor参数，将全部清理。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.CloudSync.Client</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">table</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示当前数据库的表的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cursor</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">整数类型，表示数据游标，小于此游标的脏数据将被清理。当此参数不填时，清理当前表的所有脏数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.85.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Need 1 - 3 parameter(s)! 2. The RdbStore must be not nullptr. 3. The tablesNames must be not empty string. 4. The cursor must be valid cursor.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">cleanDirtyData</span>(<span class="hljs-string">'test_table'</span>, <span class="hljs-number">100</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'clean dirty data  succeeded'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`clean dirty data failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2801px;">     <h2 id="attach12" device-type="phone,2in1,tablet,wearable,tv">attach<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attach12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attach(fullPath: string, attachName: string, waitTime?: number) : Promise&lt;number&gt;</p>     <p>将一个数据库文件附加到当前数据库中，以便在SQL语句中可以直接访问附加数据库中的数据，使用Promise异步回调。</p>     <p>数据库文件来自文件，且此API不支持附加加密数据库。调用attach接口后，数据库切换为非WAL模式，性能会存在一定的劣化。</p>     <p>attach时，数据库会切换为非WAL模式，切换模式需要确保所有的ResultSet都已经Close，所有的写操作已经结束，否则会报错14800015。</p>     <p>attach不能并发调用，否则可能出现未响应情况并报错14800015，需要重试。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fullPath</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示要附加的数据库的路径。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">attachName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示附加后的数据库的别名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">waitTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示附加数据库文件的等待时长。默认值2s，最小值1s，最大值300s。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回附加数据库的数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.86.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800010</td>         <td class="cellrowborder" width="50%">Failed to open or delete the database by an invalid database path.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800016</td>         <td class="cellrowborder" width="50%">The database alias already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 非加密数据库附加非加密数据库。</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">attach</span>(<span class="hljs-string">"/path/rdbstore1.db"</span>, <span class="hljs-string">"attachDB"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">number</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'attach succeeded'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`attach failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4048px;">     <h2 id="attach12-1" device-type="phone,2in1,tablet,wearable,tv">attach<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="attach12-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>attach(context: Context, config: StoreConfig, attachName: string, waitTime?: number) : Promise&lt;number&gt;</p>     <p>将一个当前应用的数据库附加到当前数据库中，以便在SQL语句中可以直接访问附加数据库中的数据，使用Promise异步回调。</p>     <p>此API不支持加密数据库附加非加密数据库。调用attach接口后，数据库切换为非WAL模式，性能会存在一定的劣化。</p>     <p>attach时，数据库会切换为非WAL模式，切换模式需要确保所有的ResultSet都已经Close，所有的写操作已经结束，否则会报错14800015。</p>     <p>attach不能并发调用，否则可能出现未响应情况并报错14800015，需要重试。除此之外，attach附加加密数据库时，可能受到并发的影响，出现解密失败的情况，报错14800011，需要显式指定加密参数并重试。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%">Context</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>应用的上下文。</p>          <p>FA模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-app-context">Context</a>。</p>          <p>Stage模型的应用Context定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#storeconfig">StoreConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">与此RDB存储相关的数据库配置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">attachName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示附加后的数据库的别名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">waitTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示附加数据库文件的等待时长。默认值2s，最小值1s，最大值300s。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回附加数据库的数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.87.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800010</td>         <td class="cellrowborder" width="50%">Failed to open or delete the database by an invalid database path.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800016</td>         <td class="cellrowborder" width="50%">The database alias already exists.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14801001</td>         <td class="cellrowborder" width="50%">The operation is supported in the stage model only.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14801002</td>         <td class="cellrowborder" width="50%">Invalid data group ID.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例1：非加密数据库附加非加密数据库</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">attachStore</span>: relationalStore.<span class="hljs-property">RdbStore</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">STORE_CONFIG1</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"rdbstore1.db"</span>,</li><li>  <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span></li><li>};</li><li>
</li><li>relationalStore.<span class="hljs-title function_">getRdbStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rdbStore</span>: relationalStore.<span class="hljs-property">RdbStore</span>) =&gt; {</li><li>  attachStore = rdbStore;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get RdbStore successfully.'</span>);</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">attach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG1</span>, <span class="hljs-string">"attachDB"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">number</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`attach succeeded, number is <span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>`</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`attach failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get RdbStore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>     <p><strong>示例2：非加密数据库附加加密数据库</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">attachStore</span>: relationalStore.<span class="hljs-property">RdbStore</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">STORE_CONFIG2</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"rdbstore2.db"</span>,</li><li>  <span class="hljs-attr">encrypt</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span></li><li>};</li><li>
</li><li>relationalStore.<span class="hljs-title function_">getRdbStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG2</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rdbStore</span>: relationalStore.<span class="hljs-property">RdbStore</span>) =&gt; {</li><li>  attachStore = rdbStore;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get RdbStore successfully.'</span>);</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">attach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG2</span>, <span class="hljs-string">"attachDB2"</span>, <span class="hljs-number">10</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">number</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`attach succeeded, number is <span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>`</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`attach failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get RdbStore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2471px;">     <h2 id="detach12" device-type="phone,2in1,tablet,wearable,tv">detach<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="detach12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>detach(attachName: string, waitTime?: number) : Promise&lt;number&gt;</p>     <p>将附加的数据库从当前数据库中分离，使用Promise异步回调。</p>     <p>当所有的附加的数据库被分离后，数据库会重新切换为WAL模式。</p>     <p>在detach之前，所有的数据库操作要确保已经结束，所有的ResultSet已经Close。并且不能并发调用，可能出现未响应情况，需要重试。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">attachName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示附加后的数据库的别名。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">waitTime</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示分离数据库的等待时长。默认值2s，最小值1s，最大值300s。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;number&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回分离后剩余附加的数据库的数量。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.13.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.88.13.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">detach</span>(<span class="hljs-string">"attachDB"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">number</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`detach succeeded, number is <span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`detach failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2505px;">     <h2 id="lockrow12" device-type="phone,2in1,tablet,wearable,tv">lockRow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lockrow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lockRow(predicates: RdbPredicates):Promise&lt;void&gt;</p>     <p>根据RdbPredicates的指定实例对象从数据库中锁定数据，锁定数据不执行端云同步，使用Promise异步回调。</p>     <p>该接口只支持主键为基本类型的表、不支持共享表、无主键表和复合类型主键表。</p>     <p>该接口不支持依赖关系表之间的锁传递，如果表存在依赖关系，需要根据依赖关系手动调用该接口。</p>     <p>该接口不支持对已删除数据的操作。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的锁定条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.89.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800018</td>         <td class="cellrowborder" width="50%">No data meets the condition.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">lockRow</span>(predicates).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Lock success`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Lock failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2505px;">     <h2 id="unlockrow12" device-type="phone,2in1,tablet,wearable,tv">unlockRow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="unlockrow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>unlockRow(predicates: RdbPredicates):Promise&lt;void&gt;</p>     <p>根据RdbPredicates的指定实例对象从数据库中解锁数据，使用Promise异步回调。</p>     <p>该接口只支持主键为基本类型的表、不支持共享表、无主键表和复合类型主键表。</p>     <p>该接口不支持依赖关系表之间的锁传递，如果表存在依赖关系，需要根据依赖关系手动调用该接口。</p>     <p>该接口不支持对已删除数据的操作。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的锁定条件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.14.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.90.14.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800018</td>         <td class="cellrowborder" width="50%">No data meets the condition.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Lisa"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">unlockRow</span>(predicates).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Unlock success`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Unlock failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2735px;">     <h2 id="querylockedrow12" device-type="phone,2in1,tablet,wearable,tv">queryLockedRow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querylockedrow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryLockedRow(predicates: RdbPredicates, columns?: Array&lt;string&gt;):Promise&lt;ResultSet&gt;</p>     <p>根据指定条件查询数据库中锁定的数据，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">predicates</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-rdbpredicates">RdbPredicates</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RdbPredicates的实例对象指定的查询条件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">columns</td>         <td class="cellrowborder" width="25%">Array&lt;string&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">表示要查询的列。如果值为空，则查询应用于所有列。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-resultset">ResultSet</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。如果操作成功，则返回ResultSet对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。其中，14800011错误码处理可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-backup-and-restore" target="_blank">数据库备份与恢复</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.91.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error. Possible causes: Insert failed or the updated data does not exist.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800022</td>         <td class="cellrowborder" width="50%">SQLite: Callback routine requested an abort.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800025</td>         <td class="cellrowborder" width="50%">SQLite: A table in the database is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800030</td>         <td class="cellrowborder" width="50%">SQLite: Unable to open the database file.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800031</td>         <td class="cellrowborder" width="50%">SQLite: TEXT or BLOB exceeds size limit.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800032</td>         <td class="cellrowborder" width="50%">SQLite: Abort due to constraint violation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800033</td>         <td class="cellrowborder" width="50%">SQLite: Data type mismatch.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> predicates = <span class="hljs-keyword">new</span> relationalStore.<span class="hljs-title class_">RdbPredicates</span>(<span class="hljs-string">"EMPLOYEE"</span>);</li><li>predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">"NAME"</span>, <span class="hljs-string">"Rose"</span>);</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">queryLockedRow</span>(predicates, [<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"AGE"</span>, <span class="hljs-string">"SALARY"</span>, <span class="hljs-string">"CODES"</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">resultSet</span>: relationalStore.<span class="hljs-property">ResultSet</span>) =&gt; {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet column names: <span class="hljs-subst">${resultSet.columnNames}</span>, column count: <span class="hljs-subst">${resultSet.columnCount}</span>`</span>);</li><li>    <span class="hljs-comment">// resultSet是一个数据集合的游标，默认指向第-1个记录，有效的数据从0开始。</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">while</span> (resultSet.<span class="hljs-title function_">goToNextRow</span>()) {</li><li>        <span class="hljs-keyword">const</span> id = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"ID"</span>));</li><li>        <span class="hljs-keyword">const</span> name = resultSet.<span class="hljs-title function_">getString</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"NAME"</span>));</li><li>        <span class="hljs-keyword">const</span> age = resultSet.<span class="hljs-title function_">getLong</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"AGE"</span>));</li><li>        <span class="hljs-keyword">const</span> salary = resultSet.<span class="hljs-title function_">getDouble</span>(resultSet.<span class="hljs-title function_">getColumnIndex</span>(<span class="hljs-string">"SALARY"</span>));</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`id=<span class="hljs-subst">${id}</span>, name=<span class="hljs-subst">${name}</span>, age=<span class="hljs-subst">${age}</span>, salary=<span class="hljs-subst">${salary}</span>`</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">finally</span> {</li><li>      <span class="hljs-comment">// 释放数据集的内存，若不释放可能会引起fd泄露与内存泄露</span></li><li>      resultSet.<span class="hljs-title function_">close</span>();</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;">     <h2 id="close12" device-type="phone,2in1,tablet,wearable,tv">close<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="close12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): Promise&lt;void&gt;</p>     <p>关闭数据库，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.92.9.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: The RdbStore verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800000</td>         <td class="cellrowborder" width="50%">Inner error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>  (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">close</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`close succeeded`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`close failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3973px;">     <h2 id="rekey20" device-type="phone,2in1,tablet,wearable,tv">rekey<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rekey20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rekey(cryptoParam?: CryptoParam): Promise&lt;void&gt;</p>     <p>手动更新加密数据库的密钥。使用Promise异步回调。</p>     <p>不支持对非WAL模式的数据库进行密钥更新。</p>     <p>手动更新密钥时需要独占访问数据库，此时若存在任何未释放的结果集（ResultSet）、事务（Transaction）或其他进程打开的数据库均会引发失败。</p>     <p>仅支持加密数据库进行密钥更新，不支持非加密数据库变加密数据库及加密数据库变非加密数据库，且需要保持加密参数和密钥生成方式与建库时一致。</p>     <p>数据库越大，密钥更新所需的时间越长。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cryptoParam</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-data-relationalstore-i#cryptoparam14">CryptoParam</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定用户自定义的加密参数。</p>          <p>当此参数不填时，使用默认的加密参数，见CryptoParam。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.15.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.93.15.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800001</td>         <td class="cellrowborder" width="50%">Invalid arguments. Possible causes: 1.Parameter is out of valid range.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800011</td>         <td class="cellrowborder" width="50%">Failed to open the database because it is corrupted.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800015</td>         <td class="cellrowborder" width="50%">The database does not respond.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800021</td>         <td class="cellrowborder" width="50%">SQLite: Generic error.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800023</td>         <td class="cellrowborder" width="50%">SQLite: Access permission denied.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800027</td>         <td class="cellrowborder" width="50%">SQLite: Attempt to write a readonly database.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800028</td>         <td class="cellrowborder" width="50%">SQLite: Some kind of disk I/O error occurred.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800029</td>         <td class="cellrowborder" width="50%">SQLite: The database is full.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>示例代码中this.context定义见Stage模型的应用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context">Context</a>。</p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 示例1：使用默认的加密参数</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">store</span>: relationalStore.<span class="hljs-property">RdbStore</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">STORE_CONFIG1</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'rdbstore1.db'</span>,</li><li>      <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span>,</li><li>      <span class="hljs-attr">encrypt</span>: <span class="hljs-literal">true</span></li><li>    };</li><li>
</li><li>    relationalStore.<span class="hljs-title function_">getRdbStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rdbStore</span>: relationalStore.<span class="hljs-property">RdbStore</span>) =&gt; {</li><li>      store = rdbStore;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get RdbStore successfully.'</span>);</li><li>
</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">cryptoParam1</span>: relationalStore.<span class="hljs-property">CryptoParam</span> = {</li><li>        <span class="hljs-attr">encryptionKey</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>()</li><li>      };</li><li>
</li><li>      <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">try</span> {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rekey</span>(cryptoParam1);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rekey is successful'</span>);</li><li>        } <span class="hljs-keyword">catch</span> (err) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`rekey is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get RdbStore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-comment">// 示例2：使用自定义的加密参数</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">store</span>: relationalStore.<span class="hljs-property">RdbStore</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">cryptoParam</span>: relationalStore.<span class="hljs-property">CryptoParam</span> = {</li><li>      <span class="hljs-attr">encryptionKey</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]),</li><li>      <span class="hljs-attr">iterationCount</span>: <span class="hljs-number">1000</span>,</li><li>      <span class="hljs-attr">encryptionAlgo</span>: relationalStore.<span class="hljs-property">EncryptionAlgo</span>.<span class="hljs-property">AES_256_GCM</span>,</li><li>      <span class="hljs-attr">hmacAlgo</span>: relationalStore.<span class="hljs-property">HmacAlgo</span>.<span class="hljs-property">SHA256</span>,</li><li>      <span class="hljs-attr">kdfAlgo</span>: relationalStore.<span class="hljs-property">KdfAlgo</span>.<span class="hljs-property">KDF_SHA256</span>,</li><li>      <span class="hljs-attr">cryptoPageSize</span>: <span class="hljs-number">1024</span></li><li>    };</li><li>
</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">STORE_CONFIG2</span>: relationalStore.<span class="hljs-property">StoreConfig</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'rdbstore2.db'</span>,</li><li>      <span class="hljs-attr">securityLevel</span>: relationalStore.<span class="hljs-property">SecurityLevel</span>.<span class="hljs-property">S3</span>,</li><li>      <span class="hljs-attr">encrypt</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">cryptoParam</span>: cryptoParam</li><li>    };</li><li>
</li><li>    relationalStore.<span class="hljs-title function_">getRdbStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-variable constant_">STORE_CONFIG2</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">rdbStore</span>: relationalStore.<span class="hljs-property">RdbStore</span>) =&gt; {</li><li>      store = rdbStore;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Get RdbStore successfully.'</span>);</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">cryptoParam2</span>: relationalStore.<span class="hljs-property">CryptoParam</span> = {</li><li>        <span class="hljs-attr">encryptionKey</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]),</li><li>        <span class="hljs-attr">iterationCount</span>: <span class="hljs-number">1000</span>,</li><li>        <span class="hljs-attr">encryptionAlgo</span>: relationalStore.<span class="hljs-property">EncryptionAlgo</span>.<span class="hljs-property">AES_256_GCM</span>,</li><li>        <span class="hljs-attr">hmacAlgo</span>: relationalStore.<span class="hljs-property">HmacAlgo</span>.<span class="hljs-property">SHA256</span>,</li><li>        <span class="hljs-attr">kdfAlgo</span>: relationalStore.<span class="hljs-property">KdfAlgo</span>.<span class="hljs-property">KDF_SHA256</span>,</li><li>        <span class="hljs-attr">cryptoPageSize</span>: <span class="hljs-number">1024</span></li><li>      };</li><li>
</li><li>      <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-keyword">try</span> {</li><li>          (store <span class="hljs-keyword">as</span> relationalStore.<span class="hljs-property">RdbStore</span>).<span class="hljs-title function_">rekey</span>(cryptoParam2);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rekey is successful'</span>);</li><li>        } <span class="hljs-keyword">catch</span> (err) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`rekey is failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>      }</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Get RdbStore failed, code is <span class="hljs-subst">${err.code}</span>,message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1687px;">     <h2 id="setlocale20" device-type="phone,2in1,tablet,wearable,tv">setLocale<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlocale20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLocale(locale: string) : Promise&lt;void&gt;</p>     <p>设置自定义排序的语言。使用Promise异步回调。</p>     <p>该值符合ISO 639标准，但是仅支持ICU中的部分语言，对于不支持的语言，设置自定义排序的语言时会报错14800001。</p>     <p><strong>系统能力：</strong> SystemCapability.DistributedDataManager.RelationalStore.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">locale</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置自定义排序的语言。该值符合ISO 639标准，如："zh"。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-data-rdb">关系型数据库错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.12.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.94.12.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800001</td>         <td class="cellrowborder" width="50%">Invalid arguments. Possible causes: 1.Parameter is out of valid range.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800014</td>         <td class="cellrowborder" width="50%">The RdbStore or ResultSet is already closed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800024</td>         <td class="cellrowborder" width="50%">SQLite: The database file is locked.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800026</td>         <td class="cellrowborder" width="50%">SQLite: The database is out of memory.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">14800034</td>         <td class="cellrowborder" width="50%">SQLite: Library used incorrectly.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nan-c106="" class="highlight-div"><div _ngcontent-nan-c106="" class="highlight-div-header"><div _ngcontent-nan-c106="" class="highlight-div-header-left"><div _ngcontent-nan-c106="" class="handle-button expand-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nan-c106="" class="highlight-div-header-right"><div _ngcontent-nan-c106="" class="handle-button ai-button"></div><div _ngcontent-nan-c106="" class="handle-button line-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nan-c106="" class="handle-button theme-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nan-c106="" class="handle-button copy-button"><div _ngcontent-nan-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nan-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">if</span> (store != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">setLocale</span>(<span class="hljs-string">"zh"</span>);</li><li>    store.<span class="hljs-title function_">querySql</span>(<span class="hljs-string">"SELECT * FROM EMPLOYEE ORDER BY NAME COLLATE LOCALES"</span>, <span class="hljs-keyword">async</span> (err, resultSet) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Query failed, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ResultSet rowCount <span class="hljs-subst">${resultSet.rowCount}</span>`</span>);</li><li>    });</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`SetLocale failed, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>