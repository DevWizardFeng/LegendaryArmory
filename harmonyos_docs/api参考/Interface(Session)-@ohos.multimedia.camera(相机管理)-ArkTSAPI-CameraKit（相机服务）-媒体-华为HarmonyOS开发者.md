<h1 _ngcontent-epr-c119="" class="doc-title ng-star-inserted" title="Interface (Session)"> Interface (Session) </h1>

<div _ngcontent-epr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>会话类，保存一次相机运行所需要的所有资源<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>，并向相机设备申请完成相机功能(录像，拍照)。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li>本模块首批接口从API version 10开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</li><li>本Interface首批接口从API version 11开始支持。</li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="beginconfig11" device-type="phone,2in1,tablet,tv">beginConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beginconfig11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>beginConfig(): void</p> <p>开始配置会话。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400105</td> <td class="cellrowborder" width="50%">Session config locked.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">beginConfig</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    session.<span class="hljs-title function_">beginConfig</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The beginConfig call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="commitconfig11" device-type="phone,2in1,tablet,tv">commitConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commitconfig11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>commitConfig(callback: AsyncCallback&lt;void&gt;): void</p> <p>提交配置信息，通过注册回调函数获取结果。使用callback异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当提交配置信息成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>，比如预览流与录像输出流的分辨率的宽高比不一致，会返回7400201。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">commitConfig</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">commitConfig</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The commitConfig call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the commit config success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="commitconfig11-1" device-type="phone,2in1,tablet,tv">commitConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commitconfig11-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>commitConfig(): Promise&lt;void&gt;</p> <p>提交配置信息。使用Promise异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">commitConfig</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">commitConfig</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the commit config success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The commitConfig call failed. error code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="canaddinput11" device-type="phone,2in1,tablet,tv">canAddInput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canaddinput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>canAddInput(cameraInput: CameraInput): boolean</p> <p>判断当前cameraInput是否可以添加到session中。当前函数需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#beginconfig11">beginConfig</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11-1">commitConfig</a>之间生效。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraInput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要添加的CameraInput实例。传参异常（如超出范围、传入null、未定义等），实际接口不会生效。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">判断当前cameraInput是否可以添加到session中。true表示支持添加当前cameraInput，false表示不支持添加。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">canAddInput</span>(<span class="hljs-params">session: camera.Session, cameraInput: camera.CameraInput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">canAdd</span>: <span class="hljs-built_in">boolean</span> = session.<span class="hljs-title function_">canAddInput</span>(cameraInput);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The input canAddInput: <span class="hljs-subst">${canAdd}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="addinput11" device-type="phone,2in1,tablet,tv">addInput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addinput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addInput(cameraInput: CameraInput): void</p> <p>把<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>加入到会话。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraInput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要添加的CameraInput实例。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400101</td> <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td> </tr> <tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addInput</span>(<span class="hljs-params">session: camera.Session, cameraInput: camera.CameraInput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    session.<span class="hljs-title function_">addInput</span>(cameraInput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The addInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="removeinput11" device-type="phone,2in1,tablet,tv">removeInput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeinput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>removeInput(cameraInput: CameraInput): void</p> <p>移除<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>。当前函数需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#beginconfig11">beginConfig</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11-1">commitConfig</a>之间生效。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraInput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要移除的CameraInput实例。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400101</td> <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td> </tr> <tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeInput</span>(<span class="hljs-params">session: camera.Session, cameraInput: camera.CameraInput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    session.<span class="hljs-title function_">removeInput</span>(cameraInput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The removeInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="canaddoutput11" device-type="phone,2in1,tablet,tv">canAddOutput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="canaddoutput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>canAddOutput(cameraOutput: CameraOutput): boolean</p> <p>判断当前cameraOutput是否可以添加到session中。当前函数需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#addinput11">addInput</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11-1">commitConfig</a>之间生效。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraOutput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要添加的CameraOutput实例。传参异常（如超出范围、传入null、未定义等），实际接口不会生效。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">是否可以添加当前cameraOutput到session中，true为可添加，false为不可添加。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">canAddOutput</span>(<span class="hljs-params">session: camera.Session, cameraOutput: camera.CameraOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">canAdd</span>: <span class="hljs-built_in">boolean</span> = session.<span class="hljs-title function_">canAddOutput</span>(cameraOutput);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`This addOutput can add: <span class="hljs-subst">${canAdd}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="addoutput11" device-type="phone,2in1,tablet,tv">addOutput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addoutput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addOutput(cameraOutput: CameraOutput): void</p> <p>把<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>加入到会话。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraOutput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要添加的CameraOutput实例。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400101</td> <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td> </tr> <tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addOutput</span>(<span class="hljs-params">session: camera.Session, cameraOutput: camera.CameraOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    session.<span class="hljs-title function_">addOutput</span>(cameraOutput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The addOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="removeoutput11" device-type="phone,2in1,tablet,tv">removeOutput<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeoutput11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>removeOutput(cameraOutput: CameraOutput): void</p> <p>从会话中移除<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">cameraOutput</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">需要移除的CameraOutput实例。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400101</td> <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td> </tr> <tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeOutput</span>(<span class="hljs-params">session: camera.Session, previewOutput: camera.PreviewOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    session.<span class="hljs-title function_">removeOutput</span>(previewOutput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The removeOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="start11" device-type="phone,2in1,tablet,tv">start<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(callback: AsyncCallback&lt;void&gt;): void</p> <p>开始会话工作，通过注册回调函数获取结果。使用callback异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当开始会话工作成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400103</td> <td class="cellrowborder" width="50%">Session not config.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">startCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">start</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the session start success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="start11-1" device-type="phone,2in1,tablet,tv">start<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="start11-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(): Promise&lt;void&gt;</p> <p>开始会话工作。使用Promise异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400102</td> <td class="cellrowborder" width="50%">Operation not allowed.</td> </tr> <tr><td class="cellrowborder" width="50%">7400103</td> <td class="cellrowborder" width="50%">Session not config.</td> </tr> <tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">startCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">start</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the session start success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start the session, error code: <span class="hljs-subst">${error.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="stop11" device-type="phone,2in1,tablet,tv">stop<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stop11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stop(callback: AsyncCallback&lt;void&gt;): void</p> <p>停止会话工作，通过注册回调函数获取结果。使用callback异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当停止会话工作成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">stopCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">stop</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the session stop success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="stop11-1" device-type="phone,2in1,tablet,tv">stop<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stop11-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stop(): Promise&lt;void&gt;</p> <p>停止会话工作。使用Promise异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">stopCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">stop</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the session stop success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop the session, error code: <span class="hljs-subst">${error.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="release11" device-type="phone,2in1,tablet,tv">release<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="release11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(callback: AsyncCallback&lt;void&gt;): void</p> <p>释放会话资源，通过注册回调函数获取结果。使用callback异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">callback</td> <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">回调函数。当释放会话资源成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">releaseCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">release</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to release the session instance, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the session instance is released successfully.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="release11-1" device-type="phone,2in1,tablet,tv">release<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="release11-1" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(): Promise&lt;void&gt;</p> <p>释放会话资源。使用Promise异步回调。</p> <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">Promise&lt;void&gt;</td> <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">错误码ID</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">错误信息</th> </tr><tr><td class="cellrowborder" width="50%">7400201</td> <td class="cellrowborder" width="50%">Camera service fatal error.</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-epr-c106="" class="highlight-div"><div _ngcontent-epr-c106="" class="highlight-div-header"><div _ngcontent-epr-c106="" class="highlight-div-header-left"><div _ngcontent-epr-c106="" class="handle-button expand-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-epr-c106="" class="highlight-div-header-right"><div _ngcontent-epr-c106="" class="handle-button ai-button"></div><div _ngcontent-epr-c106="" class="handle-button line-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-epr-c106="" class="handle-button theme-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-epr-c106="" class="handle-button copy-button"><div _ngcontent-epr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-epr-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">releaseCaptureSession</span>(<span class="hljs-params">session: camera.Session</span>): <span class="hljs-built_in">void</span> {</li><li>  session.<span class="hljs-title function_">release</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the session instance is released successfully.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to release the session instance, error code: <span class="hljs-subst">${error.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>